if(typeof Math.imul == "undefined" || (Math.imul(0xffffffff,5) == 0)) {
    Math.imul = function (a, b) {
        var ah  = (a >>> 16) & 0xffff;
        var al = a & 0xffff;
        var bh  = (b >>> 16) & 0xffff;
        var bl = b & 0xffff;
        // the shift by 0 fixes the sign on the high part
        // the final |0 converts the unsigned value into a signed value
        return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);
    }
}

/**
 * React v15.0.2
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(i,u){if(!n[i]){if(!t[i]){var s="function"==typeof require&&require;if(!u&&s)return s(i,!0);if(a)return a(i,!0);var l=new Error("Cannot find module '"+i+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[i]={exports:{}};t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r=e(40),o=e(150),a={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=a},{150:150,40:40}],2:[function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function o(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function a(e){switch(e){case M.topCompositionStart:return S.compositionStart;case M.topCompositionEnd:return S.compositionEnd;case M.topCompositionUpdate:return S.compositionUpdate}}function i(e,t){return e===M.topKeyDown&&t.keyCode===_}function u(e,t){switch(e){case M.topKeyUp:return-1!==b.indexOf(t.keyCode);case M.topKeyDown:return t.keyCode!==_;case M.topKeyPress:case M.topMouseDown:case M.topBlur:return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var o,l;if(E?o=a(e):R?u(e,n)&&(o=S.compositionEnd):i(e,n)&&(o=S.compositionStart),!o)return null;P&&(R||o!==S.compositionStart?o===S.compositionEnd&&R&&(l=R.getData()):R=m.getPooled(r));var c=g.getPooled(o,t,n,r);if(l)c.data=l;else{var p=s(n);null!==p&&(c.data=p)}return h.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case M.topCompositionEnd:return s(t);case M.topKeyPress:var n=t.which;return n!==T?null:(k=!0,w);case M.topTextInput:var r=t.data;return r===w&&k?null:r;default:return null}}function p(e,t){if(R){if(e===M.topCompositionEnd||u(e,t)){var n=R.getData();return m.release(R),R=null,n}return null}switch(e){case M.topPaste:return null;case M.topKeyPress:return t.which&&!o(t)?String.fromCharCode(t.which):null;case M.topCompositionEnd:return P?null:t.data;default:return null}}function d(e,t,n,r){var o;if(o=N?c(e,n):p(e,n),!o)return null;var a=y.getPooled(S.beforeInput,t,n,r);return a.data=o,h.accumulateTwoPhaseDispatches(a),a}var f=e(16),h=e(20),v=e(142),m=e(21),g=e(99),y=e(103),C=e(160),b=[9,13,27,32],_=229,E=v.canUseDOM&&"CompositionEvent"in window,x=null;v.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var N=v.canUseDOM&&"TextEvent"in window&&!x&&!r(),P=v.canUseDOM&&(!E||x&&x>8&&11>=x),T=32,w=String.fromCharCode(T),M=f.topLevelTypes,S={beforeInput:{phasedRegistrationNames:{bubbled:C({onBeforeInput:null}),captured:C({onBeforeInputCapture:null})},dependencies:[M.topCompositionEnd,M.topKeyPress,M.topTextInput,M.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:C({onCompositionEnd:null}),captured:C({onCompositionEndCapture:null})},dependencies:[M.topBlur,M.topCompositionEnd,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:C({onCompositionStart:null}),captured:C({onCompositionStartCapture:null})},dependencies:[M.topBlur,M.topCompositionStart,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:C({onCompositionUpdate:null}),captured:C({onCompositionUpdateCapture:null})},dependencies:[M.topBlur,M.topCompositionUpdate,M.topKeyDown,M.topKeyPress,M.topKeyUp,M.topMouseDown]}},k=!1,R=null,D={eventTypes:S,extractEvents:function(e,t,n,r){return[l(e,t,n,r),d(e,t,n,r)]}};t.exports=D},{103:103,142:142,16:16,160:160,20:20,21:21,99:99}],3:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){a.forEach(function(t){o[r(t,e)]=o[e]})});var i={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},u={isUnitlessNumber:o,shorthandPropertyExpansions:i};t.exports=u},{}],4:[function(e,t,n){"use strict";var r=e(3),o=e(142),a=e(80),i=(e(144),e(116)),u=e(155),s=e(162),l=(e(164),s(function(e){return u(e)})),c=!1,p="cssFloat";if(o.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(f){c=!0}void 0===document.documentElement.style.cssFloat&&(p="styleFloat")}var h={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(n+=l(r)+":",n+=i(r,o,t)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var u=i(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=p),u)o[a]=u;else{var s=c&&r.shorthandPropertyExpansions[a];if(s)for(var l in s)o[l]="";else o[a]=""}}}};a.measureMethods(h,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),t.exports=h},{116:116,142:142,144:144,155:155,162:162,164:164,3:3,80:80}],5:[function(e,t,n){"use strict";function r(){this._callbacks=null,this._contexts=null}var o=e(165),a=e(25),i=e(156);o(r.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?i(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),a.addPoolingTo(r),t.exports=r},{156:156,165:165,25:25}],6:[function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function o(e){var t=N.getPooled(k.change,D,e,P(e));b.accumulateTwoPhaseDispatches(t),x.batchedUpdates(a,t)}function a(e){C.enqueueEvents(e),C.processEventQueue(!1)}function i(e,t){R=e,D=t,R.attachEvent("onchange",o)}function u(){R&&(R.detachEvent("onchange",o),R=null,D=null)}function s(e,t){return e===S.topChange?t:void 0}function l(e,t,n){e===S.topFocus?(u(),i(t,n)):e===S.topBlur&&u()}function c(e,t){R=e,D=t,I=e.value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",U),R.attachEvent?R.attachEvent("onpropertychange",d):R.addEventListener("propertychange",d,!1)}function p(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",d):R.removeEventListener("propertychange",d,!1),R=null,D=null,I=null,O=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,o(e))}}function f(e,t){return e===S.topInput?t:void 0}function h(e,t,n){e===S.topFocus?(p(),c(t,n)):e===S.topBlur&&p()}function v(e,t){return e!==S.topSelectionChange&&e!==S.topKeyUp&&e!==S.topKeyDown||!R||R.value===I?void 0:(I=R.value,D)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===S.topClick?t:void 0}var y=e(16),C=e(17),b=e(20),_=e(142),E=e(40),x=e(92),N=e(101),P=e(124),T=e(131),w=e(132),M=e(160),S=y.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:M({onChange:null}),captured:M({onChangeCapture:null})},dependencies:[S.topBlur,S.topChange,S.topClick,S.topFocus,S.topInput,S.topKeyDown,S.topKeyUp,S.topSelectionChange]}},R=null,D=null,I=null,O=null,A=!1;_.canUseDOM&&(A=T("change")&&(!("documentMode"in document)||document.documentMode>8));var L=!1;_.canUseDOM&&(L=T("input")&&(!("documentMode"in document)||document.documentMode>11));var U={get:function(){return O.get.call(this)},set:function(e){I=""+e,O.set.call(this,e)}},F={eventTypes:k,extractEvents:function(e,t,n,o){var a,i,u=t?E.getNodeFromInstance(t):window;if(r(u)?A?a=s:i=l:w(u)?L?a=f:(a=v,i=h):m(u)&&(a=g),a){var c=a(e,t);if(c){var p=N.getPooled(k.change,c,n,o);return p.type="change",b.accumulateTwoPhaseDispatches(p),p}}i&&i(e,u,t)}};t.exports=F},{101:101,124:124,131:131,132:132,142:142,16:16,160:160,17:17,20:20,40:40,92:92}],7:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function a(e,t,n){Array.isArray(t)?u(e,t[0],t[1],n):g(e,t,n)}function i(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],s(e,t,n),e.removeChild(n)}e.removeChild(t)}function u(e,t,n,r){for(var o=t;;){var a=o.nextSibling;if(g(e,o,r),o===n)break;o=a}}function s(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&g(r,document.createTextNode(n),o):n?(m(o,n),s(r,o,t)):s(r,e,t)}var c=e(8),p=e(12),d=e(75),f=e(80),h=e(115),v=e(136),m=e(137),g=h(function(e,t,n){e.insertBefore(t,n)}),y={dangerouslyReplaceNodeWithMarkup:p.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var u=t[n];switch(u.type){case d.INSERT_MARKUP:o(e,u.content,r(e,u.afterNode));break;case d.MOVE_EXISTING:a(e,u.fromNode,r(e,u.afterNode));break;case d.SET_MARKUP:v(e,u.content);break;case d.TEXT_CONTENT:m(e,u.content);break;case d.REMOVE_NODE:i(e,u.fromNode)}}}};f.measureMethods(y,"DOMChildrenOperations",{replaceDelimitedText:"replaceDelimitedText"}),t.exports=y},{115:115,12:12,136:136,137:137,75:75,8:8,80:80}],8:[function(e,t,n){"use strict";function r(e){if(p){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)d(t,n[r],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&c(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function a(e,t){p?e.children.push(t):e.node.appendChild(t.node)}function i(e,t){p?e.html=t:e.node.innerHTML=t}function u(e,t){p?e.text=t:c(e.node,t)}function s(e){return{node:e,children:[],html:null,text:null}}var l=e(115),c=e(137),p="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),d=l(function(e,t,n){11===t.node.nodeType?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});s.insertTreeBefore=d,s.replaceChildWithTree=o,s.queueChild=a,s.queueHTML=i,s.queueText=u,t.exports=s},{115:115,137:137}],9:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],10:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(156),a={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a,n=e.Properties||{},i=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&u._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){u.properties.hasOwnProperty(p)?o(!1):void 0;var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasSideEffects:r(f,t.HAS_SIDE_EFFECTS),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!h.mustUseProperty&&h.hasSideEffects?o(!1):void 0,h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:o(!1),s.hasOwnProperty(p)){var v=s[p];h.attributeName=v}i.hasOwnProperty(p)&&(h.attributeNamespace=i[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),u.properties[p]=h}}},i=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:i,ATTRIBUTE_NAME_CHAR:i+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var n=u._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:a};t.exports=u},{156:156}],11:[function(e,t,n){"use strict";function r(e){return c.hasOwnProperty(e)?!0:l.hasOwnProperty(e)?!1:s.test(e)?(c[e]=!0,!0):(l[e]=!0,!1)}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var a=e(10),i=(e(48),e(80)),u=e(134),s=(e(164),new RegExp("^["+a.ATTRIBUTE_NAME_START_CHAR+"]["+a.ATTRIBUTE_NAME_CHAR+"]*$")),l={},c={},p={createMarkupForID:function(e){return a.ID_ATTRIBUTE_NAME+"="+u(e)},setAttributeForID:function(e,t){e.setAttribute(a.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return a.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(a.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+u(t)}return a.isCustomAttribute(e)?null==t?"":e+"="+u(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+u(t):""},setValueForProperty:function(e,t,n){var r=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(r){var i=r.mutationMethod;if(i)i(e,n);else if(o(r,n))this.deleteValueForProperty(e,t);else if(r.mustUseProperty){var u=r.propertyName;r.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}else{var s=r.attributeName,l=r.attributeNamespace;l?e.setAttributeNS(l,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}else a.isCustomAttribute(t)&&p.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=a.properties.hasOwnProperty(t)?a.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:n.hasSideEffects&&""+e[o]==""||(e[o]="")}else e.removeAttribute(n.attributeName)}else a.isCustomAttribute(t)&&e.removeAttribute(t)}};i.measureMethods(p,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),t.exports=p},{10:10,134:134,164:164,48:48,80:80}],12:[function(e,t,n){"use strict";function r(e){return e.substring(1,e.indexOf(" "))}var o=e(8),a=e(142),i=e(147),u=e(148),s=e(152),l=e(156),c=/^(<[^ \/>]+)/,p="data-danger-index",d={dangerouslyRenderMarkup:function(e){a.canUseDOM?void 0:l(!1);for(var t,n={},o=0;o<e.length;o++)e[o]?void 0:l(!1),t=r(e[o]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][o]=e[o];var d=[],f=0;for(t in n)if(n.hasOwnProperty(t)){var h,v=n[t];for(h in v)if(v.hasOwnProperty(h)){var m=v[h];v[h]=m.replace(c,"$1 "+p+'="'+h+'" ')}for(var g=i(v.join(""),u),y=0;y<g.length;++y){var C=g[y];C.hasAttribute&&C.hasAttribute(p)&&(h=+C.getAttribute(p),C.removeAttribute(p),d.hasOwnProperty(h)?l(!1):void 0,d[h]=C,f+=1)}}return f!==d.length?l(!1):void 0,d.length!==e.length?l(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){if(a.canUseDOM?void 0:l(!1),t?void 0:l(!1),"HTML"===e.nodeName?l(!1):void 0,"string"==typeof t){var n=i(t,u)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}};t.exports=d},{142:142,147:147,148:148,152:152,156:156,8:8}],13:[function(e,t,n){"use strict";var r=e(160),o=[r({ResponderEventPlugin:null}),r({SimpleEventPlugin:null}),r({TapEventPlugin:null}),r({EnterLeaveEventPlugin:null}),r({ChangeEventPlugin:null}),r({SelectEventPlugin:null}),r({BeforeInputEventPlugin:null})];t.exports=o},{160:160}],14:[function(e,t,n){"use strict";var r={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},o={getNativeProps:function(e,t){if(!t.disabled)return t;var n={};for(var o in t)!r[o]&&t.hasOwnProperty(o)&&(n[o]=t[o]);return n}};t.exports=o},{}],15:[function(e,t,n){"use strict";var r=e(16),o=e(20),a=e(40),i=e(105),u=e(160),s=r.topLevelTypes,l={mouseEnter:{registrationName:u({onMouseEnter:null}),dependencies:[s.topMouseOut,s.topMouseOver]},mouseLeave:{registrationName:u({onMouseLeave:null}),dependencies:[s.topMouseOut,s.topMouseOver]}},c={eventTypes:l,extractEvents:function(e,t,n,r){if(e===s.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==s.topMouseOut&&e!==s.topMouseOver)return null;var u;if(r.window===r)u=r;else{var c=r.ownerDocument;u=c?c.defaultView||c.parentWindow:window}var p,d;if(e===s.topMouseOut){p=t;var f=n.relatedTarget||n.toElement;d=f?a.getClosestInstanceFromNode(f):null}else p=null,d=t;if(p===d)return null;var h=null==p?u:a.getNodeFromInstance(p),v=null==d?u:a.getNodeFromInstance(d),m=i.getPooled(l.mouseLeave,p,n,r);m.type="mouseleave",m.target=h,m.relatedTarget=v;var g=i.getPooled(l.mouseEnter,d,n,r);return g.type="mouseenter",g.target=v,g.relatedTarget=h,o.accumulateEnterLeaveDispatches(m,g,p,d),[m,g]}};t.exports=c},{105:105,16:16,160:160,20:20,40:40}],16:[function(e,t,n){"use strict";var r=e(159),o=r({bubbled:null,captured:null}),a=r({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),i={topLevelTypes:a,PropagationPhases:o};t.exports=i},{159:159}],17:[function(e,t,n){"use strict";var r=e(18),o=e(19),a=e(63),i=e(112),u=e(120),s=e(156),l={},c=null,p=function(e,t){e&&(o.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return p(e,!0)},f=function(e){return p(e,!1)},h={injection:{injectEventPluginOrder:r.injectEventPluginOrder,injectEventPluginsByName:r.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?s(!1):void 0;var o=l[t]||(l[t]={});o[e._rootNodeID]=n;var a=r.registrationNameModules[t];a&&a.didPutListener&&a.didPutListener(e,t,n)},getListener:function(e,t){var n=l[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var o=l[t];o&&delete o[e._rootNodeID]},deleteAllListeners:function(e){for(var t in l)if(l[t][e._rootNodeID]){var n=r.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete l[t][e._rootNodeID]}},extractEvents:function(e,t,n,o){for(var a,u=r.plugins,s=0;s<u.length;s++){var l=u[s];if(l){var c=l.extractEvents(e,t,n,o);c&&(a=i(a,c))}}return a},enqueueEvents:function(e){e&&(c=i(c,e))},processEventQueue:function(e){var t=c;c=null,e?u(t,d):u(t,f),c?s(!1):void 0,a.rethrowCaughtError()},__purge:function(){l={}},__getListenerBank:function(){return l}};t.exports=h},{112:112,120:120,156:156,18:18,19:19,63:63}],18:[function(e,t,n){"use strict";function r(){if(u)for(var e in s){var t=s[e],n=u.indexOf(e);if(n>-1?void 0:i(!1),!l.plugins[n]){t.extractEvents?void 0:i(!1),l.plugins[n]=t;var r=t.eventTypes;for(var a in r)o(r[a],t,a)?void 0:i(!1)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?i(!1):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var u=r[o];a(u,t,n)}return!0}return e.registrationName?(a(e.registrationName,t,n),!0):!1}function a(e,t,n){l.registrationNameModules[e]?i(!1):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var i=e(156),u=null,s={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){u?i(!1):void 0,u=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];s.hasOwnProperty(n)&&s[n]===o||(s[n]?i(!1):void 0,s[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var r=l.registrationNameModules[t.phasedRegistrationNames[n]];if(r)return r}return null},_resetEventPlugins:function(){u=null;for(var e in s)s.hasOwnProperty(e)&&delete s[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{156:156}],19:[function(e,t,n){"use strict";function r(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function o(e){return e===y.topMouseMove||e===y.topTouchMove}function a(e){return e===y.topMouseDown||e===y.topTouchStart}function i(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=C.getNodeFromInstance(r),t?v.invokeGuardedCallbackWithCatch(o,n,e):v.invokeGuardedCallback(o,n,e),e.currentTarget=null}function u(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)i(e,t,n[o],r[o]);else n&&i(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function s(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=s(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?m(!1):void 0,e.currentTarget=t?C.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(16),v=e(63),m=e(156),g=(e(164),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),y=h.topLevelTypes,C={isEndish:r,isMoveish:o,isStartish:a,executeDirectDispatch:c,executeDispatchesInOrder:u,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:g};t.exports=C},{156:156,16:16,164:164,63:63}],20:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return C(e,r)}function o(e,t,n){var o=t?y.bubbled:y.captured,a=r(e,n,o);a&&(n._dispatchListeners=m(n._dispatchListeners,a),n._dispatchInstances=m(n._dispatchInstances,e))}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&v.traverseTwoPhase(e._targetInst,o,e)}function i(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?v.getParentInstance(t):null;v.traverseTwoPhase(n,o,e)}}function u(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=C(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function s(e){e&&e.dispatchConfig.registrationName&&u(e._targetInst,null,e)}function l(e){g(e,a)}function c(e){g(e,i)}function p(e,t,n,r){v.traverseEnterLeave(n,r,u,e,t)}function d(e){g(e,s)}var f=e(16),h=e(17),v=e(19),m=e(112),g=e(120),y=(e(164),f.PropagationPhases),C=h.getListener,b={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=b},{112:112,120:120,16:16,164:164,17:17,19:19}],21:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(165),a=e(25),i=e(128);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[i()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),a=o.length;for(e=0;r>e&&n[e]===o[e];e++);var i=r-e;for(t=1;i>=t&&n[r-t]===o[a-t];t++);var u=t>1?1-t:void 0;return this._fallbackText=o.slice(e,u),this._fallbackText}}),a.addPoolingTo(r),t.exports=r},{128:128,165:165,25:25}],22:[function(e,t,n){"use strict";var r=e(10),o=r.injection.MUST_USE_PROPERTY,a=r.injection.HAS_BOOLEAN_VALUE,i=r.injection.HAS_SIDE_EFFECTS,u=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,l=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,async:a,autoComplete:0,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|a,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,coords:0,crossOrigin:0,data:0,dateTime:0,"default":a,defer:a,dir:0,disabled:a,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|a,muted:o|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,rel:0,required:a,reversed:a,role:0,rows:s,rowSpan:u,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:o|a,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:u,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:o|i,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=c},{10:10}],23:[function(e,t,n){"use strict";function r(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var a={escape:r,unescape:o};t.exports=a},{}],24:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?l(!1):void 0}function o(e){r(e),null!=e.value||null!=e.onChange?l(!1):void 0}function a(e){r(e),null!=e.checked||null!=e.onChange?l(!1):void 0}function i(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var u=e(83),s=e(82),l=e(156),c=(e(164),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.func},d={},f={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var o=p[r](t,r,e,s.prop);o instanceof Error&&!(o.message in d)&&(d[o.message]=!0,i(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(a(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(a(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=f},{156:156,164:164,82:82,83:83}],25:[function(e,t,n){"use strict";var r=e(156),o=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},i=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},u=function(e,t,n,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,r),a}return new o(e,t,n,r)},s=function(e,t,n,r,o){var a=this;if(a.instancePool.length){var i=a.instancePool.pop();return a.call(i,e,t,n,r,o),i}return new a(e,t,n,r,o)},l=function(e){var t=this;e instanceof t?void 0:r(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},f={addPoolingTo:d,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:i,fourArgumentPooler:u,fiveArgumentPooler:s};t.exports=f},{156:156}],26:[function(e,t,n){
"use strict";var r=e(165),o=e(29),a=e(31),i=e(30),u=e(44),s=e(60),l=(e(61),e(83)),c=e(93),p=e(133),d=(e(164),s.createElement),f=s.createFactory,h=s.cloneElement,v=r,m={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:p},Component:a,createElement:d,cloneElement:h,isValidElement:s.isValidElement,PropTypes:l,createClass:i.createClass,createFactory:f,createMixin:function(e){return e},DOM:u,version:c,__spread:v};t.exports=m},{133:133,164:164,165:165,29:29,30:30,31:31,44:44,60:60,61:61,83:83,93:93}],27:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=h++,d[e[m]]={}),d[e[m]]}var o,a=e(165),i=e(16),u=e(18),s=e(64),l=e(111),c=e(129),p=e(131),d={},f=!1,h=0,v={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=a({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),a=u.registrationNameDependencies[e],s=i.topLevelTypes,l=0;l<a.length;l++){var c=a[l];o.hasOwnProperty(c)&&o[c]||(c===s.topWheel?p("wheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",n):p("mousewheel")?g.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",n):c===s.topScroll?p("scroll",!0)?g.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===s.topFocus||c===s.topBlur?(p("focus",!0)?(g.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",n)):p("focusin")&&(g.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",n)),o[s.topBlur]=!0,o[s.topFocus]=!0):v.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,v[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!o&&!f){var e=l.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),f=!0}}});t.exports=g},{111:111,129:129,131:131,16:16,165:165,18:18,64:64}],28:[function(e,t,n){"use strict";function r(e,t,n){var r=void 0===e[n];null!=t&&r&&(e[n]=a(t))}var o=e(85),a=e(130),i=(e(23),e(138)),u=e(139),s=(e(164),{instantiateChildren:function(e,t,n){if(null==e)return null;var o={};return u(e,r,o),o},updateChildren:function(e,t,n,r,u){if(t||e){var s,l;for(s in t)if(t.hasOwnProperty(s)){l=e&&e[s];var c=l&&l._currentElement,p=t[s];if(null!=l&&i(c,p))o.receiveComponent(l,p,r,u),t[s]=l;else{l&&(n[s]=o.getNativeNode(l),o.unmountComponent(l,!1));var d=a(p);t[s]=d}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||(l=e[s],n[s]=o.getNativeNode(l),o.unmountComponent(l,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}});t.exports=s},{130:130,138:138,139:139,164:164,23:23,85:85}],29:[function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function a(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function i(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);g(e,a,r),o.release(r)}function u(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function s(e,t,n){var o=e.result,a=e.keyPrefix,i=e.func,u=e.context,s=i.call(u,t,e.count++);Array.isArray(s)?l(s,o,n,m.thatReturnsArgument):null!=s&&(v.isValidElement(s)&&(s=v.cloneAndReplaceKey(s,a+(!s.key||t&&t.key===s.key?"":r(s.key)+"/")+n)),o.push(s))}function l(e,t,n,o,a){var i="";null!=n&&(i=r(n)+"/");var l=u.getPooled(t,i,o,a);g(e,s,l),u.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function d(e,t){return g(e,p,null)}function f(e){var t=[];return l(e,t,null,m.thatReturnsArgument),t}var h=e(25),v=e(60),m=e(148),g=e(139),y=h.twoArgumentPooler,C=h.fourArgumentPooler,b=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,y),u.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(u,C);var _={forEach:i,map:c,mapIntoWithKeyPrefixInternal:l,count:d,toArray:f};t.exports=_},{139:139,148:148,25:25,60:60}],30:[function(e,t,n){"use strict";function r(e,t){var n=E.hasOwnProperty(t)?E[t]:null;N.hasOwnProperty(t)&&(n!==b.OVERRIDE_BASE?m(!1):void 0),e&&(n!==b.DEFINE_MANY&&n!==b.DEFINE_MANY_MERGED?m(!1):void 0)}function o(e,t){if(t){"function"==typeof t?m(!1):void 0,f.isValidElement(t)?m(!1):void 0;var n=e.prototype,o=n.__reactAutoBindPairs;t.hasOwnProperty(C)&&x.mixins(e,t.mixins);for(var a in t)if(t.hasOwnProperty(a)&&a!==C){var i=t[a],l=n.hasOwnProperty(a);if(r(l,a),x.hasOwnProperty(a))x[a](e,i);else{var c=E.hasOwnProperty(a),p="function"==typeof i,d=p&&!c&&!l&&t.autobind!==!1;if(d)o.push(a,i),n[a]=i;else if(l){var h=E[a];!c||h!==b.DEFINE_MANY_MERGED&&h!==b.DEFINE_MANY?m(!1):void 0,h===b.DEFINE_MANY_MERGED?n[a]=u(n[a],i):h===b.DEFINE_MANY&&(n[a]=s(n[a],i))}else n[a]=i}}}}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in x;o?m(!1):void 0;var a=n in e;a?m(!1):void 0,e[n]=r}}}function i(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return i(o,n),i(o,r),o}}function s(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function l(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=l(e,o)}}var p=e(165),d=e(31),f=e(60),h=(e(82),e(81),e(78)),v=e(149),m=e(156),g=e(159),y=e(160),C=(e(164),y({mixins:null})),b=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),_=[],E={mixins:b.DEFINE_MANY,statics:b.DEFINE_MANY,propTypes:b.DEFINE_MANY,contextTypes:b.DEFINE_MANY,childContextTypes:b.DEFINE_MANY,getDefaultProps:b.DEFINE_MANY_MERGED,getInitialState:b.DEFINE_MANY_MERGED,getChildContext:b.DEFINE_MANY_MERGED,render:b.DEFINE_ONCE,componentWillMount:b.DEFINE_MANY,componentDidMount:b.DEFINE_MANY,componentWillReceiveProps:b.DEFINE_MANY,shouldComponentUpdate:b.DEFINE_ONCE,componentWillUpdate:b.DEFINE_MANY,componentDidUpdate:b.DEFINE_MANY,componentWillUnmount:b.DEFINE_MANY,updateComponent:b.OVERRIDE_BASE},x={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},N={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},P=function(){};p(P.prototype,d.prototype,N);var T={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=t,this.refs=v,this.updater=n||h,this.state=null;var r=this.getInitialState?this.getInitialState():null;"object"!=typeof r||Array.isArray(r)?m(!1):void 0,this.state=r};t.prototype=new P,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],_.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in E)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){_.push(e)}}};t.exports=T},{149:149,156:156,159:159,160:160,164:164,165:165,31:31,60:60,78:78,81:81,82:82}],31:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var o=e(78),a=(e(70),e(114),e(149)),i=e(156);e(164);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};t.exports=r},{114:114,149:149,156:156,164:164,70:70,78:78}],32:[function(e,t,n){"use strict";var r=e(7),o=e(46),a=e(80),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};a.measureMethods(i,"ReactComponentBrowserEnvironment",{replaceNodeWithMarkup:"replaceNodeWithMarkup"}),t.exports=i},{46:46,7:7,80:80}],33:[function(e,t,n){"use strict";var r=e(156),o=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o?r(!1):void 0,a.unmountIDFromEnvironment=e.unmountIDFromEnvironment,a.replaceNodeWithMarkup=e.replaceNodeWithMarkup,a.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=a},{156:156}],34:[function(e,t,n){"use strict";function r(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function o(e){}function a(e,t){}function i(e){return e.prototype&&e.prototype.isReactComponent}var u=e(165),s=e(33),l=e(35),c=e(60),p=e(63),d=e(69),f=(e(70),e(77)),h=e(80),v=e(82),m=(e(81),e(85)),g=e(91),y=e(149),C=e(156),b=e(138);e(164);o.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return a(e,t),t};var _=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,r){this._context=r,this._mountOrder=_++,this._nativeParent=t,this._nativeContainerInfo=n;var u,s=this._processProps(this._currentElement.props),l=this._processContext(r),p=this._currentElement.type,f=this._constructComponent(s,l);i(p)||null!=f&&null!=f.render||(u=f,a(p,u),null===f||f===!1||c.isValidElement(f)?void 0:C(!1),f=new o(p)),f.props=s,f.context=l,f.refs=y,f.updater=g,this._instance=f,d.set(f,this);var h=f.state;void 0===h&&(f.state=h=null),"object"!=typeof h||Array.isArray(h)?C(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var v;return v=f.unstable_handleError?this.performInitialMountWithErrorHandling(u,t,n,e,r):this.performInitialMount(u,t,n,e,r),f.componentDidMount&&e.getReactMountReady().enqueue(f.componentDidMount,f),v},_constructComponent:function(e,t){return this._constructComponentWithoutOwner(e,t)},_constructComponentWithoutOwner:function(e,t){var n=this._currentElement.type;return i(n)?new n(e,t,g):n(e,t,g)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var a,i=r.checkpoint();try{a=this.performInitialMount(e,t,n,r,o)}catch(u){r.rollback(i),this._instance.unstable_handleError(u),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),i=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(i),a=this.performInitialMount(e,t,n,r,o)}return a},performInitialMount:function(e,t,n,r,o){var a=this._instance;a.componentWillMount&&(a.componentWillMount(),this._pendingStateQueue&&(a.state=this._processPendingState(a.props,a.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=f.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var i=m.mountComponent(this._renderedComponent,r,t,n,this._processChildContext(o));return i},getNativeNode:function(){return m.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(m.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return y;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,r=n.getChildContext&&n.getChildContext();if(r){"object"!=typeof t.childContextTypes?C(!1):void 0;for(var o in r)o in t.childContextTypes?void 0:C(!1);return u({},e,r)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var o=this.getName();for(var a in e)if(e.hasOwnProperty(a)){var i;try{"function"!=typeof e[a]?C(!1):void 0,i=e[a](t,a,o,n)}catch(u){i=u}i instanceof Error&&(r(this),n===v.prop)}},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&m.receiveComponent(this,this._pendingElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,r,o){var a,i,u=this._instance,s=!1;this._context===o?a=u.context:(a=this._processContext(o),s=!0),t===n?i=n.props:(i=this._processProps(n.props),s=!0),s&&u.componentWillReceiveProps&&u.componentWillReceiveProps(i,a);var l=this._processPendingState(i,a),c=this._pendingForceUpdate||!u.shouldComponentUpdate||u.shouldComponentUpdate(i,l,a);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,i,l,a,e,o)):(this._currentElement=n,this._context=o,u.props=i,u.state=l,u.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var a=u({},o?r[0]:n.state),i=o?1:0;i<r.length;i++){var s=r[i];u(a,"function"==typeof s?s.call(n,a,e,t):s)}return a},_performComponentUpdate:function(e,t,n,r,o,a){var i,u,s,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(i=l.props,u=l.state,s=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=a,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,a),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,i,u,s),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(b(r,o))m.receiveComponent(n,o,e,this._processChildContext(t));else{var a=m.getNativeNode(n);m.unmountComponent(n,!1),this._renderedNodeType=f.getType(o),this._renderedComponent=this._instantiateReactComponent(o);var i=m.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(a,i)}},_replaceNodeWithMarkup:function(e,t){s.replaceNodeWithMarkup(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;l.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}return null===e||e===!1||c.isValidElement(e)?void 0:C(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?C(!1):void 0;var r=t.getPublicInstance(),o=n.refs===y?n.refs={}:n.refs;o[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof o?null:e},_instantiateReactComponent:null};h.measureMethods(E,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var x={Mixin:E};t.exports=x},{138:138,149:149,156:156,164:164,165:165,33:33,35:35,60:60,63:63,69:69,70:70,77:77,80:80,81:81,82:82,85:85,91:91}],35:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],36:[function(e,t,n){"use strict";var r=e(40),o=e(59),a=e(73),i=e(80),u=e(85),s=e(92),l=e(93),c=e(118),p=e(126),d=e(135);e(164);o.inject();var f=i.measure("React","render",a.render),h={findDOMNode:c,render:f,unmountComponentAtNode:a.unmountComponentAtNode,version:l,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=p(e)),e?r.getNodeFromInstance(e):null}},Mount:a,Reconciler:u});t.exports=h},{118:118,126:126,135:135,164:164,40:40,59:59,73:73,80:80,85:85,92:92,93:93}],37:[function(e,t,n){"use strict";var r=e(14),o={getNativeProps:r.getNativeProps};t.exports=o},{14:14}],38:[function(e,t,n){"use strict";function r(e,t){t&&(X[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?O(!1):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?O(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&K in t.dangerouslySetInnerHTML?void 0:O(!1)),null!=t.style&&"object"!=typeof t.style?O(!1):void 0)}function o(e,t,n,r){var o=e._nativeContainerInfo,i=o._node&&o._node.nodeType===q,u=i?o._node:o._ownerDocument;u&&(V(t,u),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n}))}function a(){var e=this;b.putListener(e.inst,e.registrationName,e.listener)}function i(){var e=this;M.postMountWrapper(e)}function u(){var e=this;e._rootNodeID?void 0:O(!1);var t=F(e);switch(t?void 0:O(!1),e._tag){case"iframe":case"object":e._wrapperState.listeners=[E.trapBubbledEvent(C.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Y)Y.hasOwnProperty(n)&&e._wrapperState.listeners.push(E.trapBubbledEvent(C.topLevelTypes[n],Y[n],t));break;case"img":e._wrapperState.listeners=[E.trapBubbledEvent(C.topLevelTypes.topError,"error",t),E.trapBubbledEvent(C.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[E.trapBubbledEvent(C.topLevelTypes.topReset,"reset",t),E.trapBubbledEvent(C.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[E.trapBubbledEvent(C.topLevelTypes.topInvalid,"invalid",t)]}}function s(){S.postUpdateWrapper(this)}function l(e){Z.call($,e)||(Q.test(e)?void 0:O(!1),$[e]=!0)}function c(e,t){return e.indexOf("-")>=0||null!=t.is}function p(e){var t=e.type;l(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var d=e(165),f=e(1),h=e(4),v=e(8),m=e(9),g=e(10),y=e(11),C=e(16),b=e(17),_=e(18),E=e(27),x=e(32),N=e(37),P=e(39),T=e(40),w=e(47),M=e(49),S=e(50),k=e(54),R=e(74),D=e(80),I=e(117),O=e(156),A=(e(131),e(160)),L=(e(163),e(140),e(164),P),U=b.deleteListener,F=T.getNodeFromInstance,V=E.listenTo,B=_.registrationNameModules,j={string:!0,number:!0},W=A({style:null}),K=A({__html:null}),H={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},q=11,Y={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},G={listing:!0,pre:!0,textarea:!0},X=d({menuitem:!0},z),Q=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},Z={}.hasOwnProperty,J=1;p.displayName="ReactDOMComponent",p.Mixin={mountComponent:function(e,t,n,o){this._rootNodeID=J++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var a=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(u,this);break;case"button":a=N.getNativeProps(this,a,t);break;case"input":w.mountWrapper(this,a,t),a=w.getNativeProps(this,a),e.getReactMountReady().enqueue(u,this);break;case"option":M.mountWrapper(this,a,t),a=M.getNativeProps(this,a);break;case"select":S.mountWrapper(this,a,t),a=S.getNativeProps(this,a),e.getReactMountReady().enqueue(u,this);break;case"textarea":k.mountWrapper(this,a,t),a=k.getNativeProps(this,a),e.getReactMountReady().enqueue(u,this)}r(this,a);var s,l;null!=t?(s=t._namespaceURI,l=t._tag):n._tag&&(s=n._namespaceURI,l=n._tag),(null==s||s===m.svg&&"foreignobject"===l)&&(s=m.html),s===m.html&&("svg"===this._tag?s=m.svg:"math"===this._tag&&(s=m.mathml)),this._namespaceURI=s;var c;if(e.useCreateElement){var p,d=n._ownerDocument;if(s===m.html)if("script"===this._tag){var h=d.createElement("div"),g=this._currentElement.type;h.innerHTML="<"+g+"></"+g+">",p=h.removeChild(h.firstChild)}else p=d.createElement(this._currentElement.type);else p=d.createElementNS(s,this._currentElement.type);T.precacheNode(this,p),this._flags|=L.hasCachedChildNodes,this._nativeParent||y.setAttributeForRoot(p),this._updateDOMProperties(null,a,e);var C=v(p);this._createInitialChildren(e,a,o,C),c=C}else{var b=this._createOpenTagMarkupAndPutListeners(e,a),_=this._createContentMarkup(e,a,o);c=!_&&z[this._tag]?b+"/>":b+">"+_+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.getReactMountReady().enqueue(f.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(i,this)}return c},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(null!=a)if(B.hasOwnProperty(r))a&&o(this,r,a,e);else{r===W&&(a&&(a=this._previousStyleCopy=d({},t.style)),a=h.createMarkupForStyles(a,this));var i=null;null!=this._tag&&c(this._tag,t)?H.hasOwnProperty(r)||(i=y.createMarkupForCustomAttribute(r,a)):i=y.createMarkupForProperty(r,a),i&&(n+=" "+i)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+y.createMarkupForRoot()),n+=" "+y.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var a=j[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)r=I(a);else if(null!=i){var u=this.mountChildren(i,e,n);r=u.join("")}}return G[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&v.queueHTML(r,o.__html);else{var a=j[typeof t.children]?t.children:null,i=null!=a?null:t.children;if(null!=a)v.queueText(r,a);else if(null!=i)for(var u=this.mountChildren(i,e,n),s=0;s<u.length;s++)v.queueChild(r,u[s])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,o){var a=t.props,i=this._currentElement.props;switch(this._tag){case"button":a=N.getNativeProps(this,a),i=N.getNativeProps(this,i);break;case"input":w.updateWrapper(this),a=w.getNativeProps(this,a),i=w.getNativeProps(this,i);break;case"option":a=M.getNativeProps(this,a),i=M.getNativeProps(this,i);break;case"select":a=S.getNativeProps(this,a),i=S.getNativeProps(this,i);break;case"textarea":k.updateWrapper(this),a=k.getNativeProps(this,a),i=k.getNativeProps(this,i)}r(this,i),this._updateDOMProperties(a,i,e),this._updateDOMChildren(a,i,e,o),"select"===this._tag&&e.getReactMountReady().enqueue(s,this)},_updateDOMProperties:function(e,t,n){var r,a,i;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===W){var u=this._previousStyleCopy;for(a in u)u.hasOwnProperty(a)&&(i=i||{},i[a]="");this._previousStyleCopy=null}else B.hasOwnProperty(r)?e[r]&&U(this,r):(g.properties[r]||g.isCustomAttribute(r))&&y.deleteValueForProperty(F(this),r);for(r in t){var s=t[r],l=r===W?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&s!==l&&(null!=s||null!=l))if(r===W)if(s?s=this._previousStyleCopy=d({},s):this._previousStyleCopy=null,l){for(a in l)!l.hasOwnProperty(a)||s&&s.hasOwnProperty(a)||(i=i||{},i[a]="");for(a in s)s.hasOwnProperty(a)&&l[a]!==s[a]&&(i=i||{},i[a]=s[a])}else i=s;else if(B.hasOwnProperty(r))s?o(this,r,s,n):l&&U(this,r);else if(c(this._tag,t))H.hasOwnProperty(r)||y.setValueForAttribute(F(this),r,s);else if(g.properties[r]||g.isCustomAttribute(r)){var p=F(this);null!=s?y.setValueForProperty(p,r,s):y.deleteValueForProperty(p,r)}}i&&h.setValueForStyles(F(this),i,this)},_updateDOMChildren:function(e,t,n,r){var o=j[typeof e.children]?e.children:null,a=j[typeof t.children]?t.children:null,i=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,u=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,s=null!=o?null:e.children,l=null!=a?null:t.children,c=null!=o||null!=i,p=null!=a||null!=u;null!=s&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=a?o!==a&&this.updateTextContent(""+a):null!=u?i!==u&&this.updateMarkup(""+u):null!=l&&this.updateChildren(l,n,r)},getNativeNode:function(){return F(this)},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":O(!1)}this.unmountChildren(e),T.uncacheNode(this),b.deleteAllListeners(this),x.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return F(this)}},D.measureMethods(p.Mixin,"ReactDOMComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),d(p.prototype,p.Mixin,R.Mixin),t.exports=p},{1:1,10:10,11:11,117:117,131:131,140:140,156:156,16:16,160:160,163:163,164:164,165:165,17:17,18:18,27:27,32:32,37:37,39:39,4:4,40:40,47:47,49:49,50:50,54:54,74:74,8:8,80:80,9:9}],39:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],40:[function(e,t,n){"use strict";function r(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=r(e);n._nativeNode=t,t[v]=n}function a(e){var t=e._nativeNode;t&&(delete t[v],e._nativeNode=null)}function i(e,t){if(!(e._flags&h.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var i in n)if(n.hasOwnProperty(i)){var u=n[i],s=r(u)._domID;if(null!=s){for(;null!==a;a=a.nextSibling)if(1===a.nodeType&&a.getAttribute(f)===String(s)||8===a.nodeType&&a.nodeValue===" react-text: "+s+" "||8===a.nodeType&&a.nodeValue===" react-empty: "+s+" "){o(u,a);continue e}d(!1)}}e._flags|=h.hasCachedChildNodes}}function u(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&i(r,e);return n}function s(e){var t=u(e);return null!=t&&t._nativeNode===e?t:null}function l(e){if(void 0===e._nativeNode?d(!1):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:d(!1),e=e._nativeParent;for(;t.length;e=t.pop())i(e,e._nativeNode);return e._nativeNode}var c=e(10),p=e(39),d=e(156),f=c.ID_ATTRIBUTE_NAME,h=p,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),m={getClosestInstanceFromNode:u,getInstanceFromNode:s,getNodeFromInstance:l,precacheChildNodes:i,precacheNode:o,uncacheNode:a};t.exports=m},{10:10,156:156,39:39}],41:[function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var o=(e(140),9);t.exports=r},{140:140}],42:[function(e,t,n){"use strict";function r(e,t,n,r,o,a){}var o=e(56),a=(e(164),[]),i={addDevtool:function(e){a.push(e)},removeDevtool:function(e){for(var t=0;t<a.length;t++)a[t]===e&&(a.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){r("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){r("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){r("onDeleteValueForProperty",e,t)}};i.addDevtool(o),t.exports=i},{164:164,56:56}],43:[function(e,t,n){"use strict";var r=e(165),o=e(8),a=e(40),i=function(e){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};r(i.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++;this._domID=i,this._nativeParent=t,this._nativeContainerInfo=n;var u=" react-empty: "+this._domID+" ";if(e.useCreateElement){var s=n._ownerDocument,l=s.createComment(u);
return a.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"<!--"+u+"-->"},receiveComponent:function(){},getNativeNode:function(){return a.getNodeFromInstance(this)},unmountComponent:function(){a.uncacheNode(this)}}),t.exports=i},{165:165,40:40,8:8}],44:[function(e,t,n){"use strict";function r(e){return o.createFactory(e)}var o=e(60),a=(e(61),e(161)),i=a({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},r);t.exports=i},{161:161,60:60,61:61}],45:[function(e,t,n){"use strict";var r={useCreateElement:!0};t.exports=r},{}],46:[function(e,t,n){"use strict";var r=e(7),o=e(40),a=e(80),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};a.measureMethods(i,"ReactDOMIDOperations",{dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),t.exports=i},{40:40,7:7,80:80}],47:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);c.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var a=l.getNodeFromInstance(this),i=a;i.parentNode;)i=i.parentNode;for(var u=i.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==a&&f.form===a.form){var h=l.getInstanceFromNode(f);h?void 0:p(!1),c.asap(r,h)}}}return n}var a=e(165),i=e(14),u=e(11),s=e(24),l=e(40),c=e(92),p=e(156),d=(e(164),{getNativeProps:function(e,t){var n=s.getValue(t),r=s.getChecked(t),o=a({type:void 0},i.getNativeProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=s.getValue(t);null!=r&&u.setValueForProperty(l.getNodeFromInstance(e),"value",""+r)}});t.exports=d},{11:11,14:14,156:156,164:164,165:165,24:24,40:40,92:92}],48:[function(e,t,n){"use strict";var r=e(42);t.exports={debugTool:r}},{42:42}],49:[function(e,t,n){"use strict";var r=e(165),o=e(29),a=e(40),i=e(50),u=(e(164),{mountWrapper:function(e,t,n){var r=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._nativeParent),null!=o&&"select"===o._tag&&(r=i.getSelectValueContext(o))}var a=null;if(null!=r)if(a=!1,Array.isArray(r)){for(var u=0;u<r.length;u++)if(""+r[u]==""+t.value){a=!0;break}}else a=""+r==""+t.value;e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=r({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var a="";return o.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),a&&(n.children=a),n}});t.exports=u},{164:164,165:165,29:29,40:40,50:50}],50:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,a=l.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<a.length;o++){var i=r.hasOwnProperty(a[o].value);a[o].selected!==i&&(a[o].selected=i)}}else{for(r=""+n,o=0;o<a.length;o++)if(a[o].value===r)return void(a[o].selected=!0);a.length&&(a[0].selected=!0)}}function a(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),c.asap(r,this),n}var i=e(165),u=e(14),s=e(24),l=e(40),c=e(92),p=(e(164),!1),d={getNativeProps:function(e,t){return i({},u.getNativeProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:a.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||p||(p=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=d},{14:14,164:164,165:165,24:24,40:40,92:92}],51:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var a=o.text.length,i=a+r;return{start:a,end:i}}function a(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,a=t.focusNode,i=t.focusOffset,u=t.getRangeAt(0);try{u.startContainer.nodeType,u.endContainer.nodeType}catch(s){return null}var l=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=l?0:u.toString().length,p=u.cloneRange();p.selectNodeContents(e),p.setEnd(u.startContainer,u.startOffset);var d=r(p.startContainer,p.startOffset,p.endContainer,p.endOffset),f=d?0:p.toString().length,h=f+c,v=document.createRange();v.setStart(n,o),v.setEnd(a,i);var m=v.collapsed;return{start:m?h:f,end:m?f:h}}function i(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function u(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),a=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>a){var i=a;a=o,o=i}var u=l(e,o),s=l(e,a);if(u&&s){var p=document.createRange();p.setStart(u.node,u.offset),n.removeAllRanges(),o>a?(n.addRange(p),n.extend(s.node,s.offset)):(p.setEnd(s.node,s.offset),n.addRange(p))}}}var s=e(142),l=e(127),c=e(128),p=s.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:a,setOffsets:p?i:u};t.exports=d},{127:127,128:128,142:142}],52:[function(e,t,n){"use strict";var r=e(59),o=e(88),a=e(93);r.inject();var i={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:a};t.exports=i},{59:59,88:88,93:93}],53:[function(e,t,n){"use strict";var r=e(165),o=e(7),a=e(8),i=e(40),u=e(80),s=e(117),l=e(156),c=(e(140),function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});r(c.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,u=" react-text: "+o+" ",l=" /react-text ";if(this._domID=o,this._nativeParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(u),d=c.createComment(l),f=a(c.createDocumentFragment());return a.queueChild(f,a(p)),this._stringText&&a.queueChild(f,a(c.createTextNode(this._stringText))),a.queueChild(f,a(d)),i.precacheNode(this,p),this._closingComment=d,f}var h=s(this._stringText);return e.renderToStaticMarkup?h:"<!--"+u+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getNativeNode();o.replaceDelimitedText(r[0],r[1],n)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=i.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?l(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,i.uncacheNode(this)}}),u.measureMethods(c.prototype,"ReactDOMTextComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),t.exports=c},{117:117,140:140,156:156,165:165,40:40,7:7,8:8,80:80}],54:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return c.asap(r,this),n}var a=e(165),i=e(14),u=e(11),s=e(24),l=e(40),c=e(92),p=e(156),d=(e(164),{getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?p(!1):void 0;var n=a({},i.getNativeProps(e,t),{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=t.defaultValue,r=t.children;null!=r&&(null!=n?p(!1):void 0,Array.isArray(r)&&(r.length<=1?void 0:p(!1),r=r[0]),n=""+r),null==n&&(n="");var a=s.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=s.getValue(t);null!=n&&u.setValueForProperty(l.getNodeFromInstance(e),"value",""+n)}});t.exports=d},{11:11,14:14,156:156,164:164,165:165,24:24,40:40,92:92}],55:[function(e,t,n){"use strict";function r(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(var n=0,r=e;r;r=r._nativeParent)n++;for(var o=0,a=t;a;a=a._nativeParent)o++;for(;n-o>0;)e=e._nativeParent,n--;for(;o-n>0;)t=t._nativeParent,o--;for(var i=n;i--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function o(e,t){"_nativeNode"in e?void 0:s(!1),"_nativeNode"in t?void 0:s(!1);for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function a(e){return"_nativeNode"in e?void 0:s(!1),e._nativeParent}function i(e,t,n){for(var r=[];e;)r.push(e),e=e._nativeParent;var o;for(o=r.length;o-- >0;)t(r[o],!1,n);for(o=0;o<r.length;o++)t(r[o],!0,n)}function u(e,t,n,o,a){for(var i=e&&t?r(e,t):null,u=[];e&&e!==i;)u.push(e),e=e._nativeParent;for(var s=[];t&&t!==i;)s.push(t),t=t._nativeParent;var l;for(l=0;l<u.length;l++)n(u[l],!0,o);for(l=s.length;l-- >0;)n(s[l],!1,a)}var s=e(156);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:a,traverseTwoPhase:i,traverseEnterLeave:u}},{156:156}],56:[function(e,t,n){"use strict";var r,o=(e(10),e(18),e(164),{onCreateMarkupForProperty:function(e,t){r(e)},onSetValueForProperty:function(e,t,n){r(t)},onDeleteValueForProperty:function(e,t){r(t)}});t.exports=o},{10:10,164:164,18:18}],57:[function(e,t,n){"use strict";function r(e,t,n,r,o,a){}var o=e(71),a=(e(164),[]),i={addDevtool:function(e){a.push(e)},removeDevtool:function(e){for(var t=0;t<a.length;t++)a[t]===e&&(a.splice(t,1),t--)},onBeginProcessingChildContext:function(){r("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){r("onEndProcessingChildContext")},onSetState:function(){r("onSetState")},onMountRootComponent:function(e){r("onMountRootComponent",e)},onMountComponent:function(e){r("onMountComponent",e)},onUpdateComponent:function(e){r("onUpdateComponent",e)},onUnmountComponent:function(e){r("onUnmountComponent",e)}};i.addDevtool(o),t.exports=i},{164:164,71:71}],58:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(165),a=e(92),i=e(110),u=e(148),s={initialize:u,close:function(){d.isBatchingUpdates=!1}},l={initialize:u,close:a.flushBatchedUpdates.bind(a)},c=[l,s];o(r.prototype,i.Mixin,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,a){var i=d.isBatchingUpdates;d.isBatchingUpdates=!0,i?e(t,n,r,o,a):p.perform(e,null,t,n,r,o,a)}};t.exports=d},{110:110,148:148,165:165,92:92}],59:[function(e,t,n){"use strict";function r(){E||(E=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(i),g.EventPluginUtils.injectComponentTree(p),g.EventPluginUtils.injectTreeTraversal(f),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:_,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:b,BeforeInputEventPlugin:o}),g.NativeComponent.injectGenericComponentClass(c),g.NativeComponent.injectTextComponentClass(h),g.DOMProperty.injectDOMPropertyConfig(s),g.DOMProperty.injectDOMPropertyConfig(C),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(y),g.Updates.injectBatchingStrategy(v),g.Component.injectEnvironment(l))}var o=e(2),a=e(6),i=e(13),u=e(15),s=(e(142),e(22)),l=e(32),c=e(38),p=e(40),d=e(43),f=e(55),h=e(53),v=e(58),m=e(65),g=e(67),y=e(84),C=e(94),b=e(95),_=e(96),E=!1;t.exports={inject:r}},{13:13,142:142,15:15,2:2,22:22,32:32,38:38,40:40,43:43,53:53,55:55,58:58,6:6,65:65,67:67,84:84,94:94,95:95,96:96}],60:[function(e,t,n){"use strict";var r=e(165),o=e(35),a=(e(164),e(114),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),i={key:!0,ref:!0,__self:!0,__source:!0},u=function(e,t,n,r,o,i,u){var s={$$typeof:a,type:e,key:t,ref:n,props:u,_owner:i};return s};u.createElement=function(e,t,n){var r,a={},s=null,l=null,c=null,p=null;if(null!=t){l=void 0===t.ref?null:t.ref,s=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,p=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!i.hasOwnProperty(r)&&(a[r]=t[r])}var d=arguments.length-2;if(1===d)a.children=n;else if(d>1){for(var f=Array(d),h=0;d>h;h++)f[h]=arguments[h+2];a.children=f}if(e&&e.defaultProps){var v=e.defaultProps;for(r in v)void 0===a[r]&&(a[r]=v[r])}return u(e,s,l,c,p,o.current,a)},u.createFactory=function(e){var t=u.createElement.bind(null,e);return t.type=e,t},u.cloneAndReplaceKey=function(e,t){var n=u(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},u.cloneElement=function(e,t,n){var a,s=r({},e.props),l=e.key,c=e.ref,p=e._self,d=e._source,f=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,f=o.current),void 0!==t.key&&(l=""+t.key);var h;e.type&&e.type.defaultProps&&(h=e.type.defaultProps);for(a in t)t.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==h?s[a]=h[a]:s[a]=t[a])}var v=arguments.length-2;if(1===v)s.children=n;else if(v>1){for(var m=Array(v),g=0;v>g;g++)m[g]=arguments[g+2];s.children=m}return u(e.type,l,c,p,d,f,s)},u.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.exports=u},{114:114,164:164,165:165,35:35}],61:[function(e,t,n){"use strict";function r(){if(p.current){var e=p.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function o(e,t){e._store&&!e._store.validated&&null==e.key&&(e._store.validated=!0,a("uniqueKey",e,t))}function a(e,t,n){var o=r();if(!o){var a="string"==typeof n?n:n.displayName||n.name;a&&(o=" Check the top-level render call using <"+a+">.")}var i=h[e]||(h[e]={});if(i[o])return null;i[o]=!0;var u={parentOrOwner:o,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==p.current&&(u.childOwner=" It was passed a child from "+t._owner.getName()+"."),u}function i(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];l.isValidElement(r)&&o(r,t)}else if(l.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var a=d(e);if(a&&a!==e.entries)for(var i,u=a.call(e);!(i=u.next()).done;)l.isValidElement(i.value)&&o(i.value,t)}}function u(e,t,n,o){for(var a in t)if(t.hasOwnProperty(a)){var i;try{"function"!=typeof t[a]?f(!1):void 0,i=t[a](n,a,e,o)}catch(u){i=u}i instanceof Error&&!(i.message in v)&&(v[i.message]=!0,r())}}function s(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&u(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var l=e(60),c=e(82),p=(e(81),e(35)),d=(e(114),e(125)),f=e(156),h=(e(164),{}),v={},m={createElement:function(e,t,n){var r="string"==typeof e||"function"==typeof e,o=l.createElement.apply(this,arguments);if(null==o)return o;if(r)for(var a=2;a<arguments.length;a++)i(arguments[a],e);return s(o),o},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var r=l.cloneElement.apply(this,arguments),o=2;o<arguments.length;o++)i(arguments[o],r.type);return s(r),r}};t.exports=m},{114:114,125:125,156:156,164:164,35:35,60:60,81:81,82:82}],62:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},a={create:function(e){return r(e)}};a.injection=o,t.exports=a},{}],63:[function(e,t,n){"use strict";function r(e,t,n,r){try{return t(n,r)}catch(a){return void(null===o&&(o=a))}}var o=null,a={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=a},{}],64:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(17),a={handleTopLevel:function(e,t,n,a){var i=o.extractEvents(e,t,n,a);r(i)}};t.exports=a},{17:17}],65:[function(e,t,n){"use strict";function r(e){for(;e._nativeParent;)e=e._nativeParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function a(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var a=0;a<e.ancestors.length;a++)n=e.ancestors[a],v._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function i(e){var t=h(window);e(t)}var u=e(165),s=e(141),l=e(142),c=e(25),p=e(40),d=e(92),f=e(124),h=e(153);u(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var v={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,n){var r=n;return r?s.listen(r,t,v.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var r=n;return r?s.capture(r,t,v.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=i.bind(null,e);s.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(v._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(a,n)}finally{o.release(n)}}}};t.exports=v},{124:124,141:141,142:142,153:153,165:165,25:25,40:40,92:92}],66:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],67:[function(e,t,n){"use strict";var r=e(10),o=e(17),a=e(19),i=e(33),u=e(30),s=e(62),l=e(27),c=e(76),p=e(80),d=e(92),f={Component:i.injection,Class:u.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:a.injection,EventEmitter:l.injection,NativeComponent:c.injection,Perf:p.injection,Updates:d.injection};t.exports=f},{10:10,17:17,19:19,27:27,30:30,33:33,62:62,76:76,80:80,92:92}],68:[function(e,t,n){"use strict";function r(e){return a(document.documentElement,e)}var o=e(51),a=e(145),i=e(150),u=e(151),s={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=u();return{focusedElem:e,selectionRange:s.hasSelectionCapabilities(e)?s.getSelection(e):null}},restoreSelection:function(e){var t=u(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(s.hasSelectionCapabilities(n)&&s.setSelection(n,o),i(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var a=e.createTextRange();a.collapse(!0),a.moveStart("character",n),a.moveEnd("character",r-n),a.select()}else o.setOffsets(e,t)}};t.exports=s},{145:145,150:150,151:151,51:51}],69:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],70:[function(e,t,n){"use strict";var r=e(57);t.exports={debugTool:r}},{57:57}],71:[function(e,t,n){"use strict";var r,o,a=(e(164),{onBeginProcessingChildContext:function(){r=!0},onEndProcessingChildContext:function(){r=!1},onSetState:function(){o()}});t.exports=a},{164:164}],72:[function(e,t,n){"use strict";var r=e(113),o=/\/?>/,a=/^<\!\-\-/,i={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return a.test(e)?e:e.replace(o," "+i.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(i.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var o=r(e);return o===n}};t.exports=i},{113:113}],73:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;n>r;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function a(e){return e.getAttribute&&e.getAttribute(k)||""}function i(e,t,n,r,o){var a;if(C.logTopLevelRenders){var i=e._currentElement.props,u=i.type;a="React mount: "+("string"==typeof u?u:u.displayName||u.name),console.time(a)}var s=E.mountComponent(e,n,null,m(e,t),o);a&&console.timeEnd(a),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(s,t,e,r,n)}function u(e,t,n,r){var o=N.ReactReconcileTransaction.getPooled(!n&&g.useCreateElement);o.perform(i,null,e,t,o,n,r),N.ReactReconcileTransaction.release(o)}function s(e,t,n){for(E.unmountComponent(e,n),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function c(e){var t=o(e),n=t&&v.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function p(e){var t=c(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var d=e(8),f=e(10),h=e(27),v=(e(35),e(40)),m=e(41),g=e(45),y=e(60),C=e(66),b=(e(70),e(72)),_=e(80),E=e(85),x=e(91),N=e(92),P=e(149),T=e(130),w=e(156),M=e(136),S=e(138),k=(e(164),f.ID_ATTRIBUTE_NAME),R=f.ROOT_ATTRIBUTE_NAME,D=1,I=9,O=11,A={},L=1,U=function(){this.rootID=L++};U.prototype.isReactComponent={},U.prototype.render=function(){return this.props};var F={TopLevelWrapper:U,_instancesByReactRootID:A,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r){return F.scrollMonitor(n,function(){x.enqueueElementInternal(e,t),r&&x.enqueueCallbackInternal(e,r)}),e},_renderNewRootComponent:function(e,t,n,r){!t||t.nodeType!==D&&t.nodeType!==I&&t.nodeType!==O?w(!1):void 0,h.ensureScrollValueMonitoring();var o=T(e);N.batchedUpdates(u,o,t,n,r);var a=o._instance.rootID;return A[a]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null==e||null==e._reactInternalInstance?w(!1):void 0,F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){x.validateCallback(r,"ReactDOM.render"),y.isValidElement(t)?void 0:w(!1);var i=y(U,null,null,null,null,null,t),u=p(n);if(u){var s=u._currentElement,c=s.props;if(S(c,t)){var d=u._renderedComponent.getPublicInstance(),f=r&&function(){r.call(d)};return F._updateRootComponent(u,i,n,f),d}F.unmountComponentAtNode(n)}var h=o(n),v=h&&!!a(h),m=l(n),g=v&&!u&&!m,C=F._renderNewRootComponent(i,n,g,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):P)._renderedComponent.getPublicInstance();return r&&r.call(C),C},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==D&&e.nodeType!==I&&e.nodeType!==O?w(!1):void 0;var t=p(e);return t?(delete A[t._instance.rootID],N.batchedUpdates(s,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(R),!1)},_mountImageIntoNode:function(e,t,n,a,i){if(!t||t.nodeType!==D&&t.nodeType!==I&&t.nodeType!==O?w(!1):void 0,a){var u=o(t);if(b.canReuseMarkup(e,u))return void v.precacheNode(n,u);var s=u.getAttribute(b.CHECKSUM_ATTR_NAME);u.removeAttribute(b.CHECKSUM_ATTR_NAME);var l=u.outerHTML;u.setAttribute(b.CHECKSUM_ATTR_NAME,s);var c=e,p=r(c,l);" (client) "+c.substring(p-20,p+20)+"\n (server) "+l.substring(p-20,p+20),t.nodeType===I?w(!1):void 0}if(t.nodeType===I?w(!1):void 0,i.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else M(t,e),v.precacheNode(n,t.firstChild)}};_.measureMethods(F,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),t.exports=F},{10:10,130:130,136:136,138:138,149:149,156:156,164:164,27:27,35:35,40:40,41:41,45:45,60:60,66:66,70:70,72:72,8:8,80:80,85:85,91:91,92:92}],74:[function(e,t,n){"use strict";function r(e,t,n){return{type:p.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:p.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:d.getNativeNode(e),toIndex:n,afterNode:t}}function a(e,t){return{type:p.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function i(e){return{type:p.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e){return{type:p.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){c.processChildrenUpdates(e,t)}var c=e(33),p=e(75),d=(e(35),e(85)),f=e(28),h=e(119),v=e(156),m={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o){var a;return a=h(t),f.updateChildren(e,a,n,r,o),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],a=0;for(var i in r)if(r.hasOwnProperty(i)){var u=r[i],s=d.mountComponent(u,t,this,this._nativeContainerInfo,n);u._mountIndex=a++,o.push(s)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&v(!1);var r=[u(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&v(!1);var r=[i(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},a=this._reconcilerUpdateChildren(r,e,o,t,n);if(a||r){var i,u=null,c=0,p=0,f=null;for(i in a)if(a.hasOwnProperty(i)){var h=r&&r[i],v=a[i];h===v?(u=s(u,this.moveChild(h,f,p,c)),c=Math.max(h._mountIndex,c),h._mountIndex=p):(h&&(c=Math.max(h._mountIndex,c)),u=s(u,this._mountChildAtIndex(v,f,p,t,n))),p++,f=d.getNativeNode(v)}for(i in o)o.hasOwnProperty(i)&&(u=s(u,this._unmountChild(r[i],o[i])));u&&l(this,u),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){return e._mountIndex<r?o(e,t,n):void 0},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return a(e,t)},_mountChildAtIndex:function(e,t,n,r,o){var a=d.mountComponent(e,r,this,this._nativeContainerInfo,o);return e._mountIndex=n,this.createChild(e,t,a)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};t.exports=m},{119:119,156:156,28:28,33:33,35:35,75:75,85:85}],75:[function(e,t,n){"use strict";var r=e(159),o=r({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{159:159}],76:[function(e,t,n){"use strict";function r(e){if("function"==typeof e.type)return e.type;var t=e.type,n=p[t];return null==n&&(p[t]=n=l(t)),n}function o(e){return c?void 0:s(!1),new c(e)}function a(e){return new d(e)}function i(e){return e instanceof d}var u=e(165),s=e(156),l=null,c=null,p={},d=null,f={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){u(p,e)}},h={getComponentClassForElement:r,createInternalComponent:o,createInstanceForText:a,isTextComponent:i,injection:f};t.exports=h},{156:156,165:165}],77:[function(e,t,n){"use strict";var r=e(60),o=e(156),a={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?a.EMPTY:r.isValidElement(e)?"function"==typeof e.type?a.COMPOSITE:a.NATIVE:void o(!1)}};t.exports=a},{156:156,60:60}],78:[function(e,t,n){"use strict";function r(e,t){}var o=(e(164),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});t.exports=o},{164:164}],79:[function(e,t,n){"use strict";var r=e(156),o={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){o.isValidOwner(n)?void 0:r(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){o.isValidOwner(n)?void 0:r(!1);var a=n.getPublicInstance();a&&a.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};t.exports=o},{156:156}],80:[function(e,t,n){"use strict";function r(e,t,n){return n}var o={enableMeasure:!1,storedMeasure:r,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){o.storedMeasure=e}}};t.exports=o},{}],81:[function(e,t,n){"use strict";var r={};t.exports=r},{}],82:[function(e,t,n){"use strict";var r=e(159),o=r({prop:null,context:null,childContext:null});t.exports=o},{159:159}],83:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e){function t(t,n,r,o,a,i){if(o=o||x,i=i||r,null==n[r]){var u=b[a];return t?new Error("Required "+u+" `"+i+"` was not specified in "+("`"+o+"`.")):null}return e(n,r,o,a,i)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,o,a){var i=t[n],u=m(i);if(u!==e){var s=b[o],l=g(i);return new Error("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("`"+e+"`."));
}return null}return o(t)}function i(){return o(_.thatReturns(null))}function u(e){function t(t,n,r,o,a){if("function"!=typeof e)return new Error("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var i=t[n];if(!Array.isArray(i)){var u=b[o],s=m(i);return new Error("Invalid "+u+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected an array."))}for(var l=0;l<i.length;l++){var c=e(i,l,r,o,a+"["+l+"]");if(c instanceof Error)return c}return null}return o(t)}function s(){function e(e,t,n,r,o){if(!C.isValidElement(e[t])){var a=b[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return o(e)}function l(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var i=b[o],u=e.name||x,s=y(t[n]);return new Error("Invalid "+i+" `"+a+"` of type "+("`"+s+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function c(e){function t(t,n,o,a,i){for(var u=t[n],s=0;s<e.length;s++)if(r(u,e[s]))return null;var l=b[a],c=JSON.stringify(e);return new Error("Invalid "+l+" `"+i+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+c+"."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function p(e){function t(t,n,r,o,a){if("function"!=typeof e)return new Error("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var i=t[n],u=m(i);if("object"!==u){var s=b[o];return new Error("Invalid "+s+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var l in i)if(i.hasOwnProperty(l)){var c=e(i,l,r,o,a+"."+l);if(c instanceof Error)return c}return null}return o(t)}function d(e){function t(t,n,r,o,a){for(var i=0;i<e.length;i++){var u=e[i];if(null==u(t,n,r,o,a))return null}var s=b[o];return new Error("Invalid "+s+" `"+a+"` supplied to "+("`"+r+"`."))}return o(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function f(){function e(e,t,n,r,o){if(!v(e[t])){var a=b[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function h(e){function t(t,n,r,o,a){var i=t[n],u=m(i);if("object"!==u){var s=b[o];return new Error("Invalid "+s+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var l in e){var c=e[l];if(c){var p=c(i,l,r,o,a+"."+l);if(p)return p}}return null}return o(t)}function v(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(v);if(null===e||C.isValidElement(e))return!0;var t=E(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!v(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!v(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){return e.constructor&&e.constructor.name?e.constructor.name:x}var C=e(60),b=e(81),_=e(148),E=e(125),x="<<anonymous>>",N={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),any:i(),arrayOf:u,element:s(),instanceOf:l,node:f(),objectOf:p,oneOf:c,oneOfType:d,shape:h};t.exports=N},{125:125,148:148,60:60,81:81}],84:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=a.getPooled(null),this.useCreateElement=e}var o=e(165),a=e(5),i=e(25),u=e(27),s=e(68),l=e(110),c={initialize:s.getSelectionInformation,close:s.restoreSelection},p={initialize:function(){var e=u.isEnabled();return u.setEnabled(!1),e},close:function(e){u.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},f=[c,p,d],h={getTransactionWrappers:function(){return f},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){a.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l.Mixin,h),i.addPoolingTo(r),t.exports=r},{110:110,165:165,25:25,27:27,5:5,68:68}],85:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(86),a=(e(70),{mountComponent:function(e,t,n,o,a){var i=e.mountComponent(t,n,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),i},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,a){var i=e._currentElement;if(t!==i||a!==e._context){var u=o.shouldUpdateRefs(i,t);u&&o.detachRefs(e,i),e.receiveComponent(t,n,a),u&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});t.exports=a},{70:70,86:86}],86:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):a.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):a.removeComponentAsRefFrom(t,e,n)}var a=e(79),i={};i.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},i.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,r=null===t||t===!1;return n||r||t._owner!==e._owner||t.ref!==e.ref},i.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=i},{79:79}],87:[function(e,t,n){"use strict";var r={isBatchingUpdates:!1,batchedUpdates:function(e){}};t.exports=r},{}],88:[function(e,t,n){"use strict";function r(e,t){var n;try{return d.injection.injectBatchingStrategy(c),n=p.getPooled(t),n.perform(function(){var r=h(e),o=r.mountComponent(n,null,i(),f);return t||(o=l.addChecksumToMarkup(o)),o},null)}finally{p.release(n),d.injection.injectBatchingStrategy(u)}}function o(e){return s.isValidElement(e)?void 0:v(!1),r(e,!1)}function a(e){return s.isValidElement(e)?void 0:v(!1),r(e,!0)}var i=e(41),u=e(58),s=e(60),l=e(72),c=e(87),p=e(89),d=e(92),f=e(149),h=e(130),v=e(156);t.exports={renderToString:o,renderToStaticMarkup:a}},{130:130,149:149,156:156,41:41,58:58,60:60,72:72,87:87,89:89,92:92}],89:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1}var o=e(165),a=e(25),i=e(110),u=[],s={enqueue:function(){}},l={getTransactionWrappers:function(){return u},getReactMountReady:function(){return s},destructor:function(){}};o(r.prototype,i.Mixin,l),a.addPoolingTo(r),t.exports=r},{110:110,165:165,25:25}],90:[function(e,t,n){"use strict";var r=e(165),o=e(36),a=e(52),i=e(26),u=r({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:a},i);t.exports=u},{165:165,26:26,36:36,52:52}],91:[function(e,t,n){"use strict";function r(e){i.enqueueUpdate(e)}function o(e,t){var n=a.get(e);return n?n:null}var a=(e(35),e(69)),i=e(92),u=e(156),s=(e(164),{isMounted:function(e){var t=a.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t,n){s.validateCallback(t,n);var a=o(e);return a?(a._pendingCallbacks?a._pendingCallbacks.push(t):a._pendingCallbacks=[t],void r(a)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var a=n._pendingStateQueue||(n._pendingStateQueue=[]);a.push(t),r(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?u(!1):void 0}});t.exports=s},{156:156,164:164,35:35,69:69,92:92}],92:[function(e,t,n){"use strict";function r(){w.ReactReconcileTransaction&&_?void 0:g(!1)}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=p.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!0)}function a(e,t,n,o,a,i){r(),_.batchedUpdates(e,t,n,o,a,i)}function i(e,t){return e._mountOrder-t._mountOrder}function u(e){var t=e.dirtyComponentsLength;t!==y.length?g(!1):void 0,y.sort(i);for(var n=0;t>n;n++){var r=y[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var a;if(f.logTopLevelRenders){var u=r;r._currentElement.props===r._renderedComponent._currentElement&&(u=r._renderedComponent),a="React update: "+u.getName(),console.time(a)}if(v.performUpdateIfNecessary(r,e.reconcileTransaction),a&&console.timeEnd(a),o)for(var s=0;s<o.length;s++)e.callbackQueue.enqueue(o[s],r.getPublicInstance())}}function s(e){return r(),_.isBatchingUpdates?void y.push(e):void _.batchedUpdates(s,e)}function l(e,t){_.isBatchingUpdates?void 0:g(!1),C.enqueue(e,t),b=!0}var c=e(165),p=e(5),d=e(25),f=e(66),h=e(80),v=e(85),m=e(110),g=e(156),y=[],C=p.getPooled(),b=!1,_=null,E={initialize:function(){this.dirtyComponentsLength=y.length},close:function(){this.dirtyComponentsLength!==y.length?(y.splice(0,this.dirtyComponentsLength),P()):y.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},N=[E,x];c(o.prototype,m.Mixin,{getTransactionWrappers:function(){return N},destructor:function(){this.dirtyComponentsLength=null,p.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(o);var P=function(){for(;y.length||b;){if(y.length){var e=o.getPooled();e.perform(u,null,e),o.release(e)}if(b){b=!1;var t=C;C=p.getPooled(),t.notifyAll(),p.release(t)}}};P=h.measure("ReactUpdates","flushBatchedUpdates",P);var T={injectReconcileTransaction:function(e){e?void 0:g(!1),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1),"function"!=typeof e.batchedUpdates?g(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1):void 0,_=e}},w={ReactReconcileTransaction:null,batchedUpdates:a,enqueueUpdate:s,flushBatchedUpdates:P,injection:T,asap:l};t.exports=w},{110:110,156:156,165:165,25:25,5:5,66:66,80:80,85:85}],93:[function(e,t,n){"use strict";t.exports="15.0.2"},{}],94:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},a={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){a.Properties[e]=0,o[e]&&(a.DOMAttributeNames[e]=o[e])}),t.exports=a},{}],95:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(_||null==y||y!==p())return null;var n=r(y);if(!b||!h(b,n)){b=n;var o=c.getPooled(g.select,C,e,t);return o.type="select",o.target=y,i.accumulateTwoPhaseDispatches(o),o}return null}var a=e(16),i=e(20),u=e(142),s=e(40),l=e(68),c=e(101),p=e(151),d=e(132),f=e(160),h=e(163),v=a.topLevelTypes,m=u.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:f({onSelect:null}),captured:f({onSelectCapture:null})},dependencies:[v.topBlur,v.topContextMenu,v.topFocus,v.topKeyDown,v.topMouseDown,v.topMouseUp,v.topSelectionChange]}},y=null,C=null,b=null,_=!1,E=!1,x=f({onSelect:null}),N={eventTypes:g,extractEvents:function(e,t,n,r){if(!E)return null;var a=t?s.getNodeFromInstance(t):window;switch(e){case v.topFocus:(d(a)||"true"===a.contentEditable)&&(y=a,C=t,b=null);break;case v.topBlur:y=null,C=null,b=null;break;case v.topMouseDown:_=!0;break;case v.topContextMenu:case v.topMouseUp:return _=!1,o(n,r);case v.topSelectionChange:if(m)break;case v.topKeyDown:case v.topKeyUp:return o(n,r)}return null},didPutListener:function(e,t,n){t===x&&(E=!0)}};t.exports=N},{101:101,132:132,142:142,151:151,16:16,160:160,163:163,20:20,40:40,68:68}],96:[function(e,t,n){"use strict";var r=e(16),o=e(141),a=e(20),i=e(40),u=e(97),s=e(98),l=e(101),c=e(102),p=e(104),d=e(105),f=e(100),h=e(106),v=e(107),m=e(108),g=e(109),y=e(148),C=e(121),b=e(156),_=e(160),E=r.topLevelTypes,x={abort:{phasedRegistrationNames:{bubbled:_({onAbort:!0}),captured:_({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:_({onAnimationEnd:!0}),captured:_({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:_({onAnimationIteration:!0}),captured:_({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:_({onAnimationStart:!0}),captured:_({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:_({onBlur:!0}),captured:_({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:_({onCanPlay:!0}),captured:_({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:_({onCanPlayThrough:!0}),captured:_({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:_({onClick:!0}),captured:_({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:_({onContextMenu:!0}),captured:_({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:_({onCopy:!0}),captured:_({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:_({onCut:!0}),captured:_({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:_({onDoubleClick:!0}),captured:_({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:_({onDrag:!0}),captured:_({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:_({onDragEnd:!0}),captured:_({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:_({onDragEnter:!0}),captured:_({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:_({onDragExit:!0}),captured:_({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:_({onDragLeave:!0}),captured:_({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:_({onDragOver:!0}),captured:_({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:_({onDragStart:!0}),captured:_({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:_({onDrop:!0}),captured:_({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:_({onDurationChange:!0}),captured:_({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:_({onEmptied:!0}),captured:_({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:_({onEncrypted:!0}),captured:_({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:_({onEnded:!0}),captured:_({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:_({onError:!0}),captured:_({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:_({onFocus:!0}),captured:_({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:_({onInput:!0}),captured:_({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:_({onInvalid:!0}),captured:_({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:_({onKeyDown:!0}),captured:_({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:_({onKeyPress:!0}),captured:_({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:_({onKeyUp:!0}),captured:_({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:_({onLoad:!0}),captured:_({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:_({onLoadedData:!0}),captured:_({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:_({onLoadedMetadata:!0}),captured:_({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:_({onLoadStart:!0}),captured:_({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:_({onMouseDown:!0}),captured:_({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:_({onMouseMove:!0}),captured:_({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:_({onMouseOut:!0}),captured:_({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:_({onMouseOver:!0}),captured:_({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:_({onMouseUp:!0}),captured:_({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:_({onPaste:!0}),captured:_({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:_({onPause:!0}),captured:_({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:_({onPlay:!0}),captured:_({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:_({onPlaying:!0}),captured:_({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:_({onProgress:!0}),captured:_({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:_({onRateChange:!0}),captured:_({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:_({onReset:!0}),captured:_({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:_({onScroll:!0}),captured:_({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:_({onSeeked:!0}),captured:_({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:_({onSeeking:!0}),captured:_({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:_({onStalled:!0}),captured:_({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:_({onSubmit:!0}),captured:_({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:_({onSuspend:!0}),captured:_({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:_({onTimeUpdate:!0}),captured:_({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:_({onTouchCancel:!0}),captured:_({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:_({onTouchEnd:!0}),captured:_({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:_({onTouchMove:!0}),captured:_({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:_({onTouchStart:!0}),captured:_({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:_({onTransitionEnd:!0}),captured:_({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:_({onVolumeChange:!0}),captured:_({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:_({onWaiting:!0}),captured:_({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:_({onWheel:!0}),captured:_({onWheelCapture:!0})}}},N={topAbort:x.abort,topAnimationEnd:x.animationEnd,topAnimationIteration:x.animationIteration,topAnimationStart:x.animationStart,topBlur:x.blur,topCanPlay:x.canPlay,topCanPlayThrough:x.canPlayThrough,topClick:x.click,topContextMenu:x.contextMenu,topCopy:x.copy,topCut:x.cut,topDoubleClick:x.doubleClick,topDrag:x.drag,topDragEnd:x.dragEnd,topDragEnter:x.dragEnter,topDragExit:x.dragExit,topDragLeave:x.dragLeave,topDragOver:x.dragOver,topDragStart:x.dragStart,topDrop:x.drop,topDurationChange:x.durationChange,topEmptied:x.emptied,topEncrypted:x.encrypted,topEnded:x.ended,topError:x.error,topFocus:x.focus,topInput:x.input,topInvalid:x.invalid,topKeyDown:x.keyDown,topKeyPress:x.keyPress,topKeyUp:x.keyUp,topLoad:x.load,topLoadedData:x.loadedData,topLoadedMetadata:x.loadedMetadata,topLoadStart:x.loadStart,topMouseDown:x.mouseDown,topMouseMove:x.mouseMove,topMouseOut:x.mouseOut,topMouseOver:x.mouseOver,topMouseUp:x.mouseUp,topPaste:x.paste,topPause:x.pause,topPlay:x.play,topPlaying:x.playing,topProgress:x.progress,topRateChange:x.rateChange,topReset:x.reset,topScroll:x.scroll,topSeeked:x.seeked,topSeeking:x.seeking,topStalled:x.stalled,topSubmit:x.submit,topSuspend:x.suspend,topTimeUpdate:x.timeUpdate,topTouchCancel:x.touchCancel,topTouchEnd:x.touchEnd,topTouchMove:x.touchMove,topTouchStart:x.touchStart,topTransitionEnd:x.transitionEnd,topVolumeChange:x.volumeChange,topWaiting:x.waiting,topWheel:x.wheel};for(var P in N)N[P].dependencies=[P];var T=_({onClick:null}),w={},M={eventTypes:x,extractEvents:function(e,t,n,r){var o=N[e];if(!o)return null;var i;switch(e){case E.topAbort:case E.topCanPlay:case E.topCanPlayThrough:case E.topDurationChange:case E.topEmptied:case E.topEncrypted:case E.topEnded:case E.topError:case E.topInput:case E.topInvalid:case E.topLoad:case E.topLoadedData:case E.topLoadedMetadata:case E.topLoadStart:case E.topPause:case E.topPlay:case E.topPlaying:case E.topProgress:case E.topRateChange:case E.topReset:case E.topSeeked:case E.topSeeking:case E.topStalled:case E.topSubmit:case E.topSuspend:case E.topTimeUpdate:case E.topVolumeChange:case E.topWaiting:i=l;break;case E.topKeyPress:if(0===C(n))return null;case E.topKeyDown:case E.topKeyUp:i=p;break;case E.topBlur:case E.topFocus:i=c;break;case E.topClick:if(2===n.button)return null;case E.topContextMenu:case E.topDoubleClick:case E.topMouseDown:case E.topMouseMove:case E.topMouseOut:case E.topMouseOver:case E.topMouseUp:i=d;break;case E.topDrag:case E.topDragEnd:case E.topDragEnter:case E.topDragExit:case E.topDragLeave:case E.topDragOver:case E.topDragStart:case E.topDrop:i=f;break;case E.topTouchCancel:case E.topTouchEnd:case E.topTouchMove:case E.topTouchStart:i=h;break;case E.topAnimationEnd:case E.topAnimationIteration:case E.topAnimationStart:i=u;break;case E.topTransitionEnd:i=v;break;case E.topScroll:i=m;break;case E.topWheel:i=g;break;case E.topCopy:case E.topCut:case E.topPaste:i=s}i?void 0:b(!1);var y=i.getPooled(o,t,n,r);return a.accumulateTwoPhaseDispatches(y),y},didPutListener:function(e,t,n){if(t===T){var r=e._rootNodeID,a=i.getNodeFromInstance(e);w[r]||(w[r]=o.listen(a,"click",y))}},willDeleteListener:function(e,t){if(t===T){var n=e._rootNodeID;w[n].remove(),delete w[n]}}};t.exports=M},{100:100,101:101,102:102,104:104,105:105,106:106,107:107,108:108,109:109,121:121,141:141,148:148,156:156,16:16,160:160,20:20,40:40,97:97,98:98}],97:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(101),a={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,a),t.exports=r},{101:101}],98:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(101),a={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,a),t.exports=r},{101:101}],99:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(101),a={data:null};o.augmentClass(r,a),t.exports=r},{101:101}],100:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(105),a={dataTransfer:null};o.augmentClass(r,a),t.exports=r},{105:105}],101:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var a in o)if(o.hasOwnProperty(a)){var u=o[a];u?this[a]=u(n):"target"===a?this.target=r:this[a]=n[a]}var s=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return s?this.isDefaultPrevented=i.thatReturnsTrue:this.isDefaultPrevented=i.thatReturnsFalse,this.isPropagationStopped=i.thatReturnsFalse,this}var o=e(165),a=e(25),i=e(148),u=(e(164),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),s={type:null,target:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=i.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=i.thatReturnsTrue)},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<u.length;n++)this[u[n]]=null}}),r.Interface=s,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var i=new r;o(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,a.addPoolingTo(e,a.fourArgumentPooler)},a.addPoolingTo(r,a.fourArgumentPooler),t.exports=r},{148:148,164:164,165:165,25:25}],102:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),a={relatedTarget:null};o.augmentClass(r,a),t.exports=r},{108:108}],103:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(101),a={data:null};o.augmentClass(r,a),t.exports=r},{101:101}],104:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),a=e(121),i=e(122),u=e(123),s={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:u,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,s),t.exports=r},{108:108,121:121,122:122,123:123}],105:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),a=e(111),i=e(123),u={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+a.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+a.currentScrollTop}};o.augmentClass(r,u),t.exports=r},{108:108,111:111,123:123}],106:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(108),a=e(123),i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a};o.augmentClass(r,i),t.exports=r},{108:108,123:123}],107:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(101),a={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,a),t.exports=r},{101:101}],108:[function(e,t,n){"use strict";function r(e,t,n,r){
return o.call(this,e,t,n,r)}var o=e(101),a=e(124),i={view:function(e){if(e.view)return e.view;var t=a(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,i),t.exports=r},{101:101,124:124}],109:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(105),a={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,a),t.exports=r},{105:105}],110:[function(e,t,n){"use strict";var r=e(156),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,a,i,u,s){this.isInTransaction()?r(!1):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,a,i,u,s),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(p){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=a.OBSERVED_ERROR,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===a.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(o){}}}},closeAll:function(e){this.isInTransaction()?void 0:r(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,i=t[n],u=this.wrapperInitData[n];try{o=!0,u!==a.OBSERVED_ERROR&&i.close&&i.close.call(this,u),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(s){}}}this.wrapperInitData.length=0}},a={Mixin:o,OBSERVED_ERROR:{}};t.exports=a},{156:156}],111:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e,t){if(null==t?o(!1):void 0,null==e)return t;var n=Array.isArray(e),r=Array.isArray(t);return n&&r?(e.push.apply(e,t),e):n?(e.push(t),e):r?[e].concat(t):[e,t]}var o=e(156);t.exports=r},{156:156}],113:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,a=e.length,i=-4&a;i>r;){for(var u=Math.min(r+4096,i);u>r;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;a>r;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],114:[function(e,t,n){"use strict";var r=!1;t.exports=r},{}],115:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],116:[function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var o=isNaN(t);return o||0===t||a.hasOwnProperty(e)&&a[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(3),a=(e(164),o.isUnitlessNumber);t.exports=r},{164:164,3:3}],117:[function(e,t,n){"use strict";function r(e){return a[e]}function o(e){return(""+e).replace(i,r)}var a={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},i=/[&><"']/g;t.exports=o},{}],118:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=i(t),t?o.getNodeFromInstance(t):null):void u(("function"==typeof e.render,!1))}var o=(e(35),e(40)),a=e(69),i=e(126),u=e(156);e(164);t.exports=r},{126:126,156:156,164:164,35:35,40:40,69:69}],119:[function(e,t,n){"use strict";function r(e,t,n){var r=e,o=void 0===r[n];o&&null!=t&&(r[n]=t)}function o(e){if(null==e)return e;var t={};return a(e,r,t),t}var a=(e(23),e(139));e(164);t.exports=o},{139:139,164:164,23:23}],120:[function(e,t,n){"use strict";var r=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};t.exports=r},{}],121:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}t.exports=r},{}],122:[function(e,t,n){"use strict";function r(e){if(e.key){var t=a[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?i[e.keyCode]||"Unidentified":""}var o=e(121),a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{121:121}],123:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=a[e];return r?!!n[r]:!1}function o(e){return r}var a={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],124:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],125:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[a]);return"function"==typeof t?t:void 0}var o="function"==typeof Symbol&&Symbol.iterator,a="@@iterator";t.exports=r},{}],126:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.NATIVE?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(77);t.exports=r},{77:77}],127:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function a(e,t){for(var n=r(e),a=0,i=0;n;){if(3===n.nodeType){if(i=a+n.textContent.length,t>=a&&i>=t)return{node:n,offset:t-a};a=i}n=r(o(n))}}t.exports=a},{}],128:[function(e,t,n){"use strict";function r(){return!a&&o.canUseDOM&&(a="textContent"in document.documentElement?"textContent":"innerText"),a}var o=e(142),a=null;t.exports=r},{142:142}],129:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(u[e])return u[e];if(!i[e])return e;var t=i[e];for(var n in t)if(t.hasOwnProperty(n)&&n in s)return u[e]=t[n];return""}var a=e(142),i={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},u={},s={};a.canUseDOM&&(s=document.createElement("div").style,"AnimationEvent"in window||(delete i.animationend.animation,delete i.animationiteration.animation,delete i.animationstart.animation),"TransitionEvent"in window||delete i.transitionend.transition),t.exports=o},{142:142}],130:[function(e,t,n){"use strict";function r(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t;if(null===e||e===!1)t=u.create(o);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?l(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):r(n.type)?new n.type(n):new c(n)}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):l(!1);return t._mountIndex=0,t._mountImage=null,t}var a=e(165),i=e(34),u=e(62),s=e(76),l=e(156),c=(e(164),function(e){this.construct(e)});a(c.prototype,i.Mixin,{_instantiateReactComponent:o}),t.exports=o},{156:156,164:164,165:165,34:34,62:62,76:76}],131:[function(e,t,n){"use strict";function r(e,t){if(!a.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var i=document.createElement("div");i.setAttribute(n,"return;"),r="function"==typeof i[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,a=e(142);a.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),t.exports=r},{142:142}],132:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&o[e.type]||"textarea"===t)}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:a(!1),e}var o=e(60),a=e(156);t.exports=r},{156:156,60:60}],134:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(117);t.exports=r},{117:117}],135:[function(e,t,n){"use strict";var r=e(73);t.exports=r.renderSubtreeIntoContainer},{73:73}],136:[function(e,t,n){"use strict";var r=e(142),o=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,i=e(115),u=i(function(e,t){e.innerHTML=t});if(r.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(u=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),o.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),s=null}t.exports=u},{115:115,142:142}],137:[function(e,t,n){"use strict";var r=e(142),o=e(117),a=e(136),i=function(e,t){e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(i=function(e,t){a(e,o(t))})),t.exports=i},{117:117,136:136,142:142}],138:[function(e,t,n){"use strict";function r(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var o=typeof e,a=typeof t;return"string"===o||"number"===o?"string"===a||"number"===a:"object"===a&&e.type===t.type&&e.key===t.key}t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,a){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||i.isValidElement(e))return n(a,e,""===t?c+r(e,0):t),1;var f,h,v=0,m=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=m+r(f,g),v+=o(f,h,n,a);else{var y=u(e);if(y){var C,b=y.call(e);if(y!==e.entries)for(var _=0;!(C=b.next()).done;)f=C.value,h=m+r(f,_++),v+=o(f,h,n,a);else for(;!(C=b.next()).done;){var E=C.value;E&&(f=E[1],h=m+l.escape(E[0])+p+r(f,0),v+=o(f,h,n,a))}}else"object"===d&&(String(e),s(!1))}return v}function a(e,t,n){return null==e?0:o(e,"",t,n)}var i=(e(35),e(60)),u=e(125),s=e(156),l=e(23),c=(e(164),"."),p=":";t.exports=a},{125:125,156:156,164:164,23:23,35:35,60:60}],140:[function(e,t,n){"use strict";var r=(e(165),e(148)),o=(e(164),r);t.exports=o},{148:148,164:164,165:165}],141:[function(e,t,n){"use strict";var r=e(148),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{148:148}],142:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],143:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],144:[function(e,t,n){"use strict";function r(e){return o(e.replace(a,"ms-"))}var o=e(143),a=/^-ms-/;t.exports=r},{143:143}],145:[function(e,t,n){"use strict";function r(e,t){return e&&t?e===t?!0:o(e)?!1:o(t)?r(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var o=e(158);t.exports=r},{158:158}],146:[function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?i(!1):void 0,"number"!=typeof t?i(!1):void 0,0===t||t-1 in e?void 0:i(!1),"function"==typeof e.callee?i(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var r=Array(t),o=0;t>o;o++)r[o]=e[o];return r}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function a(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var i=e(156);t.exports=a},{156:156}],147:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l?void 0:s(!1);var o=r(e),a=o&&u(o);if(a){n.innerHTML=a[1]+e+a[2];for(var c=a[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:s(!1),i(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var a=e(142),i=e(146),u=e(152),s=e(156),l=a.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{142:142,146:146,152:152,156:156}],148:[function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],149:[function(e,t,n){"use strict";var r={};t.exports=r},{}],150:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(t){}}t.exports=r},{}],151:[function(e,t,n){"use strict";function r(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=r},{}],152:[function(e,t,n){"use strict";function r(e){return i?void 0:a(!1),d.hasOwnProperty(e)||(e="*"),u.hasOwnProperty(e)||("*"===e?i.innerHTML="<link />":i.innerHTML="<"+e+"></"+e+">",u[e]=!i.firstChild),u[e]?d[e]:null}var o=e(142),a=e(156),i=o.canUseDOM?document.createElement("div"):null,u={},s=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=p,u[e]=!0}),t.exports=r},{142:142,156:156}],153:[function(e,t,n){"use strict";function r(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],154:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],155:[function(e,t,n){"use strict";function r(e){return o(e).replace(a,"-ms-")}var o=e(154),a=/^ms-/;t.exports=r},{154:154}],156:[function(e,t,n){"use strict";function r(e,t,n,r,o,a,i,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,u],c=0;s=new Error(t.replace(/%s/g,function(){return l[c++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}t.exports=r},{}],157:[function(e,t,n){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],158:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(157);t.exports=r},{157:157}],159:[function(e,t,n){"use strict";var r=e(156),o=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:r(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};t.exports=o},{156:156}],160:[function(e,t,n){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};t.exports=r},{}],161:[function(e,t,n){"use strict";function r(e,t,n){if(!e)return null;var r={};for(var a in e)o.call(e,a)&&(r[a]=t.call(n,e[a],a,e));return r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],162:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],163:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=0;i<n.length;i++)if(!a.call(t,n[i])||!r(e[n[i]],t[n[i]]))return!1;return!0}var a=Object.prototype.hasOwnProperty;t.exports=o},{}],164:[function(e,t,n){"use strict";var r=e(148),o=r;t.exports=o},{148:148}],165:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e,t){for(var n,i,u=r(e),s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var l in n)o.call(n,l)&&(u[l]=n[l]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(n);for(var c=0;c<i.length;c++)a.call(n,i[c])&&(u[i[c]]=n[i[c]])}}return u}},{}]},{},[90])(90)});
/**
 * ReactDOMServer v15.0.2
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,f.ReactDOMServer=e(f.React)}}(function(e){return e.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});
/**
 * ReactDOM v15.0.2
 *
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 */
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var f;f="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,f.ReactDOM=e(f.React)}}(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED});
/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.16.1
 * @date    2016-04-18
 *
 * @license
 * Copyright (C) 2011-2016 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */
"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={exports:{},id:o,loaded:!1};return t[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){var o=i(1);o.extend(e,i(7)),o.extend(e,i(24)),o.extend(e,i(60))},function(t,e,i){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n=i(2),s=i(6);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.recursiveDOMDelete=function(t){if(t)for(;t.hasChildNodes()===!0;)e.recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},e.giveRange=function(t,e,i,o){if(e==t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=r.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.randomUUID=function(){return s.v4()},e.assignAllKeys=function(t,e){for(var i in t)t.hasOwnProperty(i)&&"object"!==o(t[i])&&(t[i]=e)},e.fillIfDefined=function(t,i){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];for(var s in t)void 0!==i[s]&&("object"!==o(i[s])?void 0!==i[s]&&null!==i[s]||void 0===t[s]||n!==!0?t[s]=i[s]:delete t[s]:"object"===o(t[s])&&e.fillIfDefined(t[s],i[s],n))},e.protoExtend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)t[n]=o[n]}return t},e.extend=function(t,e){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],s=0;s<t.length;s++){var r=t[s];n.hasOwnProperty(r)&&(e[r]=n[r])}return e},e.selectiveDeepExtend=function(t,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s=2;s<arguments.length;s++)for(var r=arguments[s],a=0;a<t.length;a++){var h=t[a];if(r.hasOwnProperty(h))if(o[h]&&o[h].constructor===Object)void 0===i[h]&&(i[h]={}),i[h].constructor===Object?e.deepExtend(i[h],o[h],!1,n):null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h];else{if(Array.isArray(o[h]))throw new TypeError("Arrays are not supported by deepExtend");null===o[h]&&void 0!==i[h]&&n===!0?delete i[h]:i[h]=o[h]}}return i},e.selectiveNotDeepExtend=function(t,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];if(Array.isArray(o))throw new TypeError("Arrays are not supported by deepExtend");for(var s in o)if(o.hasOwnProperty(s)&&-1==t.indexOf(s))if(o[s]&&o[s].constructor===Object)void 0===i[s]&&(i[s]={}),i[s].constructor===Object?e.deepExtend(i[s],o[s]):null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s];else if(Array.isArray(o[s])){i[s]=[];for(var r=0;r<o[s].length;r++)i[s].push(o[s][r])}else null===o[s]&&void 0!==i[s]&&n===!0?delete i[s]:i[s]=o[s];return i},e.deepExtend=function(t,i,o,n){for(var s in i)if(i.hasOwnProperty(s)||o===!0)if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s],o):null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s];else if(Array.isArray(i[s])){t[s]=[];for(var r=0;r<i[s].length;r++)t[s].push(i[s][r])}else null===i[s]&&void 0!==t[s]&&n===!0?delete t[s]:t[s]=i[s];return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,o=t.length;o>i;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var o;if(void 0!==t){if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(n.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])):n(t).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return n(t);if(t instanceof Date)return n(t.valueOf());if(n.isMoment(t))return n(t);if(e.isString(t))return o=r.exec(t),n(o?Number(o[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(n.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return o=r.exec(t),o?new Date(Number(o[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){o=r.exec(t);var s;return s=o?new Date(Number(o[1])).valueOf():new Date(t).valueOf(),"/Date("+s+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error('Unknown type "'+i+'"')}}};var r=/^\/?Date\((\-?\d+)/i;e.getType=function(t){var e="undefined"==typeof t?"undefined":o(t);return"object"==e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":void 0===e?"undefined":e},e.copyAndExtendArray=function(t,e){for(var i=[],o=0;o<t.length;o++)i.push(t[o]);return i.push(e),i},e.copyArray=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left},e.getAbsoluteRight=function(t){return t.getBoundingClientRect().right},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top},e.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},e.removeClassName=function(t,e){var i=t.className.split(" "),o=i.indexOf(e);-1!=o&&(i.splice(o,1),t.className=i.join(" "))},e.forEach=function(t,e){var i,o;if(Array.isArray(t))for(i=0,o=t.length;o>i;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i?(t[e]=i,!0):!1},e.throttle=function(t,e){var i=null,o=!1;return function n(){i?o=!0:(o=!1,t(),i=setTimeout(function(){i=null,o&&n()},e))}},e.addEventListener=function(t,e,i,o){t.addEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,o)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,o){t.removeEventListener?(void 0===o&&(o=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,o)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,o){return e+e+i+i+o+o});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){if(-1!=t.indexOf("rgba"))return t;if(-1!=t.indexOf("rgb")){var o=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+o[0]+","+o[1]+","+o[2]+","+i+")"}var o=e.hexToRGB(t);return null==o?t:"rgba("+o.r+","+o.g+","+o.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(e.isString(t)===!0){if(e.isValidRGB(t)===!0){var o=t.substr(4).substr(0,t.length-5).split(",").map(function(t){return parseInt(t)});t=e.RGBToHex(o[0],o[1],o[2])}if(e.isValidHex(t)===!0){var n=e.hexToHSV(t),s={h:n.h,s:.8*n.s,v:Math.min(1,1.02*n.v)},r={h:n.h,s:Math.min(1,1.25*n.s),v:.8*n.v},a=e.HSVToHex(r.h,r.s,r.v),h=e.HSVToHex(s.h,s.s,s.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||void 0,i.border=t.border||void 0,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||void 0,i.highlight.border=t.highlight&&t.highlight.border||void 0),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||void 0,i.hover.border=t.hover&&t.hover.border||void 0);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var o=Math.min(t,Math.min(e,i)),n=Math.max(t,Math.max(e,i));if(o==n)return{h:0,s:0,v:o};var s=t==o?e-i:i==o?t-e:i-t,r=t==o?3:i==o?1:5,a=60*(r-s/(n-o))/360,h=(n-o)/n,d=n;return{h:a,s:h,v:d}};var a={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),o=i[0].trim(),n=i[1].trim();e[o]=n}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var o=a.split(t.style.cssText),n=a.split(i),s=e.extend(o,n);t.style.cssText=a.join(s)},e.removeCssText=function(t,e){var i=a.split(t.style.cssText),o=a.split(e);for(var n in o)o.hasOwnProperty(n)&&delete i[n];t.style.cssText=a.join(i)},e.HSVToRGB=function(t,e,i){var o,n,s,r=Math.floor(6*t),a=6*t-r,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(r%6){case 0:o=i,n=l,s=h;break;case 1:o=d,n=i,s=h;break;case 2:o=h,n=i,s=l;break;case 3:o=h,n=d,s=i;break;case 4:o=l,n=h,s=i;break;case 5:o=i,n=h,s=d}return{r:Math.floor(255*o),g:Math.floor(255*n),b:Math.floor(255*s)}},e.HSVToHex=function(t,i,o){var n=e.HSVToRGB(t,i,o);return e.RGBToHex(n.r,n.g,n.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(t);return e},e.isValidRGBA=function(t){t=t.replace(" ","");var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(t);return e},e.selectiveBridgeObject=function(t,i){if("object"==("undefined"==typeof i?"undefined":o(i))){for(var n=Object.create(i),s=0;s<t.length;s++)i.hasOwnProperty(t[s])&&"object"==o(i[t[s]])&&(n[t[s]]=e.bridgeObject(i[t[s]]));return n}return null},e.bridgeObject=function(t){if("object"==("undefined"==typeof t?"undefined":o(t))){var i=Object.create(t);for(var n in t)t.hasOwnProperty(n)&&"object"==o(t[n])&&(i[n]=e.bridgeObject(t[n]));return i}return null},e.insertSort=function(t,e){for(var i=0;i<t.length;i++){for(var o=t[i],n=i;n>0&&e(o,t[n-1])<0;n--)t[n]=t[n-1];t[n]=o}return t},e.mergeOptions=function(t,e,i){var o=(arguments.length<=3||void 0===arguments[3]?!1:arguments[3],arguments.length<=4||void 0===arguments[4]?{}:arguments[4]);if(null===e[i])t[i]=Object.create(o[i]);else if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{void 0===e[i].enabled&&(t[i].enabled=!0);for(var n in e[i])e[i].hasOwnProperty(n)&&(t[i][n]=e[i][n])}},e.binarySearchCustom=function(t,e,i,o){for(var n=1e4,s=0,r=0,a=t.length-1;a>=r&&n>s;){var h=Math.floor((r+a)/2),d=t[h],l=void 0===o?d[i]:d[i][o],c=e(l);if(0==c)return h;-1==c?r=h+1:a=h-1,s++}return-1},e.binarySearchValue=function(t,e,i,o,n){for(var s,r,a,h,d=1e4,l=0,c=0,u=t.length-1,n=void 0!=n?n:function(t,e){return t==e?0:e>t?-1:1};u>=c&&d>l;){if(h=Math.floor(.5*(u+c)),s=t[Math.max(0,h-1)][i],r=t[h][i],a=t[Math.min(t.length-1,h+1)][i],0==n(r,e))return h;if(n(s,e)<0&&n(r,e)>0)return"before"==o?Math.max(0,h-1):h;if(n(r,e)<0&&n(a,e)>0)return"before"==o?h:Math.min(t.length-1,h+1);n(r,e)<0?c=h+1:u=h-1,l++}return-1},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(3)},function(t,e,i){(function(t){!function(e,i){t.exports=i()}(this,function(){function e(){return ro.apply(null,arguments)}function i(t){ro=t}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,o=[];for(i=0;i<t.length;++i)o.push(e(t[i],i));return o}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var i in e)r(e,i)&&(t[i]=e[i]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,i,o){return Lt(t,e,i,o,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function l(t){return null==t._pf&&(t._pf=d()),t._pf}function c(t){if(null==t._isValid){var e=l(t),i=ao.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=h(NaN);return null!=t?a(l(e),t):l(e).userInvalidated=!0,e}function p(t){return void 0===t}function f(t,e){var i,o,n;if(p(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),p(e._i)||(t._i=e._i),p(e._f)||(t._f=e._f),p(e._l)||(t._l=e._l),p(e._strict)||(t._strict=e._strict),p(e._tzm)||(t._tzm=e._tzm),p(e._isUTC)||(t._isUTC=e._isUTC),p(e._offset)||(t._offset=e._offset),p(e._pf)||(t._pf=l(e)),p(e._locale)||(t._locale=e._locale),ho.length>0)for(i in ho)o=ho[i],n=e[o],p(n)||(t[o]=n);return t}function m(t){f(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),lo===!1&&(lo=!0,e.updateOffset(this),lo=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function y(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=g(e)),i}function b(t,e,i){var o,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(o=0;n>o;o++)(i&&t[o]!==e[o]||!i&&y(t[o])!==y(e[o]))&&r++;return r+s}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,i){var o=!0;return a(function(){return null!=e.deprecationHandler&&e.deprecationHandler(null,t),o&&(w(t+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),o=!1),i.apply(this,arguments)},i)}function x(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),co[t]||(w(i),co[t]=!0)}function k(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){return"[object Object]"===Object.prototype.toString.call(t)}function M(t){var e,i;for(i in t)e=t[i],k(e)?this[i]=e:this["_"+i]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function D(t,e){var i,o=a({},t);for(i in e)r(e,i)&&(O(t[i])&&O(e[i])?(o[i]={},a(o[i],t[i]),a(o[i],e[i])):null!=e[i]?o[i]=e[i]:delete o[i]);return o}function S(t){null!=t&&this.set(t)}function C(t){return t?t.toLowerCase().replace("_","-"):t}function T(t){for(var e,i,o,n,s=0;s<t.length;){for(n=C(t[s]).split("-"),e=n.length,i=C(t[s+1]),i=i?i.split("-"):null;e>0;){if(o=E(n.slice(0,e).join("-")))return o;if(i&&i.length>=e&&b(n,i,!0)>=e-1)break;e--}s++}return null}function E(e){var i=null;if(!mo[e]&&"undefined"!=typeof t&&t&&t.exports)try{i=po._abbr,!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),P(i)}catch(o){}return mo[e]}function P(t,e){var i;return t&&(i=p(e)?R(t):I(t,e),i&&(po=i)),po._abbr}function I(t,e){return null!==e?(e.abbr=t,null!=mo[t]?(x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale"),e=D(mo[t]._config,e)):null!=e.parentLocale&&(null!=mo[e.parentLocale]?e=D(mo[e.parentLocale]._config,e):x("parentLocaleUndefined","specified parentLocale is not defined yet")),mo[t]=new S(e),P(t),mo[t]):(delete mo[t],null)}function N(t,e){if(null!=e){var i;null!=mo[t]&&(e=D(mo[t]._config,e)),i=new S(e),i.parentLocale=mo[t],mo[t]=i,P(t)}else null!=mo[t]&&(null!=mo[t].parentLocale?mo[t]=mo[t].parentLocale:null!=mo[t]&&delete mo[t]);return mo[t]}function R(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return po;if(!o(t)){if(e=E(t))return e;t=[t]}return T(t)}function z(){return uo(mo)}function L(t,e){var i=t.toLowerCase();vo[i]=vo[i+"s"]=vo[e]=t}function A(t){return"string"==typeof t?vo[t]||vo[t.toLowerCase()]:void 0}function B(t){var e,i,o={};for(i in t)r(t,i)&&(e=A(i),e&&(o[e]=t[i]));return o}function F(t,i){return function(o){return null!=o?(H(this,t,o),e.updateOffset(this,i),this):j(this,t)}}function j(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function H(t,e,i){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](i)}function W(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=A(t),k(this[t]))return this[t](e);return this}function Y(t,e,i){var o=""+Math.abs(t),n=e-o.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+o}function G(t,e,i,o){var n=o;"string"==typeof o&&(n=function(){return this[o]()}),t&&(wo[t]=n),e&&(wo[e[0]]=function(){return Y(n.apply(this,arguments),e[1],e[2])}),i&&(wo[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,i,o=t.match(go);for(e=0,i=o.length;i>e;e++)wo[o[e]]?o[e]=wo[o[e]]:o[e]=V(o[e]);return function(e){var n,s="";for(n=0;i>n;n++)s+=o[n]instanceof Function?o[n].call(e,t):o[n];return s}}function q(t,e){return t.isValid()?(e=X(e,t.localeData()),bo[e]=bo[e]||U(e),bo[e](t)):t.localeData().invalidDate()}function X(t,e){function i(t){return e.longDateFormat(t)||t}var o=5;for(yo.lastIndex=0;o>=0&&yo.test(t);)t=t.replace(yo,i),yo.lastIndex=0,o-=1;return t}function Z(t,e,i){Bo[t]=k(e)?e:function(t,o){return t&&i?i:e}}function K(t,e){return r(Bo,t)?Bo[t](e._strict,e._locale):new RegExp(J(t))}function J(t){return Q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,o,n){return e||i||o||n}))}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function $(t,e){var i,o=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(o=function(t,i){i[e]=y(t)}),i=0;i<t.length;i++)Fo[t[i]]=o}function tt(t,e){$(t,function(t,i,o,n){o._w=o._w||{},e(t,o._w,o,n)})}function et(t,e,i){null!=e&&r(Fo,t)&&Fo[t](e,i._a,i,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ot(t,e){return o(this._months)?this._months[t.month()]:this._months[Zo.test(e)?"format":"standalone"][t.month()]}function nt(t,e){return o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Zo.test(e)?"format":"standalone"][t.month()]}function st(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],o=0;12>o;++o)s=h([2e3,o]),this._shortMonthsParse[o]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[o]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===e?(n=fo.call(this._shortMonthsParse,r),-1!==n?n:null):(n=fo.call(this._longMonthsParse,r),-1!==n?n:null):"MMM"===e?(n=fo.call(this._shortMonthsParse,r),-1!==n?n:(n=fo.call(this._longMonthsParse,r),-1!==n?n:null)):(n=fo.call(this._longMonthsParse,r),-1!==n?n:(n=fo.call(this._shortMonthsParse,r),-1!==n?n:null))}function rt(t,e,i){var o,n,s;if(this._monthsParseExact)return st.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),o=0;12>o;o++){if(n=h([2e3,o]),i&&!this._longMonthsParse[o]&&(this._longMonthsParse[o]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[o]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[o]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[o]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[o].test(t))return o;if(i&&"MMM"===e&&this._shortMonthsParse[o].test(t))return o;if(!i&&this._monthsParse[o].test(t))return o}}function at(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return i=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ht(t){return null!=t?(at(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function dt(){return it(this.year(),this.month())}function lt(t){return this._monthsParseExact?(r(this,"_monthsRegex")||ut.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex}function ct(t){return this._monthsParseExact?(r(this,"_monthsRegex")||ut.call(this),t?this._monthsStrictRegex:this._monthsRegex):this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex}function ut(){function t(t,e){return e.length-t.length}var e,i,o=[],n=[],s=[];for(e=0;12>e;e++)i=h([2e3,e]),o.push(this.monthsShort(i,"")),n.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(o.sort(t),n.sort(t),s.sort(t),e=0;12>e;e++)o[e]=Q(o[e]),n[e]=Q(n[e]),s[e]=Q(s[e]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+o.join("|")+")","i")}function pt(t){var e,i=t._a;return i&&-2===l(t).overflow&&(e=i[Ho]<0||i[Ho]>11?Ho:i[Wo]<1||i[Wo]>it(i[jo],i[Ho])?Wo:i[Yo]<0||i[Yo]>24||24===i[Yo]&&(0!==i[Go]||0!==i[Vo]||0!==i[Uo])?Yo:i[Go]<0||i[Go]>59?Go:i[Vo]<0||i[Vo]>59?Vo:i[Uo]<0||i[Uo]>999?Uo:-1,l(t)._overflowDayOfYear&&(jo>e||e>Wo)&&(e=Wo),l(t)._overflowWeeks&&-1===e&&(e=qo),l(t)._overflowWeekday&&-1===e&&(e=Xo),l(t).overflow=e),t}function ft(t){var e,i,o,n,s,r,a=t._i,h=tn.exec(a)||en.exec(a);if(h){for(l(t).iso=!0,e=0,i=nn.length;i>e;e++)if(nn[e][1].exec(h[1])){n=nn[e][0],o=nn[e][2]!==!1;break}if(null==n)return void(t._isValid=!1);if(h[3]){for(e=0,i=sn.length;i>e;e++)if(sn[e][1].exec(h[3])){s=(h[2]||" ")+sn[e][0];break}if(null==s)return void(t._isValid=!1)}if(!o&&null!=s)return void(t._isValid=!1);if(h[4]){if(!on.exec(h[4]))return void(t._isValid=!1);r="Z"}t._f=n+(s||"")+(r||""),Tt(t)}else t._isValid=!1}function mt(t){var i=rn.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ft(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function vt(t,e,i,o,n,s,r){var a=new Date(t,e,i,o,n,s,r);return 100>t&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function gt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t){return bt(t)?366:365}function bt(t){return t%4===0&&t%100!==0||t%400===0}function wt(){return bt(this.year())}function _t(t,e,i){var o=7+e-i,n=(7+gt(t,0,o).getUTCDay()-e)%7;return-n+o-1}function xt(t,e,i,o,n){var s,r,a=(7+i-o)%7,h=_t(t,o,n),d=1+7*(e-1)+a+h;return 0>=d?(s=t-1,r=yt(s)+d):d>yt(t)?(s=t+1,r=d-yt(t)):(s=t,r=d),{year:s,dayOfYear:r}}function kt(t,e,i){var o,n,s=_t(t.year(),e,i),r=Math.floor((t.dayOfYear()-s-1)/7)+1;return 1>r?(n=t.year()-1,o=r+Ot(n,e,i)):r>Ot(t.year(),e,i)?(o=r-Ot(t.year(),e,i),n=t.year()+1):(n=t.year(),o=r),{week:o,year:n}}function Ot(t,e,i){var o=_t(t,e,i),n=_t(t+1,e,i);return(yt(t)-o+n)/7}function Mt(t,e,i){return null!=t?t:null!=e?e:i}function Dt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function St(t){var e,i,o,n,s=[];if(!t._d){for(o=Dt(t),t._w&&null==t._a[Wo]&&null==t._a[Ho]&&Ct(t),t._dayOfYear&&(n=Mt(t._a[jo],o[jo]),t._dayOfYear>yt(n)&&(l(t)._overflowDayOfYear=!0),i=gt(n,0,t._dayOfYear),t._a[Ho]=i.getUTCMonth(),t._a[Wo]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Yo]&&0===t._a[Go]&&0===t._a[Vo]&&0===t._a[Uo]&&(t._nextDay=!0,t._a[Yo]=0),t._d=(t._useUTC?gt:vt).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Yo]=24)}}function Ct(t){var e,i,o,n,s,r,a,h;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,r=4,i=Mt(e.GG,t._a[jo],kt(At(),1,4).year),o=Mt(e.W,1),n=Mt(e.E,1),(1>n||n>7)&&(h=!0)):(s=t._locale._week.dow,r=t._locale._week.doy,i=Mt(e.gg,t._a[jo],kt(At(),s,r).year),o=Mt(e.w,1),null!=e.d?(n=e.d,(0>n||n>6)&&(h=!0)):null!=e.e?(n=e.e+s,(e.e<0||e.e>6)&&(h=!0)):n=s),1>o||o>Ot(i,s,r)?l(t)._overflowWeeks=!0:null!=h?l(t)._overflowWeekday=!0:(a=xt(i,o,n,s,r),t._a[jo]=a.year,t._dayOfYear=a.dayOfYear)}function Tt(t){if(t._f===e.ISO_8601)return void ft(t);t._a=[],l(t).empty=!0;var i,o,n,s,r,a=""+t._i,h=a.length,d=0;for(n=X(t._f,t._locale).match(go)||[],i=0;i<n.length;i++)s=n[i],o=(a.match(K(s,t))||[])[0],o&&(r=a.substr(0,a.indexOf(o)),r.length>0&&l(t).unusedInput.push(r),a=a.slice(a.indexOf(o)+o.length),d+=o.length),wo[s]?(o?l(t).empty=!1:l(t).unusedTokens.push(s),et(s,o,t)):t._strict&&!o&&l(t).unusedTokens.push(s);l(t).charsLeftOver=h-d,a.length>0&&l(t).unusedInput.push(a),l(t).bigHour===!0&&t._a[Yo]<=12&&t._a[Yo]>0&&(l(t).bigHour=void 0),l(t).parsedDateParts=t._a.slice(0),l(t).meridiem=t._meridiem,t._a[Yo]=Et(t._locale,t._a[Yo],t._meridiem),St(t),pt(t)}function Et(t,e,i){var o;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(o=t.isPM(i),o&&12>e&&(e+=12),o||12!==e||(e=0),e):e}function Pt(t){var e,i,o,n,s;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(NaN));for(n=0;n<t._f.length;n++)s=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[n],Tt(e),c(e)&&(s+=l(e).charsLeftOver,s+=10*l(e).unusedTokens.length,l(e).score=s,(null==o||o>s)&&(o=s,i=e));a(t,i||e)}function It(t){if(!t._d){var e=B(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),St(t)}}function Nt(t){var e=new m(pt(Rt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Rt(t){var e=t._i,i=t._f;return t._locale=t._locale||R(t._l),null===e||void 0===i&&""===e?u({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new m(pt(e)):(o(i)?Pt(t):i?Tt(t):n(e)?t._d=e:zt(t),c(t)||(t._d=null),t))}function zt(t){var i=t._i;void 0===i?t._d=new Date(e.now()):n(i)?t._d=new Date(i.valueOf()):"string"==typeof i?mt(t):o(i)?(t._a=s(i.slice(0),function(t){return parseInt(t,10)}),St(t)):"object"==typeof i?It(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function Lt(t,e,i,o,n){var s={};return"boolean"==typeof i&&(o=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=n,s._l=i,s._i=t,s._f=e,s._strict=o,Nt(s)}function At(t,e,i,o){return Lt(t,e,i,o,!1)}function Bt(t,e){var i,n;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return At();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Ft(){var t=[].slice.call(arguments,0);return Bt("isBefore",t)}function jt(){var t=[].slice.call(arguments,0);return Bt("isAfter",t)}function Ht(t){var e=B(t),i=e.year||0,o=e.quarter||0,n=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+1e3*a*60*60,this._days=+r+7*s,this._months=+n+3*o+12*i,this._data={},this._locale=R(),this._bubble()}function Wt(t){return t instanceof Ht}function Yt(t,e){G(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+Y(~~(t/60),2)+e+Y(~~t%60,2)})}function Gt(t,e){var i=(e||"").match(t)||[],o=i[i.length-1]||[],n=(o+"").match(cn)||["-",0,0],s=+(60*n[1])+y(n[2]);return"+"===n[0]?s:-s}function Vt(t,i){var o,s;return i._isUTC?(o=i.clone(),s=(v(t)||n(t)?t.valueOf():At(t).valueOf())-o.valueOf(),o._d.setTime(o._d.valueOf()+s),e.updateOffset(o,!1),o):At(t).local()}function Ut(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function qt(t,i){var o,n=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Gt(zo,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(o=Ut(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),n!==t&&(!i||this._changeInProgress?le(this,ne(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:Ut(this):null!=t?this:NaN}function Xt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Zt(t){return this.utcOffset(0,t)}function Kt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ut(this),"m")),this}function Jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Gt(Ro,this._i)),this}function Qt(t){return this.isValid()?(t=t?At(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function $t(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function te(){if(!p(this._isDSTShifted))return this._isDSTShifted;var t={};if(f(t,this),t=Rt(t),t._a){var e=t._isUTC?h(t._a):At(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function ee(){return this.isValid()?!this._isUTC:!1}function ie(){return this.isValid()?this._isUTC:!1}function oe(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ne(t,e){var i,o,n,s=t,a=null;return Wt(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(a=un.exec(t))?(i="-"===a[1]?-1:1,s={y:0,d:y(a[Wo])*i,h:y(a[Yo])*i,m:y(a[Go])*i,s:y(a[Vo])*i,ms:y(a[Uo])*i}):(a=pn.exec(t))?(i="-"===a[1]?-1:1,s={y:se(a[2],i),M:se(a[3],i),w:se(a[4],i),d:se(a[5],i),h:se(a[6],i),m:se(a[7],i),s:se(a[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(n=ae(At(s.from),At(s.to)),s={},s.ms=n.milliseconds,s.M=n.months),o=new Ht(s),Wt(t)&&r(t,"_locale")&&(o._locale=t._locale),o}function se(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function re(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,
i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function ae(t,e){var i;return t.isValid()&&e.isValid()?(e=Vt(e,t),t.isBefore(e)?i=re(t,e):(i=re(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function he(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function de(t,e){return function(i,o){var n,s;return null===o||isNaN(+o)||(x(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=o,o=s),i="string"==typeof i?+i:i,n=ne(i,o),le(this,n,t),this}}function le(t,i,o,n){var s=i._milliseconds,r=he(i._days),a=he(i._months);t.isValid()&&(n=null==n?!0:n,s&&t._d.setTime(t._d.valueOf()+s*o),r&&H(t,"Date",j(t,"Date")+r*o),a&&at(t,j(t,"Month")+a*o),n&&e.updateOffset(t,r||a))}function ce(t,e){var i=t||At(),o=Vt(i,this).startOf("day"),n=this.diff(o,"days",!0),s=-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse",r=e&&(k(e[s])?e[s]():e[s]);return this.format(r||this.localeData().calendar(s,this,At(i)))}function ue(){return new m(this)}function pe(t,e){var i=v(t)?t:At(t);return this.isValid()&&i.isValid()?(e=A(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function fe(t,e){var i=v(t)?t:At(t);return this.isValid()&&i.isValid()?(e=A(p(e)?"millisecond":e),"millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function me(t,e,i,o){return o=o||"()",("("===o[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===o[1]?this.isBefore(e,i):!this.isAfter(e,i))}function ve(t,e){var i,o=v(t)?t:At(t);return this.isValid()&&o.isValid()?(e=A(e||"millisecond"),"millisecond"===e?this.valueOf()===o.valueOf():(i=o.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function ge(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ye(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function be(t,e,i){var o,n,s,r;return this.isValid()?(o=Vt(t,this),o.isValid()?(n=6e4*(o.utcOffset()-this.utcOffset()),e=A(e),"year"===e||"month"===e||"quarter"===e?(r=we(this,o),"quarter"===e?r/=3:"year"===e&&(r/=12)):(s=this-o,r="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-n)/864e5:"week"===e?(s-n)/6048e5:s),i?r:g(r)):NaN):NaN}function we(t,e){var i,o,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return 0>e-s?(i=t.clone().add(n-1,"months"),o=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),o=(e-s)/(i-s)),-(n+o)||0}function _e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xe(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?k(Date.prototype.toISOString)?this.toDate().toISOString():q(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):q(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ke(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=q(this,t);return this.localeData().postformat(i)}function Oe(t,e){return this.isValid()&&(v(t)&&t.isValid()||At(t).isValid())?ne({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Me(t){return this.from(At(),t)}function De(t,e){return this.isValid()&&(v(t)&&t.isValid()||At(t).isValid())?ne({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Se(t){return this.to(At(),t)}function Ce(t){var e;return void 0===t?this._locale._abbr:(e=R(t),null!=e&&(this._locale=e),this)}function Te(){return this._locale}function Ee(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Pe(t){return t=A(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Ie(){return this._d.valueOf()-6e4*(this._offset||0)}function Ne(){return Math.floor(this.valueOf()/1e3)}function Re(){return this._offset?new Date(this.valueOf()):this._d}function ze(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Le(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ae(){return this.isValid()?this.toISOString():null}function Be(){return c(this)}function Fe(){return a({},l(this))}function je(){return l(this).overflow}function He(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function We(t,e){G(0,[t,t.length],0,e)}function Ye(t){return qe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ge(t){return qe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Ve(){return Ot(this.year(),1,4)}function Ue(){var t=this.localeData()._week;return Ot(this.year(),t.dow,t.doy)}function qe(t,e,i,o,n){var s;return null==t?kt(this,o,n).year:(s=Ot(t,o,n),e>s&&(e=s),Xe.call(this,t,e,i,o,n))}function Xe(t,e,i,o,n){var s=xt(t,e,i,o,n),r=gt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Ze(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ke(t){return kt(t,this._week.dow,this._week.doy).week}function Je(){return this._week.dow}function Qe(){return this._week.doy}function $e(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ti(t){var e=kt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ei(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function ii(t,e){return o(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function oi(t){return this._weekdaysShort[t.day()]}function ni(t){return this._weekdaysMin[t.day()]}function si(t,e,i){var o,n,s,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],o=0;7>o;++o)s=h([2e3,1]).day(o),this._minWeekdaysParse[o]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[o]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[o]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===e?(n=fo.call(this._weekdaysParse,r),-1!==n?n:null):"ddd"===e?(n=fo.call(this._shortWeekdaysParse,r),-1!==n?n:null):(n=fo.call(this._minWeekdaysParse,r),-1!==n?n:null):"dddd"===e?(n=fo.call(this._weekdaysParse,r),-1!==n?n:(n=fo.call(this._shortWeekdaysParse,r),-1!==n?n:(n=fo.call(this._minWeekdaysParse,r),-1!==n?n:null))):"ddd"===e?(n=fo.call(this._shortWeekdaysParse,r),-1!==n?n:(n=fo.call(this._weekdaysParse,r),-1!==n?n:(n=fo.call(this._minWeekdaysParse,r),-1!==n?n:null))):(n=fo.call(this._minWeekdaysParse,r),-1!==n?n:(n=fo.call(this._weekdaysParse,r),-1!==n?n:(n=fo.call(this._shortWeekdaysParse,r),-1!==n?n:null)))}function ri(t,e,i){var o,n,s;if(this._weekdaysParseExact)return si.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),o=0;7>o;o++){if(n=h([2e3,1]).day(o),i&&!this._fullWeekdaysParse[o]&&(this._fullWeekdaysParse[o]=new RegExp("^"+this.weekdays(n,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[o]=new RegExp("^"+this.weekdaysShort(n,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[o]=new RegExp("^"+this.weekdaysMin(n,"").replace(".",".?")+"$","i")),this._weekdaysParse[o]||(s="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[o]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[o].test(t))return o;if(i&&"ddd"===e&&this._shortWeekdaysParse[o].test(t))return o;if(i&&"dd"===e&&this._minWeekdaysParse[o].test(t))return o;if(!i&&this._weekdaysParse[o].test(t))return o}}function ai(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ei(t,this.localeData()),this.add(t-e,"d")):e}function hi(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function di(t){return this.isValid()?null==t?this.day()||7:this.day(this.day()%7?t:t-7):null!=t?this:NaN}function li(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex}function ci(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}function ui(t){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||pi.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}function pi(){function t(t,e){return e.length-t.length}var e,i,o,n,s,r=[],a=[],d=[],l=[];for(e=0;7>e;e++)i=h([2e3,1]).day(e),o=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(o),a.push(n),d.push(s),l.push(o),l.push(n),l.push(s);for(r.sort(t),a.sort(t),d.sort(t),l.sort(t),e=0;7>e;e++)a[e]=Q(a[e]),d[e]=Q(d[e]),l[e]=Q(l[e]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function fi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function mi(){return this.hours()%12||12}function vi(){return this.hours()||24}function gi(t,e){G(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function yi(t,e){return e._meridiemParse}function bi(t){return"p"===(t+"").toLowerCase().charAt(0)}function wi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function _i(t,e){e[Uo]=y(1e3*("0."+t))}function xi(){return this._isUTC?"UTC":""}function ki(){return this._isUTC?"Coordinated Universal Time":""}function Oi(t){return At(1e3*t)}function Mi(){return At.apply(null,arguments).parseZone()}function Di(t,e,i){var o=this._calendar[t];return k(o)?o.call(e,i):o}function Si(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function Ci(){return this._invalidDate}function Ti(t){return this._ordinal.replace("%d",t)}function Ei(t){return t}function Pi(t,e,i,o){var n=this._relativeTime[i];return k(n)?n(t,e,i,o):n.replace(/%d/i,t)}function Ii(t,e){var i=this._relativeTime[t>0?"future":"past"];return k(i)?i(e):i.replace(/%s/i,e)}function Ni(t,e,i,o){var n=R(),s=h().set(o,e);return n[i](s,t)}function Ri(t,e,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ni(t,e,i,"month");var o,n=[];for(o=0;12>o;o++)n[o]=Ni(t,o,i,"month");return n}function zi(t,e,i,o){"boolean"==typeof t?("number"==typeof e&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,"number"==typeof e&&(i=e,e=void 0),e=e||"");var n=R(),s=t?n._week.dow:0;if(null!=i)return Ni(e,(i+s)%7,o,"day");var r,a=[];for(r=0;7>r;r++)a[r]=Ni(e,(r+s)%7,o,"day");return a}function Li(t,e){return Ri(t,e,"months")}function Ai(t,e){return Ri(t,e,"monthsShort")}function Bi(t,e,i){return zi(t,e,i,"weekdays")}function Fi(t,e,i){return zi(t,e,i,"weekdaysShort")}function ji(t,e,i){return zi(t,e,i,"weekdaysMin")}function Hi(){var t=this._data;return this._milliseconds=jn(this._milliseconds),this._days=jn(this._days),this._months=jn(this._months),t.milliseconds=jn(t.milliseconds),t.seconds=jn(t.seconds),t.minutes=jn(t.minutes),t.hours=jn(t.hours),t.months=jn(t.months),t.years=jn(t.years),this}function Wi(t,e,i,o){var n=ne(e,i);return t._milliseconds+=o*n._milliseconds,t._days+=o*n._days,t._months+=o*n._months,t._bubble()}function Yi(t,e){return Wi(this,t,e,1)}function Gi(t,e){return Wi(this,t,e,-1)}function Vi(t){return 0>t?Math.floor(t):Math.ceil(t)}function Ui(){var t,e,i,o,n,s=this._milliseconds,r=this._days,a=this._months,h=this._data;return s>=0&&r>=0&&a>=0||0>=s&&0>=r&&0>=a||(s+=864e5*Vi(Xi(a)+r),r=0,a=0),h.milliseconds=s%1e3,t=g(s/1e3),h.seconds=t%60,e=g(t/60),h.minutes=e%60,i=g(e/60),h.hours=i%24,r+=g(i/24),n=g(qi(r)),a+=n,r-=Vi(Xi(n)),o=g(a/12),a%=12,h.days=r,h.months=a,h.years=o,this}function qi(t){return 4800*t/146097}function Xi(t){return 146097*t/4800}function Zi(t){var e,i,o=this._milliseconds;if(t=A(t),"month"===t||"year"===t)return e=this._days+o/864e5,i=this._months+qi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Xi(this._months)),t){case"week":return e/7+o/6048e5;case"day":return e+o/864e5;case"hour":return 24*e+o/36e5;case"minute":return 1440*e+o/6e4;case"second":return 86400*e+o/1e3;case"millisecond":return Math.floor(864e5*e)+o;default:throw new Error("Unknown unit "+t)}}function Ki(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function Ji(t){return function(){return this.as(t)}}function Qi(t){return t=A(t),this[t+"s"]()}function $i(t){return function(){return this._data[t]}}function to(){return g(this.days()/7)}function eo(t,e,i,o,n){return n.relativeTime(e||1,!!i,t,o)}function io(t,e,i){var o=ne(t).abs(),n=is(o.as("s")),s=is(o.as("m")),r=is(o.as("h")),a=is(o.as("d")),h=is(o.as("M")),d=is(o.as("y")),l=n<os.s&&["s",n]||1>=s&&["m"]||s<os.m&&["mm",s]||1>=r&&["h"]||r<os.h&&["hh",r]||1>=a&&["d"]||a<os.d&&["dd",a]||1>=h&&["M"]||h<os.M&&["MM",h]||1>=d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=i,eo.apply(null,l)}function oo(t,e){return void 0===os[t]?!1:void 0===e?os[t]:(os[t]=e,!0)}function no(t){var e=this.localeData(),i=io(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function so(){var t,e,i,o=ns(this._milliseconds)/1e3,n=ns(this._days),s=ns(this._months);t=g(o/60),e=g(t/60),o%=60,t%=60,i=g(s/12),s%=12;var r=i,a=s,h=n,d=e,l=t,c=o,u=this.asSeconds();return u?(0>u?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(d||l||c?"T":"")+(d?d+"H":"")+(l?l+"M":"")+(c?c+"S":""):"P0D"}var ro,ao;ao=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,o=0;i>o;o++)if(o in e&&t.call(this,e[o],o,e))return!0;return!1};var ho=e.momentProperties=[],lo=!1,co={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var uo;uo=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)r(t,e)&&i.push(e);return i};var po,fo,mo={},vo={},go=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,yo=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,bo={},wo={},_o=/\d/,xo=/\d\d/,ko=/\d{3}/,Oo=/\d{4}/,Mo=/[+-]?\d{6}/,Do=/\d\d?/,So=/\d\d\d\d?/,Co=/\d\d\d\d\d\d?/,To=/\d{1,3}/,Eo=/\d{1,4}/,Po=/[+-]?\d{1,6}/,Io=/\d+/,No=/[+-]?\d+/,Ro=/Z|[+-]\d\d:?\d\d/gi,zo=/Z|[+-]\d\d(?::?\d\d)?/gi,Lo=/[+-]?\d+(\.\d{1,3})?/,Ao=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Bo={},Fo={},jo=0,Ho=1,Wo=2,Yo=3,Go=4,Vo=5,Uo=6,qo=7,Xo=8;fo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),G("MMMM",0,0,function(t){return this.localeData().months(this,t)}),L("month","M"),Z("M",Do),Z("MM",Do,xo),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),$(["M","MM"],function(t,e){e[Ho]=y(t)-1}),$(["MMM","MMMM"],function(t,e,i,o){var n=i._locale.monthsParse(t,o,i._strict);null!=n?e[Ho]=n:l(i).invalidMonth=t});var Zo=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ko="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Jo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Qo=Ao,$o=Ao,tn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,en=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,on=/Z|[+-]\d\d(?::?\d\d)?/,nn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],rn=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=_("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),G("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),L("year","y"),Z("Y",No),Z("YY",Do,xo),Z("YYYY",Eo,Oo),Z("YYYYY",Po,Mo),Z("YYYYYY",Po,Mo),$(["YYYYY","YYYYYY"],jo),$("YYYY",function(t,i){i[jo]=2===t.length?e.parseTwoDigitYear(t):y(t)}),$("YY",function(t,i){i[jo]=e.parseTwoDigitYear(t)}),$("Y",function(t,e){e[jo]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var an=F("FullYear",!0);e.ISO_8601=function(){};var hn=_("moment().min is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:u()}),dn=_("moment().max is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=At.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:u()}),ln=function(){return Date.now?Date.now():+new Date};Yt("Z",":"),Yt("ZZ",""),Z("Z",zo),Z("ZZ",zo),$(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Gt(zo,t)});var cn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var un=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,pn=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;ne.fn=Ht.prototype;var fn=de(1,"add"),mn=de(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var vn=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),We("gggg","weekYear"),We("ggggg","weekYear"),We("GGGG","isoWeekYear"),We("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),Z("G",No),Z("g",No),Z("GG",Do,xo),Z("gg",Do,xo),Z("GGGG",Eo,Oo),Z("gggg",Eo,Oo),Z("GGGGG",Po,Mo),Z("ggggg",Po,Mo),tt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,o){e[o.substr(0,2)]=y(t)}),tt(["gg","GG"],function(t,i,o,n){i[n]=e.parseTwoDigitYear(t)}),G("Q",0,"Qo","quarter"),L("quarter","Q"),Z("Q",_o),$("Q",function(t,e){e[Ho]=3*(y(t)-1)}),G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),Z("w",Do),Z("ww",Do,xo),Z("W",Do),Z("WW",Do,xo),tt(["w","ww","W","WW"],function(t,e,i,o){e[o.substr(0,1)]=y(t)});var gn={dow:0,doy:6};G("D",["DD",2],"Do","date"),L("date","D"),Z("D",Do),Z("DD",Do,xo),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),$(["D","DD"],Wo),$("Do",function(t,e){e[Wo]=y(t.match(Do)[0],10)});var yn=F("Date",!0);G("d",0,"do","day"),G("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),G("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),G("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),Z("d",Do),Z("e",Do),Z("E",Do),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),tt(["dd","ddd","dddd"],function(t,e,i,o){var n=i._locale.weekdaysParse(t,o,i._strict);null!=n?e.d=n:l(i).invalidWeekday=t}),tt(["d","e","E"],function(t,e,i,o){e[o]=y(t)});var bn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),_n="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),xn=Ao,kn=Ao,On=Ao;G("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),Z("DDD",To),Z("DDDD",ko),$(["DDD","DDDD"],function(t,e,i){i._dayOfYear=y(t)}),G("H",["HH",2],0,"hour"),G("h",["hh",2],0,mi),G("k",["kk",2],0,vi),G("hmm",0,0,function(){return""+mi.apply(this)+Y(this.minutes(),2)}),G("hmmss",0,0,function(){return""+mi.apply(this)+Y(this.minutes(),2)+Y(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+Y(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+Y(this.minutes(),2)+Y(this.seconds(),2)}),gi("a",!0),gi("A",!1),L("hour","h"),Z("a",yi),Z("A",yi),Z("H",Do),Z("h",Do),Z("HH",Do,xo),Z("hh",Do,xo),Z("hmm",So),Z("hmmss",Co),Z("Hmm",So),Z("Hmmss",Co),$(["H","HH"],Yo),$(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),$(["h","hh"],function(t,e,i){e[Yo]=y(t),l(i).bigHour=!0}),$("hmm",function(t,e,i){var o=t.length-2;e[Yo]=y(t.substr(0,o)),e[Go]=y(t.substr(o)),l(i).bigHour=!0}),$("hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Yo]=y(t.substr(0,o)),e[Go]=y(t.substr(o,2)),e[Vo]=y(t.substr(n)),l(i).bigHour=!0}),$("Hmm",function(t,e,i){var o=t.length-2;e[Yo]=y(t.substr(0,o)),e[Go]=y(t.substr(o))}),$("Hmmss",function(t,e,i){var o=t.length-4,n=t.length-2;e[Yo]=y(t.substr(0,o)),e[Go]=y(t.substr(o,2)),e[Vo]=y(t.substr(n))});var Mn=/[ap]\.?m?\.?/i,Dn=F("Hours",!0);G("m",["mm",2],0,"minute"),L("minute","m"),Z("m",Do),Z("mm",Do,xo),$(["m","mm"],Go);var Sn=F("Minutes",!1);G("s",["ss",2],0,"second"),L("second","s"),Z("s",Do),Z("ss",Do,xo),$(["s","ss"],Vo);var Cn=F("Seconds",!1);G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),Z("S",To,_o),Z("SS",To,xo),Z("SSS",To,ko);var Tn;for(Tn="SSSS";Tn.length<=9;Tn+="S")Z(Tn,Io);for(Tn="S";Tn.length<=9;Tn+="S")$(Tn,_i);var En=F("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var Pn=m.prototype;Pn.add=fn,Pn.calendar=ce,Pn.clone=ue,Pn.diff=be,Pn.endOf=Pe,Pn.format=ke,Pn.from=Oe,Pn.fromNow=Me,Pn.to=De,Pn.toNow=Se,Pn.get=W,Pn.invalidAt=je,Pn.isAfter=pe,Pn.isBefore=fe,Pn.isBetween=me,Pn.isSame=ve,Pn.isSameOrAfter=ge,Pn.isSameOrBefore=ye,Pn.isValid=Be,Pn.lang=vn,Pn.locale=Ce,Pn.localeData=Te,Pn.max=dn,Pn.min=hn,Pn.parsingFlags=Fe,Pn.set=W,Pn.startOf=Ee,Pn.subtract=mn,Pn.toArray=ze,Pn.toObject=Le,Pn.toDate=Re,Pn.toISOString=xe,Pn.toJSON=Ae,Pn.toString=_e,Pn.unix=Ne,Pn.valueOf=Ie,Pn.creationData=He,Pn.year=an,Pn.isLeapYear=wt,Pn.weekYear=Ye,Pn.isoWeekYear=Ge,Pn.quarter=Pn.quarters=Ze,Pn.month=ht,Pn.daysInMonth=dt,Pn.week=Pn.weeks=$e,Pn.isoWeek=Pn.isoWeeks=ti,Pn.weeksInYear=Ue,Pn.isoWeeksInYear=Ve,Pn.date=yn,Pn.day=Pn.days=ai,Pn.weekday=hi,Pn.isoWeekday=di,Pn.dayOfYear=fi,Pn.hour=Pn.hours=Dn,Pn.minute=Pn.minutes=Sn,Pn.second=Pn.seconds=Cn,Pn.millisecond=Pn.milliseconds=En,Pn.utcOffset=qt,Pn.utc=Zt,Pn.local=Kt,Pn.parseZone=Jt,Pn.hasAlignedHourOffset=Qt,Pn.isDST=$t,Pn.isDSTShifted=te,Pn.isLocal=ee,Pn.isUtcOffset=ie,Pn.isUtc=oe,Pn.isUTC=oe,Pn.zoneAbbr=xi,Pn.zoneName=ki,Pn.dates=_("dates accessor is deprecated. Use date instead.",yn),Pn.months=_("months accessor is deprecated. Use month instead",ht),Pn.years=_("years accessor is deprecated. Use year instead",an),Pn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Xt);var In=Pn,Nn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Rn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},zn="Invalid date",Ln="%d",An=/\d{1,2}/,Bn={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Fn=S.prototype;Fn._calendar=Nn,Fn.calendar=Di,Fn._longDateFormat=Rn,Fn.longDateFormat=Si,Fn._invalidDate=zn,Fn.invalidDate=Ci,Fn._ordinal=Ln,Fn.ordinal=Ti,Fn._ordinalParse=An,Fn.preparse=Ei,Fn.postformat=Ei,Fn._relativeTime=Bn,Fn.relativeTime=Pi,Fn.pastFuture=Ii,Fn.set=M,Fn.months=ot,Fn._months=Ko,Fn.monthsShort=nt,Fn._monthsShort=Jo,Fn.monthsParse=rt,Fn._monthsRegex=$o,Fn.monthsRegex=ct,Fn._monthsShortRegex=Qo,Fn.monthsShortRegex=lt,Fn.week=Ke,Fn._week=gn,Fn.firstDayOfYear=Qe,Fn.firstDayOfWeek=Je,Fn.weekdays=ii,Fn._weekdays=bn,Fn.weekdaysMin=ni,Fn._weekdaysMin=_n,Fn.weekdaysShort=oi,Fn._weekdaysShort=wn,Fn.weekdaysParse=ri,Fn._weekdaysRegex=xn,Fn.weekdaysRegex=li,Fn._weekdaysShortRegex=kn,Fn.weekdaysShortRegex=ci,Fn._weekdaysMinRegex=On,Fn.weekdaysMinRegex=ui,Fn.isPM=bi,Fn._meridiemParse=Mn,Fn.meridiem=wi,P("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",P),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",R);var jn=Math.abs,Hn=Ji("ms"),Wn=Ji("s"),Yn=Ji("m"),Gn=Ji("h"),Vn=Ji("d"),Un=Ji("w"),qn=Ji("M"),Xn=Ji("y"),Zn=$i("milliseconds"),Kn=$i("seconds"),Jn=$i("minutes"),Qn=$i("hours"),$n=$i("days"),ts=$i("months"),es=$i("years"),is=Math.round,os={s:45,m:45,h:22,d:26,M:11},ns=Math.abs,ss=Ht.prototype;ss.abs=Hi,ss.add=Yi,ss.subtract=Gi,ss.as=Zi,ss.asMilliseconds=Hn,ss.asSeconds=Wn,ss.asMinutes=Yn,ss.asHours=Gn,ss.asDays=Vn,ss.asWeeks=Un,ss.asMonths=qn,ss.asYears=Xn,ss.valueOf=Ki,ss._bubble=Ui,ss.get=Qi,ss.milliseconds=Zn,ss.seconds=Kn,ss.minutes=Jn,ss.hours=Qn,ss.days=$n,ss.weeks=to,ss.months=ts,ss.years=es,ss.humanize=no,ss.toISOString=so,ss.toString=so,ss.toJSON=so,ss.locale=Ce,ss.localeData=Te,ss.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),ss.lang=vn,G("X",0,0,"unix"),G("x",0,0,"valueOf"),Z("x",No),Z("X",Lo),$("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),$("x",function(t,e,i){i._d=new Date(y(t))}),e.version="2.13.0",i(At),e.fn=In,e.min=Ft,e.max=jt,e.now=ln,e.utc=h,e.unix=Oi,e.months=Li,e.isDate=n,e.locale=P,e.invalid=u,e.duration=ne,e.isMoment=v,e.weekdays=Bi,e.parseZone=Mi,e.localeData=R,e.isDuration=Wt,e.monthsShort=Ai,e.weekdaysMin=ji,e.defineLocale=I,e.updateLocale=N,e.locales=z,e.weekdaysShort=Fi,e.normalizeUnits=A,e.relativeTimeThreshold=oo,e.prototype=In;var rs=e;return rs})}).call(e,i(4)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){function i(t){throw new Error("Cannot find module '"+t+"'.")}i.keys=function(){return[]},i.resolve=i,t.exports=i,i.id=5},function(t,e){(function(e){function i(t,e,i){var o=e&&i||0,n=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>n&&(e[o+n++]=c[t])});16>n;)e[o+n++]=0;return e}function o(t,e){var i=e||0,o=l;return o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+"-"+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]+o[t[i++]]}function n(t,e,i){var n=e&&i||0,s=e||[];t=t||{};var r=void 0!==t.clockseq?t.clockseq:m,a=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:g+1,d=a-v+(h-g)/1e4;if(0>d&&void 0===t.clockseq&&(r=r+1&16383),(0>d||a>v)&&void 0===t.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=a,g=h,m=r,a+=122192928e5;var l=(1e4*(268435455&a)+h)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=255&l;var c=a/4294967296*1e4&268435455;s[n++]=c>>>8&255,s[n++]=255&c,s[n++]=c>>>24&15|16,s[n++]=c>>>16&255,s[n++]=r>>>8|128,s[n++]=255&r;for(var u=t.node||f,p=0;6>p;p++)s[n+p]=u[p];return e?e:o(s)}function s(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e)for(var a=0;16>a;a++)e[n+a]=s[a];return e||o(s)}var r,a="undefined"!=typeof window?window:"undefined"!=typeof e?e:null;if(a&&a.crypto&&crypto.getRandomValues){var h=new Uint8Array(16);r=function(){return crypto.getRandomValues(h),h}}if(!r){var d=new Array(16);r=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),d[e]=t>>>((3&e)<<3)&255;return d}}for(var l=[],c={},u=0;256>u;u++)l[u]=(u+256).toString(16).substr(1),c[l[u]]=u;var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],m=16383&(p[6]<<8|p[7]),v=0,g=0,y=s;y.v1=n,y.v4=s,y.parse=i,y.unparse=o,t.exports=y}).call(e,function(){return this}())},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Graph3d=i(12),e.graph3d={Camera:i(16),Filter:i(17),Point2d:i(15),Point3d:i(14),Slider:i(18),StepNumber:i(19)},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.resetElements=function(t){e.prepareElements(t),e.cleanupElements(t),e.prepareElements(t)},e.getSVGElement=function(t,e,i){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(o)):(o=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(o)),e[t].used.push(o),o},e.getDOMElement=function(t,e,i,o){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElement(t),void 0!==o?i.insertBefore(n,o):i.appendChild(n)):(n=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==o?i.insertBefore(n,o):i.appendChild(n)),e[t].used.push(n),n},e.drawPoint=function(t,i,o,n,s,r){var a;if("circle"==o.style?(a=e.getSVGElement("circle",n,s),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*o.size)):(a=e.getSVGElement("rect",n,s),a.setAttributeNS(null,"x",t-.5*o.size),a.setAttributeNS(null,"y",i-.5*o.size),a.setAttributeNS(null,"width",o.size),a.setAttributeNS(null,"height",o.size)),void 0!==o.styles&&a.setAttributeNS(null,"style",o.styles),a.setAttributeNS(null,"class",o.className+" vis-point"),r){var h=e.getSVGElement("text",n,s);
r.xOffset&&(t+=r.xOffset),r.yOffset&&(i+=r.yOffset),r.content&&(h.textContent=r.content),r.className&&h.setAttributeNS(null,"class",r.className+" vis-label"),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i)}return a},e.drawBar=function(t,i,o,n,s,r,a,h){if(0!=n){0>n&&(n*=-1,i-=n);var d=e.getSVGElement("rect",r,a);d.setAttributeNS(null,"x",t-.5*o),d.setAttributeNS(null,"y",i),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",n),d.setAttributeNS(null,"class",s),h&&d.setAttributeNS(null,"style",h)}}},function(t,e,i){function o(t,e){if(t&&!Array.isArray(t)&&(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i=Object.keys(this._options.type),o=0,n=i.length;n>o;o++){var s=i[o],r=this._options.type[s];"Date"==r||"ISODate"==r||"ASPDate"==r?this._type[s]="Date":this._type[s]=r}if(this._options.convert)throw new Error('Option "convert" is deprecated. Use "type" instead.');this._subscribers={},t&&this.add(t),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(10);o.prototype.setOptions=function(t){t&&void 0!==t.queue&&(t.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=r.extend(this,{replace:["add","update","remove"]})),"object"===n(t.queue)&&this._queue.setOptions(t.queue)))},o.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},o.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},o.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},o.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},o.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var o=[];t in this._subscribers&&(o=o.concat(this._subscribers[t])),"*"in this._subscribers&&(o=o.concat(this._subscribers["*"]));for(var n=0,s=o.length;s>n;n++){var r=o[n];r.callback&&r.callback(t,e,i||null)}},o.prototype.add=function(t,e){var i,o=[],n=this;if(Array.isArray(t))for(var s=0,r=t.length;r>s;s++)i=n._addItem(t[s]),o.push(i);else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=n._addItem(t),o.push(i)}return o.length&&this._trigger("add",{items:o},e),o},o.prototype.update=function(t,e){var i=[],o=[],n=[],r=[],a=this,h=a._fieldId,d=function(t){var e=t[h];if(a._data[e]){var d=s.extend({},a._data[e]);e=a._updateItem(t),o.push(e),r.push(t),n.push(d)}else e=a._addItem(t),i.push(e)};if(Array.isArray(t))for(var l=0,c=t.length;c>l;l++)t[l]instanceof Object?d(t[l]):console.warn("Ignoring input item, which is not an object at index "+l);else{if(!(t instanceof Object))throw new Error("Unknown dataType");d(t)}if(i.length&&this._trigger("add",{items:i},e),o.length){var u={items:o,oldData:n,data:r};this._trigger("update",u,e)}return i.concat(o)},o.prototype.get=function(t){var e,i,o,n=this,r=s.getType(arguments[0]);"String"==r||"Number"==r?(e=arguments[0],o=arguments[1]):"Array"==r?(i=arguments[0],o=arguments[1]):o=arguments[0];var a;if(o&&o.returnType){var h=["Array","Object"];a=-1==h.indexOf(o.returnType)?"Array":o.returnType}else a="Array";var d,l,c,u,p,f=o&&o.type||this._options.type,m=o&&o.filter,v=[];if(void 0!=e)d=n._getItem(e,f),d&&m&&!m(d)&&(d=null);else if(void 0!=i)for(u=0,p=i.length;p>u;u++)d=n._getItem(i[u],f),m&&!m(d)||v.push(d);else for(l=Object.keys(this._data),u=0,p=l.length;p>u;u++)c=l[u],d=n._getItem(c,f),m&&!m(d)||v.push(d);if(o&&o.order&&void 0==e&&this._sort(v,o.order),o&&o.fields){var g=o.fields;if(void 0!=e)d=this._filterFields(d,g);else for(u=0,p=v.length;p>u;u++)v[u]=this._filterFields(v[u],g)}if("Object"==a){var y,b={};for(u=0,p=v.length;p>u;u++)y=v[u],b[y.id]=y;return b}return void 0!=e?d:v},o.prototype.getIds=function(t){var e,i,o,n,s,r=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,l=Object.keys(r),c=[];if(a)if(h){for(s=[],e=0,i=l.length;i>e;e++)o=l[e],n=this._getItem(o,d),a(n)&&s.push(n);for(this._sort(s,h),e=0,i=s.length;i>e;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;i>e;e++)o=l[e],n=this._getItem(o,d),a(n)&&c.push(n[this._fieldId]);else if(h){for(s=[],e=0,i=l.length;i>e;e++)o=l[e],s.push(r[o]);for(this._sort(s,h),e=0,i=s.length;i>e;e++)c.push(s[e][this._fieldId])}else for(e=0,i=l.length;i>e;e++)o=l[e],n=r[o],c.push(n[this._fieldId]);return c},o.prototype.getDataSet=function(){return this},o.prototype.forEach=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=this._data,d=Object.keys(h);if(e&&e.order){var l=this.get(e);for(i=0,o=l.length;o>i;i++)n=l[i],s=n[this._fieldId],t(n,s)}else for(i=0,o=d.length;o>i;i++)s=d[i],n=this._getItem(s,a),r&&!r(n)||t(n,s)},o.prototype.map=function(t,e){var i,o,n,s,r=e&&e.filter,a=e&&e.type||this._options.type,h=[],d=this._data,l=Object.keys(d);for(i=0,o=l.length;o>i;i++)n=l[i],s=this._getItem(n,a),r&&!r(s)||h.push(t(s,n));return e&&e.order&&this._sort(h,e.order),h},o.prototype._filterFields=function(t,e){if(!t)return t;var i,o,n={},s=Object.keys(t),r=s.length;if(Array.isArray(e))for(i=0;r>i;i++)o=s[i],-1!=e.indexOf(o)&&(n[o]=t[o]);else for(i=0;r>i;i++)o=s[i],e.hasOwnProperty(o)&&(n[e[o]]=t[o]);return n},o.prototype._sort=function(t,e){if(s.isString(e)){var i=e;t.sort(function(t,e){var o=t[i],n=e[i];return o>n?1:n>o?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},o.prototype.remove=function(t,e){var i,o,n,s=[];if(Array.isArray(t))for(i=0,o=t.length;o>i;i++)n=this._remove(t[i]),null!=n&&s.push(n);else n=this._remove(t),null!=n&&s.push(n);return s.length&&this._trigger("remove",{items:s},e),s},o.prototype._remove=function(t){if(s.isNumber(t)||s.isString(t)){if(this._data[t])return delete this._data[t],this.length--,t}else if(t instanceof Object){var e=t[this._fieldId];if(void 0!==e&&this._data[e])return delete this._data[e],this.length--,e}return null},o.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:e},t),e},o.prototype.max=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;i>e;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||d>r)&&(s=h,r=d)}return s},o.prototype.min=function(t){var e,i,o=this._data,n=Object.keys(o),s=null,r=null;for(e=0,i=n.length;i>e;e++){var a=n[e],h=o[a],d=h[t];null!=d&&(!s||r>d)&&(s=h,r=d)}return s},o.prototype.distinct=function(t){var e,i,o,n=this._data,r=Object.keys(n),a=[],h=this._options.type&&this._options.type[t]||null,d=0;for(e=0,o=r.length;o>e;e++){var l=r[e],c=n[l],u=c[t],p=!1;for(i=0;d>i;i++)if(a[i]==u){p=!0;break}p||void 0===u||(a[d]=u,d++)}if(h)for(e=0,o=a.length;o>e;e++)a[e]=s.convert(a[e],h);return a},o.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=s.randomUUID(),t[this._fieldId]=e;var i,o,n={},r=Object.keys(t);for(i=0,o=r.length;o>i;i++){var a=r[i],h=this._type[a];n[a]=s.convert(t[a],h)}return this._data[e]=n,this.length++,e},o.prototype._getItem=function(t,e){var i,o,n,r,a=this._data[t];if(!a)return null;var h={},d=Object.keys(a);if(e)for(n=0,r=d.length;r>n;n++)i=d[n],o=a[i],h[i]=s.convert(o,e[i]);else for(n=0,r=d.length;r>n;n++)i=d[n],o=a[i],h[i]=o;return h},o.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var o=Object.keys(t),n=0,r=o.length;r>n;n++){var a=o[n],h=this._type[a];i[a]=s.convert(t[a],h)}return e},t.exports=o},function(t,e){function i(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}i.prototype.setOptions=function(t){t&&"undefined"!=typeof t.delay&&(this.delay=t.delay),t&&"undefined"!=typeof t.max&&(this.max=t.max),this._flushIfNeeded()},i.extend=function(t,e){var o=new i(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){o.flush()};var n=[{name:"flush",original:void 0}];if(e&&e.replace)for(var s=0;s<e.replace.length;s++){var r=e.replace[s];n.push({name:r,original:t[r]}),o.replace(t,r)}return o._extended={object:t,methods:n},o},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var o=e[i];o.original?t[o.name]=o.original:delete t[o.name]}this._extended=null}},i.prototype.replace=function(t,e){var i=this,o=t[e];if(!o)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:o,context:this})}},i.prototype.queue=function(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=i},function(t,e,i){function o(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var n=i(1),s=i(9);o.prototype.setData=function(t){var e,i,o,n;if(this._data&&(this._data.off&&this._data.off("*",this.listener),e=Object.keys(this._ids),this._ids={},this.length=0,this._trigger("remove",{items:e})),this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),o=0,n=e.length;n>o;o++)i=e[o],this._ids[i]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},o.prototype.refresh=function(){var t,e,i,o=this._data.getIds({filter:this._options&&this._options.filter}),n=Object.keys(this._ids),s={},r=[],a=[];for(e=0,i=o.length;i>e;e++)t=o[e],s[t]=!0,this._ids[t]||(r.push(t),this._ids[t]=!0);for(e=0,i=n.length;i>e;e++)t=n[e],s[t]||(a.push(t),delete this._ids[t]);this.length+=r.length-a.length,r.length&&this._trigger("add",{items:r}),a.length&&this._trigger("remove",{items:a})},o.prototype.get=function(t){var e,i,o,s=this,r=n.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],o=arguments[2]):(i=arguments[0],o=arguments[1]);var a=n.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return s._options.filter(t)&&i.filter(t)});var h=[];return void 0!=e&&h.push(e),h.push(a),h.push(o),this._data&&this._data.get.apply(this._data,h)},o.prototype.getIds=function(t){var e;if(this._data){var i,o=this._options.filter;i=t&&t.filter?o?function(e){return o(e)&&t.filter(e)}:t.filter:o,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},o.prototype.map=function(t,e){var i=[];if(this._data){var o,n=this._options.filter;o=e&&e.filter?n?function(t){return n(t)&&e.filter(t)}:e.filter:n,i=this._data.map(t,{filter:o,order:e&&e.order})}else i=[];return i},o.prototype.getDataSet=function(){for(var t=this;t instanceof o;)t=t._data;return t||null},o.prototype._onEvent=function(t,e,i){var o,n,s,r,a=e&&e.items,h=this._data,d=[],l=[],c=[],u=[];if(a&&h){switch(t){case"add":for(o=0,n=a.length;n>o;o++)s=a[o],r=this.get(s),r&&(this._ids[s]=!0,l.push(s));break;case"update":for(o=0,n=a.length;n>o;o++)s=a[o],r=this.get(s),r?this._ids[s]?(c.push(s),d.push(e.data[o])):(this._ids[s]=!0,l.push(s)):this._ids[s]&&(delete this._ids[s],u.push(s));break;case"remove":for(o=0,n=a.length;n>o;o++)s=a[o],this._ids[s]&&(delete this._ids[s],u.push(s))}this.length+=l.length-u.length,l.length&&this._trigger("add",{items:l},i),c.length&&this._trigger("update",{items:c,data:d},i),u.length&&this._trigger("remove",{items:u},i)}},o.prototype.on=s.prototype.on,o.prototype.off=s.prototype.off,o.prototype._trigger=s.prototype._trigger,o.prototype.subscribe=o.prototype.on,o.prototype.unsubscribe=o.prototype.off,t.exports=o},function(t,e,i){function o(t,e,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var n=function(t){return t};this.xValueLabel=n,this.yValueLabel=n,this.zValueLabel=n,this.filterLabel="time",this.legendLabel="value",this.style=o.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new p,this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7),this.eye=new c(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.axisColor="#4D4D4D",this.gridColor="#D3D3D3",this.dataColor={fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},this.dotSizeRatio=.02,this.create(),this.setOptions(i),e&&this.setData(e)}function n(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function s(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(13),h=i(9),d=i(11),l=i(1),c=i(14),u=i(15),p=i(16),f=i(17),m=i(18),v=i(19);a(o.prototype),o.prototype._setScale=function(){this.scale=new c(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)},o.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},o.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,o=t.z*this.scale.z,n=this.camera.getCameraLocation().x,s=this.camera.getCameraLocation().y,r=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),l=Math.cos(this.camera.getCameraRotation().y),u=Math.sin(this.camera.getCameraRotation().z),p=Math.cos(this.camera.getCameraRotation().z),f=l*(u*(i-s)+p*(e-n))-d*(o-r),m=a*(l*(o-r)+d*(u*(i-s)+p*(e-n)))+h*(p*(i-s)-u*(e-n)),v=h*(l*(o-r)+d*(u*(i-s)+p*(e-n)))-a*(p*(i-s)-u*(e-n));return new c(f,m,v)},o.prototype._convertTranslationToScreen=function(t){var e,i,o=this.eye.x,n=this.eye.y,s=this.eye.z,r=t.x,a=t.y,h=t.z;return this.showPerspective?(e=(r-o)*(s/h),i=(a-n)*(s/h)):(e=r*-(s/this.camera.getArmLength()),i=a*-(s/this.camera.getArmLength())),new u(this.xcenter+e*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},o.prototype._setBackgroundColor=function(t){var e="white",i="gray",o=1;if("string"==typeof t)e=t,i="none",o=0;else if("object"===("undefined"==typeof t?"undefined":r(t)))void 0!==t.fill&&(e=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(o=t.strokeWidth);else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e,this.frame.style.borderColor=i,this.frame.style.borderWidth=o+"px",this.frame.style.borderStyle="solid"},o.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},o.prototype._getStyleNumber=function(t){switch(t){case"dot":return o.STYLE.DOT;case"dot-line":return o.STYLE.DOTLINE;case"dot-color":return o.STYLE.DOTCOLOR;case"dot-size":return o.STYLE.DOTSIZE;case"line":return o.STYLE.LINE;case"grid":return o.STYLE.GRID;case"surface":return o.STYLE.SURFACE;case"bar":return o.STYLE.BAR;case"bar-color":return o.STYLE.BARCOLOR;case"bar-size":return o.STYLE.BARSIZE}return-1},o.prototype._determineColumnIndexes=function(t,e){if(this.style===o.STYLE.DOT||this.style===o.STYLE.DOTLINE||this.style===o.STYLE.LINE||this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE||this.style===o.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,t.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==o.STYLE.DOTCOLOR&&this.style!==o.STYLE.DOTSIZE&&this.style!==o.STYLE.BARCOLOR&&this.style!==o.STYLE.BARSIZE)throw'Unknown style "'+this.style+'"';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,t.getNumberOfColumns()>4&&(this.colFilter=4)}},o.prototype.getNumberOfRows=function(t){return t.length},o.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e},o.prototype.getDistinctValues=function(t,e){for(var i=[],o=0;o<t.length;o++)-1==i.indexOf(t[o][e])&&i.push(t[o][e]);return i},o.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},o=0;o<t.length;o++)i.min>t[o][e]&&(i.min=t[o][e]),i.max<t[o][e]&&(i.max=t[o][e]);return i},o.prototype._dataInitialize=function(t,e){var i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){Array.isArray(t)&&(t=new h(t));var n;if(!(t instanceof h||t instanceof d))throw new Error("Array, DataSet, or DataView expected");if(n=t.get(),0!=n.length){this.dataSet=t,this.dataTable=n,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",n[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new f(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var s=this.style==o.STYLE.BAR||this.style==o.STYLE.BARCOLOR||this.style==o.STYLE.BARSIZE;if(s){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var r=this.getDistinctValues(n,this.colX);this.xBarWidth=r[1]-r[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var a=this.getDistinctValues(n,this.colY);this.yBarWidth=a[1]-a[0]||1}}var l=this.getColumnRange(n,this.colX);s&&(l.min-=this.xBarWidth/2,l.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var c=this.getColumnRange(n,this.colY);s&&(c.min-=this.yBarWidth/2,c.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:c.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:c.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var u=this.getColumnRange(n,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:u.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:u.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var p=this.getColumnRange(n,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:p.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:p.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},o.prototype._getDataPoints=function(t){var e,i,n,s,r,a,h=[];if(this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE){var d=[],l=[];for(n=0;n<this.getNumberOfRows(t);n++)e=t[n][this.colX]||0,i=t[n][this.colY]||0,-1===d.indexOf(e)&&d.push(e),-1===l.indexOf(i)&&l.push(i);var u=function(t,e){return t-e};d.sort(u),l.sort(u);var p=[];for(n=0;n<t.length;n++){e=t[n][this.colX]||0,i=t[n][this.colY]||0,s=t[n][this.colZ]||0;var f=d.indexOf(e),m=l.indexOf(i);void 0===p[f]&&(p[f]=[]);var v=new c;v.x=e,v.y=i,v.z=s,r={},r.point=v,r.trans=void 0,r.screen=void 0,r.bottom=new c(e,i,this.zMin),p[f][m]=r,h.push(r)}for(e=0;e<p.length;e++)for(i=0;i<p[e].length;i++)p[e][i]&&(p[e][i].pointRight=e<p.length-1?p[e+1][i]:void 0,p[e][i].pointTop=i<p[e].length-1?p[e][i+1]:void 0,p[e][i].pointCross=e<p.length-1&&i<p[e].length-1?p[e+1][i+1]:void 0)}else for(n=0;n<t.length;n++)a=new c,a.x=t[n][this.colX]||0,a.y=t[n][this.colY]||0,a.z=t[n][this.colZ]||0,void 0!==this.colValue&&(a.value=t[n][this.colValue]||0),r={},r.point=a,r.bottom=new c(a.x,a.y,this.zMin),r.trans=void 0,r.screen=void 0,h.push(r);return h},o.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},o=function(t){e._onTouchStart(t)},n=function(t){e._onWheel(t)},s=function(t){e._onTooltip(t)};l.addEventListener(this.frame.canvas,"keydown",onkeydown),l.addEventListener(this.frame.canvas,"mousedown",i),l.addEventListener(this.frame.canvas,"touchstart",o),l.addEventListener(this.frame.canvas,"mousewheel",n),l.addEventListener(this.frame.canvas,"mousemove",s),this.containerElement.appendChild(this.frame)},o.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},o.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},o.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},o.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},o.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},o.prototype.setCameraPosition=function(t){void 0!==t&&(void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical),void 0!==t.distance&&this.camera.setArmLength(t.distance),this.redraw())},o.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},o.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},o.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.setOptions=function(t){var e=void 0;if(this.animationStop(),void 0!==t){if(void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter),void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter),void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel),void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel),void 0!==t.xLabel&&(this.xLabel=t.xLabel),void 0!==t.yLabel&&(this.yLabel=t.yLabel),void 0!==t.zLabel&&(this.zLabel=t.zLabel),void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel),void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel),void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel),void 0!==t.dotSizeRatio&&(this.dotSizeRatio=t.dotSizeRatio),void 0!==t.style){var i=this._getStyleNumber(t.style);-1!==i&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid),void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective),void 0!==t.showShadow&&(this.showShadow=t.showShadow),void 0!==t.tooltip&&(this.showTooltip=t.tooltip),void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls),void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio),void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio),void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval),void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload),void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart),void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth),void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth),void 0!==t.xMin&&(this.defaultXMin=t.xMin),void 0!==t.xStep&&(this.defaultXStep=t.xStep),void 0!==t.xMax&&(this.defaultXMax=t.xMax),void 0!==t.yMin&&(this.defaultYMin=t.yMin),void 0!==t.yStep&&(this.defaultYStep=t.yStep),void 0!==t.yMax&&(this.defaultYMax=t.yMax),void 0!==t.zMin&&(this.defaultZMin=t.zMin),void 0!==t.zStep&&(this.defaultZStep=t.zStep),void 0!==t.zMax&&(this.defaultZMax=t.zMax),void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin),void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax),void 0!==t.backgroundColor&&this._setBackgroundColor(t.backgroundColor),void 0!==t.cameraPosition&&(e=t.cameraPosition),void 0!==e&&(this.camera.setArmRotation(e.horizontal,e.vertical),this.camera.setArmLength(e.distance)),void 0!==t.axisColor&&(this.axisColor=t.axisColor),void 0!==t.gridColor&&(this.gridColor=t.gridColor),t.dataColor&&("string"==typeof t.dataColor?(this.dataColor.fill=t.dataColor,this.dataColor.stroke=t.dataColor):(t.dataColor.fill&&(this.dataColor.fill=t.dataColor.fill),t.dataColor.stroke&&(this.dataColor.stroke=t.dataColor.stroke),void 0!==t.dataColor.strokeWidth&&(this.dataColor.strokeWidth=t.dataColor.strokeWidth)))}this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},o.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===o.STYLE.GRID||this.style===o.STYLE.SURFACE?this._redrawDataGrid():this.style===o.STYLE.LINE?this._redrawDataLine():this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},o.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},o.prototype._redrawLegend=function(){var t;if(this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var e,i,n=this.frame.clientWidth*this.dotSizeRatio;this.style===o.STYLE.DOTSIZE?(e=n/2,i=n/2+2*n):(e=20,i=20);var s=Math.max(.25*this.frame.clientHeight,100),r=this.margin,a=this.frame.clientWidth-this.margin,h=a-i,d=r+s}var l=this.frame.canvas,c=l.getContext("2d");if(c.lineWidth=1,c.font="14px arial",this.style===o.STYLE.DOTCOLOR){var u=0,p=s;for(t=u;p>t;t++){var f=(t-u)/(p-u),m=240*f,g=this._hsv2rgb(m,1,1);c.strokeStyle=g,c.beginPath(),c.moveTo(h,r+t),c.lineTo(a,r+t),c.stroke()}c.strokeStyle=this.axisColor,c.strokeRect(h,r,i,s)}if(this.style===o.STYLE.DOTSIZE&&(c.strokeStyle=this.axisColor,c.fillStyle=this.dataColor.fill,c.beginPath(),c.moveTo(h,r),c.lineTo(a,r),c.lineTo(a-i+e,d),c.lineTo(h,d),c.closePath(),c.fill(),c.stroke()),this.style===o.STYLE.DOTCOLOR||this.style===o.STYLE.DOTSIZE){var y=5,b=new v(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(b.start(),b.getCurrent()<this.valueMin&&b.next();!b.end();)t=d-(b.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*s,c.beginPath(),c.moveTo(h-y,t),c.lineTo(h,t),c.stroke(),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.axisColor,c.fillText(b.getCurrent(),h-2*y,t),b.next();c.textAlign="right",c.textBaseline="top";var w=this.legendLabel;c.fillText(w,a,d+this.margin)}},o.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new m(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this,o=function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};e.setOnChangeCallback(o)}else this.frame.filter.slider=void 0},o.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},o.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,o=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,o)}},o.prototype._redrawAxis=function(){var t,e,i,o,n,s,r,a,h,d,l,u,p,f=this.frame.canvas,m=f.getContext("2d");m.font=24/this.camera.getArmLength()+"px arial";var g=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),w=this.camera.getArmRotation().horizontal;for(m.lineWidth=1,o=void 0===this.defaultXStep,i=new v(this.xMin,this.xMax,this.xStep,o),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var _=i.getCurrent();this.showGrid?(t=this._convert3Dto2D(new c(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(_,this.yMax,this.zMin)),m.strokeStyle=this.gridColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()):(t=this._convert3Dto2D(new c(_,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(_,this.yMin+g,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),t=this._convert3Dto2D(new c(_,this.yMax,this.zMin)),e=this._convert3Dto2D(new c(_,this.yMax-g,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()),r=Math.cos(w)>0?this.yMin:this.yMax,n=this._convert3Dto2D(new c(_,r,this.zMin)),Math.cos(2*w)>0?(m.textAlign="center",m.textBaseline="top",n.y+=b):Math.sin(2*w)<0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next()}for(m.lineWidth=1,o=void 0===this.defaultYStep,i=new v(this.yMin,this.yMax,this.yStep,o),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(t=this._convert3Dto2D(new c(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMax,i.getCurrent(),this.zMin)),m.strokeStyle=this.gridColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()):(t=this._convert3Dto2D(new c(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMin+y,i.getCurrent(),this.zMin)),
m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),t=this._convert3Dto2D(new c(this.xMax,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new c(this.xMax-y,i.getCurrent(),this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke()),s=Math.sin(w)>0?this.xMin:this.xMax,n=this._convert3Dto2D(new c(s,i.getCurrent(),this.zMin)),Math.cos(2*w)<0?(m.textAlign="center",m.textBaseline="top",n.y+=b):Math.sin(2*w)>0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",n.x,n.y),i.next();for(m.lineWidth=1,o=void 0===this.defaultZStep,i=new v(this.zMin,this.zMax,this.zStep,o),i.start(),i.getCurrent()<this.zMin&&i.next(),s=Math.cos(w)>0?this.xMin:this.xMax,r=Math.sin(w)<0?this.yMin:this.yMax;!i.end();)t=this._convert3Dto2D(new c(s,r,i.getCurrent())),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(t.x-b,t.y),m.stroke(),m.textAlign="right",m.textBaseline="middle",m.fillStyle=this.axisColor,m.fillText(this.zValueLabel(i.getCurrent())+" ",t.x-5,t.y),i.next();m.lineWidth=1,t=this._convert3Dto2D(new c(s,r,this.zMin)),e=this._convert3Dto2D(new c(s,r,this.zMax)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),m.lineWidth=1,u=this._convert3Dto2D(new c(this.xMin,this.yMin,this.zMin)),p=this._convert3Dto2D(new c(this.xMax,this.yMin,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(u.x,u.y),m.lineTo(p.x,p.y),m.stroke(),u=this._convert3Dto2D(new c(this.xMin,this.yMax,this.zMin)),p=this._convert3Dto2D(new c(this.xMax,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(u.x,u.y),m.lineTo(p.x,p.y),m.stroke(),m.lineWidth=1,t=this._convert3Dto2D(new c(this.xMin,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(this.xMin,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke(),t=this._convert3Dto2D(new c(this.xMax,this.yMin,this.zMin)),e=this._convert3Dto2D(new c(this.xMax,this.yMax,this.zMin)),m.strokeStyle=this.axisColor,m.beginPath(),m.moveTo(t.x,t.y),m.lineTo(e.x,e.y),m.stroke();var x=this.xLabel;x.length>0&&(l=.1/this.scale.y,s=(this.xMin+this.xMax)/2,r=Math.cos(w)>0?this.yMin-l:this.yMax+l,n=this._convert3Dto2D(new c(s,r,this.zMin)),Math.cos(2*w)>0?(m.textAlign="center",m.textBaseline="top"):Math.sin(2*w)<0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText(x,n.x,n.y));var k=this.yLabel;k.length>0&&(d=.1/this.scale.x,s=Math.sin(w)>0?this.xMin-d:this.xMax+d,r=(this.yMin+this.yMax)/2,n=this._convert3Dto2D(new c(s,r,this.zMin)),Math.cos(2*w)<0?(m.textAlign="center",m.textBaseline="top"):Math.sin(2*w)>0?(m.textAlign="right",m.textBaseline="middle"):(m.textAlign="left",m.textBaseline="middle"),m.fillStyle=this.axisColor,m.fillText(k,n.x,n.y));var O=this.zLabel;O.length>0&&(h=30,s=Math.cos(w)>0?this.xMin:this.xMax,r=Math.sin(w)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,n=this._convert3Dto2D(new c(s,r,a)),m.textAlign="right",m.textBaseline="middle",m.fillStyle=this.axisColor,m.fillText(O,n.x-h,n.y))},o.prototype._hsv2rgb=function(t,e,i){var o,n,s,r,a,h;switch(r=i*e,a=Math.floor(t/60),h=r*(1-Math.abs(t/60%2-1)),a){case 0:o=r,n=h,s=0;break;case 1:o=h,n=r,s=0;break;case 2:o=0,n=r,s=h;break;case 3:o=0,n=h,s=r;break;case 4:o=h,n=0,s=r;break;case 5:o=r,n=0,s=h;break;default:o=0,n=0,s=0}return"RGB("+parseInt(255*o)+","+parseInt(255*n)+","+parseInt(255*s)+")"},o.prototype._redrawDataGrid=function(){var t,e,i,n,s,r,a,h,d,l,u,p,f=this.frame.canvas,m=f.getContext("2d");if(m.lineJoin="round",m.lineCap="round",!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(s=0;s<this.dataPoints.length;s++){var v=this._convertPointToTranslation(this.dataPoints[s].point),g=this._convertTranslationToScreen(v);this.dataPoints[s].trans=v,this.dataPoints[s].screen=g;var y=this._convertPointToTranslation(this.dataPoints[s].bottom);this.dataPoints[s].dist=this.showPerspective?y.length():-y.z}var b=function(t,e){return e.dist-t.dist};if(this.dataPoints.sort(b),this.style===o.STYLE.SURFACE){for(s=0;s<this.dataPoints.length;s++)if(t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,n=this.dataPoints[s].pointCross,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==n){if(this.showGrayBottom||this.showShadow){var w=c.subtract(n.trans,t.trans),_=c.subtract(i.trans,e.trans),x=c.crossProduct(w,_),k=x.length();r=x.z>0}else r=!0;r?(p=(t.point.z+e.point.z+i.point.z+n.point.z)/4,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),l=1,this.showShadow?(u=Math.min(1+x.x/k/2,1),a=this._hsv2rgb(d,l,u),h=a):(u=1,a=this._hsv2rgb(d,l,u),h=this.axisColor)):(a="gray",h=this.axisColor),m.lineWidth=this._getStrokeWidth(t),m.fillStyle=a,m.strokeStyle=h,m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.lineTo(n.screen.x,n.screen.y),m.lineTo(i.screen.x,i.screen.y),m.closePath(),m.fill(),m.stroke()}}else for(s=0;s<this.dataPoints.length;s++)t=this.dataPoints[s],e=this.dataPoints[s].pointRight,i=this.dataPoints[s].pointTop,void 0!==t&&void 0!==e&&(p=(t.point.z+e.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(e.screen.x,e.screen.y),m.stroke()),void 0!==t&&void 0!==i&&(p=(t.point.z+i.point.z)/2,d=240*(1-(p-this.zMin)*this.scale.z/this.verticalRatio),m.lineWidth=2*this._getStrokeWidth(t),m.strokeStyle=this._hsv2rgb(d,1,1),m.beginPath(),m.moveTo(t.screen.x,t.screen.y),m.lineTo(i.screen.x,i.screen.y),m.stroke())}},o.prototype._getStrokeWidth=function(t){return void 0!==t?this.showPerspective?1/-t.trans.z*this.dataColor.strokeWidth:-(this.eye.z/this.camera.getArmLength())*this.dataColor.strokeWidth:this.dataColor.strokeWidth},o.prototype._redrawDataDot=function(){var t,e=this.frame.canvas,i=e.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var n=this._convertPointToTranslation(this.dataPoints[t].point),s=this._convertTranslationToScreen(n);this.dataPoints[t].trans=n,this.dataPoints[t].screen=s;var r=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?r.length():-r.z}var a=function(t,e){return e.dist-t.dist};this.dataPoints.sort(a);var h=this.frame.clientWidth*this.dotSizeRatio;for(t=0;t<this.dataPoints.length;t++){var d=this.dataPoints[t];if(this.style===o.STYLE.DOTLINE){var l=this._convert3Dto2D(d.bottom);i.lineWidth=1,i.strokeStyle=this.gridColor,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(d.screen.x,d.screen.y),i.stroke()}var c;c=this.style===o.STYLE.DOTSIZE?h/2+2*h*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):h;var u;u=this.showPerspective?c/-d.trans.z:c*-(this.eye.z/this.camera.getArmLength()),0>u&&(u=0);var p,f,m;this.style===o.STYLE.DOTCOLOR?(p=240*(1-(d.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)):this.style===o.STYLE.DOTSIZE?(f=this.dataColor.fill,m=this.dataColor.stroke):(p=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(p,1,1),m=this._hsv2rgb(p,1,.8)),i.lineWidth=this._getStrokeWidth(d),i.strokeStyle=m,i.fillStyle=f,i.beginPath(),i.arc(d.screen.x,d.screen.y,u,0,2*Math.PI,!0),i.fill(),i.stroke()}}},o.prototype._redrawDataBar=function(){var t,e,i,n,s=this.frame.canvas,r=s.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var a=this._convertPointToTranslation(this.dataPoints[t].point),h=this._convertTranslationToScreen(a);this.dataPoints[t].trans=a,this.dataPoints[t].screen=h;var d=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?d.length():-d.z}var l=function(t,e){return e.dist-t.dist};this.dataPoints.sort(l),r.lineJoin="round",r.lineCap="round";var u=this.xBarWidth/2,p=this.yBarWidth/2;for(t=0;t<this.dataPoints.length;t++){var f,m,v,g=this.dataPoints[t];this.style===o.STYLE.BARCOLOR?(f=240*(1-(g.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)):this.style===o.STYLE.BARSIZE?(m=this.dataColor.fill,v=this.dataColor.stroke):(f=240*(1-(g.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(f,1,1),v=this._hsv2rgb(f,1,.8)),this.style===o.STYLE.BARSIZE&&(u=this.xBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),p=this.yBarWidth/2*((g.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=g.point,w=[{point:new c(b.x-u,b.y-p,b.z)},{point:new c(b.x+u,b.y-p,b.z)},{point:new c(b.x+u,b.y+p,b.z)},{point:new c(b.x-u,b.y+p,b.z)}],_=[{point:new c(b.x-u,b.y-p,this.zMin)},{point:new c(b.x+u,b.y-p,this.zMin)},{point:new c(b.x+u,b.y+p,this.zMin)},{point:new c(b.x-u,b.y+p,this.zMin)}];w.forEach(function(t){t.screen=y._convert3Dto2D(t.point)}),_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var x=[{corners:w,center:c.avg(_[0].point,_[2].point)},{corners:[w[0],w[1],_[1],_[0]],center:c.avg(_[1].point,_[0].point)},{corners:[w[1],w[2],_[2],_[1]],center:c.avg(_[2].point,_[1].point)},{corners:[w[2],w[3],_[3],_[2]],center:c.avg(_[3].point,_[2].point)},{corners:[w[3],w[0],_[0],_[3]],center:c.avg(_[0].point,_[3].point)}];for(g.surfaces=x,e=0;e<x.length;e++){i=x[e];var k=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?k.length():-k.z}for(x.sort(function(t,e){var i=e.dist-t.dist;return i?i:t.corners===w?1:e.corners===w?-1:0}),r.lineWidth=this._getStrokeWidth(g),r.strokeStyle=v,r.fillStyle=m,e=2;e<x.length;e++)i=x[e],n=i.corners,r.beginPath(),r.moveTo(n[3].screen.x,n[3].screen.y),r.lineTo(n[0].screen.x,n[0].screen.y),r.lineTo(n[1].screen.x,n[1].screen.y),r.lineTo(n[2].screen.x,n[2].screen.y),r.lineTo(n[3].screen.x,n[3].screen.y),r.fill(),r.stroke()}}},o.prototype._redrawDataLine=function(){var t,e,i=this.frame.canvas,o=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var n=this._convertPointToTranslation(this.dataPoints[e].point),s=this._convertTranslationToScreen(n);this.dataPoints[e].trans=n,this.dataPoints[e].screen=s}if(this.dataPoints.length>0){for(t=this.dataPoints[0],o.lineWidth=this._getStrokeWidth(t),o.lineJoin="round",o.lineCap="round",o.strokeStyle=this.dataColor.stroke,o.beginPath(),o.moveTo(t.screen.x,t.screen.y),e=1;e<this.dataPoints.length;e++)t=this.dataPoints[e],o.lineTo(t.screen.x,t.screen.y);o.stroke()}}},o.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this.startMouseX=n(t),this.startMouseY=s(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},l.addEventListener(document,"mousemove",e.onmousemove),l.addEventListener(document,"mouseup",e.onmouseup),l.preventDefault(t)}},o.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(n(t))-this.startMouseX,i=parseFloat(s(t))-this.startMouseY,o=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+i/200,a=4,h=Math.sin(a/360*2*Math.PI);Math.abs(Math.sin(o))<h&&(o=Math.round(o/Math.PI)*Math.PI-.001),Math.abs(Math.cos(o))<h&&(o=(Math.round(o/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<h&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<h&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(o,r),this.redraw();var d=this.getCameraPosition();this.emit("cameraPositionChange",d),l.preventDefault(t)},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,l.removeEventListener(document,"mousemove",this.onmousemove),l.removeEventListener(document,"mouseup",this.onmouseup),l.preventDefault(t)},o.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),o=n(t)-i.left,r=s(t)-i.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var a=this._dataPointFromXY(o,r);a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip())}else{var h=this;this.tooltipTimeout=setTimeout(function(){h.tooltipTimeout=null;var t=h._dataPointFromXY(o,r);t&&h._showTooltip(t)},e)}}},o.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},l.addEventListener(document,"touchmove",e.ontouchmove),l.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},o.prototype._onTouchMove=function(t){this._onMouseMove(t)},o.prototype._onTouchEnd=function(t){this.touchDown=!1,l.removeEventListener(document,"touchmove",this.ontouchmove),l.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},o.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),o=i*(1-e/10);this.camera.setArmLength(o),this.redraw(),this._hideTooltip()}var n=this.getCameraPosition();this.emit("cameraPositionChange",n),l.preventDefault(t)},o.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:0>t?-1:0}var o=e[0],n=e[1],s=e[2],r=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),a=i((s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x)),h=i((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x));return!(0!=r&&0!=a&&r!=a||0!=a&&0!=h&&a!=h||0!=r&&0!=h&&r!=h)},o.prototype._dataPointFromXY=function(t,e){var i,n=100,s=null,r=null,a=null,h=new u(t,e);if(this.style===o.STYLE.BAR||this.style===o.STYLE.BARCOLOR||this.style===o.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){s=this.dataPoints[i];var d=s.surfaces;if(d)for(var l=d.length-1;l>=0;l--){var c=d[l],p=c.corners,f=[p[0].screen,p[1].screen,p[2].screen],m=[p[2].screen,p[3].screen,p[0].screen];if(this._insideTriangle(h,f)||this._insideTriangle(h,m))return s}}else for(i=0;i<this.dataPoints.length;i++){s=this.dataPoints[i];var v=s.screen;if(v){var g=Math.abs(t-v.x),y=Math.abs(e-v.y),b=Math.sqrt(g*g+y*y);(null===a||a>b)&&n>b&&(a=b,r=s)}}return r},o.prototype._showTooltip=function(t){var e,i,o;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,o=this.tooltip.dom.dot):(e=document.createElement("div"),e.style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",o=document.createElement("div"),o.style.position="absolute",o.style.height="0",o.style.width="0",o.style.border="5px solid #4d4d4d",o.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:o}}),this._hideTooltip(),this.tooltip.dataPoint=t,"function"==typeof this.showTooltip?e.innerHTML=this.showTooltip(t.point):e.innerHTML="<table><tr><td>"+this.xLabel+":</td><td>"+t.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+t.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(o);var n=e.offsetWidth,s=e.offsetHeight,r=i.offsetHeight,a=o.offsetWidth,h=o.offsetHeight,d=t.screen.x-n/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-n),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-s+"px",o.style.left=t.screen.x-a/2+"px",o.style.top=t.screen.y-h/2+"px"},o.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},t.exports=o},function(t,e){function i(t){return t?o(t):void 0}function o(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){o.off(t,i),e.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var o,n=0;n<i.length;n++)if(o=i[n],o===e||o.fn===e){i.splice(n,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var o=0,n=i.length;n>o;++o)i[o].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){function i(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}i.subtract=function(t,e){var o=new i;return o.x=t.x-e.x,o.y=t.y-e.y,o.z=t.z-e.z,o},i.add=function(t,e){var o=new i;return o.x=t.x+e.x,o.y=t.y+e.y,o.z=t.z+e.z,o},i.avg=function(t,e){return new i((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},i.crossProduct=function(t,e){var o=new i;return o.x=t.y*e.z-t.z*e.y,o.y=t.z*e.x-t.x*e.z,o.z=t.x*e.y-t.y*e.x,o},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=i},function(t,e){function i(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=i},function(t,e,i){function o(){this.armLocation=new n,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new n,this.cameraRotation=new n(.5*Math.PI,0,0),this.calculateCameraOrientation()}var n=i(14);o.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},o.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),void 0===t&&void 0===e||this.calculateCameraOrientation()},o.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},o.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},o.prototype.getArmLength=function(){return this.armLength},o.prototype.getCameraLocation=function(){return this.cameraLocation},o.prototype.getCameraRotation=function(){return this.cameraRotation},o.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=o},function(t,e,i){function o(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return t>e?1:e>t?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var n=i(11);o.prototype.isLoaded=function(){return this.loaded},o.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},o.prototype.getLabel=function(){return this.graph.filterLabel},o.prototype.getColumn=function(){return this.column},o.prototype.getSelectedValue=function(){return void 0!==this.index?this.values[this.index]:void 0},o.prototype.getValues=function(){return this.values},o.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]},o.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var o=new n(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(o),this.dataPoints[t]=e}return e},o.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},o.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t,this.value=this.values[t]},o.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){this._getDataPoints(t);void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var o=this;setTimeout(function(){o.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=o},function(t,e,i){function o(t,e){if(void 0===t)throw"Error: No container element defined";if(this.container=t,this.visible=e&&void 0!=e.visible?e.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var n=i(1);o.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},o.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},o.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,o=i-t,n=Math.max(this.playInterval-o,0),s=this;this.playTimeout=setTimeout(function(){s.playNext()},n)},o.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},o.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},o.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},o.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},o.prototype.setPlayInterval=function(t){this.playInterval=t},o.prototype.getPlayInterval=function(t){return this.playInterval},o.prototype.setPlayLoop=function(t){this.playLoop=t},o.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},o.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},o.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},o.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t,this.redraw(),this.onChange()},o.prototype.getIndex=function(){return this.index},o.prototype.get=function(){return this.values[this.index]},o.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)},this.onmouseup=function(t){i._onMouseUp(t)},n.addEventListener(document,"mousemove",this.onmousemove),n.addEventListener(document,"mouseup",this.onmouseup),n.preventDefault(t)}},o.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,o=Math.round(i/e*(this.values.length-1));return 0>o&&(o=0),o>this.values.length-1&&(o=this.values.length-1),o},o.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,o=i+3;return o},o.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,o=this.leftToIndex(i);this.setIndex(o),n.preventDefault()},o.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",n.removeEventListener(document,"mousemove",this.onmousemove),n.removeEventListener(document,"mouseup",this.onmouseup),n.preventDefault()},t.exports=o},function(t,e){function i(t,e,i,o){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,o)}i.prototype.setRange=function(t,e,i,o){this._start=t?t:0,this._end=e?e:0,this.setStep(i,o)},i.prototype.setStep=function(t,e){void 0===t||0>=t||(void 0!==e&&(this.prettyStep=e),this.prettyStep===!0?this._step=i.calculatePrettyStep(t):this._step=t)},i.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),o=2*Math.pow(10,Math.round(e(t/2))),n=5*Math.pow(10,Math.round(e(t/5))),s=i;return Math.abs(o-t)<=Math.abs(s-t)&&(s=o),Math.abs(n-t)<=Math.abs(s-t)&&(s=n),0>=s&&(s=1),s},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(){this._current=this._start-this._start%this._step},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},t.exports=i},function(t,e,i){if("undefined"!=typeof window){var o=i(21),n=window.Hammer||i(22);t.exports=o(n,{preventDefault:"mouse"})}else t.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){var o,n,s;!function(i){n=[],o=i,s="function"==typeof o?o.apply(e,n):o,!(void 0!==s&&(t.exports=s))}(function(){var t=null;return function e(i,o){function n(t){return t.match(/[^ ]+/g)}function s(e){if("hammer.input"!==e.type){if(e.srcEvent._handled||(e.srcEvent._handled={}),e.srcEvent._handled[e.type])return;e.srcEvent._handled[e.type]=!0}var i=!1;e.stopPropagation=function(){i=!0};var o=e.srcEvent.stopPropagation.bind(e.srcEvent);"function"==typeof o&&(e.srcEvent.stopPropagation=function(){o(),e.stopPropagation()}),e.firstTarget=t;for(var n=t;n&&!i;){var s=n.hammer;if(s)for(var r,a=0;a<s.length;a++)if(r=s[a]._handlers[e.type])for(var h=0;h<r.length&&!i;h++)r[h](e);n=n.parentNode}}var r=o||{preventDefault:!1};if(i.Manager){var a=i,h=function(t,i){var o=Object.create(r);return i&&a.assign(o,i),e(new a(t,o),o)};return a.assign(h,a),h.Manager=function(t,i){var o=Object.create(r);return i&&a.assign(o,i),e(new a.Manager(t,o),o)},h}var d=Object.create(i),l=i.element;return l.hammer||(l.hammer=[]),l.hammer.push(d),i.on("hammer.input",function(e){r.preventDefault!==!0&&r.preventDefault!==e.pointerType||e.preventDefault(),e.isFirst&&(t=e.target)}),d._handlers={},d.on=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o||(d._handlers[t]=o=[],i.on(t,s)),o.push(e)}),d},d.off=function(t,e){return n(t).forEach(function(t){var o=d._handlers[t];o&&(o=e?o.filter(function(t){return t!==e}):[],o.length>0?d._handlers[t]=o:(i.off(t,s),delete d._handlers[t]))}),d},d.emit=function(e,o){t=o.target,i.emit(e,o)},d.destroy=function(){var t=i.element.hammer,e=t.indexOf(d);-1!==e&&t.splice(e,1),t.length||delete i.element.hammer,d._handlers={},i.destroy()},d}})},function(t,e,i){var o;!function(n,s,r,a){function h(t,e,i){return setTimeout(p(t,i),e)}function d(t,e,i){return Array.isArray(t)?(l(t,i[e],i),!0):!1}function l(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function c(t,e,i){var o="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=n.console&&(n.console.warn||n.console.log);return s&&s.call(n.console,o,i),t.apply(this,arguments)}}function u(t,e,i){var o,n=e.prototype;o=t.prototype=Object.create(n),o.constructor=t,o._super=n,i&&ct(o,i)}function p(t,e){return function(){return t.apply(e,arguments)}}function f(t,e){return typeof t==ft?t.apply(e?e[0]||a:a,e):t}function m(t,e){return t===a?e:t}function v(t,e,i){l(w(e),function(e){t.addEventListener(e,i,!1)})}function g(t,e,i){l(w(e),function(e){t.removeEventListener(e,i,!1)})}function y(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function b(t,e){return t.indexOf(e)>-1}function w(t){return t.trim().split(/\s+/g)}function _(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var o=0;o<t.length;){if(i&&t[o][i]==e||!i&&t[o]===e)return o;o++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var o=[],n=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];_(n,r)<0&&o.push(t[s]),n[s]=r,s++}return i&&(o=e?o.sort(function(t,i){return t[e]>i[e]}):o.sort()),o}function O(t,e){for(var i,o,n=e[0].toUpperCase()+e.slice(1),s=0;s<ut.length;){if(i=ut[s],o=i?i+n:e,o in t)return o;s++}return a}function M(){return wt++}function D(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}function S(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){f(t.options.enable,[t])&&i.handler(e)},this.init()}function C(t){var e,i=t.options.inputClass;return new(e=i?i:kt?W:Ot?V:xt?q:H)(t,T)}function T(t,e,i){var o=i.pointers.length,n=i.changedPointers.length,s=e&Et&&o-n===0,r=e&(It|Nt)&&o-n===0;
i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,E(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function E(t,e){var i=t.session,o=e.pointers,n=o.length;i.firstInput||(i.firstInput=N(e)),n>1&&!i.firstMultiple?i.firstMultiple=N(e):1===n&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,h=e.center=R(o);e.timeStamp=gt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=B(a,h),e.distance=A(a,h),P(i,e),e.offsetDirection=L(e.deltaX,e.deltaY);var d=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=vt(d.x)>vt(d.y)?d.x:d.y,e.scale=r?j(r.pointers,o):1,e.rotation=r?F(r.pointers,o):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,I(i,e);var l=t.element;y(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var i=e.center,o=t.offsetDelta||{},n=t.prevDelta||{},s=t.prevInput||{};e.eventType!==Et&&s.eventType!==It||(n=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},o=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=n.x+(i.x-o.x),e.deltaY=n.y+(i.y-o.y)}function I(t,e){var i,o,n,s,r=t.lastInterval||e,h=e.timeStamp-r.timeStamp;if(e.eventType!=Nt&&(h>Tt||r.velocity===a)){var d=e.deltaX-r.deltaX,l=e.deltaY-r.deltaY,c=z(h,d,l);o=c.x,n=c.y,i=vt(c.x)>vt(c.y)?c.x:c.y,s=L(d,l),t.lastInterval=e}else i=r.velocity,o=r.velocityX,n=r.velocityY,s=r.direction;e.velocity=i,e.velocityX=o,e.velocityY=n,e.direction=s}function N(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:mt(t.pointers[i].clientX),clientY:mt(t.pointers[i].clientY)},i++;return{timeStamp:gt(),pointers:e,center:R(e),deltaX:t.deltaX,deltaY:t.deltaY}}function R(t){var e=t.length;if(1===e)return{x:mt(t[0].clientX),y:mt(t[0].clientY)};for(var i=0,o=0,n=0;e>n;)i+=t[n].clientX,o+=t[n].clientY,n++;return{x:mt(i/e),y:mt(o/e)}}function z(t,e,i){return{x:e/t||0,y:i/t||0}}function L(t,e){return t===e?Rt:vt(t)>=vt(e)?0>t?zt:Lt:0>e?At:Bt}function A(t,e,i){i||(i=Wt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return Math.sqrt(o*o+n*n)}function B(t,e,i){i||(i=Wt);var o=e[i[0]]-t[i[0]],n=e[i[1]]-t[i[1]];return 180*Math.atan2(n,o)/Math.PI}function F(t,e){return B(e[1],e[0],Yt)+B(t[1],t[0],Yt)}function j(t,e){return A(e[0],e[1],Yt)/A(t[0],t[1],Yt)}function H(){this.evEl=Vt,this.evWin=Ut,this.allow=!0,this.pressed=!1,S.apply(this,arguments)}function W(){this.evEl=Zt,this.evWin=Kt,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Y(){this.evTarget=Qt,this.evWin=$t,this.started=!1,S.apply(this,arguments)}function G(t,e){var i=x(t.touches),o=x(t.changedTouches);return e&(It|Nt)&&(i=k(i.concat(o),"identifier",!0)),[i,o]}function V(){this.evTarget=ee,this.targetIds={},S.apply(this,arguments)}function U(t,e){var i=x(t.touches),o=this.targetIds;if(e&(Et|Pt)&&1===i.length)return o[i[0].identifier]=!0,[i,i];var n,s,r=x(t.changedTouches),a=[],h=this.target;if(s=i.filter(function(t){return y(t.target,h)}),e===Et)for(n=0;n<s.length;)o[s[n].identifier]=!0,n++;for(n=0;n<r.length;)o[r[n].identifier]&&a.push(r[n]),e&(It|Nt)&&delete o[r[n].identifier],n++;return a.length?[k(s.concat(a),"identifier",!0),a]:void 0}function q(){S.apply(this,arguments);var t=p(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new H(this.manager,t)}function X(t,e){this.manager=t,this.set(e)}function Z(t){if(b(t,ae))return ae;var e=b(t,he),i=b(t,de);return e&&i?ae:e||i?e?he:de:b(t,re)?re:se}function K(t){this.options=ct({},this.defaults,t||{}),this.id=M(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=le,this.simultaneous={},this.requireFail=[]}function J(t){return t&me?"cancel":t&pe?"end":t&ue?"move":t&ce?"start":""}function Q(t){return t==Bt?"down":t==At?"up":t==zt?"left":t==Lt?"right":""}function $(t,e){var i=e.manager;return i?i.get(t):t}function tt(){K.apply(this,arguments)}function et(){tt.apply(this,arguments),this.pX=null,this.pY=null}function it(){tt.apply(this,arguments)}function ot(){K.apply(this,arguments),this._timer=null,this._input=null}function nt(){tt.apply(this,arguments)}function st(){tt.apply(this,arguments)}function rt(){K.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function at(t,e){return e=e||{},e.recognizers=m(e.recognizers,at.defaults.preset),new ht(t,e)}function ht(t,e){this.options=ct({},at.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=C(this),this.touchAction=new X(this,this.options.touchAction),dt(this,!0),l(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function dt(t,e){var i=t.element;i.style&&l(t.options.cssProps,function(t,o){i.style[O(i.style,o)]=e?t:""})}function lt(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ct,ut=["","webkit","Moz","MS","ms","o"],pt=s.createElement("div"),ft="function",mt=Math.round,vt=Math.abs,gt=Date.now;ct="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(o!==a&&null!==o)for(var n in o)o.hasOwnProperty(n)&&(e[n]=o[n])}return e}:Object.assign;var yt=c(function(t,e,i){for(var o=Object.keys(e),n=0;n<o.length;)(!i||i&&t[o[n]]===a)&&(t[o[n]]=e[o[n]]),n++;return t},"extend","Use `assign`."),bt=c(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),wt=1,_t=/mobile|tablet|ip(ad|hone|od)|android/i,xt="ontouchstart"in n,kt=O(n,"PointerEvent")!==a,Ot=xt&&_t.test(navigator.userAgent),Mt="touch",Dt="pen",St="mouse",Ct="kinect",Tt=25,Et=1,Pt=2,It=4,Nt=8,Rt=1,zt=2,Lt=4,At=8,Bt=16,Ft=zt|Lt,jt=At|Bt,Ht=Ft|jt,Wt=["x","y"],Yt=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&v(this.element,this.evEl,this.domHandler),this.evTarget&&v(this.target,this.evTarget,this.domHandler),this.evWin&&v(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(D(this.element),this.evWin,this.domHandler)}};var Gt={mousedown:Et,mousemove:Pt,mouseup:It},Vt="mousedown",Ut="mousemove mouseup";u(H,S,{handler:function(t){var e=Gt[t.type];e&Et&&0===t.button&&(this.pressed=!0),e&Pt&&1!==t.which&&(e=It),this.pressed&&this.allow&&(e&It&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:St,srcEvent:t}))}});var qt={pointerdown:Et,pointermove:Pt,pointerup:It,pointercancel:Nt,pointerout:Nt},Xt={2:Mt,3:Dt,4:St,5:Ct},Zt="pointerdown",Kt="pointermove pointerup pointercancel";n.MSPointerEvent&&!n.PointerEvent&&(Zt="MSPointerDown",Kt="MSPointerMove MSPointerUp MSPointerCancel"),u(W,S,{handler:function(t){var e=this.store,i=!1,o=t.type.toLowerCase().replace("ms",""),n=qt[o],s=Xt[t.pointerType]||t.pointerType,r=s==Mt,a=_(e,t.pointerId,"pointerId");n&Et&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):n&(It|Nt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Jt={touchstart:Et,touchmove:Pt,touchend:It,touchcancel:Nt},Qt="touchstart",$t="touchstart touchmove touchend touchcancel";u(Y,S,{handler:function(t){var e=Jt[t.type];if(e===Et&&(this.started=!0),this.started){var i=G.call(this,t,e);e&(It|Nt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Mt,srcEvent:t})}}});var te={touchstart:Et,touchmove:Pt,touchend:It,touchcancel:Nt},ee="touchstart touchmove touchend touchcancel";u(V,S,{handler:function(t){var e=te[t.type],i=U.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Mt,srcEvent:t})}}),u(q,S,{handler:function(t,e,i){var o=i.pointerType==Mt,n=i.pointerType==St;if(o)this.mouse.allow=!1;else if(n&&!this.mouse.allow)return;e&(It|Nt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ie=O(pt.style,"touchAction"),oe=ie!==a,ne="compute",se="auto",re="manipulation",ae="none",he="pan-x",de="pan-y";X.prototype={set:function(t){t==ne&&(t=this.compute()),oe&&this.manager.element.style&&(this.manager.element.style[ie]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){f(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Z(t.join(" "))},preventDefaults:function(t){if(!oe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var o=this.actions,n=b(o,ae),s=b(o,de),r=b(o,he);if(n){var a=1===t.pointers.length,h=t.distance<2,d=t.deltaTime<250;if(a&&h&&d)return}if(!r||!s)return n||s&&i&Ft||r&&i&jt?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var le=1,ce=2,ue=4,pe=8,fe=pe,me=16,ve=32;K.prototype={defaults:{},set:function(t){return ct(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(d(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=$(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return d(t,"dropRecognizeWith",this)?this:(t=$(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(d(t,"requireFailure",this))return this;var e=this.requireFail;return t=$(t,this),-1===_(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(d(t,"dropRequireFailure",this))return this;t=$(t,this);var e=_(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,o=this.state;pe>o&&e(i.options.event+J(o)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),o>=pe&&e(i.options.event+J(o))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ve)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ve|le)))return!1;t++}return!0},recognize:function(t){var e=ct({},t);return f(this.options.enable,[this,e])?(this.state&(fe|me|ve)&&(this.state=le),this.state=this.process(e),void(this.state&(ce|ue|pe|me)&&this.tryEmit(e))):(this.reset(),void(this.state=ve))},process:function(t){},getTouchAction:function(){},reset:function(){}},u(tt,K,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,o=e&(ce|ue),n=this.attrTest(t);return o&&(i&Nt||!n)?e|me:o||n?i&It?e|pe:e&ce?e|ue:ce:ve}}),u(et,tt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ht},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ft&&e.push(de),t&jt&&e.push(he),e},directionTest:function(t){var e=this.options,i=!0,o=t.distance,n=t.direction,s=t.deltaX,r=t.deltaY;return n&e.direction||(e.direction&Ft?(n=0===s?Rt:0>s?zt:Lt,i=s!=this.pX,o=Math.abs(t.deltaX)):(n=0===r?Rt:0>r?At:Bt,i=r!=this.pY,o=Math.abs(t.deltaY))),t.direction=n,i&&o>e.threshold&&n&e.direction},attrTest:function(t){return tt.prototype.attrTest.call(this,t)&&(this.state&ce||!(this.state&ce)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Q(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(it,tt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ce)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(ot,K,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[se]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!o||!i||t.eventType&(It|Nt)&&!n)this.reset();else if(t.eventType&Et)this.reset(),this._timer=h(function(){this.state=fe,this.tryEmit()},e.time,this);else if(t.eventType&It)return fe;return ve},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===fe&&(t&&t.eventType&It?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=gt(),this.manager.emit(this.options.event,this._input)))}}),u(nt,tt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ce)}}),u(st,tt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ft|jt,pointers:1},getTouchAction:function(){return et.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ft|jt)?e=t.overallVelocity:i&Ft?e=t.overallVelocityX:i&jt&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&vt(e)>this.options.velocity&&t.eventType&It},emit:function(t){var e=Q(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(rt,K,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[re]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,o=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),t.eventType&Et&&0===this.count)return this.failTimeout();if(o&&n&&i){if(t.eventType!=It)return this.failTimeout();var s=this.pTime?t.timeStamp-this.pTime<e.interval:!0,r=!this.pCenter||A(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,r&&s?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=h(function(){this.state=fe,this.tryEmit()},e.interval,this),ce):fe}return ve},failTimeout:function(){return this._timer=h(function(){this.state=ve},this.options.interval,this),ve},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),at.VERSION="2.0.6",at.defaults={domEvents:!1,touchAction:ne,enable:!0,inputTarget:null,inputClass:null,preset:[[nt,{enable:!1}],[it,{enable:!1},["rotate"]],[st,{direction:Ft}],[et,{direction:Ft},["swipe"]],[rt],[rt,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ge=1,ye=2;ht.prototype={set:function(t){return ct(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ye:ge},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,o=this.recognizers,n=e.curRecognizer;(!n||n&&n.state&fe)&&(n=e.curRecognizer=null);for(var s=0;s<o.length;)i=o[s],e.stopped===ye||n&&i!=n&&!i.canRecognizeWith(n)?i.reset():i.recognize(t),!n&&i.state&(ce|ue|pe)&&(n=e.curRecognizer=i),s++}},get:function(t){if(t instanceof K)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(d(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(d(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=_(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){var i=this.handlers;return l(w(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return l(w(t),function(t){e?i[t]&&i[t].splice(_(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&lt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var o=0;o<i.length;)i[o](e),o++}},destroy:function(){this.element&&dt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ct(at,{INPUT_START:Et,INPUT_MOVE:Pt,INPUT_END:It,INPUT_CANCEL:Nt,STATE_POSSIBLE:le,STATE_BEGAN:ce,STATE_CHANGED:ue,STATE_ENDED:pe,STATE_RECOGNIZED:fe,STATE_CANCELLED:me,STATE_FAILED:ve,DIRECTION_NONE:Rt,DIRECTION_LEFT:zt,DIRECTION_RIGHT:Lt,DIRECTION_UP:At,DIRECTION_DOWN:Bt,DIRECTION_HORIZONTAL:Ft,DIRECTION_VERTICAL:jt,DIRECTION_ALL:Ht,Manager:ht,Input:S,TouchAction:X,TouchInput:V,MouseInput:H,PointerEventInput:W,TouchMouseInput:q,SingleTouchInput:Y,Recognizer:K,AttrRecognizer:tt,Tap:rt,Pan:et,Swipe:st,Pinch:it,Rotate:nt,Press:ot,on:v,off:g,each:l,merge:bt,extend:yt,assign:ct,inherit:u,bindFn:p,prefixed:O});var be="undefined"!=typeof n?n:"undefined"!=typeof self?self:{};be.Hammer=at,o=function(){return at}.call(e,i,e,t),!(o!==a&&(t.exports=o))}(window,document,"Hammer")},function(t,e,i){var o,n,s;!function(i,r){n=[],o=r,s="function"==typeof o?o.apply(e,n):o,!(void 0!==s&&(t.exports=s))}(this,function(){function t(t){var e,i=t&&t.preventDefault||!1,o=t&&t.container||window,n={},s={keydown:{},keyup:{}},r={};for(e=97;122>=e;e++)r[String.fromCharCode(e)]={code:65+(e-97),shift:!1};for(e=65;90>=e;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;9>=e;e++)r[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r["delete"]={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==s[e][t.keyCode]){for(var o=s[e][t.keyCode],n=0;n<o.length;n++)void 0===o[n].shift?o[n].fn(t):1==o[n].shift&&1==t.shiftKey?o[n].fn(t):0==o[n].shift&&0==t.shiftKey&&o[n].fn(t);1==i&&t.preventDefault()}};return n.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===s[i][r[t].code]&&(s[i][r[t].code]=[]),s[i][r[t].code].push({fn:e,shift:r[t].shift})},n.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&n.bind(i,t,e)},n.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},n.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var o=[],n=s[i][r[t].code];if(void 0!==n)for(var a=0;a<n.length;a++)n[a].fn==e&&n[a].shift==r[t].shift||o.push(s[i][r[t].code][a]);s[i][r[t].code]=o}else s[i][r[t].code]=[]},n.reset=function(){s={keydown:{},keyup:{}}},n.destroy=function(){s={keydown:{},keyup:{}},o.removeEventListener("keydown",a,!0),o.removeEventListener("keyup",h,!0)},o.addEventListener("keydown",a,!0),o.addEventListener("keyup",h,!0),n}return t})},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Timeline=i(25),e.Graph2d=i(50),e.timeline={Core:i(33),DateUtil:i(32),Range:i(30),stack:i(37),TimeStep:i(35),components:{items:{Item:i(39),BackgroundItem:i(43),BoxItem:i(41),PointItem:i(42),RangeItem:i(38)},BackgroundGroup:i(40),Component:i(31),CurrentTime:i(48),CustomTime:i(46),DataAxis:i(52),DataScale:i(53),GraphGroup:i(54),Group:i(36),ItemSet:i(34),Legend:i(58),LineGraph:i(51),TimeAxis:i(44)}},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i,o){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof c||i instanceof u)&&i instanceof Object){var s=o;o=i,i=s}var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,throttleRedraw:0,orientation:{axis:"bottom",item:"bottom"},rtl:!1,moment:d,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return r.timeAxis.step.scale},getStep:function(){return r.timeAxis.step.step},toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new p(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new m(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new v(this.body),this.components.push(this.currentTime),this.itemSet=new y(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){r.emit("click",r.getEventProperties(t))}),this.on("doubletap",function(t){r.emit("doubleClick",r.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.fitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!r.fitDone)if(r.fitDone=!0,void 0!=r.options.start||void 0!=r.options.end){if(void 0==r.options.start||void 0==r.options.end)var t=r.getItemRange();var e=void 0!=r.options.start?r.options.start:t.min,i=void 0!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1})}),o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=(i(13),i(20),i(2)),l=i(1),c=i(9),u=i(11),p=i(30),f=i(33),m=i(44),v=i(48),g=i(46),y=i(34),b=i(29).printStyle,w=i(49).allOptions,_=i(49).configureOptions;n.prototype=new f,n.prototype._createConfigurator=function(){return new r["default"](this,this.dom.container,_)},n.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},n.prototype.setOptions=function(t){var e=h["default"].validate(t,w);if(e===!0&&console.log("%cErrors have been found in the supplied options object.",b),f.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;var i=this.itemsData;if(i){var o=this.getSelection();this.setItems(null),this.setItems(i),this.setSelection(o)}}},n.prototype.setItems=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e)},n.prototype.setGroups=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t):null,this.groupsData=e,this.itemSet.setGroups(e)},n.prototype.setData=function(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)},n.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},n.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},n.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],o=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),n=null,s=null;if(o.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===n||n>e)&&(n=e),(null===s||i>s)&&(s=i)}),null!==n&&null!==s){var r=(n+s)/2,a=Math.max(this.range.end-this.range.start,1.1*(s-n)),h=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(r-a/2,r+a/2,h)}}},n.prototype.fit=function(t){var e,i=t&&void 0!==t.animation?t.animation:!0,o=this.itemsData&&this.itemsData.getDataSet();1===o.length&&void 0===o.get()[0].end?(e=this.getDataRange(),this.moveTo(e.min.valueOf(),{animation:i})):(e=this.getItemRange(),this.range.setRange(e.min,e.max,i))},n.prototype.getItemRange=function(){var t=this,e=this.getDataRange(),i=null!==e.min?e.min.valueOf():null,o=null!==e.max?e.max.valueOf():null,n=null,s=null;if(null!=i&&null!=o){var r,a,h,d,c;!function(){var e=function(t){return l.convert(t.data.start,"Date").valueOf()},u=function(t){var e=void 0!=t.data.end?t.data.end:t.data.start;return l.convert(e,"Date").valueOf()};r=o-i,0>=r&&(r=10),a=r/t.props.center.width,l.forEach(t.itemSet.items,function(t){t.show(),t.repositionX();var r=e(t),h=u(t);if(this.options.rtl)var d=r-(t.getWidthRight()+10)*a,l=h+(t.getWidthLeft()+10)*a;else var d=r-(t.getWidthLeft()+10)*a,l=h+(t.getWidthRight()+10)*a;i>d&&(i=d,n=t),l>o&&(o=l,s=t)}.bind(t)),n&&s&&(h=n.getWidthLeft()+10,d=s.getWidthRight()+10,c=t.props.center.width-h-d,c>0&&(t.options.rtl?(i=e(n)-d*r/c,o=u(s)+h*r/c):(i=e(n)-h*r/c,o=u(s)+d*r/c)))}()}return{min:null!=i?new Date(i):null,max:null!=o?new Date(o):null}},n.prototype.getDataRange=function(){var t=null,e=null,i=this.itemsData&&this.itemsData.getDataSet();return i&&i.forEach(function(i){var o=l.convert(i.start,"Date").valueOf(),n=l.convert(void 0!=i.end?i.end:i.start,"Date").valueOf();(null===t||t>o)&&(t=o),(null===e||n>e)&&(e=n)}),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY;if(this.options.rtl)var o=l.getAbsoluteRight(this.dom.centerContainer)-e;else var o=e-l.getAbsoluteLeft(this.dom.centerContainer);var n=i-l.getAbsoluteTop(this.dom.centerContainer),s=this.itemSet.itemFromTarget(t),r=this.itemSet.groupFromTarget(t),a=g.customTimeFromTarget(t),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),c=this.body.util.getStep(),u=this._toTime(o),p=h?h(u,d,c):u,f=l.getTarget(t),m=null;return null!=s?m="item":null!=a?m="custom-time":l.hasParent(f,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&l.hasParent(f,this.timeAxis2.dom.foreground)?m="axis":l.hasParent(f,this.itemSet.dom.labelSet)?m="group-label":l.hasParent(f,this.currentTime.bar)?m="current-time":l.hasParent(f,this.dom.center)&&(m="background"),{event:t,item:s?s.id:null,group:r?r.groupId:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:u,snappedTime:p}},t.exports=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(27),h=o(a),d=i(1),l=function(){function t(e,i,o){var s=arguments.length<=3||void 0===arguments[3]?1:arguments[3];n(this,t),this.parent=e,this.changedOptions=[],this.container=i,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},d.extend(this.options,this.defaultOptions),this.configureOptions=o,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new h["default"](s),this.wrapper=void 0}return r(t,[{key:"setOptions",value:function(t){if(void 0!==t){this.popupHistory={},this._removePopup();var e=!0;"string"==typeof t?this.options.filter=t:t instanceof Array?this.options.filter=t.join():"object"===("undefined"==typeof t?"undefined":s(t))?(void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)):"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0),this.options.filter===!1&&(e=!1),this.options.enabled=e}this._clean()}},{key:"setModuleOptions",value:function(t){this.moduleOptions=t,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var t=this;this._clean(),this.changedOptions=[];var e=this.options.filter,i=0,o=!1;for(var n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,o=!1,"function"==typeof e?(o=e(n,[]),o=o||this._handleObject(this.configureOptions[n],[n],!0)):e!==!0&&-1===e.indexOf(n)||(o=!0),o!==!1&&(this.allowCreation=!0,i>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),i++);this.options.showButton===!0&&!function(){var e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerHTML="generate options",e.onclick=function(){t._printOptions()},e.onmouseover=function(){e.className="vis-configuration vis-config-button hover"},e.onmouseout=function(){e.className="vis-configuration vis-config-button"},t.optionsContainer=document.createElement("div"),t.optionsContainer.className="vis-configuration vis-config-option-container",t.domElements.push(t.optionsContainer),t.domElements.push(e)}(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(t){for(var e=this.moduleOptions,i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}},{key:"_makeItem",value:function(t){var e=arguments,i=this;if(this.allowCreation===!0){var o,n,r,a=function(){var s=document.createElement("div");for(s.className="vis-configuration vis-config-item vis-config-s"+t.length,o=e.length,n=Array(o>1?o-1:0),r=1;o>r;r++)n[r-1]=e[r];return n.forEach(function(t){s.appendChild(t)}),i.domElements.push(s),{v:i.domElements.length}}();if("object"===("undefined"==typeof a?"undefined":s(a)))return a.v}return 0}},{key:"_makeHeader",value:function(t){var e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=t,this._makeItem([],e)}},{key:"_makeLabel",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=document.createElement("div");return o.className="vis-configuration vis-config-label vis-config-s"+e.length,i===!0?o.innerHTML="<i><b>"+t+":</b></i>":o.innerHTML=t+":",o}},{key:"_makeDropdown",value:function(t,e,i){var o=document.createElement("select");o.className="vis-configuration vis-config-select";var n=0;void 0!==e&&-1!==t.indexOf(e)&&(n=t.indexOf(e));for(var s=0;s<t.length;s++){var r=document.createElement("option");r.value=t[s],s===n&&(r.selected="selected"),r.innerHTML=t[s],o.appendChild(r)}var a=this;o.onchange=function(){a._update(this.value,i)};var h=this._makeLabel(i[i.length-1],i);this._makeItem(i,h,o)}},{key:"_makeRange",value:function(t,e,i){
var o=t[0],n=t[1],s=t[2],r=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=n,a.max=s}catch(h){}a.step=r;var d="",l=0;if(void 0!==e){var c=1.2;0>e&&n>e*c?(a.min=Math.ceil(e*c),l=a.min,d="range increased"):n>e/c&&(a.min=Math.ceil(e/c),l=a.min,d="range increased"),e*c>s&&1!==s&&(a.max=Math.ceil(e*c),l=a.max,d="range increased"),a.value=e}else a.value=o;var u=document.createElement("input");u.className="vis-configuration vis-config-rangeinput",u.value=a.value;var p=this;a.onchange=function(){u.value=this.value,p._update(Number(this.value),i)},a.oninput=function(){u.value=this.value};var f=this._makeLabel(i[i.length-1],i),m=this._makeItem(i,f,a,u);""!==d&&this.popupHistory[m]!==l&&(this.popupHistory[m]=l,this._setupPopup(d,m))}},{key:"_setupPopup",value:function(t,e){var i=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var o=document.createElement("div");o.id="vis-configuration-popup",o.className="vis-configuration-popup",o.innerHTML=t,o.onclick=function(){i._removePopup()},this.popupCounter+=1,this.popupDiv={html:o,index:e}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var t=this;if(void 0!==this.popupDiv.html){var e=this.domElements[this.popupDiv.index],i=e.getBoundingClientRect();this.popupDiv.html.style.left=i.left+"px",this.popupDiv.html.style.top=i.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){t.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){t._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(t,e,i){var o=document.createElement("input");o.type="checkbox",o.className="vis-configuration vis-config-checkbox",o.checked=t,void 0!==e&&(o.checked=e,e!==t&&("object"===("undefined"==typeof t?"undefined":s(t))?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));var n=this;o.onchange=function(){n._update(this.checked,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}},{key:"_makeTextInput",value:function(t,e,i){var o=document.createElement("input");o.type="text",o.className="vis-configuration vis-config-text",o.value=e,e!==t&&this.changedOptions.push({path:i,value:e});var n=this;o.onchange=function(){n._update(this.value,i)};var s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,o)}},{key:"_makeColorField",value:function(t,e,i){var o=this,n=t[1],s=document.createElement("div");e=void 0===e?n:e,"none"!==e?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=e):s.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,s.onclick=function(){o._showColorPicker(e,s,i)};var r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,s)}},{key:"_showColorPicker",value:function(t,e,i){var o=this;e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback(function(t){var n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,o._update(n,i)}),this.colorPicker.setCloseCallback(function(){e.onclick=function(){o._showColorPicker(t,e,i)}})}},{key:"_handleObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=!1,n=this.options.filter,s=!1;for(var r in t)if(t.hasOwnProperty(r)){o=!0;var a=t[r],h=d.copyAndExtendArray(e,r);if("function"==typeof n&&(o=n(r,e),o===!1&&!(a instanceof Array)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,o=this._handleObject(a,h,!0),this.allowCreation=i===!1)),o!==!1){s=!0;var l=this._getValue(h);if(a instanceof Array)this._handleArray(a,l,h);else if("string"==typeof a)this._makeTextInput(a,l,h);else if("boolean"==typeof a)this._makeCheckbox(a,l,h);else if(a instanceof Object){var c=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==r&&(c=!1),c===!0)if(void 0!==a.enabled){var u=d.copyAndExtendArray(h,"enabled"),p=this._getValue(u);if(p===!0){var f=this._makeLabel(r,h,!0);this._makeItem(h,f),s=this._handleObject(a,h)||s}else this._makeCheckbox(a,p,h)}else{var m=this._makeLabel(r,h,!0);this._makeItem(h,m),s=this._handleObject(a,h)||s}}else console.error("dont know how to handle",a,r,h)}}return s}},{key:"_handleArray",value:function(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}},{key:"_update",value:function(t,e){var i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}},{key:"_constructOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=i;t="true"===t?!0:t,t="false"===t?!1:t;for(var n=0;n<e.length;n++)"global"!==e[n]&&(void 0===o[e[n]]&&(o[e[n]]={}),n!==e.length-1?o=o[e[n]]:o[e[n]]=t);return i}},{key:"_printOptions",value:function(){var t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var t={},e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}]),t}();e["default"]=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0];o(this,t),this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return n(t,[{key:"insertTo",value:function(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}},{key:"setCloseCallback",value:function(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}},{key:"_isColorString",value:function(t){var e={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};return"string"==typeof t?e[t]:void 0}},{key:"setColor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if("none"!==t){var i=void 0,o=this._isColorString(t);if(void 0!==o&&(t=o),a.isString(t)===!0){if(a.isValidRGB(t)===!0){var n=t.substr(4).substr(0,t.length-5).split(",");i={r:n[0],g:n[1],b:n[2],a:1}}else if(a.isValidRGBA(t)===!0){var s=t.substr(5).substr(0,t.length-6).split(",");i={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(a.isValidHex(t)===!0){var r=a.hexToRGB(t);i={r:r.r,g:r.g,b:r.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){var h=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:h}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];e===!0&&(this.previousColor=a.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==t.closeCallback&&(t.closeCallback(),t.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];e===!0&&(this.initialColor=a.extend({},t)),this.color=t;var i=a.RGBToHSV(t.r,t.g,t.b),o=2*Math.PI,n=this.r*i.s,s=this.centerCoordinates.x+n*Math.sin(o*i.h),r=this.centerCoordinates.y+n*Math.cos(o*i.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=r-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}},{key:"_setOpacity",value:function(t){this.color.a=t/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(t){var e=a.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;var i=a.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}},{key:"_updatePicker",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.color:arguments[0],e=a.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var o=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,o,n),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(e)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(i){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(i){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var t=this;this.drag={},this.pinch={},this.hammer=new s(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),r.onTouch(this.hammer,function(e){t._moveSelector(e)}),this.hammer.on("tap",function(e){t._moveSelector(e)}),this.hammer.on("panstart",function(e){t._moveSelector(e)}),this.hammer.on("panmove",function(e){t._moveSelector(e)}),this.hammer.on("panend",function(e){t._moveSelector(e)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,e,i);var o=void 0,n=void 0,s=void 0,r=void 0;this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;var h=2*Math.PI/360,d=1/360,l=1/this.r,c=void 0;for(s=0;360>s;s++)for(r=0;r<this.r;r++)o=this.centerCoordinates.x+r*Math.sin(h*s),n=this.centerCoordinates.y+r*Math.cos(h*s),c=a.HSVToRGB(s*d,r*l,1),t.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",t.fillRect(o-.5,n-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}},{key:"_moveSelector",value:function(t){var e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,o=t.center.y-e.top,n=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,r=i-s,h=o-n,d=Math.atan2(r,h),l=.98*Math.min(Math.sqrt(r*r+h*h),s),c=Math.cos(d)*l+n,u=Math.sin(d)*l+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=u-.5*this.colorPickerSelector.clientWidth+"px";var p=d/(2*Math.PI);p=0>p?p+1:p;var f=l/this.r,m=a.RGBToHSV(this.color.r,this.color.g,this.color.b);m.h=p,m.s=f;var v=a.HSVToRGB(m.h,m.s,m.v);v.a=this.color.a,this.color=v,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),t}();e["default"]=h},function(t,e,i){i(20);e.onTouch=function(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)},e.onRelease=function(t,e){return e.inputHandler=function(t){t.isFinal&&e(t)},t.on("hammer.input",e.inputHandler)},e.offTouch=function(t,e){t.off("hammer.input",e.inputHandler)},e.offRelease=e.offTouch,e.disablePreventDefaultVertically=function(t){var e="pan-y";return t.getTouchAction=function(){return[e]},t}},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=!1,h=void 0,d="background: #FFeeee; color: #dd0000",l=function(){function t(){o(this,t)}return s(t,null,[{key:"validate",value:function(e,i,o){a=!1,h=i;var n=i;return void 0!==o&&(n=i[o]),t.parse(e,n,[]),a}},{key:"parse",value:function(e,i,o){for(var n in e)e.hasOwnProperty(n)&&t.check(n,e,i,o)}},{key:"check",value:function(e,i,o,n){void 0===o[e]&&void 0===o.__any__?t.getSuggestion(e,o,n):void 0===o[e]&&void 0!==o.__any__?"object"===t.getType(i[e])&&void 0!==o.__any__.__type__?t.checkFields(e,i,o,"__any__",o.__any__.__type__,n):t.checkFields(e,i,o,"__any__",o.__any__,n):void 0!==o[e].__type__?t.checkFields(e,i,o,e,o[e].__type__,n):t.checkFields(e,i,o,e,o[e],n)}},{key:"checkFields",value:function(e,i,o,n,s,h){var l=t.getType(i[e]),c=s[l];void 0!==c?"array"===t.getType(c)&&-1===c.indexOf(i[e])?(console.log('%cInvalid option detected in "'+e+'". Allowed values are:'+t.print(c)+' not "'+i[e]+'". '+t.printLocation(h,e),d),a=!0):"object"===l&&"__any__"!==n&&(h=r.copyAndExtendArray(h,e),t.parse(i[e],o[n],h)):void 0===s.any&&(console.log('%cInvalid type received for "'+e+'". Expected: '+t.print(Object.keys(s))+". Received ["+l+'] "'+i[e]+'"'+t.printLocation(h,e),d),a=!0)}},{key:"getType",value:function(t){var e="undefined"==typeof t?"undefined":n(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":t._isAMomentObject===!0?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}},{key:"getSuggestion",value:function(e,i,o){var n=t.findInOptions(e,i,o,!1),s=t.findInOptions(e,h,[],!0),r=8,l=4;void 0!==n.indexMatch?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n',d):s.distance<=l&&n.distance>s.distance?console.log('%cUnknown option detected: "'+e+'" in '+t.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+t.printLocation(s.path,s.closestMatch,""),d):n.distance<=r?console.log('%cUnknown option detected: "'+e+'". Did you mean "'+n.closestMatch+'"?'+t.printLocation(n.path,e),d):console.log('%cUnknown option detected: "'+e+'". Did you mean one of these: '+t.print(Object.keys(i))+t.printLocation(o,e),d),a=!0}},{key:"findInOptions",value:function(e,i,o){var n=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],s=1e9,a="",h=[],d=e.toLowerCase(),l=void 0;for(var c in i){var u=void 0;if(void 0!==i[c].__type__&&n===!0){var p=t.findInOptions(e,i[c],r.copyAndExtendArray(o,c));s>p.distance&&(a=p.closestMatch,h=p.path,s=p.distance,l=p.indexMatch)}else-1!==c.toLowerCase().indexOf(d)&&(l=c),u=t.levenshteinDistance(e,c),s>u&&(a=c,h=r.copyArray(o),s=u)}return{closestMatch:a,path:h,distance:s,indexMatch:l}}},{key:"printLocation",value:function(t,e){for(var i=arguments.length<=2||void 0===arguments[2]?"Problem value found at: \n":arguments[2],o="\n\n"+i+"options = {\n",n=0;n<t.length;n++){for(var s=0;n+1>s;s++)o+="  ";o+=t[n]+": {\n"}for(var r=0;r<t.length+1;r++)o+="  ";o+=e+"\n";for(var a=0;a<t.length+1;a++){for(var h=0;h<t.length-a;h++)o+="  ";o+="}\n"}return o+"\n\n"}},{key:"print",value:function(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,o=[];for(i=0;i<=e.length;i++)o[i]=[i];var n;for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}]),t}();e["default"]=l,e.printStyle=d},function(t,e,i){function o(t,e){var i=a().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:a,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function n(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError('Unknown direction "'+t+'". Choose "horizontal" or "vertical".')}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(1),a=(i(28),i(2)),h=i(31),d=i(32);o.prototype=new h,o.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl"];r.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},o.prototype.setRange=function(t,e,i,o){o!==!0&&(o=!1);var n=void 0!=t?r.convert(t,"Date").valueOf():null,a=void 0!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var h=this,l=this.start,c=this.end,u="object"===("undefined"==typeof i?"undefined":s(i))&&"duration"in i?i.duration:500,p="object"===("undefined"==typeof i?"undefined":s(i))&&"easingFunction"in i?i.easingFunction:"easeInOutQuad",f=r.easingFunctions[p];if(!f)throw new Error("Unknown easing function "+JSON.stringify(p)+". Choose from: "+Object.keys(r.easingFunctions).join(", "));var m=(new Date).valueOf(),v=!1,g=function w(){if(!h.props.touch.dragging){var t=(new Date).valueOf(),e=t-m,i=f(e/u),s=e>u,r=s||null===n?n:l+(n-l)*i,p=s||null===a?a:c+(a-c)*i;y=h._applyRange(r,p),d.updateHiddenDates(h.options.moment,h.body,h.options.hiddenDates),v=v||y,y&&h.body.emitter.emit("rangechange",{start:new Date(h.start),end:new Date(h.end),byUser:o}),s?v&&h.body.emitter.emit("rangechanged",{start:new Date(h.start),end:new Date(h.end),byUser:o}):h.animationTimer=setTimeout(w,20)}};return g()}var y=this._applyRange(n,a);if(d.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),y){var b={start:new Date(this.start),end:new Date(this.end),byUser:o};this.body.emitter.emit("rangechange",b),this.body.emitter.emit("rangechanged",b)}},o.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},o.prototype._applyRange=function(t,e){var i,o=null!=t?r.convert(t,"Date").valueOf():this.start,n=null!=e?r.convert(e,"Date").valueOf():this.end,s=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(o)||null===o)throw new Error('Invalid start "'+t+'"');if(isNaN(n)||null===n)throw new Error('Invalid end "'+e+'"');if(o>n&&(n=o),null!==a&&a>o&&(i=a-o,o+=i,n+=i,null!=s&&n>s&&(n=s)),null!==s&&n>s&&(i=n-s,o-=i,n-=i,null!=a&&a>o&&(o=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);0>h&&(h=0),h>n-o&&(this.end-this.start===h&&o>this.start&&n<this.end?(o=this.start,n=this.end):(i=h-(n-o),o-=i/2,n+=i/2))}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);0>d&&(d=0),n-o>d&&(this.end-this.start===d&&o<this.start&&n>this.end?(o=this.start,n=this.end):(i=n-o-d,o+=i/2,n-=i/2))}var l=this.start!=o||this.end!=n;return o>=this.start&&o<=this.end||n>=this.start&&n<=this.end||this.start>=o&&this.start<=n||this.end>=o&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=o,this.end=n,l},o.prototype.getRange=function(){return{start:this.start,end:this.end}},o.prototype.conversion=function(t,e){return o.conversion(this.start,this.end,t,e)},o.conversion=function(t,e,i,o){return void 0===o&&(o=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-o)}:{offset:0,scale:1}},o.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},o.prototype._onDrag=function(t){if(this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;n(e);var i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;var o=this.props.touch.end-this.props.touch.start,s=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);o-=s;var r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;if(this.options.rtl)var a=i/r*o;else var a=-i/r*o;var h=this.props.touch.start+a,l=this.props.touch.end+a,c=d.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0),u=d.snapAwayFromHidden(this.body.hiddenDates,l,this.previousDelta-i,!0);if(c!=h||u!=l)return this.deltaDifference+=i,this.props.touch.start=c,this.props.touch.end=u,void this._onDrag(t);this.previousDelta=i,this._applyRange(h,l);var p=new Date(this.start),f=new Date(this.end);this.body.emitter.emit("rangechange",{start:p,end:f,byUser:!0})}},o.prototype._onDragEnd=function(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},o.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&(!this.options.zoomKey||t[this.options.zoomKey])){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=0>e?1-e/5:1/(1+e/5);var o=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center),n=this._pointerToDate(o);this.zoom(i,n,e)}t.preventDefault()}},o.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},o.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center));var e=1/(t.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,i),s=o-n,r=i-n+(this.props.touch.start-(i-n))*e,a=i+s+(this.props.touch.end-(i+s))*e;
this.startToFront=0>=1-e,this.endToFront=0>=e-1;var h=d.snapAwayFromHidden(this.body.hiddenDates,r,1-e,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,a,e-1,!0);h==r&&l==a||(this.props.touch.start=h,this.props.touch.end=l,this.scaleOffset=1-t.scale,r=h,a=l),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0}},o.prototype._isInsideRange=function(t){var e=t.center?t.center.x:t.clientX;if(this.options.rtl)var i=e-r.getAbsoluteLeft(this.body.dom.centerContainer);else var i=r.getAbsoluteRight(this.body.dom.centerContainer)-e;var o=this.body.util.toTime(i);return o>=this.start&&o<=this.end},o.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(n(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var o=this.body.domProps.center.height;return e=this.conversion(o),t.y/e.scale+e.offset},o.prototype.getPointer=function(t,e){return this.options.rtl?{x:r.getAbsoluteRight(e)-t.x,y:t.y-r.getAbsoluteTop(e)}:{x:t.x-r.getAbsoluteLeft(e),y:t.y-r.getAbsoluteTop(e)}},o.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var o=d.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),n=d.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,e),s=o-n,r=e-n+(this.start-(e-n))*t,a=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);var h=d.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),l=d.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);h==r&&l==a||(r=h,a=l),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0},o.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,o=this.end+e*t;this.start=i,this.end=o},o.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,o=this.start-i,n=this.end-i;this.setRange(o,n)},t.exports=o},function(t,e){function i(t,e){this.options=null,this.props=null}i.prototype.setOptions=function(t){t&&util.extend(this.options,t)},i.prototype.redraw=function(){return!1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=i},function(t,e){e.convertHiddenOptions=function(t,i,o){if(o&&!Array.isArray(o))return e.convertHiddenOptions(t,i,[o]);if(i.hiddenDates=[],o&&1==Array.isArray(o)){for(var n=0;n<o.length;n++)if(void 0===o[n].repeat){var s={};s.start=t(o[n].start).toDate().valueOf(),s.end=t(o[n].end).toDate().valueOf(),i.hiddenDates.push(s)}i.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i,o){if(o&&!Array.isArray(o))return e.updateHiddenDates(t,i,[o]);if(o&&void 0!==i.domProps.centerContainer.width){e.convertHiddenOptions(t,i,o);for(var n=t(i.range.start),s=t(i.range.end),r=i.range.end-i.range.start,a=r/i.domProps.centerContainer.width,h=0;h<o.length;h++)if(void 0!==o[h].repeat){var d=t(o[h].start),l=t(o[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+o[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+o[h].end);var c=l-d;if(c>=4*a){var u=0,p=s.clone();switch(o[h].repeat){case"daily":d.day()!=l.day()&&(u=1),d.dayOfYear(n.dayOfYear()),d.year(n.year()),d.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-u,"days"),p.add(1,"weeks");break;case"weekly":var f=l.diff(d,"days"),m=d.day();d.date(n.date()),d.month(n.month()),d.year(n.year()),l=d.clone(),d.day(m),l.day(m),l.add(f,"days"),d.subtract(1,"weeks"),l.subtract(1,"weeks"),p.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(u=1),d.month(n.month()),d.year(n.year()),d.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(u,"months"),p.add(1,"months");break;case"yearly":d.year()!=l.year()&&(u=1),d.year(n.year()),d.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(u,"years"),p.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}for(;p>d;)switch(i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()}),o[h].repeat){case"daily":d.add(1,"days"),l.add(1,"days");break;case"weekly":d.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":d.add(1,"months"),l.add(1,"months");break;case"yearly":d.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",o[h].repeat)}i.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(i);var v=e.isHidden(i.range.start,i.hiddenDates),g=e.isHidden(i.range.end,i.hiddenDates),y=i.range.start,b=i.range.end;1==v.hidden&&(y=1==i.range.startToFront?v.startDate-1:v.endDate+1),1==g.hidden&&(b=1==i.range.endToFront?g.startDate-1:g.endDate+1),1!=v.hidden&&1!=g.hidden||i.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],o=0;o<e.length;o++)for(var n=0;n<e.length;n++)o!=n&&1!=e[n].remove&&1!=e[o].remove&&(e[n].start>=e[o].start&&e[n].end<=e[o].end?e[n].remove=!0:e[n].start>=e[o].start&&e[n].start<=e[o].end?(e[o].end=e[n].end,e[n].remove=!0):e[n].end>=e[o].start&&e[n].end<=e[o].end&&(e[o].start=e[n].start,e[n].remove=!0));for(var o=0;o<e.length;o++)e[o].remove!==!0&&i.push(e[o]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e,i){for(var o=!1,n=e.current.valueOf(),s=0;s<e.hiddenDates.length;s++){var r=e.hiddenDates[s].start,a=e.hiddenDates[s].end;if(n>=r&&a>n){o=!0;break}}if(1==o&&n<e._end.valueOf()&&n!=i){var h=t(i),d=t(a);h.year()!=d.year()?e.switchedYear=!0:h.month()!=d.month()?e.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(e.switchedDay=!0),e.current=d}},e.toScreen=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return(i.valueOf()-n.offset)*n.scale}var s=e.isHidden(i,t.body.hiddenDates);1==s.hidden&&(i=s.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.options.moment,t.body.hiddenDates,t.range,i);var n=t.range.conversion(o,r);return(i.valueOf()-n.offset)*n.scale},e.toTime=function(t,i,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(i/n.scale+n.offset)}var s=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*i/o,h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),d=new Date(h+a+t.range.start);return d},e.getHiddenDurationBetween=function(t,e,i){for(var o=0,n=0;n<t.length;n++){var s=t[n].start,r=t[n].end;s>=e&&i>r&&(o+=r-s)}return o},e.correctTimeForHidden=function(t,i,o,n){return n=t(n).toDate().valueOf(),n-=e.getHiddenDurationBefore(t,i,o,n)},e.getHiddenDurationBefore=function(t,e,i,o){var n=0;o=t(o).toDate().valueOf();for(var s=0;s<e.length;s++){var r=e[s].start,a=e[s].end;r>=i.start&&a<i.end&&o>=a&&(n+=a-r)}return n},e.getAccumulatedHiddenDuration=function(t,e,i){for(var o=0,n=0,s=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(n+=a-s,s=h,n>=i)break;o+=h-a}}return o},e.snapAwayFromHidden=function(t,i,o,n){var s=e.isHidden(i,t);return 1==s.hidden?0>o?1==n?s.startDate-(s.endDate-i)-1:s.startDate-1:1==n?s.endDate+(i-s.startDate)+1:s.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var o=e[i].start,n=e[i].end;if(t>=o&&n>t)return{hidden:!0,startDate:o,endDate:n}}return{hidden:!1,startDate:o,endDate:n}}},function(t,e,i){function o(){}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(13),r=i(20),a=i(28),h=i(1),d=(i(9),i(11),i(30),i(34),i(44)),l=i(45),c=i(32),u=i(46);s(o.prototype),o.prototype._create=function(t){function e(t){i.isActive()&&i.emit("mousewheel",t)}this.dom={},this.dom.container=t,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",function(){this.initialDrawDone===!0&&this._redraw()}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var i=this;this.on("_change",function(t){t&&1==t.queue?i._redrawTimer||(i._redrawTimer=setTimeout(function(){i._redrawTimer=null,i._redraw()},0)):i._redraw()}),this.hammer=new r(this.dom.root);var o=this.hammer.get("pinch").set({enable:!0});a.disablePreventDefaultVertically(o),this.hammer.get("pan").set({threshold:5,direction:r.DIRECTION_HORIZONTAL}),this.listeners={};var n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(n.forEach(function(t){var e=function(e){i.isActive()&&i.emit(t,e)};i.hammer.on(t,e),i.listeners[t]=e}),a.onTouch(this.hammer,function(t){i.emit("touch",t)}.bind(this)),a.onRelease(this.hammer,function(t){i.emit("release",t)}.bind(this)),this.dom.root.addEventListener("mousewheel",e),this.dom.root.addEventListener("DOMMouseScroll",e),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},o.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","throttleRedraw"];if(h.selectiveExtend(e,this.options,t),this.options.rtl){var i=this.dom.leftContainer;this.dom.leftContainer=this.dom.rightContainer,this.dom.rightContainer=i,this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"}if(this.options.orientation={item:void 0,axis:void 0},"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"===n(t.orientation)&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var o=this.timeAxis2=new d(this.body);o.setOptions=function(t){var e=t?h.extend({},t):{};e.orientation="top",d.prototype.setOptions.call(o,e)},this.components.push(o)}}else if(this.timeAxis2){var s=this.components.indexOf(this.timeAxis2);-1!==s&&this.components.splice(s,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&c.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new l(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in t)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(e){return e.setOptions(t)}),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);var r=h.deepExtend({},this.options);this.components.forEach(function(t){h.deepExtend(r,t.options)}),this.configurator.setModuleOptions({global:r})}this._origRedraw?this._redraw():(this._origRedraw=this._redraw.bind(this),this._redraw=h.throttle(this._origRedraw,this.options.throttleRedraw))},o.prototype.isActive=function(){return!this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){return t.destroy()}),this.body=null},o.prototype.setCustomTime=function(t,e){var i=this.customTimes.filter(function(t){return e===t.options.id});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));i.length>0&&i[0].setCustomTime(t)},o.prototype.getCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));return e[0].getCustomTime()},o.prototype.setCustomTimeTitle=function(t,e){var i=this.customTimes.filter(function(t){return t.options.id===e});if(0===i.length)throw new Error("No custom time bar found with id "+JSON.stringify(e));return i.length>0?i[0].setCustomTitle(t):void 0},o.prototype.getEventProperties=function(t){return{event:t}},o.prototype.addCustomTime=function(t,e){var i=void 0!==t?h.convert(t,"Date").valueOf():new Date,o=this.customTimes.some(function(t){return t.options.id===e});if(o)throw new Error("A custom time with id "+JSON.stringify(e)+" already exists");var n=new u(this.body,h.extend({},this.options,{time:i,id:e}));return this.customTimes.push(n),this.components.push(n),this._redraw(),e},o.prototype.removeCustomTime=function(t){var e=this.customTimes.filter(function(e){return e.options.id===t});if(0===e.length)throw new Error("No custom time bar found with id "+JSON.stringify(t));e.forEach(function(t){this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(t){var e=this.getDataRange();if(null!==e.min||null!==e.max){var i=e.max-e.min,o=new Date(e.min.valueOf()-.01*i),n=new Date(e.max.valueOf()+.01*i),s=t&&void 0!==t.animation?t.animation:!0;this.range.setRange(o,n,s)}},o.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},o.prototype.setWindow=function(t,e,i){var o;if(1==arguments.length){var n=arguments[0];o=void 0!==n.animation?n.animation:!0,this.range.setRange(n.start,n.end,o)}else o=i&&void 0!==i.animation?i.animation:!0,this.range.setRange(t,e,o)},o.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,o=h.convert(t,"Date").valueOf(),n=o-i/2,s=o+i/2,r=e&&void 0!==e.animation?e.animation:!0;this.range.setRange(n,s,r)},o.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){this.redrawCount++;var t=!1,e=this.options,i=this.props,o=this.dom;if(o&&o.container&&0!=o.root.offsetWidth){c.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==e.orientation?(h.addClassName(o.root,"vis-top"),h.removeClassName(o.root,"vis-bottom")):(h.removeClassName(o.root,"vis-top"),h.addClassName(o.root,"vis-bottom")),o.root.style.maxHeight=h.option.asSize(e.maxHeight,""),o.root.style.minHeight=h.option.asSize(e.minHeight,""),o.root.style.width=h.option.asSize(e.width,""),i.border.left=(o.centerContainer.offsetWidth-o.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(o.centerContainer.offsetHeight-o.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var n=o.root.offsetHeight-o.root.clientHeight,s=o.root.offsetWidth-o.root.clientWidth;0===o.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===o.root.clientHeight&&(s=n),i.center.height=o.center.offsetHeight,i.left.height=o.left.offsetHeight,i.right.height=o.right.offsetHeight,i.top.height=o.top.clientHeight||-i.border.top,i.bottom.height=o.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),d=i.top.height+a+i.bottom.height+n+i.border.top+i.border.bottom;o.root.style.height=h.option.asSize(e.height,d+"px"),i.root.height=o.root.offsetHeight,i.background.height=i.root.height-n;var l=i.root.height-i.top.height-i.bottom.height-n;i.centerContainer.height=l,i.leftContainer.height=l,i.rightContainer.height=i.leftContainer.height,i.root.width=o.root.offsetWidth,i.background.width=i.root.width-s,i.left.width=o.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=o.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var u=i.root.width-i.left.width-i.right.width-s;i.center.width=u,i.centerContainer.width=u,i.top.width=u,i.bottom.width=u,o.background.style.height=i.background.height+"px",o.backgroundVertical.style.height=i.background.height+"px",o.backgroundHorizontal.style.height=i.centerContainer.height+"px",o.centerContainer.style.height=i.centerContainer.height+"px",o.leftContainer.style.height=i.leftContainer.height+"px",o.rightContainer.style.height=i.rightContainer.height+"px",o.background.style.width=i.background.width+"px",o.backgroundVertical.style.width=i.centerContainer.width+"px",o.backgroundHorizontal.style.width=i.background.width+"px",o.centerContainer.style.width=i.center.width+"px",o.top.style.width=i.top.width+"px",o.bottom.style.width=i.bottom.width+"px",o.background.style.left="0",o.background.style.top="0",o.backgroundVertical.style.left=i.left.width+i.border.left+"px",o.backgroundVertical.style.top="0",o.backgroundHorizontal.style.left="0",o.backgroundHorizontal.style.top=i.top.height+"px",o.centerContainer.style.left=i.left.width+"px",o.centerContainer.style.top=i.top.height+"px",o.leftContainer.style.left="0",o.leftContainer.style.top=i.top.height+"px",o.rightContainer.style.left=i.left.width+i.center.width+"px",o.rightContainer.style.top=i.top.height+"px",o.top.style.left=i.left.width+"px",o.top.style.top="0",o.bottom.style.left=i.left.width+"px",o.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var p=this.props.scrollTop;"top"!=e.orientation.item&&(p+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),o.center.style.left="0",o.center.style.top=p+"px",o.left.style.left="0",o.left.style.top=p+"px",o.right.style.left="0",o.right.style.top=p+"px";var f=0==this.props.scrollTop?"hidden":"",m=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";o.shadowTop.style.visibility=f,o.shadowBottom.style.visibility=m,o.shadowTopLeft.style.visibility=f,o.shadowBottomLeft.style.visibility=m,o.shadowTopRight.style.visibility=f,o.shadowBottomRight.style.visibility=m;var v=this.props.center.height>this.props.centerContainer.height;this.hammer.get("pan").set({direction:v?r.DIRECTION_ALL:r.DIRECTION_HORIZONTAL}),this.components.forEach(function(e){t=e.redraw()||t});var g=5;if(t){if(this.redrawCount<g)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.initialDrawDone=!0,this.body.emitter.emit("changed")}},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},o.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},o.prototype._toTime=function(t){return c.toTime(this,t,this.props.center.width)},o.prototype._toGlobalTime=function(t){return c.toTime(this,t,this.props.root.width)},o.prototype._toScreen=function(t){return c.toScreen(this,t,this.props.center.width)},o.prototype._toGlobalScreen=function(t){return c.toScreen(this,t,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){return 1!=t.options.autoResize?void t._stopAutoResize():void(t.dom.root&&(t.dom.root.offsetWidth==t.props.lastWidth&&t.dom.root.offsetHeight==t.props.lastHeight||(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.body.emitter.emit("_change"))))},h.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(h.removeEventListener(window,"resize",this._onResize),this._onResize=null)},o.prototype._onTouch=function(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(t){this.touch.allowDragging=!1},o.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.deltaY,i=this._getScrollTop(),o=this._setScrollTop(this.touch.initialScrollTop+e);o!=i&&this.emit("verticalDrag")}},o.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},o.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={rtl:!1,type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrderSwap:function(t,e,i){var o=e.order;e.order=t.order,t.order=o},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:d.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},onAddGroup:function(t,e){e(t)},onMoveGroup:function(t,e){e(t)},onRemoveGroup:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=r.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(20),r=i(1),a=i(9),h=i(11),d=i(35),l=i(31),c=i(36),u=i(40),p=i(41),f=i(42),m=i(38),v=i(43),g="__ungrouped__",y="__background__";o.prototype=new l,o.types={background:v,box:p,range:m,point:f},o.prototype._create=function(){var t=document.createElement("div");t.className="vis-itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;var o=document.createElement("div");o.className="vis-axis",this.dom.axis=o;var n=document.createElement("div");n.className="vis-labelset",this.dom.labelSet=n,this._updateUngrouped();var r=new u(y,null,this);r.show(),this.groups[y]=r,this.hammer=new s(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(t){t.isFirst&&this._onTouch(t)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new s(this.body.dom.leftContainer),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:s.DIRECTION_HORIZONTAL}),this.show()},o.prototype.setOptions=function(t){if(t){var e=["type","rtl","align","order","stack","selectable","multiselect","itemsAlwaysDraggable","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","hide","snap","groupOrderSwap"];r.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"===n(t.orientation)&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"===n(t.margin)&&(r.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"===n(t.margin.item)&&r.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"===n(t.editable)&&r.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"===n(t.groupEditable)&&r.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),this.markDirty()}},o.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&r.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},o.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},o.prototype.setSelection=function(t){var e,i,o,n;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;i>e;e++)o=this.selection[e],n=this.items[o],n&&n.unselect();for(this.selection=[],e=0,i=t.length;i>e;e++)o=t[e],n=this.items[o],n&&(this.selection.push(o),n.select())},o.prototype.getSelection=function(){return this.selection.concat([])},o.prototype.getVisibleItems=function(){var t=this.body.range.getRange();if(this.options.rtl)var e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end);else var i=this.body.util.toScreen(t.start),e=this.body.util.toScreen(t.end);var o=[];for(var n in this.groups)if(this.groups.hasOwnProperty(n))for(var s=this.groups[n],r=s.visibleItems,a=0;a<r.length;a++){var h=r[a];this.options.rtl?h.right<i&&h.right+h.width>e&&o.push(h.id):h.left<e&&h.left+h.width>i&&o.push(h.id)}return o},o.prototype._deselect=function(t){for(var e=this.selection,i=0,o=e.length;o>i;i++)if(e[i]==t){e.splice(i,1);break}},o.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=r.option.asSize,o=this.options,n=o.orientation.item,s=!1,a=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="vis-itemset",s=this._orderGroups()||s;var h=e.end-e.start,d=h!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;d&&(this.stackDirty=!0),
this.lastVisibleInterval=h,this.props.lastWidth=this.props.width;var l=this.stackDirty,c=this._firstGroup(),u={item:t.item,axis:t.axis},p={item:t.item,axis:t.item.vertical/2},f=0,m=t.axis+t.item.vertical;return this.groups[y].redraw(e,p,l),r.forEach(this.groups,function(t){var i=t==c?u:p,o=t.redraw(e,i,l);s=o||s,f+=t.height}),f=Math.max(f,m),this.stackDirty=!1,a.style.height=i(f),this.props.width=a.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==n?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",s=this._isResized()||s},o.prototype._firstGroup=function(){var t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[g];return i||null},o.prototype._updateUngrouped=function(){var t,e,i=this.groups[g];this.groups[y];if(this.groupsData){if(i){i.hide(),delete this.groups[g];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var o=this._getGroupId(t.data),n=this.groups[o];n&&n.add(t)||t.hide()}}}else if(!i){var s=null,r=null;i=new c(s,r,this),this.groups[g]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},o.prototype.getLabelSet=function(){return this.dom.labelSet},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(r.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;r.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},o.prototype.getItems=function(){return this.itemsData},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(r.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;r.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,o)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},o.prototype.getGroups=function(){return this.groupsData},o.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},o.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},o.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?y:this.groupsData?t.group:g},o.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i,n=e.itemsData.get(t,e.itemOptions),s=e.items[t],r=e._getType(n),a=o.types[r];if(s&&(a&&s instanceof a?e._updateItem(s,n):(i=s.selected,e._removeItem(s),s=null)),!s){if(!a)throw"rangeoverflow"==r?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+r+'"');s=new a(n,e.conversion,e.options),s.id=t,e._addItem(s),i&&(this.selection.push(t),s.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0})},o.prototype._onAdd=o.prototype._onUpdate,o.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var o=i.items[t];o&&(e++,i._removeItem(o))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("_change",{queue:!0}))},o.prototype._order=function(){r.forEach(this.groups,function(t){t.order()})},o.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},o.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),o=e.groups[t];if(o)o.setData(i);else{if(t==g||t==y)throw new Error("Illegal group id. "+t+" is a reserved id.");var n=Object.create(e.options);r.extend(n,{height:null}),o=new c(t,i,e),e.groups[t]=o;for(var s in e.items)if(e.items.hasOwnProperty(s)){var a=e.items[s];a.data.group==t&&o.add(a)}o.order(),o.show()}}),this.body.emitter.emit("_change",{queue:!0})},o.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},o.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!r.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},o.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)},o.prototype._updateItem=function(t,e){var i=t.data.group,o=t.data.subgroup;if(t.setData(e),i!=t.data.group||o!=t.data.subgroup){var n=this.groups[i];n&&n.remove(t);var s=this._getGroupId(t.data),r=this.groups[s];r&&r.add(t)}},o.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},o.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e},o.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null},o.prototype._getGroupIndex=function(t){for(var e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e},o.prototype._onDragStart=function(t){var e,i=this.touchParams.item||null,o=this;if(i&&(i.selected||this.options.itemsAlwaysDraggable)){if(!this.options.editable.updateTime&&!this.options.editable.updateGroup&&!i.editable)return;if(i.editable===!1)return;var n=this.touchParams.dragLeftItem,s=this.touchParams.dragRightItem;if(n)e={item:n,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else if(s)e={item:s,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(i.data)},this.touchParams.itemProps=[e];else{this.touchParams.selectedItem=i;var r=this._getGroupIndex(i.data.group),a=this.options.itemsAlwaysDraggable&&!i.selected?[i.id]:this.getSelection();this.touchParams.itemProps=a.map(function(e){var i=o.items[e],n=o._getGroupIndex(i.data.group);return{item:i,initialX:t.center.x,groupOffset:r-n,data:this._cloneItemData(i.data)}}.bind(this))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)},o.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null;if(this.options.rtl)var i=r.getAbsoluteRight(this.dom.frame),o=i-t.center.x+10;else var i=r.getAbsoluteLeft(this.dom.frame),o=t.center.x-i-10;var n=this.body.util.toTime(o),s=this.body.util.getScale(),a=this.body.util.getStep(),h=e?e(n,s,a):n,d=h,l={type:"range",start:h,end:d,content:"new item"},c=r.randomUUID();l[this.itemsData._fieldId]=c;var u=this.groupFromTarget(t);u&&(l.group=u.groupId);var p=new m(l,this.conversion,this.options);p.id=c,p.data=this._cloneItemData(l),this._addItem(p);var f={item:p,initialX:t.center.x,data:p.data};this.options.rtl?f.dragLeft=!0:f.dragRight=!0,this.touchParams.itemProps=[f],t.stopPropagation()},o.prototype._onDrag=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null;if(this.options.rtl)var o=this.body.dom.root.offsetLeft+this.body.domProps.right.width;else var o=this.body.dom.root.offsetLeft+this.body.domProps.left.width;var n=this.body.util.getScale(),s=this.body.util.getStep(),a=this.touchParams.selectedItem,h=e.options.editable.updateGroup,d=null;if(h&&a&&void 0!=a.data.group){var l=e.groupFromTarget(t);l&&(d=this._getGroupIndex(l.groupId))}this.touchParams.itemProps.forEach(function(a){var h=e.body.util.toTime(t.center.x-o),l=e.body.util.toTime(a.initialX-o);if(this.options.rtl)var c=-(h-l);else var c=h-l;var u=this._cloneItemData(a.item.data);if(a.item.editable!==!1){var p=e.options.editable.updateTime||a.item.editable===!0;if(p)if(a.dragLeft){if(this.options.rtl){if(void 0!=u.end){var f=r.convert(a.data.end,"Date"),m=new Date(f.valueOf()+c);u.end=i?i(m,n,s):m}}else if(void 0!=u.start){var v=r.convert(a.data.start,"Date"),g=new Date(v.valueOf()+c);u.start=i?i(g,n,s):g}}else if(a.dragRight){if(this.options.rtl){if(void 0!=u.start){var v=r.convert(a.data.start,"Date"),g=new Date(v.valueOf()+c);u.start=i?i(g,n,s):g}}else if(void 0!=u.end){var f=r.convert(a.data.end,"Date"),m=new Date(f.valueOf()+c);u.end=i?i(m,n,s):m}}else if(void 0!=u.start){var v=r.convert(a.data.start,"Date").valueOf(),g=new Date(v+c);if(void 0!=u.end){var f=r.convert(a.data.end,"Date"),y=f.valueOf()-v.valueOf();u.start=i?i(g,n,s):g,u.end=new Date(u.start.valueOf()+y)}else u.start=i?i(g,n,s):g}var b=e.options.editable.updateGroup||a.item.editable===!0;if(b&&!a.dragLeft&&!a.dragRight&&null!=d&&void 0!=u.group){var w=d-a.groupOffset;w=Math.max(0,w),w=Math.min(e.groupIds.length-1,w),u.group=e.groupIds[w]}u=this._cloneItemData(u),e.options.onMoving(u,function(t){t&&a.item.setData(this._cloneItemData(t,"Date"))}.bind(this))}}.bind(this)),this.stackDirty=!0,this.body.emitter.emit("_change")}},o.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var o=t.parent;o.remove(t),o.order(),i.add(t),i.order(),t.data.group=i.groupId}},o.prototype._onDragEnd=function(t){if(this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach(function(t){var o=t.item.id,n=null!=e.itemsData.get(o,e.itemOptions);if(n){var s=this._cloneItemData(t.item.data);e.options.onMove(s,function(n){n?(n[i._fieldId]=o,i.update(n)):(t.item.setData(t.data),e.stackDirty=!0,e.body.emitter.emit("_change"))})}else e.options.onAdd(t.item.data,function(i){e._removeItem(t.item),i&&e.itemsData.getDataSet().add(i),e.stackDirty=!0,e.body.emitter.emit("_change")})}.bind(this))}},o.prototype._onGroupDragStart=function(t){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},o.prototype._onGroupDrag=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this.groupFromTarget(t);if(e&&e.height!=this.groupTouchParams.group.height){var i=e.top<this.groupTouchParams.group.top,o=t.center?t.center.y:t.clientY,n=r.getAbsoluteTop(e.dom.foreground),s=this.groupTouchParams.group.height;if(i){if(o>n+s)return}else{var a=e.height;if(n+a-s>o)return}}if(e&&e!=this.groupTouchParams.group){var h=this.groupsData,d=h.get(e.groupId),l=h.get(this.groupTouchParams.group.groupId);l&&d&&(this.options.groupOrderSwap(l,d,this.groupsData),this.groupsData.update(l),this.groupsData.update(d));var c=this.groupsData.getIds({order:this.options.groupOrder});if(!r.equalArray(c,this.groupTouchParams.originalOrder))for(var h=this.groupsData,u=this.groupTouchParams.originalOrder,p=this.groupTouchParams.group.groupId,f=Math.min(u.length,c.length),m=0,v=0,g=0;f>m;){for(;f>m+v&&f>m+g&&c[m+v]==u[m+g];)m++;if(m+v>=f)break;if(c[m+v]!=p)if(u[m+g]!=p){var y=c.indexOf(u[m+g]),b=h.get(c[m+v]),w=h.get(u[m+g]);this.options.groupOrderSwap(b,w,h),h.update(b),h.update(w);var _=c[m+v];c[m+v]=u[m+g],c[y]=_,m++}else g=1;else v=1}}}},o.prototype._onGroupDragEnd=function(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();var e=this,i=e.groupTouchParams.group.groupId,o=e.groupsData.getDataSet(),n=r.extend({},o.get(i));e.options.onMoveGroup(n,function(t){if(t)t[o._fieldId]=i,o.update(t);else{var n=o.getIds({order:e.options.groupOrder});if(!r.equalArray(n,e.groupTouchParams.originalOrder))for(var s=e.groupTouchParams.originalOrder,a=Math.min(s.length,n.length),h=0;a>h;){for(;a>h&&n[h]==s[h];)h++;if(h>=a)break;var d=n.indexOf(s[h]),l=o.get(n[h]),c=o.get(s[h]);e.options.groupOrderSwap(l,c,o),groupsData.update(l),groupsData.update(c);var u=n[h];n[h]=s[h],n[d]=u,h++}}}),e.body.emitter.emit("groupDragged",{groupId:i})}},o.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var o=this.getSelection(),n=this.itemFromTarget(t),s=n?[n.id]:[];this.setSelection(s);var r=this.getSelection();(r.length>0||o.length>0)&&this.body.emitter.emit("select",{items:r,event:t})}},o.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,o=this.itemFromTarget(t);if(o){var n=e.itemsData.get(o.id);this.options.onUpdate(n,function(t){t&&e.itemsData.getDataSet().update(t)})}else{if(this.options.rtl)var s=r.getAbsoluteRight(this.dom.frame),a=s-t.center.x;else var s=r.getAbsoluteLeft(this.dom.frame),a=t.center.x-s;var h=this.body.util.toTime(a),d=this.body.util.getScale(),l=this.body.util.getStep(),c={start:i?i(h,d,l):h,content:"new item"};if("range"===this.options.type){var u=this.body.util.toTime(a+this.props.width/5);c.end=i?i(u,d,l):u}c[this.itemsData._fieldId]=r.randomUUID();var p=this.groupFromTarget(t);p&&(c.group=p.groupId),c=this._cloneItemData(c),this.options.onAdd(c,function(t){t&&e.itemsData.getDataSet().add(t)})}}},o.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e=this.itemFromTarget(t);if(e){var i=this.options.multiselect?this.getSelection():[],n=t.srcEvent&&t.srcEvent.shiftKey||!1;if(n&&this.options.multiselect){var s=this.itemsData.get(e.id).group,r=void 0;this.options.multiselectPerGroup&&i.length>0&&(r=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&void 0!=r&&r!=s||i.push(e.id);var a=o._getItemRange(this.itemsData.get(i,this.itemOptions));if(!this.options.multiselectPerGroup||r==s){i=[];for(var h in this.items)if(this.items.hasOwnProperty(h)){var d=this.items[h],l=d.data.start,c=void 0!==d.data.end?d.data.end:l;!(l>=a.min&&c<=a.max)||this.options.multiselectPerGroup&&r!=this.itemsData.get(d.id).group||d instanceof v||i.push(d.id)}}}else{var u=i.indexOf(e.id);-1==u?i.push(e.id):i.splice(u,1)}this.setSelection(i),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}},o._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},o.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},o.prototype.groupFromTarget=function(t){for(var e=t.center?t.center.y:t.clientY,i=0;i<this.groupIds.length;i++){var o=this.groupIds[i],n=this.groups[o],s=n.dom.foreground,a=r.getAbsoluteTop(s);if(e>a&&e<a+s.offsetHeight)return n;if("top"===this.options.orientation.item){if(i===this.groupIds.length-1&&e>a)return n}else if(0===i&&e<a+s.offset)return n}return null},o.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},o.prototype._cloneItemData=function(t,e){var i=r.extend({},t);return e||(e=this.itemsData.getDataSet()._options.type),void 0!=i.start&&(i.start=r.convert(i.start,e&&e.start||"Date")),void 0!=i.end&&(i.end=r.convert(i.end,e&&e.end||"Date")),i},t.exports=o},function(t,e,i){function o(t,e,i,s){this.moment=n,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(s)?this.hiddenDates=s:void 0!=s?this.hiddenDates=[s]:this.hiddenDates=[],this.format=o.FORMAT}var n=i(2),s=i(32),r=i(1);o.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},o.prototype.setMoment=function(t){this.moment=t,this.current=this.moment(this.current),this._start=this.moment(this._start),this._end=this.moment(this._end)},o.prototype.setFormat=function(t){var e=r.deepExtend({},o.FORMAT);this.format=r.deepExtend(e,t)},o.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?this.moment(t.valueOf()):new Date,this._end=void 0!=e?this.moment(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},o.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},o.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},o.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},o.prototype.next=function(){var t=this.current.valueOf();if(this.current.month()<6)switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.subtract(this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}else switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"month":this.current.month()<this.step&&this.current.month(0);break;case"year":}this.current.valueOf()==t&&(this.current=this._end.clone()),s.stepOverHiddenDates(this.moment,this,t)},o.prototype.getCurrent=function(){return this.current},o.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},o.prototype.setAutoScale=function(t){this.autoScale=t},o.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,i=2592e6,o=864e5,n=36e5,s=6e4,r=1e3,a=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*i>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),5*o>t&&(this.scale="day",this.step=5),2*o>t&&(this.scale="day",this.step=2),o>t&&(this.scale="day",this.step=1),o/2>t&&(this.scale="weekday",this.step=1),4*n>t&&(this.scale="hour",this.step=4),n>t&&(this.scale="hour",this.step=1),15*s>t&&(this.scale="minute",this.step=15),10*s>t&&(this.scale="minute",this.step=10),5*s>t&&(this.scale="minute",this.step=5),s>t&&(this.scale="minute",this.step=1),15*r>t&&(this.scale="second",this.step=15),10*r>t&&(this.scale="second",this.step=10),5*r>t&&(this.scale="second",this.step=5),r>t&&(this.scale="second",this.step=1),200*a>t&&(this.scale="millisecond",this.step=200),100*a>t&&(this.scale="millisecond",this.step=100),50*a>t&&(this.scale="millisecond",this.step=50),10*a>t&&(this.scale="millisecond",this.step=10),5*a>t&&(this.scale="millisecond",this.step=5),a>t&&(this.scale="millisecond",this.step=1)}},o.snap=function(t,e,i){var o=n(t);if("year"==e){var s=o.year()+Math.round(o.month()/12);o.year(Math.round(s/i)*i),o.month(0),o.date(0),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("month"==e)o.date()>15?(o.date(1),o.add(1,"month")):o.date(1),o.hours(0),o.minutes(0),o.seconds(0),o.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:o.hours(24*Math.round(o.hours()/24));break;default:o.hours(12*Math.round(o.hours()/12))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:o.hours(12*Math.round(o.hours()/12));break;default:o.hours(6*Math.round(o.hours()/6))}o.minutes(0),o.seconds(0),o.milliseconds(0)}else if("hour"==e){switch(i){case 4:o.minutes(60*Math.round(o.minutes()/60));break;default:o.minutes(30*Math.round(o.minutes()/30))}o.seconds(0),o.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:o.minutes(5*Math.round(o.minutes()/5)),o.seconds(0);break;case 5:o.seconds(60*Math.round(o.seconds()/60));break;default:o.seconds(30*Math.round(o.seconds()/30))}o.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:o.seconds(5*Math.round(o.seconds()/5)),o.milliseconds(0);break;case 5:o.milliseconds(1e3*Math.round(o.milliseconds()/1e3));break;default:o.milliseconds(500*Math.round(o.milliseconds()/500))}else if("millisecond"==e){var r=i>5?i/2:1;o.milliseconds(Math.round(o.milliseconds()/r)*r)}return o},o.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return 1==t.date();case"month":return 0==t.month();case"year":return!1;default:return!1}},o.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""},o.prototype.getClassName=function(){function t(t){return t/h%2==0?" vis-even":" vis-odd"}function e(t){return t.isSame(new Date,"day")?" vis-today":t.isSame(s().add(1,"day"),"day")?" vis-tomorrow":t.isSame(s().add(-1,"day"),"day")?" vis-yesterday":""}function i(t){return t.isSame(new Date,"week")?" vis-current-week":""}function o(t){return t.isSame(new Date,"month")?" vis-current-month":""}function n(t){return t.isSame(new Date,"year")?" vis-current-year":""}var s=this.moment,r=this.moment(this.current),a=r.locale?r.locale("en"):r.lang("en"),h=this.step;switch(this.scale){case"millisecond":return t(a.milliseconds()).trim();case"second":return t(a.seconds()).trim();case"minute":return t(a.minutes()).trim();case"hour":var d=a.hours();return 4==this.step&&(d=d+"-h"+(d+4)),"vis-h"+d+e(a)+t(a.hours());case"weekday":return"vis-"+a.format("dddd").toLowerCase()+e(a)+i(a)+t(a.date());case"day":var l=a.date(),c=a.format("MMMM").toLowerCase();return"vis-day"+l+" vis-"+c+o(a)+t(l-1);case"month":return"vis-"+a.format("MMMM").toLowerCase()+o(a)+t(a.month());case"year":var u=a.year();return"vis-year"+u+n(a)+t(u);default:return""}},t.exports=o},function(t,e,i){function o(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var o=this;this.itemSet.body.emitter.on("checkRangedItems",function(){o.checkRangedItems=!0}),this._create(),this.setData(e)}var n=i(1),s=i(37);i(38);o.prototype._create=function(){var t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;var e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="vis-group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},o.prototype.setData=function(t){var e;if(e=this.itemSet.options&&this.itemSet.options.groupTemplate?this.itemSet.options.groupTemplate(t):t&&t.content,e instanceof Element){for(this.dom.inner.appendChild(e);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else void 0!==e&&null!==e?this.dom.inner.innerHTML=e:this.dom.inner.innerHTML=this.groupId||"";this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?n.removeClassName(this.dom.inner,"vis-hidden"):n.addClassName(this.dom.inner,"vis-hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(n.removeClassName(this.dom.label,this.className),n.removeClassName(this.dom.foreground,this.className),n.removeClassName(this.dom.background,this.className),n.removeClassName(this.dom.axis,this.className)),n.addClassName(this.dom.label,i),n.addClassName(this.dom.foreground,i),n.addClassName(this.dom.background,i),n.addClassName(this.dom.axis,i),this.className=i),this.style&&(n.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(n.addCssText(this.dom.label,t.style),this.style=t.style)},o.prototype.getLabelWidth=function(){return this.props.label.width},o.prototype.redraw=function(t,e,i){var o=!1,r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight&&(this.lastMarkerHeight=r,n.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),this._calculateSubGroupHeights(),"function"==typeof this.itemSet.options.order){if(i){var a=this,h=!1;n.forEach(this.items,function(t){t.displayed||(t.redraw(),a.visibleItems.push(t)),t.repositionX(h)});var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});s.stack(d,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?s.stack(this.visibleItems,e,i):s.nostack(this.visibleItems,e,this.subgroups);var l=this._calculateHeight(e),c=this.dom.foreground;this.top=c.offsetTop,this.right=c.offsetLeft,this.width=c.offsetWidth,o=n.updateProperty(this,"height",l)||o,o=n.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||o,o=n.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||o,this.dom.background.style.height=l+"px",this.dom.foreground.style.height=l+"px",this.dom.label.style.height=l+"px";for(var u=0,p=this.visibleItems.length;p>u;u++){var f=this.visibleItems[u];f.repositionY(e)}return o},o.prototype._calculateSubGroupHeights=function(){if(Object.keys(this.subgroups).length>0){var t=this;this.resetSubgroups(),n.forEach(this.visibleItems,function(e){void 0!==e.data.subgroup&&(t.subgroups[e.data.subgroup].height=Math.max(t.subgroups[e.data.subgroup].height,e.height),t.subgroups[e.data.subgroup].visible=!0)})}},o.prototype._calculateHeight=function(t){var e,i=this.visibleItems;if(i.length>0){var o=i[0].top,s=i[0].top+i[0].height;if(n.forEach(i,function(t){o=Math.min(o,t.top),s=Math.max(s,t.top+t.height)}),o>t.axis){var r=o-t.axis;s-=r,n.forEach(i,function(t){t.top-=r})}e=s+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},o.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},o.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var o=this.dom.axis;o.parentNode&&o.parentNode.removeChild(o)},o.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},o.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},o.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},o.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);if(-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup){var i=this.subgroups[t.data.subgroup];if(i){var o=i.items.indexOf(t);i.items.splice(o,1),i.items.length||(delete this.subgroups[t.data.subgroup],this.subgroupIndex--),this.orderSubgroups()}}},o.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},o.prototype.order=function(){for(var t=n.toArray(this.items),e=[],i=[],o=0;o<t.length;o++)void 0!==t[o].data.end&&i.push(t[o]),e.push(t[o]);this.orderedItems={byStart:e,byEnd:i},s.orderByStart(this.orderedItems.byStart),s.orderByEnd(this.orderedItems.byEnd)},o.prototype._updateVisibleItems=function(t,e,i){var o,s,r=[],a={},h=(i.end-i.start)/4,d=i.start-h,l=i.end+h,c=function(t){
return d>t?-1:l>=t?0:1};if(e.length>0)for(s=0;s<e.length;s++)this._checkIfVisibleWithReference(e[s],r,a,i);var u=n.binarySearchCustom(t.byStart,c,"data","start");if(this._traceVisible(u,t.byStart,r,a,function(t){return t.data.start<d||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,s=0;s<t.byEnd.length;s++)this._checkIfVisibleWithReference(t.byEnd[s],r,a,i);else{var p=n.binarySearchCustom(t.byEnd,c,"data","end");this._traceVisible(p,t.byEnd,r,a,function(t){return t.data.end<d||t.data.end>l})}for(s=0;s<r.length;s++)o=r[s],o.displayed||o.show(),o.repositionX();return r},o.prototype._traceVisible=function(t,e,i,o,n){var s,r;if(-1!=t){for(r=t;r>=0&&(s=e[r],!n(s));r--)void 0===o[s.id]&&(o[s.id]=!0,i.push(s));for(r=t+1;r<e.length&&(s=e[r],!n(s));r++)void 0===o[s.id]&&(o[s.id]=!0,i.push(s))}},o.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},o.prototype._checkIfVisibleWithReference=function(t,e,i,o){t.isVisible(o)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=o},function(t,e){var i=.001;e.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,o="end"in e.data?e.data.end:e.data.start;return i-o})},e.stack=function(t,i,o){var n,s;if(o)for(n=0,s=t.length;s>n;n++)t[n].top=null;for(n=0,s=t.length;s>n;n++){var r=t[n];if(r.stack&&null===r.top){r.top=i.axis;do{for(var a=null,h=0,d=t.length;d>h;h++){var l=t[h];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item,l.options.rtl)){a=l;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical)}while(a)}}},e.nostack=function(t,e,i){var o,n,s;for(o=0,n=t.length;n>o;o++)if(void 0!==t[o].data.subgroup){s=e.axis;for(var r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[o].data.subgroup].index&&(s+=i[r].height+e.item.vertical);t[o].top=s}else t[o].top=e.axis},e.collision=function(t,e,o,n){return n?t.right-o.horizontal+i<e.right+e.width&&t.right+t.width+o.horizontal-i>e.right&&t.top-o.vertical+i<e.top+e.height&&t.top+t.height+o.vertical-i>e.top:t.left-o.horizontal+i<e.left+e.width&&t.left+t.width+o.horizontal-i>e.left&&t.top-o.vertical+i<e.top+e.height&&t.top+t.height+o.vertical-i>e.top}},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,this.options=i,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(39));o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-range",o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.box.className=this.baseClassName+o,this.overflow="hidden"!==window.getComputedStyle(t.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},o.prototype.repositionX=function(t){var e,i,o=this.parent.width,n=this.conversion.toScreen(this.data.start),s=this.conversion.toScreen(this.data.end);void 0!==t&&t!==!0||(-o>n&&(n=-o),s>2*o&&(s=2*o));var r=Math.max(s-n,1);switch(this.overflow?(this.options.rtl?this.right=n:this.left=n,this.width=r+this.props.content.width,i=this.props.content.width):(this.options.rtl?this.right=n:this.left=n,this.width=r,i=Math.min(s-n,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",this.options.align){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(r-i,0)+"px":this.dom.content.style.left=Math.max(r-i,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((r-i)/2,0)+"px":this.dom.content.style.left=Math.max((r-i)/2,0)+"px";break;default:e=this.overflow?s>0?Math.max(-n,0):-i:0>n?-n:0,this.options.rtl?this.dom.content.style.right=e+"px":this.dom.content.style.left=e+"px"}},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},o.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},o.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=o},function(t,e,i){function o(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this.data&&this.data.hasOwnProperty("editable")&&"boolean"==typeof this.data.editable&&(this.editable=t.editable)}var n=i(20),s=i(1);o.prototype.stack=!0,o.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&this.parent.itemSet._moveToGroup(this,t.group),t.hasOwnProperty("editable")&&"boolean"==typeof t.editable&&(this.editable=t.editable),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},o.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},o.prototype.isVisible=function(t){return!1},o.prototype.show=function(){return!1},o.prototype.hide=function(){return!1},o.prototype.redraw=function(){},o.prototype.repositionX=function(){},o.prototype.repositionY=function(){},o.prototype._repaintDeleteButton=function(t){var e=(this.options.editable.remove||this.data.editable===!0)&&this.data.editable!==!1;if(this.selected&&e&&!this.dom.deleteButton){var i=this,o=document.createElement("div");this.options.rtl?o.className="vis-delete-rtl":o.className="vis-delete",o.title="Delete this item",new n(o).on("tap",function(t){t.stopPropagation(),i.parent.removeFromDataSet(i)}),t.appendChild(o),this.dom.deleteButton=o}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},o.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;var o=this._contentToString(this.content)!==this._contentToString(e);if(o){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=e}},o.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("vis-title")},o.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var o=e[i],n=this.data[o];null!=n?t.setAttribute("data-"+o,n):t.removeAttribute("data-"+o)}}},o.prototype._updateStyle=function(t){this.style&&(s.removeCssText(t,this.style),this.style=null),this.data.style&&(s.addCssText(t,this.data.style),this.style=this.data.style)},o.prototype._contentToString=function(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t},o.prototype.getWidthLeft=function(){return 0},o.prototype.getWidthRight=function(){return 0},t.exports=o},function(t,e,i){function o(t,e,i){n.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var n=(i(1),i(36));o.prototype=Object.create(n.prototype),o.prototype.redraw=function(t,e,i){var o=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,s=this.visibleItems.length;s>n;n++){var r=this.visibleItems[n];r.repositionY(e)}return o},o.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39);i(1);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="vis-item-content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="vis-line",t.dot=document.createElement("DIV"),t.dot.className="vis-dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var o=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");o.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var n=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,s=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(n?" vis-editable":" vis-readonly");t.box.className="vis-item vis-box"+s,t.line.className="vis-item vis-line"+s,t.dot.className="vis-item vis-dot"+s,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width+"px",this.dom.dot.style.left=t-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t+"px",this.dom.dot.style.right=t+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=t,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t+"px",this.dom.dot.style.left=t+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=t-this.props.line.width+"px",this.dom.dot.style.right=t-this.props.dot.width/2+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.box,i=this.dom.line,o=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var n=this.parent.itemSet.props.height,s=n-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=n-s+"px",i.style.bottom="0"}o.style.top=-this.props.dot.height/2+"px"},o.prototype.getWidthLeft=function(){return this.width/2},o.prototype.getWidthRight=function(){return this.width/2},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=i,t&&void 0==t.start)throw new Error('Property "start" missing in item '+t);n.call(this,t,e,i)}var n=i(39);o.prototype=new n(null,null,null),o.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="vis-item-content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.options.editable.updateTime||this.options.editable.updateGroup||this.editable===!0)&&this.editable!==!1,o=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(i?" vis-editable":" vis-readonly");t.point.className="vis-item vis-point"+o,t.dot.className="vis-item vis-dot"+o,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,this.options.rtl?t.content.style.marginRight=2*this.props.dot.width+"px":t.content.style.marginLeft=2*this.props.dot.width+"px",this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,t.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?t.dot.style.right=this.props.dot.width/2+"px":t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(t.point)},o.prototype.show=function(){this.displayed||this.redraw()},o.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},o.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=t-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px")},o.prototype.repositionY=function(){var t=this.options.orientation.item,e=this.dom.point;"top"==t?e.style.top=this.top+"px":e.style.top=this.parent.height-this.top-this.height+"px"},o.prototype.getWidthLeft=function(){return this.props.dot.width},o.prototype.getWidthRight=function(){return this.props.dot.width},t.exports=o},function(t,e,i){function o(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error('Property "start" missing in item '+t.id);if(void 0==t.end)throw new Error('Property "end" missing in item '+t.id)}n.call(this,t,e,i)}var n=(i(20),i(39)),s=i(40),r=i(38);o.prototype=new n(null,null,null),o.prototype.baseClassName="vis-item vis-background",o.prototype.stack=!1,o.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},o.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.frame=document.createElement("div"),t.frame.className="vis-item-overflow",t.box.appendChild(t.frame),t.content=document.createElement("div"),t.content.className="vis-item-content",t.frame.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},o.prototype.show=r.prototype.show,o.prototype.hide=r.prototype.hide,o.prototype.repositionX=r.prototype.repositionX,o.prototype.repositionY=function(t){var e="top"===this.options.orientation.item;this.dom.content.style.top=e?"":"0",this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var o=this.data.subgroup,n=this.parent.subgroups,r=n[o].index;if(1==e){i=this.parent.subgroups[o].height+t.item.vertical,i+=0==r?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var h in n)n.hasOwnProperty(h)&&1==n[h].visible&&n[h].index<r&&(a+=n[h].height+t.item.vertical);a+=0!=r?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var h in n)if(n.hasOwnProperty(h)&&1==n[h].visible){var l=n[h].height+t.item.vertical;d+=l,n[h].index>r&&(a+=l)}i=this.parent.subgroups[o].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof s?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=e?"0":"",this.dom.box.style.bottom=e?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},t.exports=o},function(t,e,i){function o(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:a.FORMAT,moment:d,timeAxis:null},this.options=s.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(31),a=i(35),h=i(32),d=i(2);o.prototype=new r,o.prototype.setOptions=function(t){t&&(s.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),s.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"===n(t.orientation)&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof d.locale?d.locale(t.locale):d.lang(t.locale)))},o.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},o.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},o.prototype.redraw=function(){var t=this.props,e=this.dom.foreground,i=this.dom.background,o="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,n=e.parentNode!==o;this._calculateCharSize();var s=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,r=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=s?t.minorCharHeight:0,t.majorLabelHeight=r?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;var a=e.nextSibling,h=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=this.props.height+"px",this._repaintLabels(),a?o.insertBefore(e,a):o.appendChild(e),h?this.body.dom.backgroundVertical.insertBefore(i,h):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||n},o.prototype._repaintLabels=function(){var t=this.options.orientation.axis,e=s.convert(this.body.range.start,"Number"),i=s.convert(this.body.range.end,"Number"),o=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),n=o-h.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,o);n-=this.body.util.toTime(0).valueOf();var r=new a(new Date(e),new Date(i),n,this.body.hiddenDates);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var c,u,p,f,m,v,g,y,b,w,_=0,x=void 0,k=0,O=1e3;for(r.start(),u=r.getCurrent(),f=this.body.util.toScreen(u);r.hasNext()&&O>k;){k++,m=r.isMajor(),w=r.getClassName(),b=r.getLabelMinor(),c=u,p=f,r.next(),u=r.getCurrent(),v=r.isMajor(),f=this.body.util.toScreen(u),g=_,_=f-p;var M=_>=.4*g;if(this.options.showMinorLabels&&M){var D=this._repaintMinorText(p,b,t,w);D.style.width=_+"px"}m&&this.options.showMajorLabels?(p>0&&(void 0==x&&(x=p),D=this._repaintMajorText(p,r.getLabelMajor(),t,w)),y=this._repaintMajorLine(p,_,t,w)):M?y=this._repaintMinorLine(p,_,t,w):y&&(y.style.width=parseInt(y.style.width)+_+"px")}if(k!==O||l||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to "+O+" lines."),l=!0),this.options.showMajorLabels){var S=this.body.util.toTime(0),C=r.getLabelMajor(S),T=C.length*(this.props.majorCharWidth||10)+10;(void 0==x||x>T)&&this._repaintMajorText(0,C,t,w)}s.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},o.prototype._repaintMinorText=function(t,e,i,o){var n=this.dom.redundant.minorTexts.shift();if(!n){var s=document.createTextNode("");n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.minorTexts.push(n),n.childNodes[0].nodeValue=e,n.style.top="top"==i?this.props.majorLabelHeight+"px":"0",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",n.className="vis-text vis-minor "+o,n},o.prototype._repaintMajorText=function(t,e,i,o){var n=this.dom.redundant.majorTexts.shift();if(!n){var s=document.createTextNode(e);n=document.createElement("div"),n.appendChild(s),this.dom.foreground.appendChild(n)}return this.dom.majorTexts.push(n),n.childNodes[0].nodeValue=e,n.className="vis-text vis-major "+o,n.style.top="top"==i?"0":this.props.minorLabelHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t+"px"):n.style.left=t+"px",n},o.prototype._repaintMinorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return"top"==i?n.style.top=s.majorLabelHeight+"px":n.style.top=this.body.domProps.top.height+"px",n.style.height=s.minorLineHeight+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-minor "+o):(n.style.left=t-s.minorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-minor "+o),n.style.width=e+"px",n},o.prototype._repaintMajorLine=function(t,e,i,o){var n=this.dom.redundant.lines.shift();n||(n=document.createElement("div"),this.dom.background.appendChild(n)),this.dom.lines.push(n);var s=this.props;return"top"==i?n.style.top="0":n.style.top=this.body.domProps.top.height+"px",this.options.rtl?(n.style.left="",n.style.right=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical-rtl vis-major "+o):(n.style.left=t-s.majorLineWidth/2+"px",n.className="vis-grid vis-vertical vis-major "+o),n.style.height=s.majorLineHeight+"px",n.style.width=e+"px",n},o.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var l=!1;t.exports=o},function(t,e,i){function o(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),document&&document.body&&(this.onClick=function(i){n(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=s(),this.escListener=this.deactivate.bind(this)}function n(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var s=i(23),r=i(13),a=i(20),h=i(1);r(o.prototype),o.current=null,o.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},o.prototype.activate=function(){o.current&&o.current.deactivate(),o.current=this,this.active=!0,this.dom.overlay.style.display="none",h.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},o.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",h.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},o.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=o},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={moment:a,locales:h,locale:"en",id:void 0,title:void 0},this.options=s.extend({},this.defaultOptions),e&&e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this.setOptions(e),this._create()}var n=i(20),s=i(1),r=i(31),a=i(2),h=i(47);o.prototype=new r,o.prototype.setOptions=function(t){t&&s.selectiveExtend(["moment","locale","locales","id"],this.options,t)},o.prototype._create=function(){var t=document.createElement("div");t["custom-time"]=this,t.className="vis-custom-time "+(this.options.id||""),t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=new n(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:n.DIRECTION_HORIZONTAL})},o.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},o.prototype.redraw=function(){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale];i||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),i=this.options.locales.en);var o=this.options.title;return void 0===o&&(o=i.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss"),o=o.charAt(0).toUpperCase()+o.substring(1)),this.bar.style.left=e+"px",this.bar.title=o,!1},o.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},o.prototype.setCustomTime=function(t){this.customTime=s.convert(t,"Date"),this.redraw()},o.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},o.prototype.setCustomTitle=function(t){this.options.title=t},o.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()},o.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=this.body.util.toScreen(this.eventParams.customTime)+t.deltaX,i=this.body.util.toTime(e);this.setCustomTime(i),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())
}),t.stopPropagation()}},o.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation())},o.customTimeFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null},t.exports=o},function(t,e){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.nl={current:"huidige",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){function o(t,e){this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:r,locales:a,locale:"en"},this.options=n.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var n=i(1),s=i(31),r=i(2),a=i(47);o.prototype=new s,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},o.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},o.prototype.setOptions=function(t){t&&n.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,t)},o.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=this.options.moment((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),o=this.options.locales[this.options.locale];o||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),o=this.options.locales.en);var n=o.current+" "+o.time+": "+e.format("dddd, MMMM Do YYYY, H:mm:ss");n=n.charAt(0).toUpperCase()+n.substring(1),this.options.rtl?this.bar.style.right=i+"px":this.bar.style.left=i+"px",this.bar.title=n}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},o.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,o=1/i/10;30>o&&(o=30),o>1e3&&(o=1e3),e.redraw(),e.body.emitter.emit("currentTimeTick"),e.currentTimeTimer=setTimeout(t,o)}var e=this;t()},o.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},o.prototype.setCurrentTime=function(t){var e=n.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},o.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",c={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:h},__type__:{object:a,"boolean":o,"function":"function"}},align:{string:i},rtl:{"boolean":o,undefined:"undefined"},autoResize:{"boolean":o},throttleRedraw:{number:n},clickToUse:{"boolean":o},dataAttributes:{string:i,array:s},editable:{add:{"boolean":o,undefined:"undefined"},remove:{"boolean":o,undefined:"undefined"},updateGroup:{"boolean":o,undefined:"undefined"},updateTime:{"boolean":o,undefined:"undefined"},__type__:{"boolean":o,object:a}},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},groupOrder:{string:i,"function":"function"},groupEditable:{add:{"boolean":o,undefined:"undefined"},remove:{"boolean":o,undefined:"undefined"},order:{"boolean":o,undefined:"undefined"},__type__:{"boolean":o,object:a}},groupOrderSwap:{"function":"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},itemsAlwaysDraggable:{"boolean":o},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},margin:{axis:{number:n},item:{horizontal:{number:n,undefined:"undefined"},vertical:{number:n,undefined:"undefined"},__type__:{object:a,number:n}},__type__:{object:a,number:n}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{"boolean":o},multiselect:{"boolean":o},multiselectPerGroup:{"boolean":o},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},onAddGroup:{"function":"function"},onMoveGroup:{"function":"function"},onRemoveGroup:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:i,undefined:"undefined"},item:{string:i,undefined:"undefined"},__type__:{string:i,object:a}},selectable:{"boolean":o},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},stack:{"boolean":o},snap:{"function":"function","null":"null"},start:{date:r,number:n,string:i,moment:d},template:{"function":"function"},groupTemplate:{"function":"function"},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},type:{string:i},width:{string:i,number:n},zoomable:{"boolean":o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},__type__:{object:a}},u={global:{align:["center","left","right"],direction:!1,autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}};e.allOptions=c,e.configureOptions=u},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i,o){if(!(Array.isArray(i)||i instanceof c||i instanceof u)&&i instanceof Object){var n=o;o=i,i=n}var s=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:d,width:null,height:null,maxHeight:null,minHeight:null},this.options=l.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:s._toScreen.bind(s),toGlobalScreen:s._toGlobalScreen.bind(s),toTime:s._toTime.bind(s),toGlobalTime:s._toGlobalTime.bind(s)}},this.range=new p(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new m(this.body),this.components.push(this.timeAxis),this.currentTime=new v(this.body),this.components.push(this.currentTime),this.linegraph=new y(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){s.emit("click",s.getEventProperties(t))}),this.on("doubletap",function(t){s.emit("doubleClick",s.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){s.emit("contextmenu",s.getEventProperties(t))},o&&this.setOptions(o),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}var s=i(26),r=o(s),a=i(29),h=o(a),d=(i(13),i(20),i(2)),l=i(1),c=i(9),u=i(11),p=i(30),f=i(33),m=i(44),v=i(48),g=i(46),y=i(51),b=i(29).printStyle,w=i(59).allOptions,_=i(59).configureOptions;n.prototype=new f,n.prototype.setOptions=function(t){var e=h["default"].validate(t,w);e===!0&&console.log("%cErrors have been found in the supplied options object.",b),f.prototype.setOptions.call(this,t)},n.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof c||t instanceof u?t:new c(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var o=void 0!=this.options.start?this.options.start:null,n=void 0!=this.options.end?this.options.end:null;this.setWindow(o,n,{animation:!1})}else this.fit({animation:!1})},n.prototype.setGroups=function(t){var e;e=t?t instanceof c||t instanceof u?t:new c(t):null,this.groupsData=e,this.linegraph.setGroups(e)},n.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},n.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]):!1},n.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var o=0;o<this.linegraph.groups[i].itemsData.length;o++){var n=this.linegraph.groups[i].itemsData[o],s=l.convert(n.x,"Date").valueOf();t=null==t?s:t>s?s:t,e=null==e?s:s>e?s:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},n.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,o=e-l.getAbsoluteLeft(this.dom.centerContainer),n=i-l.getAbsoluteTop(this.dom.centerContainer),s=this._toTime(o),r=g.customTimeFromTarget(t),a=l.getTarget(t),h=null;l.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&l.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":l.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":l.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":l.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":l.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":null!=r?h="custom-time":l.hasParent(a,this.currentTime.bar)?h="current-time":l.hasParent(a,this.dom.center)&&(h="background");var d=[],c=this.linegraph.yAxisLeft,u=this.linegraph.yAxisRight;return c.hidden||d.push(c.screenToValue(n)),u.hidden||d.push(u.screenToValue(n)),{event:t,what:h,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:n,time:s,value:d}},n.prototype._createConfigurator=function(){return new r["default"](this,this.dom.container,_)},t.exports=n},function(t,e,i){function o(t,e){this.id=s.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=s.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,o){i._onAdd(e.items)},update:function(t,e,o){i._onUpdate(e.items)},remove:function(t,e,o){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,o){i._onAddGroups(e.items)},update:function(t,e,o){i._onUpdateGroups(e.items)},remove:function(t,e,o){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=s.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=i(8),a=i(9),h=i(11),d=i(31),l=i(52),c=i(54),u=i(58),p=i(55),f=i(57),m=i(56),v="__ungrouped__";o.prototype=new d,o.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new l(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new u(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new u(this.body,this.options.legend,"right",this.options.groups),this.show()},o.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),s.selectiveDeepExtend(e,this.options,t),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),s.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(v)&&this.groups[v].setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setItems=function(t){var e,i=this,o=this.itemsData;if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(o&&(s.forEach(this.itemListeners,function(t,e){o.off(e,t)}),e=o.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;s.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e)}},o.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){s.forEach(this.groupListeners,function(t,e){i.groupsData.off(e,t)}),e=this.groupsData.getIds(),this.groupsData=null;for(var o=0;o<e.length;o++)this._removeGroup(e[o])}if(t){if(!(t instanceof a||t instanceof h))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var n=this.id;s.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,n)}),e=this.groupsData.getIds(),this._onAddGroups(e)}},o.prototype._onUpdate=function(t){this._updateAllGroupData()},o.prototype._onAdd=function(t){this._onUpdate(t)},o.prototype._onRemove=function(t){this._onUpdate(t)},o.prototype._onUpdateGroups=function(t){this._updateAllGroupData()},o.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},o.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},o.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},o.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new c(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype._updateAllGroupData=function(){if(null!=this.itemsData){for(var t={},e=this.itemsData.get(),i={},o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r=v),i.hasOwnProperty(r)?i[r]++:i[r]=1}for(var o=0;o<e.length;o++){var n=e[o],r=n.group;null!==r&&void 0!==r||(r=v),t.hasOwnProperty(r)||(t[r]=new Array(i[r]));var a=s.bridgeObject(n);a.x=s.convert(n.x,"Date"),a.orginalY=n.y,a.y=Number(n.y);var h=t[r].length-i[r]--;t[r][h]=a}for(var r in this.groups)this.groups.hasOwnProperty(r)&&(t.hasOwnProperty(r)||(t[r]=new Array(0)));for(var r in t)if(t.hasOwnProperty(r))if(0==t[r].length)this.groups.hasOwnProperty(r)&&this._removeGroup(r);else{var d=void 0;void 0!=this.groupsData&&(d=this.groupsData.get(r)),void 0==d&&(d={id:r,content:this.options.defaultGroup+r}),this._updateGroup(d,r),this.groups[r].setItems(t[r])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},o.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=s.option.asSize(3*this.props.width),this.svg.style.left=s.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1;else if(0!=this.lastStart){var o=this.body.range.start-this.lastStart,n=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=this.props.width/n,a=o*r;this.svg.style.left=-this.props.width-a+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},o.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}s.insertSort(t,function(t,e){var i=t.zIndex,o=e.zIndex;return void 0===i&&(i=0),void 0===o&&(o=0),i==o?0:o>i?-1:1});for(var o=new Array(t.length),n=0;n<t.length;n++)o[n]=t[n].id;return o},o.prototype._updateGraph=function(){if(r.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},o=!1,n=this.body.util.toGlobalTime(-this.body.domProps.root.width),s=this.body.util.toGlobalTime(2*this.body.domProps.root.width),a=this._getSortedGroupIds();if(a.length>0){var h={};for(this._getRelevantData(a,h,n,s),this._applySampling(a,h),e=0;e<a.length;e++)this._convertXcoordinates(h[a[e]]);if(this._getYRanges(a,h,i),o=this._updateYAxis(a,i),1==o)return r.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var d=void 0;for(e=0;e<a.length;e++)t=this.groups[a[e]],this.options.stack===!0&&"line"===this.options.style&&(void 0!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(void 0!=d&&(this._stack(h[t.id],h[d.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==d.options.shaded.orientation?(d.options.shaded.orientation="group",d.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=d.id))),d=t)),this._convertYcoordinates(h[a[e]],t);var l={};for(e=0;e<a.length;e++)if(t=this.groups[a[e]],"line"===t.options.style&&1==t.options.shaded.enabled){var c=h[a[e]];if(null==c||0==c.length)continue;if(l.hasOwnProperty(a[e])||(l[a[e]]=f.calcPath(c,t)),"group"===t.options.shaded.orientation){var u=t.options.shaded.groupId;if(-1===a.indexOf(u)){console.log(t.id+": Unknown shading group target given:"+u);continue}l.hasOwnProperty(u)||(l[u]=f.calcPath(h[u],this.groups[u])),f.drawShading(l[a[e]],t,l[u],this.framework)}else f.drawShading(l[a[e]],t,void 0,this.framework)}for(p.draw(a,h,this.framework),e=0;e<a.length;e++)if(t=this.groups[a[e]],h[a[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(a[e])||(l[a[e]]=f.calcPath(h[a[e]],t)),f.draw(l[a[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||m.draw(h[a[e]],t,this.framework);break;case"bar":}}}return r.cleanupElements(this.svgElements),!1},o.prototype._stack=function(t,e){var i,o,n,s,r;i=0;for(var a=0;a<t.length;a++){s=void 0,r=void 0;for(var h=i;h<e.length;h++){if(e[h].x===t[a].x){s=e[h],r=e[h],i=h;break}if(e[h].x>t[a].x){r=e[h],s=0==h?r:e[h-1],i=h;break}}void 0===r&&(s=e[e.length-1],r=e[e.length-1]),o=r.x-s.x,n=r.y-s.y,0==o?t[a].y=t[a].orginalY+r.y:t[a].y=t[a].orginalY+n/o*(t[a].x-s.x)+s.y}},o.prototype._getRelevantData=function(t,e,i,o){var n,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){n=this.groups[t[r]];var d=n.getItems();if(1==n.options.sort){var l=function(t,e){return t.getTime()==e.getTime()?0:e>t?-1:1},c=Math.max(0,s.binarySearchValue(d,i,"x","before",l)),u=Math.min(d.length,s.binarySearchValue(d,o,"x","after",l)+1);0>=u&&(u=d.length);var p=new Array(u-c);for(a=c;u>a;a++)h=n.itemsData[a],p[a-c]=h;e[t[r]]=p}else e[t[r]]=n.itemsData}},o.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var o=0;o<t.length;o++)if(i=this.groups[t[o]],1==i.options.sampling){var n=e[t[o]];if(n.length>0){var s=1,r=n.length,a=this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x),h=r/a;s=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(h)));for(var d=new Array(r),l=0;r>l;l+=s){var c=Math.round(l/s);d[c]=n[l]}e[t[o]]=d.splice(0,Math.round(r/s))}}},o.prototype._getYRanges=function(t,e,i){var o,n,s,r,a=[],h=[];if(t.length>0){for(s=0;s<t.length;s++)o=e[t[s]],r=this.groups[t[s]].options,o.length>0&&(n=this.groups[t[s]],r.stack===!0&&"bar"===r.style?"left"===r.yAxisOrientation?a=a.concat(n.getItems()):h=h.concat(n.getItems()):i[t[s]]=n.getYRange(o,t[s]));p.getStackedYRange(a,i,t,"__barStackLeft","left"),p.getStackedYRange(h,i,t,"__barStackRight","right")}},o.prototype._updateYAxis=function(t,e){var i,o,n=!1,s=!1,r=!1,a=1e9,h=1e9,d=-1e9,l=-1e9;if(t.length>0){for(var c=0;c<t.length;c++){var u=this.groups[t[c]];u&&"right"!=u.options.yAxisOrientation?(s=!0,a=1e9,d=-1e9):u&&u.options.yAxisOrientation&&(r=!0,h=1e9,l=-1e9)}for(var c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&e[t[c]].ignore!==!0&&(i=e[t[c]].min,o=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(s=!0,a=a>i?i:a,d=o>d?o:d):(r=!0,h=h>i?i:h,l=o>l?o:l));1==s&&this.yAxisLeft.setRange(a,d),1==r&&this.yAxisRight.setRange(h,l)}n=this._toggleAxisVisiblity(s,this.yAxisLeft)||n,n=this._toggleAxisVisiblity(r,this.yAxisRight)||n,1==r&&1==s?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!s,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(1==r?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,n=this.yAxisLeft.redraw()||n,n=this.yAxisRight.redraw()||n):n=this.yAxisRight.redraw()||n;for(var p=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],c=0;c<p.length;c++)-1!=t.indexOf(p[c])&&t.splice(t.indexOf(p[c]),1);return n},o.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},o.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y},o.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,o=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var n=0;n<t.length;n++)t[n].screen_y=Math.round(i.convertValue(t[n].y));e.setZeroPosition(Math.min(o,i.convertValue(0)))},t.exports=o},function(t,e,i){function o(t,e,i,o){this.id=n.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(t){return""+parseFloat(t.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=o,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=n.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var s=this;this.body.emitter.on("verticalDrag",function(){s.dom.lineContainer.style.top=s.body.domProps.scrollTop+"px"})}var n=i(1),s=i(8),r=i(31),a=i(53);o.prototype=new r,o.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},o.prototype.updateGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];n.selectiveDeepExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),e===!0&&this.dom.frame&&(this.hide(),this.show())}},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},o.prototype._redrawGroupIcons=function(){s.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=15,o=4,n=o+.5*i;t="left"===this.options.orientation?o:this.width-e-o;var r=Object.keys(this.groups);r.sort(function(t,e){return e>t?-1:1});for(var a=0;a<r.length;a++){var h=r[a];this.groups[h].visible!==!0||void 0!==this.linegraphOptions.visibility[h]&&this.linegraphOptions.visibility[h]!==!0||(this.groups[h].getLegend(e,i,this.framework,t,n),n+=i+o)}s.cleanupElements(this.svgElements),this.iconsRemoved=!1},o.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(s.prepareElements(this.svgElements),s.cleanupElements(this.svgElements),this.iconsRemoved=!0)},o.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||(this.options.rtl?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.left.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},o.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},o.prototype.setRange=function(t,e){this.range.start=t,this.range.end=e},o.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(this.groups[i].visible!==!0||void 0!==this.linegraphOptions.visibility[i]&&this.linegraphOptions.visibility[i]!==!0||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var o=this.props,n=this.dom.frame;n.className="vis-data-axis",this._calculateCharSize();var s=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;o.minorLabelHeight=r?o.minorCharHeight:0,o.majorLabelHeight=a?o.majorCharHeight:0,o.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,o.minorLineHeight=1,o.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,o.majorLineHeight=1,"left"===s?(n.style.top="0",n.style.left="0",n.style.bottom="",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(n.style.top="",n.style.bottom="0",n.style.left="0",n.style.width=this.width+"px",n.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,
this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(s)}return t},o.prototype._redrawLabels=function(){var t=this,e=!1;s.prepareElements(this.DOMelements.lines),s.prepareElements(this.DOMelements.labels);var i=this.options.orientation,o=void 0!=this.options[i].range?this.options[i].range:{},n=!0;void 0!=o.max&&(this.range.end=o.max,n=!1);var r=!0;void 0!=o.min&&(this.range.start=o.min,r=!1),this.scale=new a(this.range.start,this.range.end,r,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[i].format),this.master===!1&&void 0!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0;var h=this.scale.getLines();h.forEach(function(e){var o=e.y,n=e.major;t.options.showMinorLabels&&n===!1&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-minor",t.props.minorCharHeight),n&&o>=0&&t._redrawLabel(o-2,e.val,i,"vis-y-axis vis-major",t.props.majorCharHeight),t.master===!0&&(n?t._redrawLine(o,i,"vis-grid vis-horizontal vis-major",t.options.majorLinesOffset,t.props.majorLineWidth):t._redrawLine(o,i,"vis-grid vis-horizontal vis-minor",t.options.minorLinesOffset,t.props.minorLineWidth))});var d=0;void 0!==this.options[i].title&&void 0!==this.options[i].title.text&&(d=this.props.titleCharHeight);var l=this.options.icons===!0?Math.max(this.options.iconWidth,d)+this.options.labelOffsetX+15:d+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-l&&this.options.visible===!0?(this.width=this.maxLabelSize+l,this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):this.maxLabelSize<this.width-l&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+l),this.options.width=this.width+"px",s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),this.redraw(),e=!0):(s.cleanupElements(this.DOMelements.lines),s.cleanupElements(this.DOMelements.labels),e=!1),e},o.prototype.convertValue=function(t){return this.scale.convertValue(t)},o.prototype.screenToValue=function(t){return this.scale.screenToValue(t)},o.prototype._redrawLabel=function(t,e,i,o,n){var r=s.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=o,r.innerHTML=e,"left"===i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*n+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},o.prototype._redrawLine=function(t,e,i,o,n){if(this.master===!0){var r=s.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-o+"px":r.style.right=this.width-o+"px",r.style.width=n+"px",r.style.top=t+"px"}},o.prototype._redrawTitle=function(t){if(s.prepareElements(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){var e=s.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="vis-y-axis vis-title vis-"+t,e.innerHTML=this.options[t].title.text,void 0!==this.options[t].title.style&&n.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}s.cleanupElements(this.DOMelements.title)},o.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),o=document.createElement("div");o.className="vis-y-axis vis-major vis-measure",o.appendChild(i),this.dom.frame.appendChild(o),this.props.majorCharHeight=o.clientHeight,this.props.majorCharWidth=o.clientWidth,this.dom.frame.removeChild(o)}if(!("titleCharHeight"in this.props)){var n=document.createTextNode("0"),s=document.createElement("div");s.className="vis-y-axis vis-title vis-measure",s.appendChild(n),this.dom.frame.appendChild(s),this.props.titleCharHeight=s.clientHeight,this.props.titleCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}},t.exports=o},function(t,e){function i(t,e,i,o,n,s){var r=arguments.length<=6||void 0===arguments[6]?!1:arguments[6],a=arguments.length<=7||void 0===arguments[7]?!1:arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=n,this.majorCharHeight=s,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=r,this.autoScaleStart=i,this.autoScaleEnd=o,this.formattingFunction=a,i||o){var h=this,d=function(t){var e=t-t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx]);return t%(h.magnitudefactor*h.minorSteps[h.minorStepIdx])>.5*(h.magnitudefactor*h.minorSteps[h.minorStepIdx])?e+h.magnitudefactor*h.minorSteps[h.minorStepIdx]:e};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=d(this._start)),o&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=d(this._end)),this.determineScale()}}i.prototype.setCharHeight=function(t){this.majorCharHeight=t},i.prototype.setHeight=function(t){this.containerHeight=t},i.prototype.determineScale=function(){var t=this._end-this._start;this.scale=this.containerHeight/t;var e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);var o=0;0>i&&(o=i);for(var n=!1,s=o;Math.abs(s)<=Math.abs(i);s++){this.magnitudefactor=Math.pow(10,s);for(var r=0;r<this.minorSteps.length;r++){var a=this.magnitudefactor*this.minorSteps[r];if(a>=e){n=!0,this.minorStepIdx=r;break}}if(n===!0)break}},i.prototype.is_major=function(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])===0},i.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},i.prototype.getFirstMajor=function(){var t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)},i.prototype.formatValue=function(t){var e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?""+e:"string"==typeof e?e:t.toPrecision(5)},i.prototype.getLines=function(){for(var t=[],e=this.getStep(),i=(e-this._start%e)%e,o=this._start+i;this._end-o>1e-5;o+=e)o!=this._start&&t.push({major:this.is_major(o),y:this.convertValue(o),val:this.formatValue(o)});return t},i.prototype.followScale=function(t){var e=this.minorStepIdx,i=this._start,o=this._end,n=this,s=function(){n.magnitudefactor*=2},r=function(){n.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e?s():(s(),s())):(this.minorStepIdx=2,1==e?r():(r(),r())));for(var a=(t.getLines(),t.convertValue(0)),h=t.getStep()*t.scale,d=!1,l=0;!d&&l++<5;){this.scale=h/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var c=this.containerHeight/this.scale;this._start=i,this._end=this._start+c;var u=this._end*this.scale,p=this.magnitudefactor*this.majorSteps[this.minorStepIdx],f=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){var m=a-u;this._end+=m/this.scale,this._start=this._end-c}else this.autoScaleStart?(this._start-=f/this.scale,this._end=this._start+c):(this._start+=p-f/this.scale,this._end=this._start+c);if(!this.autoScaleEnd&&this._end>o+1e-5)r(),d=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){r(),d=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&o-i>c?(s(),d=!1):d=!0}}},i.prototype.convertValue=function(t){return this.containerHeight-(t-this._start)*this.scale},i.prototype.screenToValue=function(t){return(this.containerHeight-t)/this.scale+this._start},t.exports=i},function(t,e,i){function o(t,e,i,o){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"];this.options=s.selectiveBridgeObject(n,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=o,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible?!0:t.visible}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},s=i(1),r=(i(8),i(55)),a=i(57),h=i(56);o.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&s.insertSort(this.itemsData,function(t,e){return t.x>e.x?1:-1})):this.itemsData=[]},o.prototype.getItems=function(){return this.itemsData},o.prototype.setZeroPosition=function(t){this.zeroPosition=t},o.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"];s.selectiveDeepExtend(e,this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),s.mergeOptions(this.options,t,"interpolation"),s.mergeOptions(this.options,t,"drawPoints"),s.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==n(t.interpolation)&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},o.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible?!0:t.visible,this.style=t.style,this.setOptions(t.options)},o.prototype.getLegend=function(t,e,i,o,n){if(void 0==i||null==i){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");i={svg:s,svgElements:{},options:this.options,groups:[this]}}switch(void 0!=o&&null!=o||(o=0),void 0!=n&&null!=n||(n=.5*e),this.options.style){case"line":a.drawIcon(this,o,n,t,e,i);break;case"points":case"point":h.drawIcon(this,o,n,t,e,i);break;case"bar":r.drawIcon(this,o,n,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},o.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,o=0;o<t.length;o++)e=e>t[o].y?t[o].y:e,i=i<t[o].y?t[o].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},t.exports=o},function(t,e,i){function o(t,e){}var n=i(8),s=i(56);o.drawIcon=function(t,e,i,o,s,r){var a=.5*s,h=n.getSVGElement("rect",r.svgElements,r.svg);h.setAttributeNS(null,"x",e),h.setAttributeNS(null,"y",i-a),h.setAttributeNS(null,"width",o),h.setAttributeNS(null,"height",2*a),h.setAttributeNS(null,"class","vis-outline");var d=Math.round(.3*o),l=t.options.barChart.width,c=l/d,u=Math.round(.4*s),p=Math.round(.75*s),f=Math.round((o-2*d)/3);if(n.drawBar(e+.5*d+f,i+a-u-1,d,u,t.className+" vis-bar",r.svgElements,r.svg,t.style),n.drawBar(e+1.5*d+f+2,i+a-p-1,d,p,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var m={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/c,className:t.className};n.drawPoint(e+.5*d+f,i+a-u-1,m,r.svgElements,r.svg),n.drawPoint(e+1.5*d+f+2,i+a-p-1,m,r.svgElements,r.svg)}},o.draw=function(t,e,i){var r,a,h,d,l,c,u=[],p={},f=0;for(l=0;l<t.length;l++)if(d=i.groups[t[l]],"bar"===d.options.style&&d.visible===!0&&(void 0===i.options.groups.visibility[t[l]]||i.options.groups.visibility[t[l]]===!0))for(c=0;c<e[t[l]].length;c++)u.push({screen_x:e[t[l]][c].screen_x,screen_y:e[t[l]][c].screen_y,x:e[t[l]][c].x,y:e[t[l]][c].y,groupId:t[l],label:e[t[l]][c].label}),f+=1;if(0!==f)for(u.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}),o._getDataIntersections(p,u),l=0;l<u.length;l++){d=i.groups[u[l].groupId];var m=void 0!=d.options.barChart.minWidth?d.options.barChart.minWidth:.1*d.options.barChart.width;a=u[l].screen_x;var v=0;if(void 0===p[a])l+1<u.length&&(r=Math.abs(u[l+1].screen_x-a)),h=o._getSafeDrawData(r,d,m);else{var g=l+(p[a].amount-p[a].resolved);l-(p[a].resolved+1);g<u.length&&(r=Math.abs(u[g].screen_x-a)),h=o._getSafeDrawData(r,d,m),p[a].resolved+=1,d.options.stack===!0&&d.options.excludeFromStacking!==!0?u[l].screen_y<d.zeroPosition?(v=p[a].accumulatedNegative,p[a].accumulatedNegative+=d.zeroPosition-u[l].screen_y):(v=p[a].accumulatedPositive,p[a].accumulatedPositive+=d.zeroPosition-u[l].screen_y):d.options.barChart.sideBySide===!0&&(h.width=h.width/p[a].amount,h.offset+=p[a].resolved*h.width-.5*h.width*(p[a].amount+1))}if(n.drawBar(u[l].screen_x+h.offset,u[l].screen_y-v,h.width,d.zeroPosition-u[l].screen_y,d.className+" vis-bar",i.svgElements,i.svg,d.style),d.options.drawPoints.enabled===!0){var y={screen_x:u[l].screen_x,screen_y:u[l].screen_y-v,x:u[l].x,y:u[l].y,groupId:u[l].groupId,label:u[l].label};s.draw([y],d,i,h.offset)}}},o._getDataIntersections=function(t,e){for(var i,o=0;o<e.length;o++)o+1<e.length&&(i=Math.abs(e[o+1].screen_x-e[o].screen_x)),o>0&&(i=Math.min(i,Math.abs(e[o-1].screen_x-e[o].screen_x))),0===i&&(void 0===t[e[o].screen_x]&&(t[e[o].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[o].screen_x].amount+=1)},o._getSafeDrawData=function(t,e,i){var o,n;return t<e.options.barChart.width&&t>0?(o=i>t?i:t,n=0,"left"===e.options.barChart.align?n-=.5*t:"right"===e.options.barChart.align&&(n+=.5*t)):(o=e.options.barChart.width,n=0,"left"===e.options.barChart.align?n-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(n+=.5*e.options.barChart.width)),{width:o,offset:n}},o.getStackedYRange=function(t,e,i,n,s){if(t.length>0){t.sort(function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x});var r={};o._getDataIntersections(r,t),e[n]=o._getStackedYRange(r,t),e[n].yAxisOrientation=s,i.push(n)}},o._getStackedYRange=function(t,e){for(var i,o=e[0].screen_y,n=e[0].screen_y,s=0;s<e.length;s++)i=e[s].screen_x,void 0===t[i]?(o=o>e[s].screen_y?e[s].screen_y:o,n=n<e[s].screen_y?e[s].screen_y:n):e[s].screen_y<0?t[i].accumulatedNegative+=e[s].screen_y:t[i].accumulatedPositive+=e[s].screen_y;for(var r in t)t.hasOwnProperty(r)&&(o=o>t[r].accumulatedNegative?t[r].accumulatedNegative:o,o=o>t[r].accumulatedPositive?t[r].accumulatedPositive:o,n=n<t[r].accumulatedNegative?t[r].accumulatedNegative:n,n=n<t[r].accumulatedPositive?t[r].accumulatedPositive:n);return{min:o,max:n}},t.exports=o},function(t,e,i){function o(t,e){}function n(t,e){return e="undefined"==typeof e?{}:e,{style:e.style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function s(t,e){var i=void 0;return t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender),e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender),i}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=i(8);o.draw=function(t,e,i,o){o=o||0;for(var h=s(i,e),d=0;d<t.length;d++)if(h){var l=h(t[d],e);l!==!0&&"object"!==("undefined"==typeof l?"undefined":r(l))||a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e,l),i.svgElements,i.svg,t[d].label)}else a.drawPoint(t[d].screen_x+o,t[d].screen_y,n(e),i.svgElements,i.svg,t[d].label)},o.drawIcon=function(t,e,i,o,s,r){var h=.5*s,d=a.getSVGElement("rect",r.svgElements,r.svg);d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-h),d.setAttributeNS(null,"width",o),d.setAttributeNS(null,"height",2*h),d.setAttributeNS(null,"class","vis-outline"),a.drawPoint(e+.5*o,i,n(t),r.svgElements,r.svg)},t.exports=o},function(t,e,i){function o(t,e){}var n=i(8);o.calcPath=function(t,e){if(null!=t&&t.length>0){var i=[];return i=1==e.options.interpolation.enabled?o._catmullRom(t,e):o._linear(t)}},o.drawIcon=function(t,e,i,o,s,r){var a,h,d=.5*s,l=n.getSVGElement("rect",r.svgElements,r.svg);if(l.setAttributeNS(null,"x",e),l.setAttributeNS(null,"y",i-d),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*d),l.setAttributeNS(null,"class","vis-outline"),a=n.getSVGElement("path",r.svgElements,r.svg),a.setAttributeNS(null,"class",t.className),void 0!==t.style&&a.setAttributeNS(null,"style",t.style),a.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+o)+","+i),1==t.options.shaded.enabled&&(h=n.getSVGElement("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?h.setAttributeNS(null,"d","M"+e+", "+(i-d)+"L"+e+","+i+" L"+(e+o)+","+i+" L"+(e+o)+","+(i-d)):h.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+d)+" L"+(e+o)+","+(i+d)+"L"+(e+o)+","+i),h.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&h.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled){var c={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className};n.drawPoint(e+.5*o,i,c,r.svgElements,r.svg)}},o.drawShading=function(t,e,i,o){if(1==e.options.shaded.enabled){var s=Number(o.svg.style.height.replace("px","")),r=n.getSVGElement("path",o.svgElements,o.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var h,d=0;d="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?s:Math.min(Math.max(0,e.zeroPosition),s),h="group"==e.options.shaded.orientation&&null!=i&&void 0!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+d+" H"+t[0][0]+" Z",r.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&r.setAttributeNS(null,"style",e.options.shaded.style),r.setAttributeNS(null,"d",h)}},o.draw=function(t,e,i){if(null!=t&&void 0!=t){var o=n.getSVGElement("path",i.svgElements,i.svg);o.setAttributeNS(null,"class",e.className),void 0!==e.style&&o.setAttributeNS(null,"style",e.style);var s="L";1==e.options.interpolation.enabled&&(s="C"),o.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,s,!1))}},o.serializePath=function(t,e,i){if(t.length<2)return"";var o=e;if(i)for(var n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(var n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},o._catmullRomUniform=function(t){var e,i,o,n,s,r,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var h=1/6,d=t.length,l=0;d-1>l;l++)e=0==l?t[0]:t[l-1],i=t[l],o=t[l+1],n=d>l+2?t[l+2]:o,s={screen_x:(-e.screen_x+6*i.screen_x+o.screen_x)*h,screen_y:(-e.screen_y+6*i.screen_y+o.screen_y)*h},r={screen_x:(i.screen_x+6*o.screen_x-n.screen_x)*h,screen_y:(i.screen_y+6*o.screen_y-n.screen_y)*h},a.push([s.screen_x,s.screen_y]),a.push([r.screen_x,r.screen_y]),a.push([o.screen_x,o.screen_y]);return a},o._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var o,n,s,r,a,h,d,l,c,u,p,f,m,v,g,y,b,w,_,x=[];x.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var k=t.length,O=0;k-1>O;O++)o=0==O?t[0]:t[O-1],n=t[O],s=t[O+1],r=k>O+2?t[O+2]:s,d=Math.sqrt(Math.pow(o.screen_x-n.screen_x,2)+Math.pow(o.screen_y-n.screen_y,2)),l=Math.sqrt(Math.pow(n.screen_x-s.screen_x,2)+Math.pow(n.screen_y-s.screen_y,2)),c=Math.sqrt(Math.pow(s.screen_x-r.screen_x,2)+Math.pow(s.screen_y-r.screen_y,2)),v=Math.pow(c,i),y=Math.pow(c,2*i),g=Math.pow(l,i),b=Math.pow(l,2*i),_=Math.pow(d,i),w=Math.pow(d,2*i),u=2*w+3*_*g+b,p=2*y+3*v*g+b,f=3*_*(_+g),f>0&&(f=1/f),m=3*v*(v+g),m>0&&(m=1/m),a={screen_x:(-b*o.screen_x+u*n.screen_x+w*s.screen_x)*f,screen_y:(-b*o.screen_y+u*n.screen_y+w*s.screen_y)*f},h={screen_x:(y*n.screen_x+p*s.screen_x-b*r.screen_x)*m,screen_y:(y*n.screen_y+p*s.screen_y-b*r.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=n),0==h.screen_x&&0==h.screen_y&&(h=s),x.push([a.screen_x,a.screen_y]),x.push([h.screen_x,h.screen_y]),x.push([s.screen_x,s.screen_y]);return x},o._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},t.exports=o},function(t,e,i){function o(t,e,i,o){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=n.extend({},this.defaultOptions),this.linegraphOptions=o,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}var n=i(1),s=i(8),r=i(31);o.prototype=new r,o.prototype.clear=function(){this.groups={},this.amountOfGroups=0},o.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},o.prototype.updateGroup=function(t,e){this.groups[t]=e},o.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},o.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];n.selectiveDeepExtend(e,this.options,t)},o.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort(function(t,e){return e>t?-1:1});for(var i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var n=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+n+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var s="",i=0;i<e.length;i++){var o=e[i];1!=this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&1!=this.linegraphOptions.visibility[o]||(s+=this.groups[o].content+"<br />")}this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},o.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort(function(t,e){return e>t?-1:1}),s.resetElements(this.svgElements);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),o=i,n=this.options.iconSize,r=.75*this.options.iconSize,a=i+.5*r+3;this.svg.style.width=n+5+i+"px";for(var h=0;h<t.length;h++){var d=t[h];1!=this.groups[d].visible||void 0!==this.linegraphOptions.visibility[d]&&1!=this.linegraphOptions.visibility[d]||(this.groups[d].getLegend(n,r,this.framework,o,a),a+=r+this.options.iconSpacing)}}},t.exports=o},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="date",a="object",h="dom",d="moment",l="any",c={configure:{enabled:{"boolean":o},filter:{"boolean":o,"function":"function"},container:{dom:h},__type__:{object:a,"boolean":o,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:i},sort:{"boolean":o},sampling:{"boolean":o},stack:{"boolean":o},graphHeight:{string:i,number:n},shaded:{enabled:{"boolean":o},orientation:{string:["bottom","top","zero","group"]},groupId:{object:a},__type__:{"boolean":o,object:a}},style:{string:["line","bar","points"]},barChart:{width:{number:n},minWidth:{number:n},sideBySide:{"boolean":o},align:{string:["left","center","right"]},__type__:{object:a}},interpolation:{enabled:{"boolean":o},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:n},__type__:{object:a,"boolean":o}},drawPoints:{enabled:{"boolean":o},onRender:{"function":"function"},size:{number:n},style:{string:["square","circle"]},__type__:{object:a,"boolean":o,"function":"function"}},dataAxis:{showMinorLabels:{"boolean":o},showMajorLabels:{"boolean":o},icons:{"boolean":o},width:{string:i,number:n},visible:{"boolean":o},alignZeros:{"boolean":o},left:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},right:{range:{min:{number:n},max:{number:n},__type__:{object:a}},format:{"function":"function"},title:{text:{string:i,number:n},style:{string:i},__type__:{object:a}},__type__:{object:a}},__type__:{object:a}},legend:{enabled:{"boolean":o},icons:{"boolean":o},left:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},right:{visible:{"boolean":o},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:a}},__type__:{object:a,"boolean":o}},groups:{visibility:{any:l},__type__:{object:a}},autoResize:{"boolean":o},throttleRedraw:{number:n},clickToUse:{"boolean":o},end:{number:n,date:r,string:i,moment:d},format:{minorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},majorLabels:{millisecond:{string:i,undefined:"undefined"},second:{string:i,undefined:"undefined"},minute:{string:i,undefined:"undefined"},hour:{string:i,undefined:"undefined"},weekday:{string:i,undefined:"undefined"},day:{string:i,undefined:"undefined"},month:{string:i,undefined:"undefined"},year:{string:i,undefined:"undefined"},__type__:{object:a}},__type__:{object:a}},moment:{"function":"function"},height:{string:i,number:n},hiddenDates:{start:{date:r,number:n,string:i,moment:d},end:{date:r,number:n,string:i,moment:d},repeat:{string:i},__type__:{object:a,array:s}},locale:{string:i},locales:{__any__:{any:l},__type__:{object:a}},max:{date:r,number:n,string:i,moment:d},maxHeight:{number:n,string:i},maxMinorChars:{number:n},min:{date:r,number:n,string:i,moment:d},minHeight:{number:n,string:i},moveable:{"boolean":o},multiselect:{"boolean":o},orientation:{string:i},showCurrentTime:{"boolean":o},showMajorLabels:{"boolean":o},showMinorLabels:{"boolean":o},start:{date:r,number:n,string:i,moment:d},timeAxis:{scale:{string:i,undefined:"undefined"},step:{number:n,undefined:"undefined"},__type__:{object:a}},width:{string:i,number:n},zoomable:{"boolean":o},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:n},zoomMin:{number:n},zIndex:{number:n},__type__:{object:a}},u={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,throttleRedraw:[10,0,1e3,10],clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};e.allOptions=c,e.configureOptions=u},function(t,e,i){e.util=i(1),e.DOMutil=i(8),e.DataSet=i(9),e.DataView=i(11),e.Queue=i(10),e.Network=i(61),e.network={Images:i(62),dotparser:i(118),gephiParser:i(119),allOptions:i(114)},e.network.convertDot=function(t){return e.network.dotparser.DOTToGraph(t)},e.network.convertGephi=function(t,i){return e.network.gephiParser.parseGephi(t,i)},e.moment=i(2),e.Hammer=i(20),e.keycharm=i(23)},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e,i){var o=this;if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Y,clickToUse:!1},F.extend(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null
},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new r["default"](function(){return o.body.emitter.emit("_requestRedraw")}),this.groups=new h["default"],this.canvas=new w["default"](this.body),this.selectionHandler=new D["default"](this.body,this.canvas),this.interactionHandler=new O["default"](this.body,this.canvas,this.selectionHandler),this.view=new x["default"](this.body,this.canvas),this.renderer=new y["default"](this.body,this.canvas),this.physics=new f["default"](this.body),this.layoutEngine=new C["default"](this.body),this.clustering=new v["default"](this.body),this.manipulation=new E["default"](this.body,this.canvas,this.selectionHandler),this.nodesHandler=new l["default"](this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new u["default"](this.body,this.images,this.groups),this.body.modules.kamadaKawai=new A["default"](this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(i),this.setData(e)}var s=i(62),r=o(s),a=i(63),h=o(a),d=i(64),l=o(d),c=i(84),u=o(c),p=i(93),f=o(p),m=i(102),v=o(m),g=i(105),y=o(g),b=i(106),w=o(b),_=i(107),x=o(_),k=i(108),O=o(k),M=i(111),D=o(M),S=i(112),C=o(S),T=i(113),E=o(T),P=i(26),I=o(P),N=i(29),R=o(N),z=i(114),L=i(115),A=o(L);i(117);var B=i(13),F=i(1),j=(i(9),i(11),i(118)),H=i(119),W=i(45),Y=i(120);B(n.prototype),n.prototype.setOptions=function(t){var e=this;if(void 0!==t){var i=R["default"].validate(t,z.allOptions);i===!0&&console.log("%cErrors have been found in the supplied options object.",N.printStyle);var o=["locale","locales","clickToUse"];if(F.selectiveDeepExtend(o,this.options,t),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),void 0!==t.groups&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new I["default"](this,this.body.container,z.configureOptions,this.canvas.pixelRatio)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){var n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};F.deepExtend(n.nodes,this.nodesHandler.options),F.deepExtend(n.edges,this.edgesHandler.options),F.deepExtend(n.layout,this.layoutEngine.options),F.deepExtend(n.interaction,this.selectionHandler.options),F.deepExtend(n.interaction,this.renderer.options),F.deepExtend(n.interaction,this.interactionHandler.options),F.deepExtend(n.manipulation,this.manipulation.options),F.deepExtend(n.physics,this.physics.options),F.deepExtend(n.global,this.canvas.options),F.deepExtend(n.global,this.options),this.configurator.setModuleOptions(n)}void 0!==t.clickToUse?t.clickToUse===!0?void 0===this.activator&&(this.activator=new W(this.canvas.frame),this.activator.on("change",function(){e.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},n.prototype._updateVisibleIndices=function(){var t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var i in t)t.hasOwnProperty(i)&&t[i].options.hidden===!1&&this.body.nodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&e[o].options.hidden===!1&&this.body.edgeIndices.push(e[o].id)},n.prototype.bindEventListeners=function(){var t=this;this.body.emitter.on("_dataChanged",function(){t._updateVisibleIndices(),t.body.emitter.emit("_requestRedraw"),t.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){t._updateValueRange(t.body.nodes),t._updateValueRange(t.body.edges),t.body.emitter.emit("startSimulation"),t.body.emitter.emit("_requestRedraw")})},n.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var e=j.DOTToGraph(t.dot);return void this.setData(e)}if(t&&t.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var i=H.parseGephi(t.gephi);return void this.setData(i)}this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},n.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var t in this.body.nodes)delete this.body.nodes[t];for(var e in this.body.edges)delete this.body.edges[e];F.recursiveDOMDelete(this.body.container)},n.prototype._updateValueRange=function(t){var e,i=void 0,o=void 0,n=0;for(e in t)if(t.hasOwnProperty(e)){var s=t[e].getValue();void 0!==s&&(i=void 0===i?s:Math.min(s,i),o=void 0===o?s:Math.max(s,o),n+=s)}if(void 0!==i&&void 0!==o)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,o,n)},n.prototype.isActive=function(){return!this.activator||this.activator.active},n.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},n.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},n.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},n.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},n.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},n.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},n.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},n.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},n.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},n.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},n.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},n.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},n.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},n.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},n.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},n.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},n.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},n.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},n.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},n.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},n.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},n.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},n.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},n.prototype.getConnectedNodes=function(t){return void 0!==this.body.nodes[t]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},n.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},n.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},n.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},n.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},n.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},n.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},n.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},n.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},n.prototype.getNodeAt=function(){var t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.getEdgeAt=function(){var t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==t&&void 0!==t.id?t.id:t},n.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},n.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},n.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},n.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},n.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},n.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},n.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},n.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},n.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},n.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},n.prototype.getOptionsFromConfigurator=function(){var t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t},t.exports=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.images={},this.imageBroken={},this.callback=e}return o(t,[{key:"_addImageToCache",value:function(t,e){0===e.width&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e)),this.images[t]=e}},{key:"_tryloadBrokenUrl",value:function(t,e,i){var o=this;void 0!==t&&void 0!==e&&void 0!==i&&(i.onerror=function(){console.error("Could not load brokenImage:",e),o._addImageToCache(t,new Image)},i.src=e)}},{key:"_redrawWithImage",value:function(t){this.callback&&this.callback(t)}},{key:"load",value:function(t,e,i){var o=this,n=this.images[t];if(n)return n;var s=new Image;return s.onload=function(){o._addImageToCache(t,s),o._redrawWithImage(s)},s.onerror=function(){console.error("Could not load image:",t),o._tryloadBrokenUrl(t,e,s)},s.src=t,s}}]),t}();e["default"]=n},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},s.extend(this.options,this.defaultOptions)}return n(t,[{key:"setOptions",value:function(t){var e=["useDefaultGroups"];if(void 0!==t)for(var i in t)if(t.hasOwnProperty(i)&&-1===e.indexOf(i)){var o=t[i];this.add(i,o)}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(t){var e=this.groups[t];if(void 0===e)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,e={},e.color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var o=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,e={},e.color=this.defaultGroups[o],this.groups[t]=e}return e}},{key:"add",value:function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e}}]),t}();e["default"]=r},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(65),a=o(r),h=i(66),d=o(h),l=i(1),c=i(9),u=i(11),p=function(){function t(e,i,o,s){var r=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.layoutEngine=s,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(t,e){r.add(e.items)},update:function(t,e){r.update(e.items,e.data)},remove:function(t,e){r.remove(e.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.nodesListeners,function(e,i){t.body.data.nodes&&t.body.data.nodes.off(i,e)}),delete t.body.functions.createNode,delete t.nodesListeners.add,delete t.nodesListeners.update,delete t.nodesListeners.remove,delete t.nodesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){if(a["default"].parseOptions(this.options,t),void 0!==t.shape)for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&this.body.nodes[e].updateShape();if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&(this.body.nodes[i].updateLabelModule(),this.body.nodes[i]._reset())}if(void 0!==t.size)for(var o in this.body.nodes)this.body.nodes.hasOwnProperty(o)&&this.body.nodes[o]._reset();void 0===t.hidden&&void 0===t.physics||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this.body.data.nodes;if(t instanceof c||t instanceof u)this.body.data.nodes=t;else if(Array.isArray(t))this.body.data.nodes=new c,this.body.data.nodes.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new c}o&&l.forEach(this.nodesListeners,function(t,e){o.off(e,t)}),this.body.nodes={},this.body.data.nodes&&!function(){var t=e;l.forEach(e.nodesListeners,function(e,i){t.body.data.nodes.on(i,e)});var i=e.body.data.nodes.getIds();e.add(i,!0)}(),i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=void 0,o=[],n=0;n<t.length;n++){i=t[n];var s=this.body.data.nodes.get(i),r=this.create(s);o.push(r),this.body.nodes[i]=r}this.layoutEngine.positionInitially(o),e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t,e){for(var i=this.body.nodes,o=!1,n=0;n<t.length;n++){var s=t[n],r=i[s],a=e[n];void 0!==r?o=r.setOptions(a):(o=!0,r=this.create(a),i[s]=r)}o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.nodes,i=0;i<t.length;i++){var o=t[i];delete e[o]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?a["default"]:arguments[1];return new e(t,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],e=this.body.nodes;for(var i in e){var o=void 0;e.hasOwnProperty(i)&&(o=e[i]);var n=this.body.data.nodes._data[i];void 0!==o&&void 0!==n&&(t===!0&&o.setOptions({x:null,y:null}),o.setOptions({fixed:!1}),o.setOptions(n))}}},{key:"getPositions",value:function(t){var e={};if(void 0!==t){if(Array.isArray(t)===!0){for(var i=0;i<t.length;i++)if(void 0!==this.body.nodes[t[i]]){var o=this.body.nodes[t[i]];e[t[i]]={x:Math.round(o.x),y:Math.round(o.y)}}}else if(void 0!==this.body.nodes[t]){var n=this.body.nodes[t];e[t]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(var s=0;s<this.body.nodeIndices.length;s++){var r=this.body.nodes[this.body.nodeIndices[s]];e[this.body.nodeIndices[s]]={x:Math.round(r.x),y:Math.round(r.y)}}return e}},{key:"storePositions",value:function(){var t=[],e=this.body.data.nodes.getDataSet();for(var i in e._data)if(e._data.hasOwnProperty(i)){var o=this.body.nodes[i];e._data[i].x==Math.round(o.x)&&e._data[i].y==Math.round(o.y)||t.push({id:o.id,x:Math.round(o.x),y:Math.round(o.y)})}e.update(t)}},{key:"getBoundingBox",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].shape.boundingBox:void 0}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o={},n=0;n<i.edges.length;n++){var s=i.edges[n];s.toId==i.id?void 0===o[s.fromId]&&(e.push(s.fromId),o[s.fromId]=!0):s.fromId==i.id&&void 0===o[s.toId]&&(e.push(s.toId),o[s.toId]=!0)}return e}},{key:"getConnectedEdges",value:function(t){var e=[];if(void 0!==this.body.nodes[t])for(var i=this.body.nodes[t],o=0;o<i.edges.length;o++)e.push(i.edges[o].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",t);return e}},{key:"moveNode",value:function(t,e,i){var o=this;void 0!==this.body.nodes[t]?(this.body.nodes[t].x=Number(e),this.body.nodes[t].y=Number(i),setTimeout(function(){o.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",t)}}]),t}();e["default"]=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(66),a=o(r),h=i(67),d=o(h),l=i(69),c=o(l),u=i(71),p=o(u),f=i(72),m=o(f),v=i(73),g=o(v),y=i(75),b=o(y),w=i(76),_=o(w),x=i(77),k=o(x),O=i(78),M=o(O),D=i(79),S=o(D),C=i(80),T=o(C),E=i(81),P=o(E),I=i(82),N=o(I),R=i(83),z=o(R),L=i(29),A=(o(L),i(1)),B=function(){function t(e,i,o,s,r){n(this,t),this.options=A.bridgeObject(r),this.globalOptions=r,this.body=i,this.edges=[],this.id=void 0,this.imagelist=o,this.grouplist=s,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new a["default"](this.body,this.options,!1),this.setOptions(e)}return s(t,[{key:"attachEdge",value:function(t){-1===this.edges.indexOf(t)&&this.edges.push(t)}},{key:"detachEdge",value:function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1)}},{key:"setOptions",value:function(e){var i=this.options.shape;if(e){if(void 0!==e.id&&(this.id=e.id),void 0===this.id)throw"Node must have an id";if(void 0!==e.x&&(null===e.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(e.x),this.predefinedPosition=!0)),void 0!==e.y&&(null===e.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(e.y),this.predefinedPosition=!0)),void 0!==e.size&&(this.baseSize=e.size),void 0!==e.value&&(e.value=parseFloat(e.value)),"number"==typeof e.group||"string"==typeof e.group&&""!=e.group){var o=this.grouplist.get(e.group);A.deepExtend(this.options,o),this.options.color=A.parseColor(this.options.color)}if(t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateLabelModule(),this.updateShape(i),void 0!==e.hidden||void 0!==e.physics}}},{key:"updateLabelModule",value:function(){void 0!==this.options.label&&null!==this.options.label||(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(t){if(t===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj);else switch(this.options.shape){case"box":this.shape=new d["default"](this.options,this.body,this.labelModule);break;case"circle":this.shape=new c["default"](this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new p["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new m["default"](this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g["default"](this.options,this.body,this.labelModule);break;case"dot":this.shape=new b["default"](this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new _["default"](this.options,this.body,this.labelModule);break;case"icon":this.shape=new k["default"](this.options,this.body,this.labelModule);break;case"image":this.shape=new M["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new S["default"](this.options,this.body,this.labelModule);break;case"star":this.shape=new T["default"](this.options,this.body,this.labelModule);break;case"text":this.shape=new P["default"](this.options,this.body,this.labelModule);break;case"triangle":this.shape=new N["default"](this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new z["default"](this.options,this.body,this.labelModule);break;default:this.shape=new _["default"](this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(t,e){return this.shape.distanceToBorder(t,e)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.size=this.options.scaling.min+o*n}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(t){this.shape.draw(t,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(t){this.shape.updateBoundingBox(this.x,this.y,t)}},{key:"resize",value:function(t){this.shape.resize(t,this.selected)}},{key:"isOverlappingWith",value:function(t){return this.shape.left<t.right&&this.shape.left+this.shape.width>t.left&&this.shape.top<t.bottom&&this.shape.top+this.shape.height>t.top}},{key:"isBoundingBoxOverlappingWith",value:function(t){return this.shape.boundingBox.left<t.right&&this.shape.boundingBox.right>t.left&&this.shape.boundingBox.top<t.bottom&&this.shape.boundingBox.bottom>t.top}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["color","font","fixed","shadow"];if(A.selectiveNotDeepExtend(n,t,e,i),A.mergeOptions(t,e,"shadow",i,o),void 0!==e.color&&null!==e.color){var s=A.parseColor(e.color);A.fillIfDefined(t.color,s)}else i===!0&&null===e.color&&(t.color=A.bridgeObject(o.color));void 0!==e.fixed&&null!==e.fixed&&("boolean"==typeof e.fixed?(t.fixed.x=e.fixed,t.fixed.y=e.fixed):(void 0!==e.fixed.x&&"boolean"==typeof e.fixed.x&&(t.fixed.x=e.fixed.x),void 0!==e.fixed.y&&"boolean"==typeof e.fixed.y&&(t.fixed.y=e.fixed.y))),void 0!==e.font&&null!==e.font?a["default"].parseOptions(t.font,e):i===!0&&null===e.font&&(t.font=A.bridgeObject(o.font)),void 0!==e.scaling&&A.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)}}]),t}();e["default"]=B},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(1),h=function(){function t(e,i){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];o(this,t),this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(i),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}return r(t,[{key:"setOptions",value:function(e){var i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];this.nodeOptions=e,this.fontOptions=a.deepExtend({},e.font,!0),void 0!==e.label&&(this.labelDirty=!0),void 0!==e.font&&(t.parseOptions(this.fontOptions,e,i),"string"==typeof e.font?this.baseSize=this.fontOptions.size:"object"===s(e.font)&&void 0!==e.font.size&&(this.baseSize=e.font.size))}},{key:"draw",value:function(t,e,i,o){var n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.nodeOptions.label){var s=this.fontOptions.size*this.body.view.scale;this.nodeOptions.label&&s<this.nodeOptions.scaling.label.drawThreshold-1||(this.calculateLabelSize(t,o,e,i,n),
this._drawBackground(t),this._drawText(t,o,e,i,n))}}},{key:"_drawBackground",value:function(t){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){t.fillStyle=this.fontOptions.background;var e=2;if(this.isEdgeLabel)switch(this.fontOptions.align){case"middle":t.fillRect(.5*-this.size.width,.5*-this.size.height,this.size.width,this.size.height);break;case"top":t.fillRect(.5*-this.size.width,-(this.size.height+e),this.size.width,this.size.height);break;case"bottom":t.fillRect(.5*-this.size.width,e,this.size.width,this.size.height);break;default:t.fillRect(this.size.left,this.size.top-.5*e,this.size.width,this.size.height)}else t.fillRect(this.size.left,this.size.top-.5*e,this.size.width,this.size.height)}}},{key:"_drawText",value:function(t,e,i,o){var s=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4],r=this.fontOptions.size,a=r*this.body.view.scale;a>=this.nodeOptions.scaling.label.maxVisible&&(r=Number(this.nodeOptions.scaling.label.maxVisible)/this.body.view.scale);var h=this.size.yLine,d=this._getColor(a),l=n(d,2),c=l[0],u=l[1],p=this._setAlignment(t,i,h,s),f=n(p,2);i=f[0],h=f[1],t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+r+"px "+this.fontOptions.face,t.fillStyle=c,this.isEdgeLabel||"left"!==this.fontOptions.align?t.textAlign="center":(t.textAlign=this.fontOptions.align,i-=.5*this.size.width),this.fontOptions.strokeWidth>0&&(t.lineWidth=this.fontOptions.strokeWidth,t.strokeStyle=u,t.lineJoin="round");for(var m=0;m<this.lineCount;m++)this.fontOptions.strokeWidth>0&&t.strokeText(this.lines[m],i,h),t.fillText(this.lines[m],i,h),h+=r}},{key:"_setAlignment",value:function(t,e,i,o){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&this.pointToSelf===!1){e=0,i=0;var n=2;"top"===this.fontOptions.align?(t.textBaseline="alphabetic",i-=2*n):"bottom"===this.fontOptions.align?(t.textBaseline="hanging",i+=2*n):t.textBaseline="middle"}else t.textBaseline=o;return[e,i]}},{key:"_getColor",value:function(t){var e=this.fontOptions.color||"#000000",i=this.fontOptions.strokeColor||"#ffffff";if(t<=this.nodeOptions.scaling.label.drawThreshold){var o=Math.max(0,Math.min(1,1-(this.nodeOptions.scaling.label.drawThreshold-t)));e=a.overrideOpacity(e,o),i=a.overrideOpacity(i,o)}return[e,i]}},{key:"getTextSize",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i={width:this._processLabel(t,e),height:this.fontOptions.size*this.lineCount,lineCount:this.lineCount};return i}},{key:"calculateLabelSize",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2],o=arguments.length<=3||void 0===arguments[3]?0:arguments[3],n=arguments.length<=4||void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(t,e)),this.size.height=this.fontOptions.size*this.lineCount,this.size.left=i-.5*this.size.width,this.size.top=o-.5*this.size.height,this.size.yLine=o+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===n&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(t,e){var i=0,o=[""],n=0;if(void 0!==this.nodeOptions.label){o=String(this.nodeOptions.label).split("\n"),n=o.length,t.font=(e&&this.nodeOptions.labelHighlightBold?"bold ":"")+this.fontOptions.size+"px "+this.fontOptions.face,i=t.measureText(o[0]).width;for(var s=1;n>s;s++){var r=t.measureText(o[s]).width;i=r>i?r:i}}return this.lines=o,this.lineCount=n,i}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if("string"==typeof e.font){var o=e.font.split(" ");t.size=o[0].replace("px",""),t.face=o[1],t.color=o[2]}else"object"===s(e.font)&&a.fillIfDefined(t,e.font,i);t.size=Number(t.size)}}]),t}();e["default"]=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e);this.width=o.width+2*i,this.height=o.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.lineWidth=o?r:s,t.lineWidth/=this.body.view.scale,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background;var a=this.options.shapeProperties.borderRadius;t.roundRect(this.left,this.top,this.width,this.height,a),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),s>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height;var n=this.options.shapeProperties.borderRadius;this.boundingBox.left=this.left-n,this.boundingBox.top=this.top-n,this.boundingBox.bottom=this.top+this.height+n,this.boundingBox.right=this.left+this.width+n}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}}]),e}(d["default"]);e["default"]=l},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=o,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"_distanceToBorder",value:function(t,e){var i=this.options.borderWidth;return this.resize(t),Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(t){if(this.options.shapeProperties.borderDashes!==!1)if(void 0!==t.setLineDash){var e=this.options.shapeProperties.borderDashes;e===!0&&(e=[5,15]),t.setLineDash(e)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1}},{key:"disableBorderDashes",value:function(t){this.options.shapeProperties.borderDashes!==!1&&(void 0!==t.setLineDash?t.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1))}}]),t}();e["default"]=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e),n=Math.max(o.width,o.height)+2*i;this.options.size=n/2,this.width=n,this.height=n,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2,this._drawRawCircle(t,e,i,o,n,this.options.size),this.boundingBox.top=i-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=i+this.options.size,this.updateBoundingBox(e,i),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){n(this,e);var r=s(this,Object.getPrototypeOf(e).call(this,t,i,o));return r.labelOffset=0,r.imageLoaded=!1,r}return r(e,t),a(e,[{key:"setOptions",value:function(t,e){this.options=t,e&&(this.imageObj=e)}},{key:"_resizeImage",value:function(){var t=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,t=!0):this.imageLoaded=!1,!this.width||!this.height||t===!0){var e,i,o;this.imageObj.width&&this.imageObj.height&&(e=0,i=0),this.options.shapeProperties.useImageSize===!1?this.imageObj.width>this.imageObj.height?(o=this.imageObj.width/this.imageObj.height,e=2*this.options.size*o||this.imageObj.width,i=2*this.options.size||this.imageObj.height):(o=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,e=2*this.options.size,i=2*this.options.size*o):(e=this.imageObj.width,i=this.imageObj.height),this.width=e,this.height=i,this.radius=.5*this.width}}},{key:"_drawRawCircle",value:function(t,e,i,o,n,s){var r=this.options.borderWidth,a=this.options.borderWidthSelected||2*this.options.borderWidth,h=(o?a:r)/this.body.view.scale;t.lineWidth=Math.min(this.width,h),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.circle(e,i,s),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),h>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore()}},{key:"_drawImageAtPosition",value:function(t){if(0!=this.imageObj.width){t.globalAlpha=1,this.enableShadow(t);var e=this.imageObj.width/this.width/this.body.view.scale;if(e>2&&this.options.shapeProperties.interpolation===!0){var i=this.imageObj.width,o=this.imageObj.height,n=document.createElement("canvas");n.width=i,n.height=i;var s=n.getContext("2d");e*=.5,i*=.5,o*=.5,s.drawImage(this.imageObj,0,0,i,o);for(var r=0,a=1;e>2&&4>a;)s.drawImage(n,r,0,i,o,r+i,0,i/2,o/2),r+=i,e*=.5,i*=.5,o*=.5,a+=1;t.drawImage(n,r,0,i,o,this.left,this.top,this.width,this.height)}else t.drawImage(this.imageObj,this.left,this.top,this.width,this.height);this.disableShadow(t)}}},{key:"_drawImageLabel",value:function(t,e,i,o){var n,s=0;if(void 0!==this.height){s=.5*this.height;var r=this.labelModule.getTextSize(t);r.lineCount>=1&&(s+=r.height/2)}n=i+s,this.options.label&&(this.labelOffset=s),this.labelModule.draw(t,e,n,o,"hanging")}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o,r){n(this,e);var a=s(this,Object.getPrototypeOf(e).call(this,t,i,o));return a.imageObj=r,a._swapToImageResizeWhenImageLoaded=!0,a}return r(e,t),a(e,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var t=2*this.options.size;this.width=t,this.height=t,this._swapToImageResizeWhenImageLoaded=!0,this.radius=.5*this.width}}else this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){this.resize(),this.left=e-this.width/2,this.top=i-this.height/2;var s=Math.min(.5*this.height,.5*this.width);this._drawRawCircle(t,e,i,o,n,s),t.save(),t.clip(),this._drawImageAtPosition(t),t.restore(),this._drawImageLabel(t,e,i,o),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),.5*this.width}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e),n=o.width+2*i;this.width=n,this.height=n,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-this.width/2,this.top=i-this.height/2;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.database(e-this.width/2,i-.5*this.height,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"diamond",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_resizeShape",value:function(){if(void 0===this.width){var t=2*this.options.size;this.width=t,this.height=t,this.radius=.5*this.width}}},{key:"_drawShape",value:function(t,e,i,o,n,s,r){this._resizeShape(),this.left=o-this.width/2,this.top=n-this.height/2;var a=this.options.borderWidth,h=this.options.borderWidthSelected||2*this.options.borderWidth,d=(s?h:a)/this.body.view.scale;if(t.lineWidth=Math.min(this.width,d),t.strokeStyle=s?this.options.color.highlight.border:r?this.options.color.hover.border:this.options.color.border,t.fillStyle=s?this.options.color.highlight.background:r?this.options.color.hover.background:this.options.color.background,t[e](o,n,this.options.size),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),d>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),void 0!==this.options.label){var l=n+.5*this.height+3;this.labelModule.draw(t,o,l,s,"hanging")}this.updateBoundingBox(o,n)}},{key:"updateBoundingBox",value:function(t,e){this.boundingBox.top=e-this.options.size,this.boundingBox.left=t-this.options.size,this.boundingBox.right=t+this.options.size,this.boundingBox.bottom=e+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"circle",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this.resize(t),this.options.size}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=this.labelModule.getTextSize(t,e);this.width=1.5*i.width,this.height=2*i.height,this.width<this.height&&(this.width=this.height),this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o),this.left=e-.5*this.width,this.top=i-.5*this.height;var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(t),t.fill(),this.disableShadow(t),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),this.updateBoundingBox(e,i,t,o),this.labelModule.draw(t,e,i,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-.5*this.width,this.top=e-.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(t,e){this.resize(t);var i=.5*this.width,o=.5*this.height,n=Math.sin(e)*i,s=Math.cos(e)*o;return i*o/Math.sqrt(n*n+s*s)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){if(void 0===this.width){var e=5,i={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=i.width+2*e,this.height=i.height+2*e,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(t),this.options.icon.size=this.options.icon.size||50,this.left=e-.5*this.width,this.top=i-.5*this.height,this._icon(t,e,i,o),void 0!==this.options.label){var s=5;this.labelModule.draw(t,e,i+.5*this.height+s,o)}this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){if(this.boundingBox.top=e-.5*this.options.icon.size,this.boundingBox.left=t-.5*this.options.icon.size,this.boundingBox.right=t+.5*this.options.icon.size,this.boundingBox.bottom=e+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){var i=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+i)}}},{key:"_icon",value:function(t,e,i,o){var n=Number(this.options.icon.size);void 0!==this.options.icon.code?(t.font=(o?"bold ":"")+n+"px "+this.options.icon.face,t.fillStyle=this.options.icon.color||"black",t.textAlign="center",t.textBaseline="middle",this.enableShadow(t),t.fillText(this.options.icon.code,e,i),this.disableShadow(t)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(70),d=o(h),l=function(t){function e(t,i,o,r){n(this,e);var a=s(this,Object.getPrototypeOf(e).call(this,t,i,o));return a.imageObj=r,a}return r(e,t),a(e,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(t,e,i,o,n){if(this.resize(),this.left=e-this.width/2,this.top=i-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var s=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth,a=(o?r:s)/this.body.view.scale;t.lineWidth=Math.min(this.width,a),t.beginPath(),t.strokeStyle=o?this.options.color.highlight.border:n?this.options.color.hover.border:this.options.color.border,t.fillStyle=o?this.options.color.highlight.background:n?this.options.color.hover.background:this.options.color.background,t.rect(this.left-.5*t.lineWidth,this.top-.5*t.lineWidth,this.width+t.lineWidth,this.height+t.lineWidth),t.fill(),t.save(),a>0&&(this.enableBorderDashes(t),t.stroke(),this.disableBorderDashes(t)),t.restore(),t.closePath()}this._drawImageAtPosition(t),this._drawImageLabel(t,e,i,o||n),this.updateBoundingBox(e,i)}},{key:"updateBoundingBox",value:function(t,e){this.resize(),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",
value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"square",2,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"star",4,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(68),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t,e){if(void 0===this.width){var i=5,o=this.labelModule.getTextSize(t,e);this.width=o.width+2*i,this.height=o.height+2*i,this.radius=.5*this.width}}},{key:"draw",value:function(t,e,i,o,n){this.resize(t,o||n),this.left=e-this.width/2,this.top=i-this.height/2,this.enableShadow(t),this.labelModule.draw(t,e,i,o||n),this.disableShadow(t),this.updateBoundingBox(e,i,t,o)}},{key:"updateBoundingBox",value:function(t,e,i,o){this.resize(i,o),this.left=t-this.width/2,this.top=e-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangle",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(74),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"resize",value:function(t){this._resizeShape()}},{key:"draw",value:function(t,e,i,o,n){this._drawShape(t,"triangleDown",3,e,i,o,n)}},{key:"distanceToBorder",value:function(t,e){return this._distanceToBorder(t,e)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(85),a=o(r),h=i(66),d=o(h),l=i(1),c=i(9),u=i(11),p=function(){function t(e,i,o){var s=this;n(this,t),this.body=e,this.images=i,this.groups=o,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(t,e){s.add(e.items)},update:function(t,e){s.update(e.items)},remove:function(t,e){s.remove(e.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(t,e,i,o){if(e===t)return.5;var n=1/(e-t);return Math.max(0,(o-t)*n)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_forceDisableDynamicCurves",function(e){"dynamic"===e&&(e="continuous");var i=!1;for(var o in t.body.edges)if(t.body.edges.hasOwnProperty(o)){var n=t.body.edges[o],s=t.body.data.edges._data[o];if(void 0!==s){var r=s.smooth;void 0!==r&&r.enabled===!0&&"dynamic"===r.type&&(void 0===e?n.setOptions({smooth:!1}):n.setOptions({smooth:{type:e}}),i=!0)}}i===!0&&t.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){t.reconnectEdges(),t.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){l.forEach(t.edgesListeners,function(e,i){t.body.data.edges&&t.body.data.edges.off(i,e)}),delete t.body.functions.createEdge,delete t.edgesListeners.add,delete t.edgesListeners.update,delete t.edgesListeners.remove,delete t.edgesListeners})}},{key:"setOptions",value:function(t){if(void 0!==t){a["default"].parseOptions(this.options,t),void 0!==t.color&&this.markAllEdgesAsDirty();var e=!1;if(void 0!==t.smooth)for(var i in this.body.edges)this.body.edges.hasOwnProperty(i)&&(e=this.body.edges[i].updateEdgeType()||e);if(void 0!==t.font){d["default"].parseOptions(this.options.font,t);for(var o in this.body.edges)this.body.edges.hasOwnProperty(o)&&this.body.edges[o].updateLabelModule()}void 0===t.hidden&&void 0===t.physics&&e!==!0||this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],o=this.body.data.edges;if(t instanceof c||t instanceof u)this.body.data.edges=t;else if(Array.isArray(t))this.body.data.edges=new c,this.body.data.edges.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.body.data.edges=new c}if(o&&l.forEach(this.edgesListeners,function(t,e){o.off(e,t)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(t,i){e.body.data.edges.on(i,t)});var n=this.body.data.edges.getIds();this.add(n,!0)}i===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.body.edges,o=this.body.data.edges,n=0;n<t.length;n++){var s=t[n],r=i[s];r&&r.disconnect();var a=o.get(s,{showInternalIds:!0});i[s]=this.create(a)}e===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(t){for(var e=this.body.edges,i=this.body.data.edges,o=!1,n=0;n<t.length;n++){var s=t[n],r=i.get(s),a=e[s];void 0!==a?(a.disconnect(),o=a.setOptions(r)||o,a.connect()):(this.body.edges[s]=this.create(r),o=!0)}o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(t){for(var e=this.body.edges,i=0;i<t.length;i++){var o=t[i],n=e[o];void 0!==n&&(n.cleanup(),n.disconnect(),delete e[o])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var t=this.body.edges;for(var e in t){var i=void 0;t.hasOwnProperty(e)&&(i=t[e]);var o=this.body.data.edges._data[e];void 0!==i&&void 0!==o&&i.setOptions(o)}}},{key:"create",value:function(t){return new a["default"](t,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var t in this.body.edges)this.body.edges[t].edgeType.colorDirty=!0}},{key:"reconnectEdges",value:function(){var t,e=this.body.nodes,i=this.body.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[]);for(t in i)if(i.hasOwnProperty(t)){var o=i[t];o.from=null,o.to=null,o.connect()}}},{key:"getConnectedNodes",value:function(t){var e=[];if(void 0!==this.body.edges[t]){var i=this.body.edges[t];i.fromId&&e.push(i.fromId),i.toId&&e.push(i.toId)}return e}}]),t}();e["default"]=p},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(66),h=o(a),d=i(86),l=o(d),c=i(90),u=o(c),p=i(91),f=o(p),m=i(92),v=o(m),g=i(1),y=function(){function t(e,i,o){if(n(this,t),void 0===i)throw"No body provided";this.options=g.bridgeObject(o),this.globalOptions=o,this.body=i,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new h["default"](this.body,this.options,!0),this.setOptions(e)}return r(t,[{key:"setOptions",value:function(e){if(e){this.colorDirty=!0,t.parseOptions(this.options,e,!0,this.globalOptions),void 0!==e.id&&(this.id=e.id),void 0!==e.from&&(this.fromId=e.from),void 0!==e.to&&(this.toId=e.to),void 0!==e.title&&(this.title=e.title),void 0!==e.value&&(e.value=parseFloat(e.value)),this.updateLabelModule();var i=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),void 0===e.hidden&&void 0===e.physics||(i=!0),i}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var t=!1,e=!0,i=this.options.smooth;return void 0!==this.edgeType&&(this.edgeType instanceof u["default"]&&i.enabled===!0&&"dynamic"===i.type&&(e=!1),this.edgeType instanceof l["default"]&&i.enabled===!0&&"cubicBezier"===i.type&&(e=!1),this.edgeType instanceof f["default"]&&i.enabled===!0&&"dynamic"!==i.type&&"cubicBezier"!==i.type&&(e=!1),this.edgeType instanceof v["default"]&&i.enabled===!1&&(e=!1),e===!0&&(t=this.cleanup())),e===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(t=!0,this.edgeType=new u["default"](this.options,this.body,this.labelModule)):"cubicBezier"===this.options.smooth.type?this.edgeType=new l["default"](this.options,this.body,this.labelModule):this.edgeType=new f["default"](this.options,this.body,this.labelModule):this.edgeType=new v["default"](this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(t,e,i){if(void 0!==this.options.value){var o=this.options.scaling.customScalingFunction(t,e,i,this.options.value),n=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+o*s}this.options.width=this.options.scaling.min+o*n}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(t){var e=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,this.options.arrows.from.enabled===!0&&(i.from=this.edgeType.getArrowData(t,"from",e,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core)),this.options.arrows.to.enabled===!0&&(i.to=this.edgeType.getArrowData(t,"to",e,this.selected,this.hover),this.options.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core)),this.options.arrows.middle.enabled===!0&&(i.middle=this.edgeType.getArrowData(t,"middle",e,this.selected,this.hover)),this.edgeType.drawLine(t,this.selected,this.hover,e),this.drawArrows(t,i),this.drawLabel(t,e)}},{key:"drawArrows",value:function(t,e){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.from),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.middle),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(t,this.selected,this.hover,e.to)}},{key:"drawLabel",value:function(t,e){if(void 0!==this.options.label){var i=this.from,o=this.to,n=this.from.selected||this.to.selected||this.selected;if(i.id!=o.id){this.labelModule.pointToSelf=!1;var s=this.edgeType.getPoint(.5,e);t.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(t,n,s.x,s.y),t.translate(s.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(t)),this.labelModule.draw(t,s.x,s.y,n),t.restore()}else{this.labelModule.pointToSelf=!0;var r,a,h=this.options.selfReferenceSize;i.shape.width>i.shape.height?(r=i.x+.5*i.shape.width,a=i.y-h):(r=i.x+h,a=i.y-.5*i.shape.height),s=this._pointOnCircle(r,a,h,.125),this.labelModule.draw(t,s.x,s.y,n)}}}},{key:"isOverlappingWith",value:function(t){if(this.connected){var e=10,i=this.from.x,o=this.from.y,n=this.to.x,s=this.to.y,r=t.left,a=t.top,h=this.edgeType.getDistanceToEdge(i,o,n,s,r,a);return e>h}return!1}},{key:"_rotateForLabelAlignment",value:function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,o=Math.atan2(e,i);(-1>o&&0>i||o>0&&0>i)&&(o+=Math.PI),t.rotate(o)}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}}],[{key:"parseOptions",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],n=["arrowStrikethrough","id","from","hidden","hoverWidth","label","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width"];if(g.selectiveDeepExtend(n,t,e,i),g.mergeOptions(t,e,"smooth",i,o),g.mergeOptions(t,e,"shadow",i,o),void 0!==e.dashes&&null!==e.dashes?t.dashes=e.dashes:i===!0&&null===e.dashes&&(t.dashes=Object.create(o.dashes)),void 0!==e.scaling&&null!==e.scaling?(void 0!==e.scaling.min&&(t.scaling.min=e.scaling.min),void 0!==e.scaling.max&&(t.scaling.max=e.scaling.max),g.mergeOptions(t.scaling,e.scaling,"label",i,o.scaling)):i===!0&&null===e.scaling&&(t.scaling=Object.create(o.scaling)),void 0!==e.arrows&&null!==e.arrows)if("string"==typeof e.arrows){var r=e.arrows.toLowerCase();t.arrows.to.enabled=-1!=r.indexOf("to"),t.arrows.middle.enabled=-1!=r.indexOf("middle"),t.arrows.from.enabled=-1!=r.indexOf("from")}else{if("object"!==s(e.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(e.arrows));g.mergeOptions(t.arrows,e.arrows,"to",i,o.arrows),g.mergeOptions(t.arrows,e.arrows,"middle",i,o.arrows),g.mergeOptions(t.arrows,e.arrows,"from",i,o.arrows)}else i===!0&&null===e.arrows&&(t.arrows=Object.create(o.arrows));if(void 0!==e.color&&null!==e.color)if(t.color=g.deepExtend({},t.color,!0),g.isString(e.color))t.color.color=e.color,t.color.highlight=e.color,t.color.hover=e.color,t.color.inherit=!1;else{var a=!1;void 0!==e.color.color&&(t.color.color=e.color.color,a=!0),void 0!==e.color.highlight&&(t.color.highlight=e.color.highlight,a=!0),void 0!==e.color.hover&&(t.color.hover=e.color.hover,a=!0),void 0!==e.color.inherit&&(t.color.inherit=e.color.inherit),void 0!==e.color.opacity&&(t.color.opacity=Math.min(1,Math.max(0,e.color.opacity))),void 0===e.color.inherit&&a===!0&&(t.color.inherit=!1)}else i===!0&&null===e.color&&(t.color=g.bridgeObject(o.color));void 0!==e.font&&null!==e.font?h["default"].parseOptions(t.font,e):i===!0&&null===e.font&&(t.font=g.bridgeObject(o.font))}}]),t}();e["default"]=y},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),d=i(87),l=o(d),c=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),h(e,[{key:"_line",value:function(t,e){var i=e[0],o=e[1];t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e||void 0===i.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.bezierCurveTo(i.x,i.y,o.x,o.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"_getViaCoordinates",value:function(){var t=this.from.x-this.to.x,e=this.from.y-this.to.y,i=void 0,o=void 0,n=void 0,s=void 0,r=this.options.smooth.roundness;return(Math.abs(t)>Math.abs(e)||this.options.smooth.forceDirection===!0||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(o=this.from.y,s=this.to.y,i=this.from.x-r*t,n=this.to.x+r*t):(o=this.from.y-r*e,s=this.to.y+r*e,i=this.from.x,n=this.to.x),[{x:i,y:o},{x:n,y:s}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6],h=a(r,2),d=h[0],l=h[1];return this._getDistanceToBezierEdge(t,e,i,o,n,s,d,l)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=a(e,2),o=i[0],n=i[1],s=t,r=[];r[0]=Math.pow(1-s,3),r[1]=3*s*Math.pow(1-s,2),r[2]=3*Math.pow(s,2)*(1-s),r[3]=Math.pow(s,3);var h=r[0]*this.fromPoint.x+r[1]*o.x+r[2]*n.x+r[3]*this.toPoint.x,d=r[0]*this.fromPoint.y+r[1]*o.y+r[2]*n.y+r[3]*this.toPoint.y;return{x:h,y:d}}}]),e}(l["default"]);e["default"]=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r,a){var h=1e9,d=void 0,l=void 0,c=void 0,u=void 0,p=void 0,f=t,m=e,v=[0,0,0,0];for(l=1;10>l;l++)c=.1*l,v[0]=Math.pow(1-c,3),v[1]=3*c*Math.pow(1-c,2),v[2]=3*Math.pow(c,2)*(1-c),v[3]=Math.pow(c,3),u=v[0]*t+v[1]*r.x+v[2]*a.x+v[3]*i,p=v[0]*e+v[1]*r.y+v[2]*a.y+v[3]*o,l>0&&(d=this._getDistanceToLine(f,m,u,p,n,s),h=h>d?d:h),f=u,m=p;return h}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(89),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_findBorderPositionBezier",value:function(t,e){var i,o,n,s,r,a=arguments.length<=2||void 0===arguments[2]?this._getViaCoordinates():arguments[2],h=10,d=0,l=0,c=1,u=.2,p=this.to,f=!1;for(t.id===this.from.id&&(p=this.from,f=!0);c>=l&&h>d;){var m=.5*(l+c);if(i=this.getPoint(m,a),o=Math.atan2(p.y-i.y,p.x-i.x),n=p.distanceToBorder(e,o),s=Math.sqrt(Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)),r=n-s,Math.abs(r)<u)break;0>r?f===!1?l=m:c=m:f===!1?c=m:l=m,d++}return i.t=m,i}},{key:"_getDistanceToBezierEdge",value:function(t,e,i,o,n,s,r){var a=1e9,h=void 0,d=void 0,l=void 0,c=void 0,u=void 0,p=t,f=e;for(d=1;10>d;d++)l=.1*d,c=Math.pow(1-l,2)*t+2*l*(1-l)*r.x+Math.pow(l,2)*i,u=Math.pow(1-l,2)*e+2*l*(1-l)*r.y+Math.pow(l,2)*o,d>0&&(h=this._getDistanceToLine(p,f,c,u,n,s),a=a>h?h:a),p=c,f=u;return a}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(1),a=function(){function t(e,i,n){o(this,t),this.body=i,this.labelModule=n,this.options={},this.setOptions(e),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return s(t,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(t){this.options=t,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.lineWidth=this.getLineWidth(e,i),this.options.dashes!==!1?this._drawDashedLine(t,o):this._drawLine(t,o)}},{key:"_drawLine",value:function(t,e,i,o){if(this.from!=this.to)this._line(t,e,i,o);else{var s=this._getCircleData(t),r=n(s,3),a=r[0],h=r[1],d=r[2];this._circle(t,a,h,d)}}},{key:"_drawDashedLine",value:function(t,e,i,o){t.lineCap="round";var s=[5,5];if(Array.isArray(this.options.dashes)===!0&&(s=this.options.dashes),void 0!==t.setLineDash){if(t.save(),t.setLineDash(s),t.lineDashOffset=0,this.from!=this.to)this._line(t,e);else{var r=this._getCircleData(t),a=n(r,3),h=a[0],d=a[1],l=a[2];this._circle(t,h,d,l)}t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else{if(this.from!=this.to)t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,s);else{var c=this._getCircleData(t),u=n(c,3),p=u[0],f=u[1],m=u[2];this._circle(t,p,f,m)}this.enableShadow(t),t.stroke(),this.disableShadow(t)}}},{key:"findBorderPosition",value:function(t,e,i){return this.from!=this.to?this._findBorderPosition(t,e,i):this._findBorderPositionCircle(t,e,i)}},{key:"findBorderPositions",value:function(t){var e={},i={};if(this.from!=this.to)e=this._findBorderPosition(this.from,t),i=this._findBorderPosition(this.to,t);else{var o=this._getCircleData(t),s=n(o,3),r=s[0],a=s[1];s[2];e=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.25,high:.6,direction:-1}),i=this._findBorderPositionCircle(this.from,t,{x:r,y:a,low:.6,high:.8,direction:1})}return{from:e,to:i}}},{key:"_getCircleData",value:function(t){var e=void 0,i=void 0,o=this.from,n=this.options.selfReferenceSize;return void 0!==t&&void 0===o.shape.width&&o.shape.resize(t),o.shape.width>o.shape.height?(e=o.x+.5*o.shape.width,i=o.y-n):(e=o.x+n,i=o.y-.5*o.shape.height),[e,i,n]}},{key:"_pointOnCircle",value:function(t,e,i,o){var n=2*o*Math.PI;return{x:t+i*Math.cos(n),y:e-i*Math.sin(n)}}},{key:"_findBorderPositionCircle",value:function(t,e,i){for(var o=i.x,n=i.y,s=i.low,r=i.high,a=i.direction,h=10,d=0,l=this.options.selfReferenceSize,c=void 0,u=void 0,p=void 0,f=void 0,m=void 0,v=.05,g=.5*(s+r);r>=s&&h>d&&(g=.5*(s+r),c=this._pointOnCircle(o,n,l,g),u=Math.atan2(t.y-c.y,t.x-c.x),p=t.distanceToBorder(e,u),f=Math.sqrt(Math.pow(c.x-t.x,2)+Math.pow(c.y-t.y,2)),
m=p-f,!(Math.abs(m)<v));)m>0?a>0?s=g:r=g:a>0?r=g:s=g,d++;return c.t=g,c}},{key:"getLineWidth",value:function(t,e){return t===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):e===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(t,e,i){var o=this.options.color;if(o.inherit!==!1){if("both"===o.inherit&&this.from.id!==this.to.id){var n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),s=void 0,a=void 0;return s=this.from.options.color.highlight.border,a=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(s=r.overrideOpacity(this.from.options.color.border,this.options.color.opacity),a=r.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?a=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(s=this.from.options.color.border),n.addColorStop(0,s),n.addColorStop(1,a),n}this.colorDirty===!0&&("to"===o.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=r.overrideOpacity(this.to.options.color.border,o.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=r.overrideOpacity(this.from.options.color.border,o.opacity)))}else this.colorDirty===!0&&(this.color.highlight=o.highlight,this.color.hover=o.hover,this.color.color=r.overrideOpacity(o.color,o.opacity));return this.colorDirty=!1,e===!0?this.color.highlight:i===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(t,e,i,o){this.enableShadow(t),t.beginPath(),t.arc(e,i,o,0,2*Math.PI,!1),t.stroke(),this.disableShadow(t)}},{key:"getDistanceToEdge",value:function(t,e,i,o,s,r,a){var h=0;if(this.from!=this.to)h=this._getDistanceToEdge(t,e,i,o,s,r,a);else{var d=this._getCircleData(),l=n(d,3),c=l[0],u=l[1],p=l[2],f=c-s,m=u-r;h=Math.abs(Math.sqrt(f*f+m*m)-p)}return this.labelModule.size.left<s&&this.labelModule.size.left+this.labelModule.size.width>s&&this.labelModule.size.top<r&&this.labelModule.size.top+this.labelModule.size.height>r?0:h}},{key:"_getDistanceToLine",value:function(t,e,i,o,n,s){var r=i-t,a=o-e,h=r*r+a*a,d=((n-t)*r+(s-e)*a)/h;d>1?d=1:0>d&&(d=0);var l=t+d*r,c=e+d*a,u=l-n,p=c-s;return Math.sqrt(u*u+p*p)}},{key:"getArrowData",value:function(t,e,i,o,s){var r=void 0,a=void 0,h=void 0,d=void 0,l=void 0,c=void 0,u=this.getLineWidth(o,s);if("from"===e?(h=this.from,d=this.to,l=.1,c=this.options.arrows.from.scaleFactor):"to"===e?(h=this.to,d=this.from,l=-.1,c=this.options.arrows.to.scaleFactor):(h=this.to,d=this.from,c=this.options.arrows.middle.scaleFactor),h!=d)if("middle"!==e)if(this.options.smooth.enabled===!0){a=this.findBorderPosition(h,t,{via:i});var p=this.getPoint(Math.max(0,Math.min(1,a.t+l)),i);r=Math.atan2(a.y-p.y,a.x-p.x)}else r=Math.atan2(h.y-d.y,h.x-d.x),a=this.findBorderPosition(h,t);else r=Math.atan2(h.y-d.y,h.x-d.x),a=this.getPoint(.5,i);else{var f=this._getCircleData(t),m=n(f,3),v=m[0],g=m[1],y=m[2];"from"===e?(a=this.findBorderPosition(this.from,t,{x:v,y:g,low:.25,high:.6,direction:-1}),r=-2*a.t*Math.PI+1.5*Math.PI+.1*Math.PI):"to"===e?(a=this.findBorderPosition(this.from,t,{x:v,y:g,low:.6,high:1,direction:1}),r=-2*a.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(a=this._pointOnCircle(v,g,y,.175),r=3.9269908169872414)}var b=15*c+3*u,w=a.x-.9*b*Math.cos(r),_=a.y-.9*b*Math.sin(r),x={x:w,y:_};return{point:a,core:x,angle:r,length:b}}},{key:"drawArrowHead",value:function(t,e,i,o){t.strokeStyle=this.getColor(t,e,i),t.fillStyle=t.strokeStyle,t.lineWidth=this.getLineWidth(e,i),t.arrow(o.point.x,o.point.y,o.angle,o.length),this.enableShadow(t),t.fill(),this.disableShadow(t)}},{key:"enableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor=this.options.shadow.color,t.shadowBlur=this.options.shadow.size,t.shadowOffsetX=this.options.shadow.x,t.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(t){this.options.shadow.enabled===!0&&(t.shadowColor="rgba(0,0,0,0)",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0)}}]),t}();e["default"]=a},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){n(this,e);var r=s(this,Object.getPrototypeOf(e).call(this,t,i,o));return r._boundFunction=function(){r.positionBezierNode()},r.body.emitter.on("_repositionBezierNodes",r._boundFunction),r}return r(e,t),a(e,[{key:"setOptions",value:function(t){var e=!1;this.options.physics!==t.physics&&(e=!0),this.options=t,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),e===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var t="edgeId:"+this.id,e=this.body.functions.createNode({id:t,shape:"circle",physics:!0,hidden:!0});this.body.nodes[t]=e,this.via=e,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.via:arguments[1],i=t,o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,n=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:n}}},{key:"_findBorderPosition",value:function(t,e){return this._findBorderPositionBezier(t,e,this.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToBezierEdge(t,e,i,o,n,s,this.via)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(88),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_line",value:function(t,e){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),void 0===e.x?t.lineTo(this.toPoint.x,this.toPoint.y):t.quadraticCurveTo(e.x,e.y,this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var t=void 0,e=void 0,i=this.options.smooth.roundness,o=this.options.smooth.type,n=Math.abs(this.from.x-this.to.x),s=Math.abs(this.from.y-this.to.y);if("discrete"===o||"diagonalCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s)),"discrete"===o&&(t=i*s>n?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n)),"discrete"===o&&(e=i*n>s?this.from.y:e));else if("straightCross"===o)Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?(t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y);else if("horizontal"===o)t=this.from.x<this.to.x?this.to.x-(1-i)*n:this.to.x+(1-i)*n,e=this.from.y;else if("vertical"===o)t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*s:this.to.y+(1-i)*s;else if("curvedCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var r=Math.sqrt(n*n+s*s),a=Math.PI,h=Math.atan2(s,n),d=(h+(.5*i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else if("curvedCCW"===o){n=this.to.x-this.from.x,s=this.from.y-this.to.y;var l=Math.sqrt(n*n+s*s),c=Math.PI,u=Math.atan2(s,n),p=(u+(.5*-i+.5)*c)%(2*c);t=this.from.x+(.5*i+.5)*l*Math.sin(p),e=this.from.y+(.5*i+.5)*l*Math.cos(p)}else Math.abs(this.from.x-this.to.x)<=Math.abs(this.from.y-this.to.y)?this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y-i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y-i*s,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*s,e=this.from.y+i*s,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*s,e=this.from.y+i*s,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>=this.to.y?this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n,e=this.to.y>e?this.to.y:e):this.from.y<this.to.y&&(this.from.x<=this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n,e=this.to.y<e?this.to.y:e)));return{x:t,y:e}}},{key:"_findBorderPosition",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(t,e,i.via)}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){var r=arguments.length<=6||void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(t,e,i,o,n,s,r)}},{key:"getPoint",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this._getViaCoordinates():arguments[1],i=t,o=Math.pow(1-i,2)*this.fromPoint.x+2*i*(1-i)*e.x+Math.pow(i,2)*this.toPoint.x,n=Math.pow(1-i,2)*this.fromPoint.y+2*i*(1-i)*e.y+Math.pow(i,2)*this.toPoint.y;return{x:o,y:n}}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(89),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_line",value:function(t){t.beginPath(),t.moveTo(this.fromPoint.x,this.fromPoint.y),t.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(t),t.stroke(),this.disableShadow(t)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(t){return{x:(1-t)*this.fromPoint.x+t*this.toPoint.x,y:(1-t)*this.fromPoint.y+t*this.toPoint.y}}},{key:"_findBorderPosition",value:function(t,e){var i=this.to,o=this.from;t.id===this.from.id&&(i=this.from,o=this.to);var n=Math.atan2(i.y-o.y,i.x-o.x),s=i.x-o.x,r=i.y-o.y,a=Math.sqrt(s*s+r*r),h=t.distanceToBorder(e,n),d=(a-h)/a,l={};return l.x=(1-d)*o.x+d*i.x,l.y=(1-d)*o.y+d*i.y,l}},{key:"_getDistanceToEdge",value:function(t,e,i,o,n,s){return this._getDistanceToLine(t,e,i,o,n,s)}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(94),a=o(r),h=i(95),d=o(h),l=i(96),c=o(l),u=i(97),p=o(u),f=i(98),m=o(f),v=i(99),g=o(v),y=i(100),b=o(y),w=i(101),_=o(w),x=i(1),k=function(){function t(e){n(this,t),this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},x.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("initPhysics",function(){t.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){t.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){t.stopSimulation(),t.ready=!1}),this.body.emitter.on("disablePhysics",function(){t.physicsEnabled=!1,t.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){t.setOptions(t.options),t.ready===!0&&t.startSimulation()}),this.body.emitter.on("startSimulation",function(){t.ready===!0&&t.startSimulation()}),this.body.emitter.on("stopSimulation",function(){t.stopSimulation()}),this.body.emitter.on("destroy",function(){t.stopSimulation(!1),t.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){t.updatePhysicsData()})}},{key:"setOptions",value:function(t){void 0!==t&&(t===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,x.selectiveNotDeepExtend(["stabilization"],this.options,t),x.mergeOptions(this.options,t,"stabilization"),void 0===t.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var t;"forceAtlas2Based"===this.options.solver?(t=this.options.forceAtlas2Based,this.nodesSolver=new b["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new _["default"](this.body,this.physicsBody,t)):"repulsion"===this.options.solver?(t=this.options.repulsion,this.nodesSolver=new d["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)):"hierarchicalRepulsion"===this.options.solver?(t=this.options.hierarchicalRepulsion,this.nodesSolver=new c["default"](this.body,this.physicsBody,t),this.edgesSolver=new m["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)):(t=this.options.barnesHut,this.nodesSolver=new a["default"](this.body,this.physicsBody,t),this.edgesSolver=new p["default"](this.body,this.physicsBody,t),this.gravitySolver=new g["default"](this.body,this.physicsBody,t)),this.modelOptions=t}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.stabilized=!0,t===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,t===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var t=Date.now();this.physicsTick();var e=Date.now()-t;(e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.stabilizationIterations:arguments[0];(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){t.body.emitter.emit("stabilized",{iterations:e}),t.startedStabilization=!1,t.stabilizationIterations=0},0)}},{key:"physicsTick",value:function(){if(this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilized===!1){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var t=1.2;this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.calculateForces(),this.moveNodes(),this.revert(),this.timestep=.5*this.timestep,this.calculateForces(),this.moveNodes(),this.calculateForces(),this.moveNodes(),this._evaluateStepQuality()===!0?this.timestep=t*this.timestep:this.timestep/t<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/t))):(this.calculateForces(),this.moveNodes()),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.calculateForces(),this.moveNodes();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var t=this.body.nodes,e=this.body.edges;for(var i in t)t.hasOwnProperty(i)&&t[i].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(t[i].id);for(var o in e)e.hasOwnProperty(o)&&e[o].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(e[o].id);for(var n=0;n<this.physicsBody.physicsNodeIndices.length;n++){var s=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[s]={x:0,y:0},void 0===this.physicsBody.velocities[s]&&(this.physicsBody.velocities[s]={x:0,y:0})}for(var r in this.physicsBody.velocities)void 0===t[r]&&delete this.physicsBody.velocities[r]}},{key:"revert",value:function(){var t=Object.keys(this.previousStates),e=this.body.nodes,i=this.physicsBody.velocities;this.referenceState={};for(var o=0;o<t.length;o++){var n=t[o];void 0!==e[n]?e[n].options.physics===!0&&(this.referenceState[n]={positions:{x:e[n].x,y:e[n].y}},i[n].x=this.previousStates[n].vx,i[n].y=this.previousStates[n].vy,e[n].x=this.previousStates[n].x,e[n].y=this.previousStates[n].y):delete this.previousStates[n]}}},{key:"_evaluateStepQuality",value:function(){var t=void 0,e=void 0,i=void 0,o=this.body.nodes,n=this.referenceState,s=.3;for(var r in this.referenceState)if(this.referenceState.hasOwnProperty(r)&&void 0!==o[r]&&(t=o[r].x-n[r].positions.x,e=o[r].y-n[r].positions.y,i=Math.sqrt(Math.pow(t,2)+Math.pow(e,2)),i>s))return!1;return!0}},{key:"moveNodes",value:function(){for(var t=this.physicsBody.physicsNodeIndices,e=this.options.maxVelocity?this.options.maxVelocity:1e9,i=0,o=0,n=5,s=0;s<t.length;s++){var r=t[s],a=this._performStep(r,e);i=Math.max(i,a),o+=a}this.adaptiveTimestepEnabled=o/t.length<n,this.stabilized=i<this.options.minVelocity}},{key:"_performStep",value:function(t,e){var i=this.body.nodes[t],o=this.timestep,n=this.physicsBody.forces,s=this.physicsBody.velocities;if(this.previousStates[t]={x:i.x,y:i.y,vx:s[t].x,vy:s[t].y},i.options.fixed.x===!1){var r=this.modelOptions.damping*s[t].x,a=(n[t].x-r)/i.options.mass;s[t].x+=a*o,s[t].x=Math.abs(s[t].x)>e?s[t].x>0?e:-e:s[t].x,i.x+=s[t].x*o}else n[t].x=0,s[t].x=0;if(i.options.fixed.y===!1){var h=this.modelOptions.damping*s[t].y,d=(n[t].y-h)/i.options.mass;s[t].y+=d*o,s[t].y=Math.abs(s[t].y)>e?s[t].y>0?e:-e:s[t].y,i.y+=s[t].y*o}else n[t].y=0,s[t].y=0;var l=Math.sqrt(Math.pow(s[t].x,2)+Math.pow(s[t].y,2));return l}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].x&&t[e].y&&(this.freezeCache[e]={x:t[e].options.fixed.x,y:t[e].options.fixed.y},t[e].options.fixed.x=!0,t[e].options.fixed.y=!0)}},{key:"_restoreFrozenNodes",value:function(){var t=this.body.nodes;for(var e in t)t.hasOwnProperty(e)&&void 0!==this.freezeCache[e]&&(t[e].options.fixed.x=this.freezeCache[e].x,t[e].options.fixed.y=this.freezeCache[e].y);this.freezeCache={}}},{key:"stabilize",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];return"number"!=typeof e&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),e=this.options.stabilization.iterations),0===this.physicsBody.physicsNodeIndices.length?void(this.ready=!0):(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,void setTimeout(function(){return t._stabilizationBatch()},0))}},{key:"_stabilizationBatch",value:function(){this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0);for(var t=0;this.stabilized===!1&&t<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;)this.physicsTick(),t++;this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(t){for(var e=0;e<this.physicsBody.physicsNodeIndices.length;e++){var i=this.body.nodes[this.physicsBody.physicsNodeIndices[e]],o=this.physicsBody.forces[this.physicsBody.physicsNodeIndices[e]],n=20,s=.03,r=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),a=Math.min(Math.max(5,r),15),h=3*a,d=x.HSVToHex((180-180*Math.min(1,Math.max(0,s*r)))/360,1,1);t.lineWidth=a,t.strokeStyle=d,t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(i.x+n*o.x,i.y+n*o.y),t.stroke();var l=Math.atan2(o.y,o.x);t.fillStyle=d,t.arrow(i.x+n*o.x+Math.cos(l)*h,i.y+n*o.y+Math.sin(l)*h,l,h),t.fill()}}}]),t}();e["default"]=k},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.barnesHutTree,this.setOptions(n),this.randomSeed=5}return o(t,[{key:"setOptions",value:function(t){this.options=t,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var t=void 0,e=this.body.nodes,i=this.physicsBody.physicsNodeIndices,o=i.length,n=this._formBarnesHutTree(e,i);this.barnesHutTree=n;for(var s=0;o>s;s++)t=e[i[s]],t.options.mass>0&&(this._getForceContribution(n.root.children.NW,t),this._getForceContribution(n.root.children.NE,t),this._getForceContribution(n.root.children.SW,t),this._getForceContribution(n.root.children.SE,t))}}},{key:"_getForceContribution",value:function(t,e){if(t.childrenCount>0){var i=void 0,o=void 0,n=void 0;i=t.centerOfMass.x-e.x,o=t.centerOfMass.y-e.y,n=Math.sqrt(i*i+o*o),n*t.calcSize>this.thetaInversed?this._calculateForces(n,i,o,e,t):4===t.childrenCount?(this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e)):t.children.data.id!=e.id&&this._calculateForces(n,i,o,e,t)}}},{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1,e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=this.options.gravitationalConstant*n.mass*o.options.mass/Math.pow(t,3),r=e*s,a=i*s;this.physicsBody.forces[o.id].x+=r,this.physicsBody.forces[o.id].y+=a}},{key:"_formBarnesHutTree",value:function(t,e){for(var i=void 0,o=e.length,n=t[e[0]].x,s=t[e[0]].y,r=t[e[0]].x,a=t[e[0]].y,h=1;o>h;h++){var d=t[e[h]].x,l=t[e[h]].y;t[e[h]].options.mass>0&&(n>d&&(n=d),d>r&&(r=d),s>l&&(s=l),l>a&&(a=l))}var c=Math.abs(r-n)-Math.abs(a-s);c>0?(s-=.5*c,a+=.5*c):(n+=.5*c,r-=.5*c);var u=1e-5,p=Math.max(u,Math.abs(r-n)),f=.5*p,m=.5*(n+r),v=.5*(s+a),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:m-f,maxX:m+f,minY:v-f,maxY:v+f},size:p,calcSize:1/p,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(var y=0;o>y;y++)i=t[e[y]],i.options.mass>0&&this._placeInTree(g.root,i);return g}},{key:"_updateBranchMass",value:function(t,e){var i=t.mass+e.options.mass,o=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=o,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=o,t.mass=i;var n=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<n?n:t.maxWidth}},{key:"_placeInTree",value:function(t,e,i){1==i&&void 0!==i||this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")}},{key:"_placeInRegion",value:function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x===e.x&&t.children[i].children.data.y===e.y?(e.x+=this.seededRandom(),e.y+=this.seededRandom()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}}},{key:"_splitBranch",value:function(t){var e=null;1===t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)}},{key:"_insertRegion",value:function(t,e){var i=void 0,o=void 0,n=void 0,s=void 0,r=.5*t.size;switch(e){case"NW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY,s=t.range.minY+r;break;case"NE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY,s=t.range.minY+r;break;case"SW":i=t.range.minX,o=t.range.minX+r,n=t.range.minY+r,s=t.range.maxY;break;case"SE":i=t.range.minX+r,o=t.range.maxX,n=t.range.minY+r,s=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:o,minY:n,maxY:s},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}}},{key:"_debug",value:function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))}},{key:"_drawBranch",value:function(t,e,i){void 0===i&&(i="#FF0000"),4===t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),
e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}}]),t}();e["default"]=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s,r,a,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,l=this.physicsBody.forces,c=this.options.nodeDistance,u=-2/3/c,p=4/3,f=0;f<d.length-1;f++){r=h[d[f]];for(var m=f+1;m<d.length;m++)a=h[d[m]],t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e),0===i&&(i=.1*Math.random(),t=i),2*c>i&&(s=.5*c>i?1:u*i+p,s/=i,o=t*s,n=e*s,l[r.id].x-=o,l[r.id].y-=n,l[a.id].x+=o,l[a.id].y+=n)}}}]),t}();e["default"]=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){var t,e,i,o,n,s,r,a,h,d,l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,p=this.options.nodeDistance;for(h=0;h<c.length-1;h++)for(r=l[c[h]],d=h+1;d<c.length;d++)if(a=l[c[d]],r.level===a.level){t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e);var f=.05;s=p>i?-Math.pow(f*i,2)+Math.pow(f*p,2):0,0===i?i=.01:s/=i,o=t*s,n=e*s,u[r.id].x-=o,u[r.id].y-=n,u[a.id].x+=o,u[a.id].y+=n}}}]),t}();e["default"]=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=this.physicsBody.physicsEdgeIndices,o=this.body.edges,n=void 0,s=void 0,r=void 0,a=0;a<i.length;a++)e=o[i[a]],e.connected===!0&&e.toId!==e.fromId&&void 0!==this.body.nodes[e.toId]&&void 0!==this.body.nodes[e.fromId]&&(void 0!==e.edgeType.via?(t=void 0===e.options.length?this.options.springLength:e.options.length,n=e.to,s=e.edgeType.via,r=e.from,this._calculateSpringForce(n,s,.5*t),this._calculateSpringForce(s,r,.5*t)):(t=void 0===e.options.length?1.5*this.options.springLength:e.options.length,this._calculateSpringForce(e.from,e.to,t)))}},{key:"_calculateSpringForce",value:function(t,e,i){var o=t.x-e.x,n=t.y-e.y,s=Math.max(Math.sqrt(o*o+n*n),.01),r=this.options.springConstant*(i-s)/s,a=o*r,h=n*r;void 0!==this.physicsBody.forces[t.id]&&(this.physicsBody.forces[t.id].x+=a,this.physicsBody.forces[t.id].y+=h),void 0!==this.physicsBody.forces[e.id]&&(this.physicsBody.forces[e.id].x-=a,this.physicsBody.forces[e.id].y-=h)}}]),t}();e["default"]=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t,e,i,o,n,s,r,a,h=this.body.edges,d=.5,l=this.physicsBody.physicsEdgeIndices,c=this.physicsBody.physicsNodeIndices,u=this.physicsBody.forces,p=0;p<c.length;p++){var f=c[p];u[f].springFx=0,u[f].springFy=0}for(var m=0;m<l.length;m++)e=h[l[m]],e.connected===!0&&(t=void 0===e.options.length?this.options.springLength:e.options.length,i=e.from.x-e.to.x,o=e.from.y-e.to.y,a=Math.sqrt(i*i+o*o),a=0===a?.01:a,r=this.options.springConstant*(t-a)/a,n=i*r,s=o*r,e.to.level!=e.from.level?(void 0!==u[e.toId]&&(u[e.toId].springFx-=n,u[e.toId].springFy-=s),void 0!==u[e.fromId]&&(u[e.fromId].springFx+=n,u[e.fromId].springFy+=s)):(void 0!==u[e.toId]&&(u[e.toId].x-=d*n,u[e.toId].y-=d*s),void 0!==u[e.fromId]&&(u[e.fromId].x+=d*n,u[e.fromId].y+=d*s)));for(var v,g,r=1,y=0;y<c.length;y++){var b=c[y];v=Math.min(r,Math.max(-r,u[b].springFx)),g=Math.min(r,Math.max(-r,u[b].springFy)),u[b].x+=v,u[b].y+=g}for(var w=0,_=0,x=0;x<c.length;x++){var k=c[x];w+=u[k].x,_+=u[k].y}for(var O=w/c.length,M=_/c.length,D=0;D<c.length;D++){var S=c[D];u[S].x-=O,u[S].y-=M}}}]),t}();e["default"]=n},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e,o,n){i(this,t),this.body=e,this.physicsBody=o,this.setOptions(n)}return o(t,[{key:"setOptions",value:function(t){this.options=t}},{key:"solve",value:function(){for(var t=void 0,e=void 0,i=void 0,o=void 0,n=this.body.nodes,s=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,a=0;a<s.length;a++){var h=s[a];o=n[h],t=-o.x,e=-o.y,i=Math.sqrt(t*t+e*e),this._calculateForces(i,t,e,r,o)}}},{key:"_calculateForces",value:function(t,e,i,o,n){var s=0===t?0:this.options.centralGravity/t;o[n.id].x=e*s,o[n.id].y=i*s}}]),t}();e["default"]=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(94),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_calculateForces",value:function(t,e,i,o,n){0===t&&(t=.1*Math.random(),e=t),this.overlapAvoidanceFactor<1&&(t=Math.max(.1+this.overlapAvoidanceFactor*o.shape.radius,t-o.shape.radius));var s=o.edges.length+1,r=this.options.gravitationalConstant*n.mass*o.options.mass*s/Math.pow(t,2),a=e*r,h=i*r;this.physicsBody.forces[o.id].x+=a,this.physicsBody.forces[o.id].y+=h}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(99),d=o(h),l=function(t){function e(t,i,o){return n(this,e),s(this,Object.getPrototypeOf(e).call(this,t,i,o))}return r(e,t),a(e,[{key:"_calculateForces",value:function(t,e,i,o,n){if(t>0){var s=n.edges.length+1,r=this.options.centralGravity*s*n.options.mass;o[n.id].x=e*r,o[n.id].y=i*r}}}]),e}(d["default"]);e["default"]=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(103),h=o(a),d=i(104),l=o(d),c=i(1),u=function(){function t(e){var i=this;n(this,t),this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},c.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){i.clusteredNodes={},i.clusteredEdges={}})}return r(t,[{key:"setOptions",value:function(t){}},{key:"clusterByHubsize",value:function(t,e){void 0===t?t=this._getHubSize():"object"===("undefined"==typeof t?"undefined":s(t))&&(e=this._checkOptions(t),t=this._getHubSize());for(var i=[],o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodes[this.body.nodeIndices[o]];n.edges.length>=t&&i.push(n.id)}for(var r=0;r<i.length;r++)this.clusterByConnection(i[r],e,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(void 0===t.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");t=this._checkOptions(t);for(var i={},o={},n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodeIndices[n],r=this.body.nodes[s],a=h["default"].cloneOptions(r);if(t.joinCondition(a)===!0){i[s]=this.body.nodes[s];for(var d=0;d<r.edges.length;d++){var l=r.edges[d];void 0===this.clusteredEdges[l.id]&&(o[l.id]=l)}}}this._cluster(i,o,t,e)}},{key:"clusterByEdgeCount",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];e=this._checkOptions(e);for(var o=[],n={},s=void 0,r=void 0,a=void 0,d=void 0,l=void 0,c=0;c<this.body.nodeIndices.length;c++){var u={},p={};if(d=this.body.nodeIndices[c],void 0===n[d]){l=0,a=this.body.nodes[d],r=[];for(var f=0;f<a.edges.length;f++)s=a.edges[f],void 0===this.clusteredEdges[s.id]&&(s.toId!==s.fromId&&l++,r.push(s));if(l===t){for(var m=!0,v=0;v<r.length;v++){s=r[v];var g=this._getConnectedId(s,d);if(void 0===e.joinCondition)p[s.id]=s,u[d]=this.body.nodes[d],u[g]=this.body.nodes[g],n[d]=!0;else{var y=h["default"].cloneOptions(this.body.nodes[d]);if(e.joinCondition(y)!==!0){m=!1;break}p[s.id]=s,u[d]=this.body.nodes[d],n[d]=!0}}Object.keys(u).length>0&&Object.keys(p).length>0&&m===!0&&o.push({nodes:u,edges:p})}}}for(var b=0;b<o.length;b++)this._cluster(o[b].nodes,o[b].edges,e,!1);i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.clusterByEdgeCount(1,t,e)}},{key:"clusterBridges",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.clusterByEdgeCount(2,t,e)}},{key:"clusterByConnection",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[t])throw new Error("The nodeId given to clusterByConnection does not exist!");var o=this.body.nodes[t];e=this._checkOptions(e,o),void 0===e.clusterNodeProperties.x&&(e.clusterNodeProperties.x=o.x),void 0===e.clusterNodeProperties.y&&(e.clusterNodeProperties.y=o.y),void 0===e.clusterNodeProperties.fixed&&(e.clusterNodeProperties.fixed={},e.clusterNodeProperties.fixed.x=o.options.fixed.x,e.clusterNodeProperties.fixed.y=o.options.fixed.y);var n={},s={},r=o.id,a=h["default"].cloneOptions(o);n[r]=o;for(var d=0;d<o.edges.length;d++){var l=o.edges[d];if(void 0===this.clusteredEdges[l.id]){var c=this._getConnectedId(l,r);if(void 0===this.clusteredNodes[c])if(c!==r)if(void 0===e.joinCondition)s[l.id]=l,n[c]=this.body.nodes[c];else{var u=h["default"].cloneOptions(this.body.nodes[c]);e.joinCondition(a,u)===!0&&(s[l.id]=l,n[c]=this.body.nodes[c])}else s[l.id]=l}}this._cluster(n,s,e,i)}},{key:"_createClusterEdges",value:function(t,e,i,o){for(var n=void 0,s=void 0,r=void 0,a=void 0,d=void 0,l=void 0,u=Object.keys(t),p=[],f=0;f<u.length;f++){s=u[f],r=t[s];for(var m=0;m<r.edges.length;m++)n=r.edges[m],void 0===this.clusteredEdges[n.id]&&(n.toId==n.fromId?e[n.id]=n:n.toId==s?(a=i.id,d=n.fromId,l=d):(a=n.toId,d=i.id,l=a),void 0===t[l]&&p.push({edge:n,fromId:d,toId:a}))}for(var v=0;v<p.length;v++){var g=p[v].edge,y=h["default"].cloneOptions(g,"edge");c.deepExtend(y,o),y.from=p[v].fromId,y.to=p[v].toId,y.id="clusterEdge:"+c.randomUUID();var b=this.body.functions.createEdge(y);b.clusteringEdgeReplacingId=g.id,this.body.edges[b.id]=b,b.connect(),this._backupEdgeOptions(g),g.setOptions({physics:!1,hidden:!0})}}},{key:"_checkOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return void 0===t.clusterEdgeProperties&&(t.clusterEdgeProperties={}),void 0===t.clusterNodeProperties&&(t.clusterNodeProperties={}),t}},{key:"_cluster",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?!0:arguments[3];if(!(Object.keys(t).length<2)){for(var n in t)if(t.hasOwnProperty(n)&&void 0!==this.clusteredNodes[n])return;var s=c.deepExtend({},i.clusterNodeProperties);if(void 0!==i.processProperties){var r=[];for(var a in t)if(t.hasOwnProperty(a)){var d=h["default"].cloneOptions(t[a]);r.push(d)}var u=[];for(var p in e)if(e.hasOwnProperty(p)&&"clusterEdge:"!==p.substr(0,12)){var f=h["default"].cloneOptions(e[p],"edge");u.push(f)}if(s=i.processProperties(s,r,u),!s)throw new Error("The processProperties function does not return properties!")}void 0===s.id&&(s.id="cluster:"+c.randomUUID());var m=s.id;void 0===s.label&&(s.label="cluster");var v=void 0;void 0===s.x&&(v=this._getClusterPosition(t),s.x=v.x),void 0===s.y&&(void 0===v&&(v=this._getClusterPosition(t)),s.y=v.y),s.id=m;var g=this.body.functions.createNode(s,l["default"]);g.isCluster=!0,g.containedNodes=t,g.containedEdges=e,g.clusterEdgeProperties=i.clusterEdgeProperties,this.body.nodes[s.id]=g,this._createClusterEdges(t,e,s,i.clusterEdgeProperties);for(var y in e)if(e.hasOwnProperty(y)&&void 0!==this.body.edges[y]){var b=this.body.edges[y];this._backupEdgeOptions(b),b.setOptions({physics:!1,hidden:!0})}for(var w in t)t.hasOwnProperty(w)&&(this.clusteredNodes[w]={clusterId:s.id,node:this.body.nodes[w]},this.body.nodes[w].setOptions({hidden:!0,physics:!1}));s.id=void 0,o===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(t){void 0===this.clusteredEdges[t.id]&&(this.clusteredEdges[t.id]={physics:t.options.physics,hidden:t.options.hidden})}},{key:"_restoreEdge",value:function(t){var e=this.clusteredEdges[t.id];void 0!==e&&(t.setOptions({physics:e.physics,hidden:e.hidden}),delete this.clusteredEdges[t.id])}},{key:"isCluster",value:function(t){return void 0!==this.body.nodes[t]?this.body.nodes[t].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(t){for(var e=Object.keys(t),i=t[e[0]].x,o=t[e[0]].x,n=t[e[0]].y,s=t[e[0]].y,r=void 0,a=1;a<e.length;a++)r=t[e[a]],i=r.x<i?r.x:i,o=r.x>o?r.x:o,n=r.y<n?r.y:n,s=r.y>s?r.y:s;return{x:.5*(i+o),y:.5*(n+s)}}},{key:"openCluster",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(void 0===t)throw new Error("No clusterNodeId supplied to openCluster.");if(void 0===this.body.nodes[t])throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(void 0===this.body.nodes[t].containedNodes)return void console.log("The node:"+t+" is not a cluster.");var o=this.body.nodes[t],n=o.containedNodes,s=o.containedEdges;if(void 0!==e&&void 0!==e.releaseFunction&&"function"==typeof e.releaseFunction){var r={},a={x:o.x,y:o.y};for(var d in n)if(n.hasOwnProperty(d)){var l=this.body.nodes[d];r[d]={x:l.x,y:l.y}}var u=e.releaseFunction(a,r);for(var p in n)if(n.hasOwnProperty(p)){var f=this.body.nodes[p];void 0!==u[p]&&(f.x=void 0===u[p].x?o.x:u[p].x,f.y=void 0===u[p].y?o.y:u[p].y)}}else for(var m in n)if(n.hasOwnProperty(m)){var v=this.body.nodes[m];v=n[m],v.options.fixed.x===!1&&(v.x=o.x),v.options.fixed.y===!1&&(v.y=o.y)}for(var g in n)if(n.hasOwnProperty(g)){var y=this.body.nodes[g];y.vx=o.vx,y.vy=o.vy,y.setOptions({hidden:!1,physics:!0}),delete this.clusteredNodes[g]}for(var b=[],w=0;w<o.edges.length;w++)b.push(o.edges[w]);for(var _=0;_<b.length;_++){var x=b[_],k=this._getConnectedId(x,t);if(void 0!==this.clusteredNodes[k]){var O=this.body.nodes[this.clusteredNodes[k].clusterId],M=this.body.edges[x.clusteringEdgeReplacingId];if(void 0!==M){O.containedEdges[M.id]=M,delete s[M.id];var D=M.fromId,S=M.toId;M.toId==k?S=this.clusteredNodes[k].clusterId:D=this.clusteredNodes[k].clusterId;var C=h["default"].cloneOptions(M,"edge");c.deepExtend(C,O.clusterEdgeProperties);var T="clusterEdge:"+c.randomUUID();c.deepExtend(C,{from:D,to:S,hidden:!1,physics:!0,id:T});var E=this.body.functions.createEdge(C);E.clusteringEdgeReplacingId=M.id,this.body.edges[T]=E,this.body.edges[T].connect()}}else{var P=this.body.edges[x.clusteringEdgeReplacingId];void 0!==P&&this._restoreEdge(P)}x.cleanup(),x.disconnect(),delete this.body.edges[x.id]}for(var I in s)s.hasOwnProperty(I)&&this._restoreEdge(s[I]);delete this.body.nodes[t],i===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(t){var e=[];if(this.isCluster(t)===!0){var i=this.body.nodes[t].containedNodes;for(var o in i)i.hasOwnProperty(o)&&e.push(this.body.nodes[o].id)}return e}},{key:"findNode",value:function(t){for(var e=[],i=100,o=0;void 0!==this.clusteredNodes[t]&&i>o;)e.push(this.body.nodes[t].id),t=this.clusteredNodes[t].clusterId,o++;return e.push(this.body.nodes[t].id),e.reverse(),e}},{key:"_getConnectedId",value:function(t,e){return t.toId!=e?t.toId:t.fromId!=e?t.fromId:t.fromId}},{key:"_getHubSize",value:function(){for(var t=0,e=0,i=0,o=0,n=0;n<this.body.nodeIndices.length;n++){var s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>o&&(o=s.edges.length),t+=s.edges.length,e+=Math.pow(s.edges.length,2),i+=1}t/=i,e/=i;var r=e-Math.pow(t,2),a=Math.sqrt(r),h=Math.floor(t+2*a);return h>o&&(h=o),h}}]),t}();e["default"]=u},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=function(){function t(){o(this,t)}return n(t,null,[{key:"getRange",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.shape.boundingBox.left&&(s=e.shape.boundingBox.left),r<e.shape.boundingBox.right&&(r=e.shape.boundingBox.right),o>e.shape.boundingBox.top&&(o=e.shape.boundingBox.top),n<e.shape.boundingBox.bottom&&(n=e.shape.boundingBox.bottom);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"getRangeCore",value:function(t){var e,i=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],o=1e9,n=-1e9,s=1e9,r=-1e9;if(i.length>0)for(var a=0;a<i.length;a++)e=t[i[a]],s>e.x&&(s=e.x),r<e.x&&(r=e.x),o>e.y&&(o=e.y),n<e.y&&(n=e.y);return 1e9===s&&-1e9===r&&1e9===o&&-1e9===n&&(o=0,n=0,s=0,r=0),{minX:s,maxX:r,minY:o,maxY:n}}},{key:"findCenter",value:function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}}},{key:"cloneOptions",value:function(t,e){var i={};return void 0===e||"node"===e?(s.deepExtend(i,t.options,!0),i.x=t.x,i.y=t.y,i.amountOfConnections=t.edges.length):s.deepExtend(i,t.options,!0),i}}]),t}();e["default"]=r},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=i(65),h=o(a),d=function(t){function e(t,i,o,r,a){n(this,e);var h=s(this,Object.getPrototypeOf(e).call(this,t,i,o,r,a));return h.isCluster=!0,h.containedNodes={},h.containedEdges={},h}return r(e,t),e}(h["default"]);e["default"]=d},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var s=i(1),r=function(){function t(e,i){o(this,t),this.body=e,this.canvas=i,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},s.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("dragStart",function(){t.dragging=!0}),this.body.emitter.on("dragEnd",function(){return t.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return t._resizeNodes()}),this.body.emitter.on("_redraw",function(){t.renderingActive===!1&&t._redraw()}),this.body.emitter.on("_blockRedraw",function(){t.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){t.allowRedraw=!0,t.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){t.renderRequests+=1,t.renderingActive=!0,t._startRendering()}),this.body.emitter.on("_stopRendering",function(){t.renderRequests-=1,t.renderingActive=t.renderRequests>0,t.renderTimer=void 0}),this.body.emitter.on("destroy",function(){t.renderRequests=0,t.allowRedraw=!1,t.renderingActive=!1,t.requiresTimeout===!0?clearTimeout(t.renderTimer):cancelAnimationFrame(t.renderTimer),t.body.emitter.off()})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag"];s.selectiveDeepExtend(e,this.options,t)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var t=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){t._redraw(!1)},0):window.requestAnimationFrame(function(){t._redraw(!1)}))}},{key:"_redraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var e=this.canvas.frame.canvas.getContext("2d");0!==this.canvas.frame.canvas.width&&0!==this.canvas.frame.canvas.height||this.canvas.setSize(),this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var i=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(e.clearRect(0,0,i,o),0===this.canvas.frame.clientWidth)return;e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale),e.beginPath(),this.body.emitter.emit("beforeDrawing",e),e.closePath(),t===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(e),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(e,t),e.beginPath(),this.body.emitter.emit("afterDrawing",e),e.closePath(),e.restore(),t===!0&&e.clearRect(0,0,i,o)}}},{key:"_resizeNodes",value:function(){var t=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),t.save(),t.translate(this.body.view.translation.x,this.body.view.translation.y),t.scale(this.body.view.scale,this.body.view.scale);var e=this.body.nodes,i=void 0;for(var o in e)e.hasOwnProperty(o)&&(i=e[o],i.resize(t),i.updateBoundingBox(t,i.selected));t.restore()}},{key:"_drawNodes",value:function(t){for(var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=this.body.nodes,o=this.body.nodeIndices,n=void 0,s=[],r=20,a=this.canvas.DOMtoCanvas({x:-r,y:-r}),h=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+r,y:this.canvas.frame.canvas.clientHeight+r}),d={top:a.y,left:a.x,bottom:h.y,right:h.x},l=0;l<o.length;l++)n=i[o[l]],n.isSelected()?s.push(o[l]):e===!0?n.draw(t):n.isBoundingBoxOverlappingWith(d)===!0?n.draw(t):n.updateBoundingBox(t,n.selected);for(var c=0;c<s.length;c++)n=i[s[c]],n.draw(t)}},{key:"_drawEdges",value:function(t){for(var e=this.body.edges,i=this.body.edgeIndices,o=void 0,n=0;n<i.length;n++)o=e[i[n]],o.connected===!0&&o.draw(t)}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),t}();e["default"]=r},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(20),r=i(28),a=i(1),h=function(){function t(e){o(this,t),this.body=e,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},a.extend(this.options,this.defaultOptions),this.bindEventListeners()}return n(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.once("resize",function(e){0!==e.width&&(t.body.view.translation.x=.5*e.width),0!==e.height&&(t.body.view.translation.y=.5*e.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){t.hammerFrame.destroy(),t.hammer.destroy(),t._cleanUp()})}},{key:"setOptions",value:function(t){var e=this;if(void 0!==t){var i=["width","height","autoResize"];a.selectiveDeepExtend(i,this.options,t)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var t=e.setSize();t===!0&&e.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),a.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),a.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.pixelRatio:arguments[0];this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/t,this.cameraState.previousHeight=this.frame.canvas.height/t,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/t,y:.5*this.frame.canvas.height/t}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var t=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,e=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,i=this.cameraState.scale;1!=t&&1!=e?i=.5*this.cameraState.scale*(t+e):1!=t?i=this.cameraState.scale*t:1!=e&&(i=this.cameraState.scale*e),this.body.view.scale=i;var o=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),n={x:o.x-this.cameraState.position.x,y:o.y-this.cameraState.position.y};this.body.view.translation.x+=n.x*this.body.view.scale,this.body.view.translation.y+=n.y*this.body.view.scale}}},{key:"_prepareValue",value:function(t){if("number"==typeof t)return t+"px";if("string"==typeof t){if(-1!==t.indexOf("%")||-1!==t.indexOf("px"))return t;if(-1===t.indexOf("%"))return t+"px"}throw new Error("Could not use the value supplied for width or height:"+t)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var t=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),
this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var t=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new s(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:s.DIRECTION_ALL}),r.onTouch(this.hammer,function(e){t.body.eventListeners.onTouch(e)}),this.hammer.on("tap",function(e){t.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",function(e){t.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",function(e){t.body.eventListeners.onHold(e)}),this.hammer.on("panstart",function(e){t.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",function(e){t.body.eventListeners.onDrag(e)}),this.hammer.on("panend",function(e){t.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",function(e){t.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("mousewheel",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(e){t.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",function(e){t.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",function(e){t.body.eventListeners.onContext(e)}),this.hammerFrame=new s(this.frame),r.onRelease(this.hammerFrame,function(e){t.body.eventListeners.onRelease(e)})}},{key:"setSize",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.options.width:arguments[0],e=arguments.length<=1||void 0===arguments[1]?this.options.height:arguments[1];t=this._prepareValue(t),e=this._prepareValue(e);var i=!1,o=this.frame.canvas.width,n=this.frame.canvas.height,s=this.frame.canvas.getContext("2d"),r=this.pixelRatio;return this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),t!=this.options.width||e!=this.options.height||this.frame.style.width!=t||this.frame.style.height!=e?(this._getCameraState(r),this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=t,this.options.height=e,i=!0):(this.frame.canvas.width==Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&this.frame.canvas.height==Math.round(this.frame.canvas.clientHeight*this.pixelRatio)||this._getCameraState(r),this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),i=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),i=!0)),i===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(o/this.pixelRatio),oldHeight:Math.round(n/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,i}},{key:"_XconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(t){return(t-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(t){return t*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}}},{key:"DOMtoCanvas",value:function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}}}]),t}();e["default"]=h},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(103),a=o(r),h=i(1),d=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){o.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return s(t,[{key:"setOptions",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}},{key:"fit",value:function(){var t=arguments.length<=0||void 0===arguments[0]?{nodes:[]}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=void 0,o=void 0;if(void 0!==t.nodes&&0!==t.nodes.length||(t.nodes=this.body.nodeIndices),e===!0){var n=0;for(var s in this.body.nodes)if(this.body.nodes.hasOwnProperty(s)){var r=this.body.nodes[s];r.predefinedPosition===!0&&(n+=1)}if(n>.5*this.body.nodeIndices.length)return void this.fit(t,!1);i=a["default"].getRange(this.body.nodes,t.nodes);var h=this.body.nodeIndices.length;o=12.662/(h+7.4147)+.0964822;var d=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),i=a["default"].getRange(this.body.nodes,t.nodes);var l=1.1*Math.abs(i.maxX-i.minX),c=1.1*Math.abs(i.maxY-i.minY),u=this.canvas.frame.canvas.clientWidth/l,p=this.canvas.frame.canvas.clientHeight/c;o=p>=u?u:p}o>1?o=1:0===o&&(o=1);var f=a["default"].findCenter(i),m={position:f,scale:o,animation:t.animation};this.moveTo(m)}},{key:"focus",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[t]){var i={x:this.body.nodes[t].x,y:this.body.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("Node: "+t+" cannot be found.")}},{key:"moveTo",value:function(t){return void 0===t?void(t={}):(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this.body.view.scale),void 0===t.position&&(t.position=this.getViewPosition()),void 0===t.animation&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),void this.animateView(t))}},{key:"animateView",value:function(t){if(void 0!==t){this.animationEasingFunction=t.animation.easingFunction,this.releaseNode(),t.locked===!0&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=t.scale,this.body.view.scale=this.targetScale;var e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0===t.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*t.animation.duration*.001)||1/60,this.animationEasingFunction=t.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var t={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},e=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},o=this.body.view.translation,n={x:o.x+i.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:o.y+i.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=n}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=t===!0?1:this.easingTime;var e=h.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*e,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),t}();e["default"]=d},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(109),a=o(r),h=i(110),d=o(h),l=i(1),c=function(){function t(e,i,o){n(this,t),this.body=e,this.canvas=i,this.selectionHandler=o,this.navigationHandler=new a["default"](e,i),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return s(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("destroy",function(){clearTimeout(t.popupTimer),delete t.body.functions.getPointer})}},{key:"setOptions",value:function(t){if(void 0!==t){var e=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(e,this.options,t),l.mergeOptions(this.options,t,"keyboard"),t.tooltip&&(l.extend(this.options.tooltip,t.tooltip),t.tooltip.color&&(this.options.tooltip.color=l.parseColor(t.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(t){return{x:t.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:t.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(t){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(t.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect&&(t.changedPointers[0].ctrlKey||t.changedPointers[0].metaKey);this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e)}},{key:"onDoubleTap",value:function(t){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("doubleClick",t,e)}},{key:"onHold",value:function(t){var e=this.getPointer(t.center),i=this.selectionHandler.options.multiselect;this.checkSelectionChanges(e,t,i),this.selectionHandler._generateClickEvent("click",t,e),this.selectionHandler._generateClickEvent("hold",t,e)}},{key:"onRelease",value:function(t){if((new Date).valueOf()-this.touchTime>10){var e=this.getPointer(t.center);this.selectionHandler._generateClickEvent("release",t,e),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(t){var e=this.getPointer({x:t.clientX,y:t.clientY});this.selectionHandler._generateClickEvent("oncontext",t,e)}},{key:"checkSelectionChanges",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=this.selectionHandler._getSelectedEdgeCount(),n=this.selectionHandler._getSelectedNodeCount(),s=this.selectionHandler.getSelection(),r=void 0;r=i===!0?this.selectionHandler.selectAdditionalOnPoint(t):this.selectionHandler.selectOnPoint(t);var a=this.selectionHandler._getSelectedEdgeCount(),h=this.selectionHandler._getSelectedNodeCount(),d=this.selectionHandler.getSelection(),l=this._determineIfDifferent(s,d),c=l.nodesChanged,u=l.edgesChanged,p=!1;h-n>0?(this.selectionHandler._generateClickEvent("selectNode",e,t),r=!0,p=!0):c===!0&&h>0?(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),this.selectionHandler._generateClickEvent("selectNode",e,t),p=!0,r=!0):0>h-n&&(this.selectionHandler._generateClickEvent("deselectNode",e,t,s),r=!0),a-o>0&&p===!1?(this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):a>0&&u===!0?(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),this.selectionHandler._generateClickEvent("selectEdge",e,t),r=!0):0>a-o&&(this.selectionHandler._generateClickEvent("deselectEdge",e,t,s),r=!0),r===!0&&this.selectionHandler._generateClickEvent("select",e,t)}},{key:"_determineIfDifferent",value:function(t,e){for(var i=!1,o=!1,n=0;n<t.nodes.length;n++)-1===e.nodes.indexOf(t.nodes[n])&&(i=!0);for(var s=0;s<e.nodes.length;s++)-1===t.nodes.indexOf(t.nodes[s])&&(i=!0);for(var r=0;r<t.edges.length;r++)-1===e.edges.indexOf(t.edges[r])&&(o=!0);for(var a=0;a<e.edges.length;a++)-1===t.edges.indexOf(t.edges[a])&&(o=!0);return{nodesChanged:i,edgesChanged:o}}},{key:"onDragStart",value:function(t){void 0===this.drag.pointer&&this.onTouch(t);var e=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==e&&this.options.dragNodes===!0){this.drag.nodeId=e.id,e.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(e)),this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer);var i=this.selectionHandler.selectionObj.nodes;for(var o in i)if(i.hasOwnProperty(o)){var n=i[o],s={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(s)}}else this.selectionHandler._generateClickEvent("dragStart",t,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(t){var e=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var i=this.getPointer(t.center),o=this.drag.selection;if(o&&o.length&&this.options.dragNodes===!0)!function(){e.selectionHandler._generateClickEvent("dragging",t,i);var n=i.x-e.drag.pointer.x,s=i.y-e.drag.pointer.y;o.forEach(function(t){var i=t.node;t.xFixed===!1&&(i.x=e.canvas._XconvertDOMtoCanvas(e.canvas._XconvertCanvasToDOM(t.x)+n)),t.yFixed===!1&&(i.y=e.canvas._YconvertDOMtoCanvas(e.canvas._YconvertCanvasToDOM(t.y)+s))}),e.body.emitter.emit("startSimulation")}();else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",t,i,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(t);var n=i.x-this.drag.pointer.x,s=i.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_redraw")}}}},{key:"onDragEnd",value:function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.options.fixed.x=t.xFixed,t.node.options.fixed.y=t.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",t,this.getPointer(t.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(t){var e=this.getPointer(t.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var i=this.pinch.scale*t.scale;this.zoom(i,e)}},{key:"zoom",value:function(t,e){if(this.options.zoomView===!0){var i=this.body.view.scale;1e-5>t&&(t=1e-5),t>10&&(t=10);var o=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(o=this.canvas.DOMtoCanvas(this.drag.pointer));var n=this.body.view.translation,s=t/i,r=(1-s)*e.x+n.x*s,a=(1-s)*e.y+n.y*s;if(this.body.view.scale=t,this.body.view.translation={x:r,y:a},void 0!=o){var h=this.canvas.canvasToDOM(o);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}this.body.emitter.emit("_requestRedraw"),t>i?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(t){if(this.options.zoomView===!0){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),0!==e){var i=this.body.view.scale,o=e/10;0>e&&(o/=1-o),i*=1+o;var n=this.getPointer({x:t.clientX,y:t.clientY});this.zoom(i,n)}t.preventDefault()}}},{key:"onMouseMove",value:function(t){var e=this,i=this.getPointer({x:t.clientX,y:t.clientY}),o=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(o=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),o===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return e._checkShowPopup(i)},this.options.tooltipDelay))),this.options.hover===!0){var n=this.selectionHandler.getNodeAt(i);void 0===n&&(n=this.selectionHandler.getEdgeAt(i)),this.selectionHandler.hoverObject(n)}}},{key:"_checkShowPopup",value:function(t){var e=this.canvas._XconvertDOMtoCanvas(t.x),i=this.canvas._YconvertDOMtoCanvas(t.y),o={left:e,top:i,right:e,bottom:i},n=void 0===this.popupObj?void 0:this.popupObj.id,s=!1,r="node";if(void 0===this.popupObj){for(var a=this.body.nodeIndices,h=this.body.nodes,l=void 0,c=[],u=0;u<a.length;u++)l=h[a[u]],l.isOverlappingWith(o)===!0&&void 0!==l.getTitle()&&c.push(a[u]);c.length>0&&(this.popupObj=h[c[c.length-1]],s=!0)}if(void 0===this.popupObj&&s===!1){for(var p=this.body.edgeIndices,f=this.body.edges,m=void 0,v=[],g=0;g<p.length;g++)m=f[p[g]],m.isOverlappingWith(o)===!0&&m.connected===!0&&void 0!==m.getTitle()&&v.push(p[g]);v.length>0&&(this.popupObj=f[v[v.length-1]],r="edge")}void 0!==this.popupObj?this.popupObj.id!==n&&(void 0===this.popup&&(this.popup=new d["default"](this.canvas.frame)),this.popup.popupTargetType=r,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(t){var e=this.selectionHandler._pointerToPositionObject(t),i=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(i=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(e),i===!0)){var o=this.selectionHandler.getNodeAt(t);i=o.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(t)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(i=this.body.edges[this.popup.popupTargetId].isOverlappingWith(e));i===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),t}();e["default"]=c},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=(i(1),i(20)),r=i(28),a=i(23),h=function(){function t(e,i){var n=this;o(this,t),this.body=e,this.canvas=i,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){n.activated=!0,n.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){n.activated=!1,n.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==n.keycharm&&n.keycharm.destroy()}),this.options={}}return n(t,[{key:"setOptions",value:function(t){void 0!==t&&(this.options=t,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var t=this;this.cleanNavigation(),this.navigationDOM={};var e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],i=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);var n=new s(this.navigationDOM[e[o]]);"_fit"===i[o]?r.onTouch(n,this._fit.bind(this)):r.onTouch(n,this.bindToRedraw.bind(this,i[o])),this.navigationHammers.push(n)}var a=new s(this.canvas.frame);r.onRelease(a,function(){t._stopMovement()}),this.navigationHammers.push(a),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(t){void 0===this.boundFunctions[t]&&(this.boundFunctions[t]=this[t].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(t){void 0!==this.boundFunctions[t]&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[t])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var t in this.boundFunctions)this.boundFunctions.hasOwnProperty(t)&&(this.body.emitter.off("initRedraw",this.boundFunctions[t]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale})}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom,this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}},{key:"configureKeyboardBindings",value:function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=a({container:window,preventDefault:!0}):this.keycharm=a({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){t.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){t.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){t.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){t.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){t.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){t.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){t.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){t.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){t.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){t.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){t.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){t.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){t.unbindFromRedraw("_zoomOut")},"keyup")))}}]),t}();e["default"]=h},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(e){i(this,t),this.container=e,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return o(t,[{key:"setPosition",value:function(t,e){this.x=parseInt(t),this.y=parseInt(e)}},{key:"setText",value:function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t}},{key:"show",value:function(t){if(void 0===t&&(t=!0),t===!0){var e=this.frame.clientHeight,i=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth,s=this.y-e;s+e+this.padding>o&&(s=o-e-this.padding),s<this.padding&&(s=this.padding);var r=this.x;r+i+this.padding>n&&(r=n-i-this.padding),r<this.padding&&(r=this.padding),this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),t}();e["default"]=n},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),r=i(65),a=o(r),h=i(85),d=o(h),l=i(1),c=function(){function t(e,i){var o=this;n(this,t),this.body=e,this.canvas=i,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},l.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){o.updateSelection()})}return s(t,[{key:"setOptions",value:function(t){if(void 0!==t){var e=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];l.selectiveDeepExtend(e,this.options,t)}}},{key:"selectOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);this.unselectAll(),void 0!==i&&(e=this.selectObject(i)),this.body.emitter.emit("_requestRedraw")}return e}},{key:"selectAdditionalOnPoint",value:function(t){var e=!1;if(this.options.selectable===!0){var i=this.getNodeAt(t)||this.getEdgeAt(t);void 0!==i&&(e=!0,i.isSelected()===!0?this.deselectObject(i):this.selectObject(i),this.body.emitter.emit("_requestRedraw"))}return e}},{key:"_generateClickEvent",value:function(t,e,i,o){var n=arguments.length<=4||void 0===arguments[4]?!1:arguments[4],s=void 0;s=n===!0?{nodes:[],edges:[]}:this.getSelection(),s.pointer={DOM:{x:i.x,y:i.y},canvas:this.canvas.DOMtoCanvas(i)},s.event=e,void 0!==o&&(s.previousSelection=o),this.body.emitter.emit(t,s)}},{key:"selectObject",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==t?(t instanceof a["default"]&&e===!0&&this._selectConnectedEdges(t),t.select(),this._addToSelection(t),!0):!1}},{key:"deselectObject",value:function(t){t.isSelected()===!0&&(t.selected=!1,this._removeFromSelection(t))}},{key:"_getAllNodesOverlappingWith",value:function(t){for(var e=[],i=this.body.nodes,o=0;o<this.body.nodeIndices.length;o++){var n=this.body.nodeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}return e}},{key:"_pointerToPositionObject",value:function(t){var e=this.canvas.DOMtoCanvas(t);return{left:e.x-1,top:e.y+1,right:e.x+1,bottom:e.y-1}}},{key:"getNodeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),o=this._getAllNodesOverlappingWith(i);
return o.length>0?e===!0?this.body.nodes[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(t,e){for(var i=this.body.edges,o=0;o<this.body.edgeIndices.length;o++){var n=this.body.edgeIndices[o];i[n].isOverlappingWith(t)&&e.push(n)}}},{key:"_getAllEdgesOverlappingWith",value:function(t){var e=[];return this._getEdgesOverlappingWith(t,e),e}},{key:"getEdgeAt",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],i=this._pointerToPositionObject(t),o=this._getAllEdgesOverlappingWith(i);return o.length>0?e===!0?this.body.edges[o[o.length-1]]:o[o.length-1]:void 0}},{key:"_addToSelection",value:function(t){t instanceof a["default"]?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t}},{key:"_addToHover",value:function(t){t instanceof a["default"]?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t}},{key:"_removeFromSelection",value:function(t){t instanceof a["default"]?(delete this.selectionObj.nodes[t.id],this._unselectConnectedEdges(t)):delete this.selectionObj.edges[t.id]}},{key:"unselectAll",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].unselect();for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&this.selectionObj.edges[e].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedNode",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t]}},{key:"_getSelectedEdge",value:function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t]}},{key:"_getSelectedEdgeCount",value:function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t}},{key:"_getSelectedObjectCount",value:function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t}},{key:"_selectionIsEmpty",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.select(),this._addToSelection(i)}}},{key:"_hoverConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.hover=!0,this._addToHover(i)}}},{key:"_unselectConnectedEdges",value:function(t){for(var e=0;e<t.edges.length;e++){var i=t.edges[e];i.unselect(),this._removeFromSelection(i)}}},{key:"blurObject",value:function(t){t.hover===!0&&(t.hover=!1,t instanceof a["default"]?this.body.emitter.emit("blurNode",{node:t.id}):this.body.emitter.emit("blurEdge",{edge:t.id}))}},{key:"hoverObject",value:function(t){var e=!1;for(var i in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(i)&&(void 0===t||t instanceof a["default"]&&t.id!=i||t instanceof d["default"])&&(this.blurObject(this.hoverObj.nodes[i]),delete this.hoverObj.nodes[i],e=!0);for(var o in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(o)&&(e===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):void 0===t&&(this.blurObject(this.hoverObj.edges[o]),delete this.hoverObj.edges[o],e=!0));void 0!==t&&(t.hover===!1&&(t.hover=!0,this._addToHover(t),e=!0,t instanceof a["default"]?this.body.emitter.emit("hoverNode",{node:t.id}):this.body.emitter.emit("hoverEdge",{edge:t.id})),t instanceof a["default"]&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(t)),e===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}}},{key:"getSelectedNodes",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(this.selectionObj.nodes[e].id);return t}},{key:"getSelectedEdges",value:function(){var t=[];if(this.options.selectable===!0)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(this.selectionObj.edges[e].id);return t}},{key:"setSelection",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=void 0,o=void 0;if(!t||!t.nodes&&!t.edges)throw"Selection must be an object with nodes and/or edges properties";if((e.unselectAll||void 0===e.unselectAll)&&this.unselectAll(),t.nodes)for(i=0;i<t.nodes.length;i++){o=t.nodes[i];var n=this.body.nodes[o];if(!n)throw new RangeError('Node with id "'+o+'" not found');this.selectObject(n,e.highlightEdges)}if(t.edges)for(i=0;i<t.edges.length;i++){o=t.edges[i];var s=this.body.edges[o];if(!s)throw new RangeError('Edge with id "'+o+'" not found');this.selectObject(s)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({nodes:t},{highlightEdges:e})}},{key:"selectEdges",value:function(t){if(!t||void 0===t.length)throw"Selection must be an array with ids";this.setSelection({edges:t})}},{key:"updateSelection",value:function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.body.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.body.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}}]),t}();e["default"]=c},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},a=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),h=i(103),d=o(h),l=i(1),c=function(){function t(e){n(this,t),this.body=e,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return a(t,[{key:"bindEventListeners",value:function(){var t=this;this.body.emitter.on("_dataChanged",function(){t.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){t.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){t.setupHierarchicalLayout()})}},{key:"setOptions",value:function(t,e){if(void 0!==t){var i=this.options.hierarchical.enabled;if(l.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,t),l.mergeOptions(this.options,t,"hierarchical"),void 0!==t.randomSeed&&(this.initialRandomSeed=t.randomSeed),this.options.hierarchical.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(e);if(i===!0)return this.body.emitter.emit("refresh"),l.deepExtend(e,this.optionsBackup)}return e}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(t){if(this.options.hierarchical.enabled===!0){void 0===t.physics||t.physics===!0?(t.physics={enabled:void 0===this.optionsBackup.physics.enabled?!0:this.optionsBackup.physics.enabled,solver:"hierarchicalRepulsion"},this.optionsBackup.physics.enabled=void 0===this.optionsBackup.physics.enabled?!0:this.optionsBackup.physics.enabled,this.optionsBackup.physics.solver=this.optionsBackup.physics.solver||"barnesHut"):"object"===r(t.physics)?(this.optionsBackup.physics.enabled=void 0===t.physics.enabled?!0:t.physics.enabled,this.optionsBackup.physics.solver=t.physics.solver||"barnesHut",t.physics.solver="hierarchicalRepulsion"):t.physics!==!1&&(this.optionsBackup.physics.solver="barnesHut",t.physics={solver:"hierarchicalRepulsion"});var e="horizontal";"RL"!==this.options.hierarchical.direction&&"LR"!==this.options.hierarchical.direction||(e="vertical"),void 0===t.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges={smooth:!1}):void 0===t.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},t.edges.smooth=!1):"boolean"==typeof t.edges.smooth?(this.optionsBackup.edges={smooth:t.edges.smooth},t.edges.smooth={enabled:t.edges.smooth,type:e}):(void 0!==t.edges.smooth.type&&"dynamic"!==t.edges.smooth.type&&(e=t.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:void 0===t.edges.smooth.type?"dynamic":t.edges.smooth.type,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0===t.edges.smooth.forceDirection?!1:t.edges.smooth.forceDirection},t.edges.smooth={enabled:void 0===t.edges.smooth.enabled?!0:t.edges.smooth.enabled,type:e,roundness:void 0===t.edges.smooth.roundness?.5:t.edges.smooth.roundness,forceDirection:void 0===t.edges.smooth.forceDirection?!1:t.edges.smooth.forceDirection}),this.body.emitter.emit("_forceDisableDynamicCurves",e)}return t}},{key:"seededRandom",value:function(){var t=1e4*Math.sin(this.randomSeed++);return t-Math.floor(t)}},{key:"positionInitially",value:function(t){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var e=0;e<t.length;e++){var i=t[e],o=1*t.length+10,n=2*Math.PI*this.seededRandom();void 0===i.x&&(i.x=o*Math.cos(n)),void 0===i.y&&(i.y=o*Math.sin(n))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var t=0,e=0;e<this.body.nodeIndices.length;e++){var i=this.body.nodes[this.body.nodeIndices[e]];i.predefinedPosition===!0&&(t+=1)}if(t<.5*this.body.nodeIndices.length){var o=10,n=0,s=100;if(this.body.nodeIndices.length>s){for(var r=this.body.nodeIndices.length;this.body.nodeIndices.length>s;){n+=1;var a=this.body.nodeIndices.length;n%3===0?this.body.modules.clustering.clusterBridges():this.body.modules.clustering.clusterOutliers();var h=this.body.nodeIndices.length;if(a==h&&n%3!==0||n>o)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*r)})}this.body.modules.kamadaKawai.solve(this.body.nodeIndices,this.body.edgeIndices,!0),this._shiftToCenter();for(var d=70,l=0;l<this.body.nodeIndices.length;l++)this.body.nodes[this.body.nodeIndices[l]].x+=(.5-this.seededRandom())*d,this.body.nodes[this.body.nodeIndices[l]].y+=(.5-this.seededRandom())*d;this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var t=d["default"].getRangeCore(this.body.nodes,this.body.nodeIndices),e=d["default"].findCenter(t),i=0;i<this.body.nodeIndices.length;i++)this.body.nodes[this.body.nodeIndices[i]].x-=e.x,this.body.nodes[this.body.nodeIndices[i]].y-=e.y}},{key:"_declusterAll",value:function(){for(var t=!0;t===!0;){t=!1;for(var e=0;e<this.body.nodeIndices.length;e++)this.body.nodes[this.body.nodeIndices[e]].isCluster===!0&&(t=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[e],{},!1));t===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var t=void 0,e=void 0,i=!1,o=!0,n=!1;this.hierarchicalLevels={},this.lastNodeOnLevel={},this.hierarchicalChildrenReference={},this.hierarchicalParentReference={},this.hierarchicalTrees={},this.treeIndex=-1,this.distributionOrdering={},this.distributionIndex={},this.distributionOrderingPresence={};for(e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&(t=this.body.nodes[e],void 0===t.options.x&&void 0===t.options.y&&(o=!1),void 0!==t.options.level?(i=!0,this.hierarchicalLevels[e]=t.options.level):n=!0);if(n===!0&&i===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");n===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():"directed"===this.options.hierarchical.sortMethod?this._determineLevelsDirected():"custom"===this.options.hierarchical.sortMethod&&this._determineLevelsCustomCallback());for(var s in this.body.nodes)this.body.nodes.hasOwnProperty(s)&&void 0===this.hierarchicalLevels[s]&&(this.hierarchicalLevels[s]=0);var r=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(r),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var t=this,e=!1,i={},o=function(){for(var e=a(),i=0;i<e.length-1;i++){var o=e[i].max-e[i+1].min;n(i+1,o+t.options.hierarchical.treeSpacing)}},n=function(e,i){for(var o in t.hierarchicalTrees)if(t.hierarchicalTrees.hasOwnProperty(o)&&t.hierarchicalTrees[o]===e){var n=t.body.nodes[o],s=t._getPositionForHierarchy(n);t._setPositionForHierarchy(n,s+i,void 0,!0)}},r=function(e){var i=1e9,o=-1e9;for(var n in t.hierarchicalTrees)if(t.hierarchicalTrees.hasOwnProperty(n)&&t.hierarchicalTrees[n]===e){var s=t._getPositionForHierarchy(t.body.nodes[n]);i=Math.min(s,i),o=Math.max(s,o)}return{min:i,max:o}},a=function(){for(var e=[],i=0;i<=t.treeIndex;i++)e.push(r(i));return e},h=function w(e,i){if(i[e.id]=!0,t.hierarchicalChildrenReference[e.id]){var o=t.hierarchicalChildrenReference[e.id];if(o.length>0)for(var n=0;n<o.length;n++)w(t.body.nodes[o[n]],i)}},d=function(e){var i=arguments.length<=1||void 0===arguments[1]?1e9:arguments[1],o=1e9,n=1e9,r=1e9,a=-1e9;for(var h in e)if(e.hasOwnProperty(h)){var d=t.body.nodes[h],l=t.hierarchicalLevels[d.id],c=t._getPositionForHierarchy(d),u=t._getSpaceAroundNode(d,e),p=s(u,2),f=p[0],m=p[1];o=Math.min(f,o),n=Math.min(m,n),i>=l&&(r=Math.min(c,r),a=Math.max(c,a))}return[r,a,o,n]},l=function _(e){var i=t.hierarchicalLevels[e];if(t.hierarchicalChildrenReference[e]){var o=t.hierarchicalChildrenReference[e];if(o.length>0)for(var n=0;n<o.length;n++)i=Math.max(i,_(o[n]))}return i},c=function(t,e){var i=l(t.id),o=l(e.id);return Math.min(i,o)},u=function(e,i){var o=t.hierarchicalParentReference[e.id],n=t.hierarchicalParentReference[i.id];if(void 0===o||void 0===n)return!1;for(var s=0;s<o.length;s++)for(var r=0;r<n.length;r++)if(o[s]==n[r])return!0;return!1},p=function(e,i,o){for(var n=0;n<i.length;n++){var s=i[n],r=t.distributionOrdering[s];if(r.length>1)for(var a=0;a<r.length-1;a++)u(r[a],r[a+1])===!0&&t.hierarchicalTrees[r[a].id]===t.hierarchicalTrees[r[a+1].id]&&e(r[a],r[a+1],o)}},f=function(i,o){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=t._getPositionForHierarchy(i),a=t._getPositionForHierarchy(o),l=Math.abs(a-r);if(l>t.options.hierarchical.nodeSpacing){var u={};u[i.id]=!0;var p={};p[o.id]=!0,h(i,u),h(o,p);var f=c(i,o),m=d(u,f),v=s(m,4),g=(v[0],v[1]),y=(v[2],v[3],d(p,f)),b=s(y,4),w=b[0],_=(b[1],b[2]),x=(b[3],Math.abs(g-w));if(x>t.options.hierarchical.nodeSpacing){var k=g-w+t.options.hierarchical.nodeSpacing;k<-_+t.options.hierarchical.nodeSpacing&&(k=-_+t.options.hierarchical.nodeSpacing),0>k&&(t._shiftBlock(o.id,k),e=!0,n===!0&&t._centerParent(o))}}},m=function(o,n){for(var r=n.id,a=n.edges,l=t.hierarchicalLevels[n.id],c=t.options.hierarchical.levelSeparation*t.options.hierarchical.levelSeparation,u={},p=[],f=0;f<a.length;f++){var m=a[f];if(m.toId!=m.fromId){var v=m.toId==r?m.from:m.to;u[a[f].id]=v,t.hierarchicalLevels[v.id]<l&&p.push(m)}}var g=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==u[i[n].id]){var s=t._getPositionForHierarchy(u[i[n].id])-e;o+=s/Math.sqrt(s*s+c)}return o},y=function(e,i){for(var o=0,n=0;n<i.length;n++)if(void 0!==u[i[n].id]){var s=t._getPositionForHierarchy(u[i[n].id])-e;o-=c*Math.pow(s*s+c,-1.5)}return o},b=function(e,i){for(var o=t._getPositionForHierarchy(n),s={},r=0;e>r;r++){var a=g(o,i),h=y(o,i),d=40,l=Math.max(-d,Math.min(d,Math.round(a/h)));if(o-=l,void 0!==s[o])break;s[o]=r}return o},w=function(o){var r=t._getPositionForHierarchy(n);if(void 0===i[n.id]){var a={};a[n.id]=!0,h(n,a),i[n.id]=a}var l=d(i[n.id]),c=s(l,4),u=(c[0],c[1],c[2]),p=c[3],f=o-r,m=0;f>0?m=Math.min(f,p-t.options.hierarchical.nodeSpacing):0>f&&(m=-Math.min(-f,u-t.options.hierarchical.nodeSpacing)),0!=m&&(t._shiftBlock(n.id,m),e=!0)},_=function(i){var o=t._getPositionForHierarchy(n),r=t._getSpaceAroundNode(n),a=s(r,2),h=a[0],d=a[1],l=i-o,c=o;l>0?c=Math.min(o+(d-t.options.hierarchical.nodeSpacing),i):0>l&&(c=Math.max(o-(h-t.options.hierarchical.nodeSpacing),i)),c!==o&&(t._setPositionForHierarchy(n,c,void 0,!0),e=!0)},x=b(o,p);w(x),x=b(o,a),_(x)},v=function(i){var o=Object.keys(t.distributionOrdering);o=o.reverse();for(var n=0;i>n;n++){e=!1;for(var s=0;s<o.length;s++)for(var r=o[s],a=t.distributionOrdering[r],h=0;h<a.length;h++)m(1e3,a[h]);if(e!==!0)break}},g=function(i){var o=Object.keys(t.distributionOrdering);o=o.reverse();for(var n=0;i>n&&(e=!1,p(f,o,!0),e===!0);n++);},y=function(){for(var e in t.body.nodes)t.body.nodes.hasOwnProperty(e)&&t._centerParent(t.body.nodes[e])},b=function(){var e=Object.keys(t.distributionOrdering);e=e.reverse();for(var i=0;i<e.length;i++)for(var o=e[i],n=t.distributionOrdering[o],s=0;s<n.length;s++)t._centerParent(n[s])};this.options.hierarchical.blockShifting===!0&&(g(5),y()),this.options.hierarchical.edgeMinimization===!0&&v(20),this.options.hierarchical.parentCentralization===!0&&b(),o()}},{key:"_getSpaceAroundNode",value:function(t,e){var i=!0;void 0===e&&(i=!1);var o=this.hierarchicalLevels[t.id];if(void 0!==o){var n=this.distributionIndex[t.id],s=this._getPositionForHierarchy(t),r=1e9,a=1e9;if(0!==n){var h=this.distributionOrdering[o][n-1];if(i===!0&&void 0===e[h.id]||i===!1){var d=this._getPositionForHierarchy(h);r=s-d}}if(n!=this.distributionOrdering[o].length-1){var l=this.distributionOrdering[o][n+1];if(i===!0&&void 0===e[l.id]||i===!1){var c=this._getPositionForHierarchy(l);a=Math.min(a,c-s)}}return[r,a]}return[0,0]}},{key:"_centerParent",value:function(t){if(this.hierarchicalParentReference[t.id])for(var e=this.hierarchicalParentReference[t.id],i=0;i<e.length;i++){var o=e[i],n=this.body.nodes[o];if(this.hierarchicalChildrenReference[o]){var r=1e9,a=-1e9,h=this.hierarchicalChildrenReference[o];if(h.length>0)for(var d=0;d<h.length;d++){var l=this.body.nodes[h[d]];r=Math.min(r,this._getPositionForHierarchy(l)),a=Math.max(a,this._getPositionForHierarchy(l))}var c=this._getPositionForHierarchy(n),u=this._getSpaceAroundNode(n),p=s(u,2),f=p[0],m=p[1],v=.5*(r+a),g=c-v;(0>g&&Math.abs(g)<m-this.options.hierarchical.nodeSpacing||g>0&&Math.abs(g)<f-this.options.hierarchical.nodeSpacing)&&this._setPositionForHierarchy(n,v,void 0,!0)}}}},{key:"_placeNodesByHierarchy",value:function(t){this.positionedNodes={};for(var e in t)if(t.hasOwnProperty(e)){var i=Object.keys(t[e]);i=this._indexArrayToNodes(i),this._sortNodeArray(i);for(var o=0,n=0;n<i.length;n++){var s=i[n];if(void 0===this.positionedNodes[s.id]){var r=this.options.hierarchical.nodeSpacing*o;o>0&&(r=this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing),this._setPositionForHierarchy(s,r,e),this._validataPositionAndContinue(s,e,r),o++}}}}},{key:"_placeBranchNodes",value:function(t,e){if(void 0!==this.hierarchicalChildrenReference[t]){for(var i=[],o=0;o<this.hierarchicalChildrenReference[t].length;o++)i.push(this.body.nodes[this.hierarchicalChildrenReference[t][o]]);this._sortNodeArray(i);for(var n=0;n<i.length;n++){var s=i[n],r=this.hierarchicalLevels[s.id];if(!(r>e&&void 0===this.positionedNodes[s.id]))return;var a=void 0;a=0===n?this._getPositionForHierarchy(this.body.nodes[t]):this._getPositionForHierarchy(i[n-1])+this.options.hierarchical.nodeSpacing,this._setPositionForHierarchy(s,a,r),this._validataPositionAndContinue(s,r,a)}for(var h=1e9,d=-1e9,l=0;l<i.length;l++){var c=i[l].id;h=Math.min(h,this._getPositionForHierarchy(this.body.nodes[c])),d=Math.max(d,this._getPositionForHierarchy(this.body.nodes[c]))}this._setPositionForHierarchy(this.body.nodes[t],.5*(h+d),e)}}},{key:"_validataPositionAndContinue",value:function(t,e,i){if(void 0!==this.lastNodeOnLevel[e]){var o=this._getPositionForHierarchy(this.body.nodes[this.lastNodeOnLevel[e]]);if(i-o<this.options.hierarchical.nodeSpacing){var n=o+this.options.hierarchical.nodeSpacing-i,s=this._findCommonParent(this.lastNodeOnLevel[e],t.id);this._shiftBlock(s.withChild,n)}}this.lastNodeOnLevel[e]=t.id,this.positionedNodes[t.id]=!0,this._placeBranchNodes(t.id,e)}},{key:"_indexArrayToNodes",value:function(t){for(var e=[],i=0;i<t.length;i++)e.push(this.body.nodes[t[i]]);return e}},{key:"_getDistribution",value:function(){var t={},e=void 0,i=void 0;for(e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){i=this.body.nodes[e];var o=void 0===this.hierarchicalLevels[e]?0:this.hierarchicalLevels[e];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(i.y=this.options.hierarchical.levelSeparation*o,i.options.fixed.y=!0):(i.x=this.options.hierarchical.levelSeparation*o,i.options.fixed.x=!0),void 0===t[o]&&(t[o]={}),t[o][e]=i}return t}},{key:"_getHubSize",value:function(){var t=0;for(var e in this.body.nodes)if(this.body.nodes.hasOwnProperty(e)){var i=this.body.nodes[e];void 0===this.hierarchicalLevels[e]&&(t=i.edges.length<t?t:i.edges.length)}return t}},{key:"_determineLevelsByHubsize",value:function(){for(var t=this,e=1,i=function(e,i){void 0===t.hierarchicalLevels[i.id]&&(void 0===t.hierarchicalLevels[e.id]&&(t.hierarchicalLevels[e.id]=0),t.hierarchicalLevels[i.id]=t.hierarchicalLevels[e.id]+1)};e>0&&(e=this._getHubSize(),0!==e);)for(var o in this.body.nodes)if(this.body.nodes.hasOwnProperty(o)){var n=this.body.nodes[o];n.edges.length===e&&this._crawlNetwork(i,o)}}},{key:"_determineLevelsCustomCallback",value:function(){var t=this,e=1e5,i=function(t,e,i){},o=function(o,n,s){var r=t.hierarchicalLevels[o.id];void 0===r&&(t.hierarchicalLevels[o.id]=e);var a=i(d["default"].cloneOptions(o,"node"),d["default"].cloneOptions(n,"node"),d["default"].cloneOptions(s,"edge"));t.hierarchicalLevels[n.id]=t.hierarchicalLevels[o.id]+a};this._crawlNetwork(o),this._setMinLevelToZero()}},{key:"_determineLevelsDirected",value:function(){var t=this,e=1e4,i=function(i,o,n){var s=t.hierarchicalLevels[i.id];void 0===s&&(t.hierarchicalLevels[i.id]=e),n.toId==o.id?t.hierarchicalLevels[o.id]=t.hierarchicalLevels[i.id]+1:t.hierarchicalLevels[o.id]=t.hierarchicalLevels[i.id]-1};this._crawlNetwork(i),this._setMinLevelToZero()}},{key:"_setMinLevelToZero",value:function(){var t=1e9;for(var e in this.body.nodes)this.body.nodes.hasOwnProperty(e)&&void 0!==this.hierarchicalLevels[e]&&(t=Math.min(this.hierarchicalLevels[e],t));for(var i in this.body.nodes)this.body.nodes.hasOwnProperty(i)&&void 0!==this.hierarchicalLevels[i]&&(this.hierarchicalLevels[i]-=t)}},{key:"_generateMap",value:function(){var t=this,e=function(e,i){if(t.hierarchicalLevels[i.id]>t.hierarchicalLevels[e.id]){var o=e.id,n=i.id;void 0===t.hierarchicalChildrenReference[o]&&(t.hierarchicalChildrenReference[o]=[]),t.hierarchicalChildrenReference[o].push(n),void 0===t.hierarchicalParentReference[n]&&(t.hierarchicalParentReference[n]=[]),t.hierarchicalParentReference[n].push(o)}};this._crawlNetwork(e)}},{key:"_crawlNetwork",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0],i=arguments[1],o={},n=0,s=function d(i,n){if(void 0===o[i.id]){void 0===t.hierarchicalTrees[i.id]&&(t.hierarchicalTrees[i.id]=n,t.treeIndex=Math.max(n,t.treeIndex)),o[i.id]=!0;for(var s=void 0,r=0;r<i.edges.length;r++)i.edges[r].connected===!0&&(s=i.edges[r].toId===i.id?i.edges[r].from:i.edges[r].to,i.id!==s.id&&(e(i,s,i.edges[r]),d(s,n)))}};if(void 0===i)for(var r=0;r<this.body.nodeIndices.length;r++){var a=this.body.nodes[this.body.nodeIndices[r]];void 0===o[a.id]&&(s(a,n),n+=1)}else{var h=this.body.nodes[i];if(void 0===h)return void console.error("Node not found:",i);s(h)}}},{key:"_shiftBlock",value:function(t,e){if("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.body.nodes[t].x+=e:this.body.nodes[t].y+=e,void 0!==this.hierarchicalChildrenReference[t])for(var i=0;i<this.hierarchicalChildrenReference[t].length;i++)this._shiftBlock(this.hierarchicalChildrenReference[t][i],e)}},{key:"_findCommonParent",value:function(t,e){var i=this,o={},n=function r(t,e){if(void 0!==i.hierarchicalParentReference[e])for(var o=0;o<i.hierarchicalParentReference[e].length;o++){var n=i.hierarchicalParentReference[e][o];t[n]=!0,r(t,n)}},s=function a(t,e){if(void 0!==i.hierarchicalParentReference[e])for(var o=0;o<i.hierarchicalParentReference[e].length;o++){var n=i.hierarchicalParentReference[e][o];if(void 0!==t[n])return{foundParent:n,withChild:e};var s=a(t,n);if(null!==s.foundParent)return s}return{foundParent:null,withChild:e}};return n(o,t),s(o,e)}},{key:"_setPositionForHierarchy",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?!1:arguments[3];o!==!0&&(void 0===this.distributionOrdering[i]&&(this.distributionOrdering[i]=[],this.distributionOrderingPresence[i]={}),void 0===this.distributionOrderingPresence[i][t.id]&&(this.distributionOrdering[i].push(t),this.distributionIndex[t.id]=this.distributionOrdering[i].length-1),this.distributionOrderingPresence[i][t.id]=!0),"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x=e:t.y=e}},{key:"_getPositionForHierarchy",value:function(t){return"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.x:t.y}},{key:"_sortNodeArray",value:function(t){t.length>1&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?t.sort(function(t,e){return t.x-e.x}):t.sort(function(t,e){return t.y-e.y}))}}]),t}();e["default"]=c},function(t,e,i){function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=i(1),r=i(20),a=i(28),h=function(){function t(e,i,n){var r=this;o(this,t),this.body=e,this.canvas=i,this.selectionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},s.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){r._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return n(t,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(t,e,i){void 0!==e&&(void 0!==e.locale?this.options.locale=e.locale:this.options.locale=i.locale,void 0!==e.locales?this.options.locales=e.locales:this.options.locales=i.locales),void 0!==t&&("boolean"==typeof t?this.options.enabled=t:(this.options.enabled=!0,s.deepExtend(this.options,t)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var t=this.selectionHandler._getSelectedNodeCount(),e=this.selectionHandler._getSelectedEdgeCount(),i=t+e,o=this.options.locales[this.options.locale],n=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),n=!0),this.options.addEdge!==!1&&(n===!0?this._createSeperator(1):n=!0,this._createAddEdgeButton(o)),1===t&&"function"==typeof this.options.editNode?(n===!0?this._createSeperator(2):n=!0,this._createEditNodeButton(o)):1===e&&0===t&&this.options.editEdge!==!1&&(n===!0?this._createSeperator(3):n=!0,this._createEditEdgeButton(o)),0!==i&&(t>0&&this.options.deleteNode!==!1?(n===!0&&this._createSeperator(4),this._createDeleteButton(o)):0===t&&this.options.deleteEdge!==!1&&(n===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var e=this.selectionHandler._getSelectedNode();if(void 0!==e){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(e.isCluster!==!0){var i=s.deepExtend({},e.options,!1);
if(i.x=e.x,i.y=e.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(i,function(e){null!==e&&void 0!==e&&"editNode"===t.inMode&&t.body.data.nodes.getDataSet().update(e),t.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var t=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(t),this._createSeperator(),this._createDescription(t.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var t=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var e=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(e),this._createSeperator(),this._createDescription(e.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var e=t.body.edges[t.edgeBeingEditedId],i=t._getNewTargetNode(e.from.x,e.from.y),o=t._getNewTargetNode(e.to.x,e.to.y);t.temporaryIds.nodes.push(i.id),t.temporaryIds.nodes.push(o.id),t.body.nodes[i.id]=i,t.body.nodeIndices.push(i.id),t.body.nodes[o.id]=o,t.body.nodeIndices.push(o.id),t._temporaryBindUI("onTouch",t._controlNodeTouch.bind(t)),t._temporaryBindUI("onTap",function(){}),t._temporaryBindUI("onHold",function(){}),t._temporaryBindUI("onDragStart",t._controlNodeDragStart.bind(t)),t._temporaryBindUI("onDrag",t._controlNodeDrag.bind(t)),t._temporaryBindUI("onDragEnd",t._controlNodeDragEnd.bind(t)),t._temporaryBindUI("onMouseMove",function(){}),t._temporaryBindEvent("beforeDrawing",function(t){var n=e.edgeType.findBorderPositions(t);i.selected===!1&&(i.x=n.from.x,i.y=n.from.y),o.selected===!1&&(o.x=n.to.x,o.y=n.to.y)}),t.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var t=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var e=this.selectionHandler.getSelectedNodes(),i=this.selectionHandler.getSelectedEdges(),o=void 0;if(e.length>0){for(var n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(o=this.options.deleteNode)}else i.length>0&&"function"==typeof this.options.deleteEdge&&(o=this.options.deleteEdge);if("function"==typeof o){var s={nodes:e,edges:i};if(2!==o.length)throw new Error("The function for delete does not support two arguments (data, callback)");o(s,function(e){null!==e&&void 0!==e&&"delete"===t.inMode?(t.body.data.edges.getDataSet().remove(e.edges),t.body.data.nodes.getDataSet().remove(e.nodes),t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar()):(t.body.emitter.emit("startSimulation"),t.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(i),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(t,e){var i=s.deepExtend({},this.options.controlNodeStyle);i.id="targetNode"+s.randomUUID(),i.hidden=!1,i.physics=!1,i.x=t,i.y=e;var o=this.body.functions.createNode(i);return o.shape.boundingBox={left:t,right:t,top:e,bottom:e},o}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},s.recursiveDOMDelete(this.editModeDiv);var t=this.options.locales[this.options.locale],e=this._createButton("editMode","vis-button vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(e),this._bindHammerToDiv(e,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),s.recursiveDOMDelete(this.manipulationDiv),s.recursiveDOMDelete(this.editModeDiv),s.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var t=arguments.length<=0||void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+t]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+t].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+t])}},{key:"_createAddNodeButton",value:function(t){var e=this._createButton("addNode","vis-button vis-add",t.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(t){var e=this._createButton("addEdge","vis-button vis-connect",t.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(t){var e=this._createButton("editNode","vis-button vis-edit",t.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(t){var e=this._createButton("editEdge","vis-button vis-edit",t.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(t){if(this.options.rtl)var e="vis-button vis-delete-rtl";else var e="vis-button vis-delete";var i=this._createButton("delete",e,t.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindHammerToDiv(i,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(t){var e=this._createButton("back","vis-button vis-back",t.back||this.options.locales.en.back);this.manipulationDiv.appendChild(e),this._bindHammerToDiv(e,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(t,e,i){var o=arguments.length<=3||void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[t+"Div"]=document.createElement("div"),this.manipulationDOM[t+"Div"].className=e,this.manipulationDOM[t+"Label"]=document.createElement("div"),this.manipulationDOM[t+"Label"].className=o,this.manipulationDOM[t+"Label"].innerHTML=i,this.manipulationDOM[t+"Div"].appendChild(this.manipulationDOM[t+"Label"]),this.manipulationDOM[t+"Div"]}},{key:"_createDescription",value:function(t){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",t))}},{key:"_temporaryBindEvent",value:function(t,e){this.temporaryEventFunctions.push({event:t,boundFunction:e}),this.body.emitter.on(t,e)}},{key:"_temporaryBindUI",value:function(t,e){if(void 0===this.body.eventListeners[t])throw new Error("This UI function does not exist. Typo? You tried: "+t+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)));this.temporaryUIFunctions[t]=this.body.eventListeners[t],this.body.eventListeners[t]=e}},{key:"_unbindTemporaryUIs",value:function(){for(var t in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(t)&&(this.body.eventListeners[t]=this.temporaryUIFunctions[t],delete this.temporaryUIFunctions[t]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var t=0;t<this.temporaryEventFunctions.length;t++){var e=this.temporaryEventFunctions[t].event,i=this.temporaryEventFunctions[t].boundFunction;this.body.emitter.off(e,i)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(t,e){var i=new r(t,{});a.onTouch(i,e),this.manipulationHammers.push(i)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var t=0;t<this.temporaryIds.edges.length;t++){this.body.edges[this.temporaryIds.edges[t]].disconnect(),delete this.body.edges[this.temporaryIds.edges[t]];var e=this.body.edgeIndices.indexOf(this.temporaryIds.edges[t]);-1!==e&&this.body.edgeIndices.splice(e,1)}for(var i=0;i<this.temporaryIds.nodes.length;i++){delete this.body.nodes[this.temporaryIds.nodes[i]];var o=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[i]);-1!==o&&this.body.nodeIndices.splice(o,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(t){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(t){var e=this.lastTouch,i=this.selectionHandler._pointerToPositionObject(e),o=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var r=o.isOverlappingWith(i),a=n.isOverlappingWith(i);r===!0?(this.selectedControlNode=o,s.edgeType.from=o):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(t){this.body.emitter.emit("disablePhysics");var e=this.body.functions.getPointer(t.center),i=this.canvas.DOMtoCanvas(e);if(void 0!==this.selectedControlNode)this.selectedControlNode.x=i.x,this.selectedControlNode.y=i.y;else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(n[r]!==this.selectedControlNode.id){s=this.body.nodes[n[r]];break}if(void 0!==s&&void 0!==this.selectedControlNode)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,o.to.id):this._performEditEdge(o.from.id,s.id)}else o.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(t){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(t.center),this.lastTouch.translation=s.extend({},this.body.view.translation);var e=this.lastTouch,i=this.selectionHandler.getNodeAt(e);if(void 0!==i)if(i.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var o=this._getNewTargetNode(i.x,i.y);this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id);var n=this.body.functions.createEdge({id:"connectionEdge"+s.randomUUID(),from:i.id,to:o.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[n.id]=n,this.body.edgeIndices.push(n.id),this.temporaryIds.nodes.push(o.id),this.temporaryIds.edges.push(n.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(t){var e=this.body.functions.getPointer(t.center);if(void 0!==this.temporaryIds.nodes[0]){var i=this.body.nodes[this.temporaryIds.nodes[0]];i.x=this.canvas._XconvertDOMtoCanvas(e.x),i.y=this.canvas._YconvertDOMtoCanvas(e.y),this.body.emitter.emit("_redraw")}else{var o=e.x-this.lastTouch.x,n=e.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+o,y:this.lastTouch.translation.y+n}}}},{key:"_finishConnect",value:function(t){var e=this.body.functions.getPointer(t.center),i=this.selectionHandler._pointerToPositionObject(e),o=void 0;void 0!==this.temporaryIds.edges[0]&&(o=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var n=this.selectionHandler._getAllNodesOverlappingWith(i),s=void 0,r=n.length-1;r>=0;r--)if(-1===this.temporaryIds.nodes.indexOf(n[r])){s=this.body.nodes[n[r]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==s&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[o]&&void 0!==this.body.nodes[s.id]&&this._performAddEdge(o,s.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(t){var e=this,i={id:s.randomUUID(),x:t.pointer.canvas.x,y:t.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(i,function(t){null!==t&&void 0!==t&&"addNode"===e.inMode&&(e.body.data.nodes.getDataSet().add(t),e.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(i),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(t,e){var i=this,o={from:t,to:e};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(o,function(t){null!==t&&void 0!==t&&"addEdge"===i.inMode&&(i.body.data.edges.getDataSet().add(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(t,e){var i=this,o={id:this.edgeBeingEditedId,from:t,to:e};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editEdge(o,function(t){null===t||void 0===t||"editEdge"!==i.inMode?(i.body.edges[o.id].updateEdgeType(),i.body.emitter.emit("_redraw")):(i.body.data.edges.getDataSet().update(t),i.selectionHandler.unselectAll(),i.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),t}();e["default"]=h},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i="string",o="boolean",n="number",s="array",r="object",a="dom",h="any",d={configure:{enabled:{"boolean":o},filter:{"boolean":o,string:i,array:s,"function":"function"},container:{dom:a},showButton:{"boolean":o},__type__:{object:r,"boolean":o,string:i,array:s,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},middle:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},from:{enabled:{"boolean":o},scaleFactor:{number:n},__type__:{object:r,"boolean":o}},__type__:{string:["from","to","middle"],object:r}},arrowStrikethrough:{"boolean":o},color:{color:{string:i},highlight:{string:i},hover:{string:i},inherit:{string:["from","to","both"],"boolean":o},opacity:{number:n},__type__:{object:r,string:i}},dashes:{"boolean":o,array:s},font:{color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:r,string:i}},hidden:{"boolean":o},hoverWidth:{"function":"function",number:n},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":o},length:{number:n,undefined:"undefined"},physics:{"boolean":o},scaling:{min:{number:n},max:{number:n},label:{enabled:{"boolean":o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:r}},selectionWidth:{"function":"function",number:n},selfReferenceSize:{number:n},shadow:{enabled:{"boolean":o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,"boolean":o}},smooth:{enabled:{"boolean":o},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:n},forceDirection:{string:["horizontal","vertical","none"],"boolean":o},__type__:{object:r,"boolean":o}},title:{string:i,undefined:"undefined"},width:{number:n},value:{number:n,undefined:"undefined"},__type__:{object:r}},groups:{useDefaultGroups:{"boolean":o},__any__:"get from nodes, will be overwritten below",__type__:{object:r}},interaction:{dragNodes:{"boolean":o},dragView:{"boolean":o},hideEdgesOnDrag:{"boolean":o},hideNodesOnDrag:{"boolean":o},hover:{"boolean":o},keyboard:{enabled:{"boolean":o},speed:{x:{number:n},y:{number:n},zoom:{number:n},__type__:{object:r}},bindToWindow:{"boolean":o},__type__:{object:r,"boolean":o}},multiselect:{"boolean":o},navigationButtons:{"boolean":o},selectable:{"boolean":o},selectConnectedEdges:{"boolean":o},hoverConnectedEdges:{"boolean":o},tooltipDelay:{number:n},zoomView:{"boolean":o},__type__:{object:r}},layout:{randomSeed:{undefined:"undefined",number:n},improvedLayout:{"boolean":o},hierarchical:{enabled:{"boolean":o},levelSeparation:{number:n},nodeSpacing:{number:n},treeSpacing:{number:n},blockShifting:{"boolean":o},edgeMinimization:{"boolean":o},parentCentralization:{"boolean":o},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:r,"boolean":o}},__type__:{object:r}},manipulation:{enabled:{"boolean":o},initiallyActive:{"boolean":o},addNode:{"boolean":o,"function":"function"},addEdge:{"boolean":o,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":o,"function":"function"},deleteNode:{"boolean":o,"function":"function"},deleteEdge:{"boolean":o,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:r,"boolean":o}},nodes:{borderWidth:{number:n},borderWidthSelected:{number:n,undefined:"undefined"},brokenImage:{string:i,undefined:"undefined"},color:{border:{string:i},background:{string:i},highlight:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},hover:{border:{string:i},background:{string:i},__type__:{object:r,string:i}},__type__:{object:r,string:i}},fixed:{x:{"boolean":o},y:{"boolean":o},__type__:{object:r,"boolean":o}},font:{align:{string:i},color:{string:i},size:{number:n},face:{string:i},background:{string:i},strokeWidth:{number:n},strokeColor:{string:i},__type__:{object:r,string:i}},group:{string:i,number:n,undefined:"undefined"},hidden:{"boolean":o},icon:{face:{string:i},code:{string:i},size:{number:n},color:{string:i},__type__:{object:r}},id:{string:i,number:n},image:{string:i,undefined:"undefined"},label:{string:i,undefined:"undefined"},labelHighlightBold:{"boolean":o},level:{number:n,undefined:"undefined"},mass:{number:n},physics:{"boolean":o},scaling:{min:{number:n},max:{number:n},label:{enabled:{"boolean":o},min:{number:n},max:{number:n},maxVisible:{number:n},drawThreshold:{number:n},__type__:{object:r,"boolean":o}},customScalingFunction:{"function":"function"},__type__:{object:r}},shadow:{enabled:{"boolean":o},color:{string:i},size:{number:n},x:{number:n},y:{number:n},__type__:{object:r,"boolean":o}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},shapeProperties:{borderDashes:{"boolean":o,array:s},borderRadius:{number:n},interpolation:{"boolean":o},useImageSize:{"boolean":o},useBorderWithImage:{"boolean":o},__type__:{object:r}},size:{number:n},title:{string:i,undefined:"undefined"},value:{number:n,undefined:"undefined"},x:{number:n},y:{number:n},__type__:{object:r}},physics:{enabled:{"boolean":o},barnesHut:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},forceAtlas2Based:{gravitationalConstant:{number:n},centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},damping:{number:n},avoidOverlap:{number:n},__type__:{object:r}},repulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},hierarchicalRepulsion:{centralGravity:{number:n},springLength:{number:n},springConstant:{number:n},nodeDistance:{number:n},damping:{number:n},__type__:{object:r}},maxVelocity:{number:n},minVelocity:{number:n},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":o},iterations:{number:n},updateInterval:{number:n},onlyDynamicEdges:{"boolean":o},fit:{"boolean":o},__type__:{object:r,"boolean":o}},timestep:{number:n},adaptiveTimestep:{"boolean":o},__type__:{object:r,"boolean":o}},autoResize:{"boolean":o},clickToUse:{"boolean":o},locale:{string:i},locales:{__any__:{any:h},__type__:{object:r}},height:{string:i},width:{string:i},__type__:{object:r}};d.groups.__any__=d.nodes,d.manipulation.controlNodeStyle=d.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05]},middle:{enabled:!1,scaleFactor:[1,0,3,.05]},from:{enabled:!1,scaleFactor:[1,0,3,.05]}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]},global:{locale:["en","nl"]}};e.allOptions=d,e.configureOptions=l},function(t,e,i){function o(t){return t&&t.__esModule?t:{"default":t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){var i=[],o=!0,n=!1,s=void 0;try{for(var r,a=t[Symbol.iterator]();!(o=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(h){n=!0,s=h}finally{try{!o&&a["return"]&&a["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),a=i(116),h=o(a),d=function(){function t(e,i,o){n(this,t),this.body=e,this.springLength=i,this.springConstant=o,this.distanceSolver=new h["default"]}return r(t,[{key:"setOptions",value:function(t){t&&(t.springLength&&(this.springLength=t.springLength),t.springConstant&&(this.springConstant=t.springConstant))}},{key:"solve",value:function(t,e){var i=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],o=this.distanceSolver.getDistances(this.body,t,e);this._createL_matrix(o),this._createK_matrix(o);for(var n=.01,r=1,a=0,h=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),d=5,l=1e9,c=0,u=0,p=0,f=0,m=0;l>n&&h>a;){a+=1;var v=this._getHighestEnergyNode(i),g=s(v,4);for(c=g[0],l=g[1],u=g[2],p=g[3],f=l,m=0;f>r&&d>m;){m+=1,this._moveNode(c,u,p);var y=this._getEnergy(c),b=s(y,3);f=b[0],u=b[1],p=b[2]}}}},{key:"_getHighestEnergyNode",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=0,n=e[0],r=0,a=0,h=0;h<e.length;h++){var d=e[h];if(i[d].predefinedPosition===!1||i[d].isCluster===!0&&t===!0||i[d].options.fixed.x===!0||i[d].options.fixed.y===!0){var l=this._getEnergy(d),c=s(l,3),u=c[0],p=c[1],f=c[2];u>o&&(o=u,n=d,r=p,a=f)}}return[n,o,r,a]}},{key:"_getEnergy",value:function(t){for(var e=this.body.nodeIndices,i=this.body.nodes,o=i[t].x,n=i[t].y,s=0,r=0,a=0;a<e.length;a++){var h=e[a];if(h!==t){var d=i[h].x,l=i[h].y,c=1/Math.sqrt(Math.pow(o-d,2)+Math.pow(n-l,2));s+=this.K_matrix[t][h]*(o-d-this.L_matrix[t][h]*(o-d)*c),r+=this.K_matrix[t][h]*(n-l-this.L_matrix[t][h]*(n-l)*c)}}var u=Math.sqrt(Math.pow(s,2)+Math.pow(r,2));return[u,s,r]}},{key:"_moveNode",value:function(t,e,i){for(var o=this.body.nodeIndices,n=this.body.nodes,s=0,r=0,a=0,h=n[t].x,d=n[t].y,l=0;l<o.length;l++){var c=o[l];if(c!==t){var u=n[c].x,p=n[c].y,f=1/Math.pow(Math.pow(h-u,2)+Math.pow(d-p,2),1.5);s+=this.K_matrix[t][c]*(1-this.L_matrix[t][c]*Math.pow(d-p,2)*f),r+=this.K_matrix[t][c]*(this.L_matrix[t][c]*(h-u)*(d-p)*f),a+=this.K_matrix[t][c]*(1-this.L_matrix[t][c]*Math.pow(h-u,2)*f)}}var m=s,v=r,g=e,y=a,b=i,w=(g/m+b/v)/(v/m-y/v),_=-(v*w+g)/m;n[t].x+=_,n[t].y+=w}},{key:"_createL_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springLength;this.L_matrix=[];for(var o=0;o<e.length;o++){this.L_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.L_matrix[e[o]][e[n]]=i*t[e[o]][e[n]]}}},{key:"_createK_matrix",value:function(t){var e=this.body.nodeIndices,i=this.springConstant;this.K_matrix=[];for(var o=0;o<e.length;o++){this.K_matrix[e[o]]={};for(var n=0;n<e.length;n++)this.K_matrix[e[o]][e[n]]=i*Math.pow(t[e[o]][e[n]],-2)}}}]),t}();e["default"]=d},function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),n=function(){function t(){i(this,t)}return o(t,[{key:"getDistances",value:function(t,e,i){for(var o={},n=t.edges,s=0;s<e.length;s++){o[e[s]]={},o[e[s]]={};for(var r=0;r<e.length;r++)o[e[s]][e[r]]=s==r?0:1e9,o[e[s]][e[r]]=s==r?0:1e9}for(var a=0;a<i.length;a++){var h=n[i[a]];h.connected===!0&&void 0!==o[h.fromId]&&void 0!==o[h.toId]&&(o[h.fromId][h.toId]=1,o[h.toId][h.fromId]=1)}for(var d=e.length,l=0;d>l;l++)for(var c=0;d-1>c;c++)for(var u=c+1;d>u;u++)o[e[c]][e[u]]=Math.min(o[e[c]][e[u]],o[e[c]][e[l]]+o[e[l]][e[u]]),o[e[u]][e[c]]=o[e[c]][e[u]];return o}}]),t}();e["default"]=n},function(t,e){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath(),i*=1.15,e+=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e-(r-s)),this.lineTo(t+n,e+s),this.lineTo(t-n,e+s),this.lineTo(t,e-(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath(),i*=1.15,e-=.275*i;var o=2*i,n=o/2,s=Math.sqrt(3)/6*o,r=Math.sqrt(o*o-n*n);this.moveTo(t,e+(r-s)),
this.lineTo(t+n,e-s),this.lineTo(t-n,e-s),this.lineTo(t,e+(r-s)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath(),i*=.82,e+=.1*i;for(var o=0;10>o;o++){var n=o%2===0?1.3*i:.5*i;this.lineTo(t+n*Math.sin(2*o*Math.PI/10),e-n*Math.cos(2*o*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(t,e,i){this.beginPath(),this.lineTo(t,e+i),this.lineTo(t+i,e),this.lineTo(t,e-i),this.lineTo(t-i,e),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,o,n){var s=Math.PI/180;0>i-2*n&&(n=i/2),0>o-2*n&&(n=o/2),this.beginPath(),this.moveTo(t+n,e),this.lineTo(t+i-n,e),this.arc(t+i-n,e+n,n,270*s,360*s,!1),this.lineTo(t+i,e+o-n),this.arc(t+i-n,e+o-n,n,0,90*s,!1),this.lineTo(t+n,e+o),this.arc(t+n,e+o-n,n,90*s,180*s,!1),this.lineTo(t,e+n),this.arc(t+n,e+n,n,180*s,270*s,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,o){var n=.5522848,s=i/2*n,r=o/2*n,a=t+i,h=e+o,d=t+i/2,l=e+o/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-r,d-s,e,d,e),this.bezierCurveTo(d+s,e,a,l-r,a,l),this.bezierCurveTo(a,l+r,d+s,h,d,h),this.bezierCurveTo(d-s,h,t,l+r,t,l),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,e,i,o){var n=1/3,s=i,r=o*n,a=.5522848,h=s/2*a,d=r/2*a,l=t+s,c=e+r,u=t+s/2,p=e+r/2,f=e+(o-r/2),m=e+o;this.beginPath(),this.moveTo(l,p),this.bezierCurveTo(l,p+d,u+h,c,u,c),this.bezierCurveTo(u-h,c,t,p+d,t,p),this.bezierCurveTo(t,p-d,u-h,e,u,e),this.bezierCurveTo(u+h,e,l,p-d,l,p),this.lineTo(l,f),this.bezierCurveTo(l,f+d,u+h,m,u,m),this.bezierCurveTo(u-h,m,t,f+d,t,f),this.lineTo(t,p)},CanvasRenderingContext2D.prototype.arrow=function(t,e,i,o){var n=t-o*Math.cos(i),s=e-o*Math.sin(i),r=t-.9*o*Math.cos(i),a=e-.9*o*Math.sin(i),h=n+o/3*Math.cos(i+.5*Math.PI),d=s+o/3*Math.sin(i+.5*Math.PI),l=n+o/3*Math.cos(i-.5*Math.PI),c=s+o/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(l,c),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,o,n){this.beginPath(),this.moveTo(t,e);for(var s=n.length,r=i-t,a=o-e,h=a/r,d=Math.sqrt(r*r+a*a),l=0,c=!0,u=0,p=n[0];d>=.1;)p=n[l++%s],p>d&&(p=d),u=Math.sqrt(p*p/(1+h*h)),u=0>r?-u:u,t+=u,e+=h*u,c===!0?this.lineTo(t,e):this.moveTo(t,e),d-=p,c=!c})},function(t,e){function i(t){return P=t,p()}function o(){I=0,N=P.charAt(0)}function n(){I++,N=P.charAt(I)}function s(){return P.charAt(I+1)}function r(t){return L.test(t)}function a(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(t,e,i){for(var o=e.split("."),n=t;o.length;){var s=o.shift();o.length?(n[s]||(n[s]={}),n=n[s]):n[s]=i}}function d(t,e){for(var i,o,n=null,s=[t],r=t;r.parent;)s.push(r.parent),r=r.parent;if(r.nodes)for(i=0,o=r.nodes.length;o>i;i++)if(e.id===r.nodes[i].id){n=r.nodes[i];break}for(n||(n={id:e.id},t.node&&(n.attr=a(n.attr,t.node))),i=s.length-1;i>=0;i--){var h=s[i];h.nodes||(h.nodes=[]),-1===h.nodes.indexOf(n)&&h.nodes.push(n)}e.attr&&(n.attr=a(n.attr,e.attr))}function l(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=a({},t.edge);e.attr=a(i,e.attr)}}function c(t,e,i,o,n){var s={from:e,to:i,type:o};return t.edge&&(s.attr=a({},t.edge)),s.attr=a(s.attr||{},n),s}function u(){for(z=T.NULL,R="";" "===N||"	"===N||"\n"===N||"\r"===N;)n();do{var t=!1;if("#"===N){for(var e=I-1;" "===P.charAt(e)||"	"===P.charAt(e);)e--;if("\n"===P.charAt(e)||""===P.charAt(e)){for(;""!=N&&"\n"!=N;)n();t=!0}}if("/"===N&&"/"===s()){for(;""!=N&&"\n"!=N;)n();t=!0}if("/"===N&&"*"===s()){for(;""!=N;){if("*"===N&&"/"===s()){n(),n();break}n()}t=!0}for(;" "===N||"	"===N||"\n"===N||"\r"===N;)n()}while(t);if(""===N)return void(z=T.DELIMITER);var i=N+s();if(E[i])return z=T.DELIMITER,R=i,n(),void n();if(E[N])return z=T.DELIMITER,R=N,void n();if(r(N)||"-"===N){for(R+=N,n();r(N);)R+=N,n();return"false"===R?R=!1:"true"===R?R=!0:isNaN(Number(R))||(R=Number(R)),void(z=T.IDENTIFIER)}if('"'===N){for(n();""!=N&&('"'!=N||'"'===N&&'"'===s());)R+=N,'"'===N&&n(),n();if('"'!=N)throw _('End of string " expected');return n(),void(z=T.IDENTIFIER)}for(z=T.UNKNOWN;""!=N;)R+=N,n();throw new SyntaxError('Syntax error in part "'+x(R,30)+'"')}function p(){var t={};if(o(),u(),"strict"===R&&(t.strict=!0,u()),"graph"!==R&&"digraph"!==R||(t.type=R,u()),z===T.IDENTIFIER&&(t.id=R,u()),"{"!=R)throw _("Angle bracket { expected");if(u(),f(t),"}"!=R)throw _("Angle bracket } expected");if(u(),""!==R)throw _("End of file expected");return u(),delete t.node,delete t.edge,delete t.graph,t}function f(t){for(;""!==R&&"}"!=R;)m(t),";"===R&&u()}function m(t){var e=v(t);if(e)return void b(t,e);var i=g(t);if(!i){if(z!=T.IDENTIFIER)throw _("Identifier expected");var o=R;if(u(),"="===R){if(u(),z!=T.IDENTIFIER)throw _("Identifier expected");t[o]=R,u()}else y(t,o)}}function v(t){var e=null;if("subgraph"===R&&(e={},e.type="subgraph",u(),z===T.IDENTIFIER&&(e.id=R,u())),"{"===R){if(u(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,f(e),"}"!=R)throw _("Angle bracket } expected");u(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function g(t){return"node"===R?(u(),t.node=w(),"node"):"edge"===R?(u(),t.edge=w(),"edge"):"graph"===R?(u(),t.graph=w(),"graph"):null}function y(t,e){var i={id:e},o=w();o&&(i.attr=o),d(t,i),b(t,e)}function b(t,e){for(;"->"===R||"--"===R;){var i,o=R;u();var n=v(t);if(n)i=n;else{if(z!=T.IDENTIFIER)throw _("Identifier or subgraph expected");i=R,d(t,{id:i}),u()}var s=w(),r=c(t,e,i,o,s);l(t,r),e=i}}function w(){for(var t=null;"["===R;){for(u(),t={};""!==R&&"]"!=R;){if(z!=T.IDENTIFIER)throw _("Attribute name expected");var e=R;if(u(),"="!=R)throw _("Equal sign = expected");if(u(),z!=T.IDENTIFIER)throw _("Attribute value expected");var i=R;h(t,e,i),u(),","==R&&u()}if("]"!=R)throw _("Bracket ] expected");u()}return t}function _(t){return new SyntaxError(t+', got "'+x(R,30)+'" (char '+I+")")}function x(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function k(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function O(t,e,i){for(var o=e.split("."),n=o.pop(),s=t,r=0;r<o.length;r++){var a=o[r];a in s||(s[a]={}),s=s[a]}return s[n]=i,t}function M(t,e){var i={};for(var o in t)if(t.hasOwnProperty(o)){var n=e[o];Array.isArray(n)?n.forEach(function(e){O(i,e,t[o])}):"string"==typeof n?O(i,n,t[o]):O(i,o,t[o])}return i}function D(t){var e=i(t),o={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};a(e,M(t.attr,S)),e.image&&(e.shape="image"),o.nodes.push(e)}),e.edges){var n=function(t){var e={from:t.from,to:t.to};return a(e,M(t.attr,C)),e.arrows="->"===t.type?"to":void 0,e};e.edges.forEach(function(t){var e,i;e=t.from instanceof Object?t.from.nodes:{id:t.from},i=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=n(t);o.edges.push(e)}),k(e,i,function(e,i){var s=c(o,e.id,i.id,t.type,t.attr),r=n(s);o.edges.push(r)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=n(t);o.edges.push(e)})})}return e.attr&&(o.options=e.attr),o}var S={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},C=Object.create(S);C.color="color.color";var T={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},E={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},P="",I=0,N="",R="",z=T.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=i,e.DOTToGraph=D},function(t,e){function i(t,e){var i=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==e&&(void 0!==e.fixed&&(n.nodes.fixed=e.fixed),void 0!==e.parseColor&&(n.nodes.parseColor=e.parseColor),void 0!==e.inheritColor&&(n.edges.inheritColor=e.inheritColor));for(var s=t.edges,r=t.nodes,a=0;a<s.length;a++){var h={},d=s[a];h.id=d.id,h.from=d.source,h.to=d.target,h.attributes=d.attributes,h.label=d.label,h.title=void 0!==d.attributes?d.attributes.title:void 0,"Directed"===d.type&&(h.arrows="to"),d.color&&n.inheritColor===!1&&(h.color=d.color),i.push(h)}for(var a=0;a<r.length;a++){var l={},c=r[a];l.id=c.id,l.attributes=c.attributes,l.title=c.title,l.x=c.x,l.y=c.y,l.label=c.label,l.title=void 0!==c.attributes?c.attributes.title:void 0,n.nodes.parseColor===!0?l.color=c.color:l.color=void 0!==c.color?{background:c.color,border:c.color,highlight:{background:c.color,border:c.color},hover:{background:c.color,border:c.color}}:void 0,l.size=c.size,l.fixed=n.nodes.fixed&&void 0!==c.x&&void 0!==c.y,o.push(l)}return{nodes:o,edges:i}}e.parseGephi=i},function(t,e){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},e.en_EN=e.en,e.en_US=e.en,e.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},e.de_DE=e.de,e.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},e.es_ES=e.es,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},e.nl_NL=e.nl,e.nl_BE=e.nl}])});
//# sourceMappingURL=vis.map

(function(n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else{if("function"==typeof define&&define.amd)return define([],n);(this||window).CodeMirror=n()}})(function(){function n(a,b){if(!(this instanceof n))return new n(a,b);this.options=b=b?X(b):{};X(wf,b,!1);wc(b);var c=b.value;"string"==typeof c&&(c=new P(c,b.mode,null,b.lineSeparator));this.doc=c;var d=new n.inputStyles[b.inputStyle](this),d=this.display=new xf(a,c,d);d.wrapper.CodeMirror=this;zd(this);Ad(this);b.lineWrapping&&
(this.display.wrapper.className+=" CodeMirror-wrap");b.autofocus&&!bb&&d.input.focus();Bd(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new ua,keySeq:null,specialChars:null};var e=this;A&&11>C&&setTimeout(function(){e.display.input.reset(!0)},20);yf(this);Cd||(zf(),Cd=!0);Ka(this);this.curOp.forceUpdate=!0;Dd(this,c);b.autofocus&&!bb||e.hasFocus()?setTimeout(cb(xc,
this),20):db(this);for(var f in La)if(La.hasOwnProperty(f))La[f](this,b[f],Ed);Fd(this);b.finishInit&&b.finishInit(this);for(c=0;c<yc.length;++c)yc[c](this);Ma(this);K&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(d.lineDiv).textRendering&&(d.lineDiv.style.textRendering="auto")}function xf(a,b,c){this.input=c;this.scrollbarFiller=r("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=r("div",null,"CodeMirror-gutter-filler");
this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=r("div",null,"CodeMirror-code");this.selectionDiv=r("div",null,null,"position: relative; z-index: 1");this.cursorDiv=r("div",null,"CodeMirror-cursors");this.measure=r("div",null,"CodeMirror-measure");this.lineMeasure=r("div",null,"CodeMirror-measure");this.lineSpace=r("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");this.mover=r("div",[r("div",[this.lineSpace],
"CodeMirror-lines")],null,"position: relative");this.sizer=r("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=r("div",null,null,"position: absolute; height: "+Gd+"px; width: 1px;");this.gutters=r("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=r("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=r("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");A&&
8>C&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);K||oa&&bb||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=
this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;c.init(this)}function zc(a){a.doc.mode=n.getMode(a.options,a.doc.modeOption);eb(a)}function eb(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;
fb(a,100);a.state.modeGen++;a.curOp&&O(a)}function Hd(a){var b=va(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/gb(a.display)-3);return function(e){if(wa(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function Ac(a){var b=a.doc,c=Hd(a);b.iter(function(a){var b=c(a);b!=a.height&&ca(a,b)})}function Ad(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,
"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");hb(a)}function ib(a){zd(a);O(a);setTimeout(function(){Bc(a)},20)}function zd(a){var b=a.display.gutters,c=a.options.gutters;xa(b);for(var d=0;d<c.length;++d){var e=c[d],f=b.appendChild(r("div",null,"CodeMirror-gutter "+e));"CodeMirror-linenumbers"==e&&(a.display.lineGutter=f,f.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=d?"":"none";Cc(a)}function Cc(a){a.display.sizer.style.marginLeft=a.display.gutters.offsetWidth+"px"}function Jb(a){if(0==
a.height)return 0;for(var b=a.text.length,c,d=a;c=ya(d,!0);)c=c.find(0,!0),d=c.from.line,b+=c.from.ch-c.to.ch;for(d=a;c=ya(d,!1);)c=c.find(0,!0),b-=d.text.length-c.from.ch,d=c.to.line,b+=d.text.length-c.to.ch;return b}function Dc(a){var b=a.display;a=a.doc;b.maxLine=t(a,a.first);b.maxLineLength=Jb(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var d=Jb(a);d>b.maxLineLength&&(b.maxLineLength=d,b.maxLine=a)})}function wc(a){var b=D(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=
a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=a.gutters.slice(0),a.gutters.splice(b,1))}function jb(a){var b=a.display,c=b.gutters.offsetWidth,d=Math.round(a.doc.height+Ec(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+da(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,
gutterWidth:c}}function Fc(a,b,c){this.cm=c;var d=this.vert=r("div",[r("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),e=this.horiz=r("div",[r("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(d);a(e);u(d,"scroll",function(){d.clientHeight&&b(d.scrollTop,"vertical")});u(e,"scroll",function(){e.clientWidth&&b(e.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;A&&8>C&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function Gc(){}function Bd(a){a.display.scrollbars&&
(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&kb(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new n.scrollbarModel[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,a.display.scrollbarFiller);u(b,"mousedown",function(){a.state.focused&&setTimeout(function(){a.display.input.focus()},0)});b.setAttribute("cm-not-content","true")},function(b,c){"horizontal"==c?Na(a,b):lb(a,b)},a);a.display.scrollbars.addClass&&mb(a.display.wrapper,a.display.scrollbars.addClass)}
function Oa(a,b){b||(b=jb(a));var c=a.display.barWidth,d=a.display.barHeight;Id(a,b);for(var e=0;4>e&&c!=a.display.barWidth||d!=a.display.barHeight;e++)c!=a.display.barWidth&&a.options.lineWrapping&&Kb(a),Id(a,jb(a)),c=a.display.barWidth,d=a.display.barHeight}function Id(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px";c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px";d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=
d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="";d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function Hc(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop,d=Math.floor(d-a.lineSpace.offsetTop),e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,d=za(b,d),
e=za(b,e);if(c&&c.ensure){var f=c.ensure.from.line;c=c.ensure.to.line;f<d?(d=f,e=za(b,ea(t(b,f))+a.wrapper.clientHeight)):Math.min(c,b.lastLine())>=e&&(d=za(b,ea(t(b,c))-a.wrapper.clientHeight),e=c)}return{from:d,to:Math.max(e,d+1)}}function Bc(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=Ic(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&c[g].gutter&&(c[g].gutter.style.left=
f);var h=c[g].alignable;if(h)for(var k=0;k<h.length;k++)h[k].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function Fd(a){if(!a.options.lineNumbers)return!1;var b=a.doc,b=Jc(a.options,b.first+b.size-1),c=a.display;if(b.length!=c.lineNumChars){var d=c.measure.appendChild(r("div",[r("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),e=d.firstChild.offsetWidth,d=d.offsetWidth-e;c.lineGutter.style.width="";c.lineNumInnerWidth=Math.max(e,c.lineGutter.offsetWidth-d)+1;c.lineNumWidth=
c.lineNumInnerWidth+d;c.lineNumChars=c.lineNumInnerWidth?b.length:-1;c.lineGutter.style.width=c.lineNumWidth+"px";Cc(a);return!0}return!1}function Jc(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function Ic(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Lb(a,b,c){var d=a.display;this.viewport=b;this.visible=Hc(d,a.doc,b);this.editorIsHidden=!d.wrapper.offsetWidth;this.wrapperHeight=d.wrapper.clientHeight;this.wrapperWidth=d.wrapper.clientWidth;
this.oldDisplayWidth=pa(a);this.force=c;this.dims=Kc(a);this.events=[]}function Lc(a,b){var c=a.display,d=a.doc;if(b.editorIsHidden)return qa(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==Jd(a))return!1;Fd(a)&&(qa(a),b.dims=Kc(a));var e=d.first+d.size,f=Math.max(b.visible.from-a.options.viewportMargin,d.first),g=Math.min(e,b.visible.to+a.options.viewportMargin);c.viewFrom<f&&20>f-c.viewFrom&&
(f=Math.max(d.first,c.viewFrom));c.viewTo>g&&20>c.viewTo-g&&(g=Math.min(e,c.viewTo));ra&&(f=Mc(a.doc,f),g=Kd(a.doc,g));d=f!=c.viewFrom||g!=c.viewTo||c.lastWrapHeight!=b.wrapperHeight||c.lastWrapWidth!=b.wrapperWidth;e=a.display;0==e.view.length||f>=e.viewTo||g<=e.viewFrom?(e.view=Mb(a,f,g),e.viewFrom=f):(e.viewFrom>f?e.view=Mb(a,f,e.viewFrom).concat(e.view):e.viewFrom<f&&(e.view=e.view.slice(Aa(a,f))),e.viewFrom=f,e.viewTo<g?e.view=e.view.concat(Mb(a,e.viewTo,g)):e.viewTo>g&&(e.view=e.view.slice(0,
Aa(a,g))));e.viewTo=g;c.viewOffset=ea(t(a.doc,c.viewFrom));a.display.mover.style.top=c.viewOffset+"px";g=Jd(a);if(!d&&0==g&&!b.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;f=fa();4<g&&(c.lineDiv.style.display="none");Af(a,c.updateLineNumbers,b.dims);4<g&&(c.lineDiv.style.display="");c.renderedView=c.view;f&&fa()!=f&&f.offsetHeight&&f.focus();xa(c.cursorDiv);xa(c.selectionDiv);c.gutters.style.height=c.sizer.style.minHeight=0;d&&(c.lastWrapHeight=
b.wrapperHeight,c.lastWrapWidth=b.wrapperWidth,fb(a,400));c.updateLineNumbers=null;return!0}function Ld(a,b){for(var c=b.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||b.oldDisplayWidth==pa(a))if(c&&null!=c.top&&(c={top:Math.min(a.doc.height+Ec(a.display)-Nc(a),c.top)}),b.visible=Hc(a.display,a.doc,c),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!Lc(a,b))break;Kb(a);d=jb(a);nb(a);Oc(a,d);Oa(a,d)}b.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||
a.display.viewTo!=a.display.reportedViewTo)b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function Pc(a,b){var c=new Lb(a,b);if(Lc(a,c)){Kb(a);Ld(a,c);var d=jb(a);nb(a);Oc(a,d);Oa(a,d);c.finish()}}function Oc(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";var c=b.docHeight+a.display.barHeight;a.display.heightForcer.style.top=c+"px";a.display.gutters.style.height=Math.max(c+da(a),b.clientHeight)+
"px"}function Kb(a){a=a.display;for(var b=a.lineDiv.offsetTop,c=0;c<a.view.length;c++){var d=a.view[c],e;if(!d.hidden){if(A&&8>C){var f=d.node.offsetTop+d.node.offsetHeight;e=f-b;b=f}else e=d.node.getBoundingClientRect(),e=e.bottom-e.top;f=d.line.height-e;2>e&&(e=va(a));if(.001<f||-.001>f)if(ca(d.line,e),Md(d.line),d.rest)for(e=0;e<d.rest.length;e++)Md(d.rest[e])}}}function Md(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.parentNode.offsetHeight}function Kc(a){for(var b=
a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g)c[a.options.gutters[g]]=f.offsetLeft+f.clientLeft+e,d[a.options.gutters[g]]=f.clientWidth;return{fixedPos:Ic(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function Af(a,b,c){function d(b){var c=b.nextSibling;K&&Y&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return c}for(var e=a.display,f=a.options.lineNumbers,
g=e.lineDiv,h=g.firstChild,k=e.view,e=e.viewFrom,l=0;l<k.length;l++){var m=k[l];if(!m.hidden)if(m.node&&m.node.parentNode==g){for(;h!=m.node;)h=d(h);h=f&&null!=b&&b<=e&&m.lineNumber;m.changes&&(-1<D(m.changes,"gutter")&&(h=!1),Nd(a,m,e,c));h&&(xa(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(Jc(a.options,e))));h=m.node.nextSibling}else{var s=Bf(a,m,e,c);g.insertBefore(s,h)}e+=m.size}for(;h;)h=d(h)}function Nd(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];if("text"==
f){var f=b,g=f.text.className,h=Od(a,f);f.text==f.node&&(f.node=h.pre);f.text.parentNode.replaceChild(h.pre,f.text);f.text=h.pre;h.bgClass!=f.bgClass||h.textClass!=f.textClass?(f.bgClass=h.bgClass,f.textClass=h.textClass,Qc(f)):g&&(f.text.className=g)}else if("gutter"==f)Pd(a,b,c,d);else if("class"==f)Qc(b);else if("widget"==f){f=a;g=b;h=d;g.alignable&&(g.alignable=null);for(var k=g.node.firstChild,l=void 0;k;k=l)l=k.nextSibling,"CodeMirror-linewidget"==k.className&&g.node.removeChild(k);Qd(f,g,h)}}b.changes=
null}function ob(a){a.node==a.text&&(a.node=r("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),A&&8>C&&(a.node.style.zIndex=2));return a.node}function Od(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):Rd(a,b)}function Qc(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?
a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=ob(a);a.background=c.insertBefore(r("div",null,b),c.firstChild)}a.line.wrapClass?ob(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function Pd(a,b,c,d){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=
null);if(b.line.gutterClass){var e=ob(b);b.gutterBackground=r("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px");e.insertBefore(b.gutterBackground,b.text)}var f=b.line.gutterMarkers;if(a.options.lineNumbers||f){var e=ob(b),g=b.gutter=r("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");a.display.input.setUneditable(g);e.insertBefore(g,
b.text);b.line.gutterClass&&(g.className+=" "+b.line.gutterClass);!a.options.lineNumbers||f&&f["CodeMirror-linenumbers"]||(b.lineNumber=g.appendChild(r("div",Jc(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(f)for(b=0;b<a.options.gutters.length;++b)c=a.options.gutters[b],(e=f.hasOwnProperty(c)&&f[c])&&g.appendChild(r("div",[e],"CodeMirror-gutter-elt","left: "+d.gutterLeft[c]+"px; width: "+
d.gutterWidth[c]+"px"))}}function Bf(a,b,c,d){var e=Od(a,b);b.text=b.node=e.pre;e.bgClass&&(b.bgClass=e.bgClass);e.textClass&&(b.textClass=e.textClass);Qc(b);Pd(a,b,c,d);Qd(a,b,d);return b.node}function Qd(a,b,c){Sd(a,b.line,b,c,!0);if(b.rest)for(var d=0;d<b.rest.length;d++)Sd(a,b.rest[d],b,c,!1)}function Sd(a,b,c,d,e){if(b.widgets){var f=ob(c),g=0;for(b=b.widgets;g<b.length;++g){var h=b[g],k=r("div",[h.node],"CodeMirror-linewidget");h.handleMouseEvents||k.setAttribute("cm-ignore-events","true");
var l=h,m=k,s=d;if(l.noHScroll){(c.alignable||(c.alignable=[])).push(m);var p=s.wrapperWidth;m.style.left=s.fixedPos+"px";l.coverGutter||(p-=s.gutterTotalWidth,m.style.paddingLeft=s.gutterTotalWidth+"px");m.style.width=p+"px"}l.coverGutter&&(m.style.zIndex=5,m.style.position="relative",l.noHScroll||(m.style.marginLeft=-s.gutterTotalWidth+"px"));a.display.input.setUneditable(k);e&&h.above?f.insertBefore(k,c.gutter||c.text):f.appendChild(k);Q(h,"redraw")}}}function Rc(a){return q(a.line,a.ch)}function Nb(a,
b){return 0>w(a,b)?b:a}function Ob(a,b){return 0>w(a,b)?a:b}function Td(a){a.state.focused||(a.display.input.focus(),xc(a))}function Pb(a,b,c,d,e){var f=a.doc;a.display.shift=!1;d||(d=f.sel);var g=a.state.pasteIncoming||"paste"==e,h=f.splitLines(b),k=null;if(g&&1<d.ranges.length)if(V&&V.join("\n")==b){if(0==d.ranges.length%V.length)for(var k=[],l=0;l<V.length;l++)k.push(f.splitLines(V[l]))}else h.length==d.ranges.length&&(k=Qb(h,function(a){return[a]}));for(l=d.ranges.length-1;0<=l;l--){var m=d.ranges[l],
s=m.from(),p=m.to();m.empty()&&(c&&0<c?s=q(s.line,s.ch-c):a.state.overwrite&&!g&&(p=q(p.line,Math.min(t(f,p.line).text.length,p.ch+z(h).length))));m=a.curOp.updateInput;s={from:s,to:p,text:k?k[l%k.length]:h,origin:e||(g?"paste":a.state.cutIncoming?"cut":"+input")};Pa(a.doc,s);Q(a,"inputRead",a,s)}b&&!g&&Ud(a,b);Qa(a);a.curOp.updateInput=m;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function Vd(a,b){var c=a.clipboardData&&a.clipboardData.getData("text/plain");if(c)return a.preventDefault(),
b.isReadOnly()||b.options.disableInput||R(b,function(){Pb(b,c,0,null,"paste")}),!0}function Ud(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,d=c.ranges.length-1;0<=d;d--){var e=c.ranges[d];if(!(100<e.head.ch||d&&c.ranges[d-1].head.line==e.head.line)){var f=a.getModeAt(e.head),g=!1;if(f.electricChars)for(var h=0;h<f.electricChars.length;h++){if(-1<b.indexOf(f.electricChars.charAt(h))){g=pb(a,e.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(t(a.doc,
e.head.line).text.slice(0,e.head.ch))&&(g=pb(a,e.head.line,"smart"));g&&Q(a,"electricInput",a,e.head.line)}}}function Wd(a){for(var b=[],c=[],d=0;d<a.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line,e={anchor:q(e,0),head:q(e+1,0)};c.push(e);b.push(a.getRange(e.anchor,e.head))}return{text:b,ranges:c}}function Xd(a){a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck","false")}function Sc(a){this.cm=a;this.prevInput="";this.pollingFast=
!1;this.polling=new ua;this.hasSelection=this.inaccurateSelection=!1;this.composing=null}function Yd(){var a=r("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),b=r("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");K?a.style.width="1000px":a.setAttribute("wrap","off");Ra&&(a.style.border="1px solid black");Xd(a);return b}function Tc(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=
null;this.polling=new ua;this.gracePeriod=!1}function Zd(a,b){var c=Uc(a,b.line);if(!c||c.hidden)return null;var d=t(a.doc,b.line),c=$d(c,d,b.line),d=Z(d),e="left";d&&(e=Rb(d,b.ch)%2?"right":"left");c=ae(c.map,b.ch,e);c.offset="right"==c.collapse?c.end:c.start;return c}function Sa(a,b){b&&(a.bad=!0);return a}function Sb(a,b,c){var d;if(b==a.display.lineDiv){d=a.display.lineDiv.childNodes[c];if(!d)return Sa(a.clipPos(q(a.display.viewTo-1)),!0);b=null;c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;
if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e<a.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return Cf(f,b,c)}}function Cf(a,b,c){function d(b,c,d){for(var e=-1;e<(l?l.length:0);e++)for(var f=0>e?k.map:l[e],g=0;g<f.length;g+=3){var h=f[g+2];if(h==b||h==c){c=E(0>e?a.line:a.rest[e]);e=f[g]+d;if(0>d||h!=b)e=f[g+(d?1:0)];return q(c,e)}}}var e=a.text.firstChild,f=!1;if(!b||!Vc(e,b))return Sa(q(E(a.line),0),!0);if(b==e&&(f=!0,b=e.childNodes[c],c=0,!b))return c=a.rest?
z(a.rest):a.line,Sa(q(E(c),c.text.length),f);var g=3==b.nodeType?b:null,h=b;g||1!=b.childNodes.length||3!=b.firstChild.nodeType||(g=b.firstChild,c&&(c=g.nodeValue.length));for(;h.parentNode!=e;)h=h.parentNode;var k=a.measure,l=k.maps;if(b=d(g,h,c))return Sa(b,f);e=h.nextSibling;for(g=g?g.nodeValue.length-c:0;e;e=e.nextSibling){if(b=d(e,e.firstChild,0))return Sa(q(b.line,b.ch-g),f);g+=e.textContent.length}h=h.previousSibling;for(g=c;h;h=h.previousSibling){if(b=d(h,h.firstChild,-1))return Sa(q(b.line,
b.ch+g),f);g+=e.textContent.length}}function Df(a,b,c,d,e){function f(a){return function(b){return b.id==a}}function g(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)""==c&&(c=b.textContent.replace(/\u200b/g,"")),h+=c;else{var c=b.getAttribute("cm-marker"),p;if(c)b=a.findMarks(q(d,0),q(e+1,0),f(+c)),b.length&&(p=b[0].find())&&(h+=Ba(a.doc,p.from,p.to).join(l));else if("false"!=b.getAttribute("contenteditable")){for(p=0;p<b.childNodes.length;p++)g(b.childNodes[p]);/^(pre|div|p)$/i.test(b.nodeName)&&
(k=!0)}}}else 3==b.nodeType&&(b=b.nodeValue)&&(k&&(h+=l,k=!1),h+=b)}for(var h="",k=!1,l=a.doc.lineSeparator();;){g(b);if(b==c)break;b=b.nextSibling}return h}function ka(a,b){this.ranges=a;this.primIndex=b}function y(a,b){this.anchor=a;this.head=b}function $(a,b){var c=a[b];a.sort(function(a,b){return w(a.from(),b.from())});b=D(a,c);for(c=1;c<a.length;c++){var d=a[c],e=a[c-1];if(0<=w(e.to(),d.from())){var f=Ob(e.from(),d.from()),g=Nb(e.to(),d.to()),d=e.empty()?d.from()==d.head:e.from()==e.head;c<=
b&&--b;a.splice(--c,2,new y(d?g:f,d?f:g))}}return new ka(a,b)}function ga(a,b){return new ka([new y(a,b||a)],0)}function x(a,b){if(b.line<a.first)return q(a.first,0);var c=a.first+a.size-1;if(b.line>c)return q(c,t(a,c).text.length);var c=t(a,b.line).text.length,d=b.ch,c=null==d||d>c?q(b.line,c):0>d?q(b.line,0):b;return c}function qb(a,b){return b>=a.first&&b<a.first+a.size}function be(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=x(a,b[d]);return c}function rb(a,b,c,d){return a.cm&&a.cm.display.shift||
a.extend?(a=b.anchor,d&&(b=0>w(c,a),b!=0>w(d,a)?(a=c,c=d):b!=0>w(c,d)&&(c=d)),new y(a,c)):new y(d||c,c)}function Tb(a,b,c,d){H(a,new ka([rb(a,a.sel.primary(),b,c)],0),d)}function ce(a,b,c){for(var d=[],e=0;e<a.sel.ranges.length;e++)d[e]=rb(a,a.sel.ranges[e],b[e],null);b=$(d,a.sel.primIndex);H(a,b,c)}function Wc(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c;H(a,$(e,a.sel.primIndex),d)}function Ef(a,b,c){c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new y(x(a,
b[c].anchor),x(a,b[c].head))},origin:c&&c.origin};J(a,"beforeSelectionChange",a,c);a.cm&&J(a.cm,"beforeSelectionChange",a.cm,c);return c.ranges!=b.ranges?$(c.ranges,c.ranges.length-1):b}function de(a,b,c){var d=a.history.done,e=z(d);e&&e.ranges?(d[d.length-1]=b,Ub(a,b,c)):H(a,b,c)}function H(a,b,c){Ub(a,b,c);b=a.sel;var d=a.cm?a.cm.curOp.id:NaN,e=a.history,f=c&&c.origin,g;if(!(g=d==e.lastSelOp)&&(g=f&&e.lastSelOrigin==f)&&!(g=e.lastModTime==e.lastSelTime&&e.lastOrigin==f)){g=z(e.done);var h=f.charAt(0);
g="*"==h||"+"==h&&g.ranges.length==b.ranges.length&&g.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}g?e.done[e.done.length-1]=b:Vb(b,e.done);e.lastSelTime=+new Date;e.lastSelOrigin=f;e.lastSelOp=d;c&&!1!==c.clearRedo&&ee(e.undone)}function Ub(a,b,c){if(W(a,"beforeSelectionChange")||a.cm&&W(a.cm,"beforeSelectionChange"))b=Ef(a,b,c);var d=c&&c.bias||(0>w(b.primary().head,a.sel.primary().head)?-1:1);fe(a,ge(a,b,d,!0));c&&!1===c.scroll||
!a.cm||Qa(a.cm)}function fe(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,he(a.cm)),Q(a,"cursorActivity",a))}function ie(a){fe(a,ge(a,a.sel,null,!1),ha)}function ge(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=b.ranges.length==a.sel.ranges.length&&a.sel.ranges[f],k=Xc(a,g.anchor,h&&h.anchor,c,d),h=Xc(a,g.head,h&&h.head,c,d);if(e||k!=g.anchor||h!=g.head)e||(e=b.ranges.slice(0,f)),e[f]=new y(k,h)}return e?$(e,b.primIndex):b}function Ta(a,
b,c,d,e){var f=t(a,b.line);if(f.markedSpans)for(var g=0;g<f.markedSpans.length;++g){var h=f.markedSpans[g],k=h.marker;if((null==h.from||(k.inclusiveLeft?h.from<=b.ch:h.from<b.ch))&&(null==h.to||(k.inclusiveRight?h.to>=b.ch:h.to>b.ch))){if(e&&(J(k,"beforeCursorEnter"),k.explicitlyCleared))if(f.markedSpans){--g;continue}else break;if(k.atomic){if(c){var g=k.find(0>d?1:-1),l;if(0>d?k.inclusiveRight:k.inclusiveLeft)g=je(a,g,-d,f);if(g&&g.line==b.line&&(l=w(g,c))&&(0>d?0>l:0<l))return Ta(a,g,b,d,e)}c=
k.find(0>d?-1:1);if(0>d?k.inclusiveLeft:k.inclusiveRight)c=je(a,c,d,f);return c?Ta(a,c,b,d,e):null}}}return b}function Xc(a,b,c,d,e){d=d||1;b=Ta(a,b,c,d,e)||!e&&Ta(a,b,c,d,!0)||Ta(a,b,c,-d,e)||!e&&Ta(a,b,c,-d,!0);return b?b:(a.cantEdit=!0,q(a.first,0))}function je(a,b,c,d){return 0>c&&0==b.ch?b.line>a.first?x(a,q(b.line-1)):null:0<c&&b.ch==(d||t(a,b.line)).text.length?b.line<a.first+a.size-1?q(b.line+1,0):null:new q(b.line,b.ch+c)}function nb(a){a.display.input.showSelection(a.display.input.prepareSelection())}
function ke(a,b){for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++)if(!1!==b||g!=c.sel.primIndex){var h=c.sel.ranges[g],k=h.empty();(k||a.options.showCursorWhenSelecting)&&le(a,h.head,e);k||Ff(a,h,f)}return d}function le(a,b,c){b=la(a,b,"div",null,null,!a.options.singleCursorHeightPerLine);var d=c.appendChild(r("div"," ","CodeMirror-cursor"));d.style.left=b.left+"px";d.style.top=b.top+"px";d.style.height=
Math.max(0,b.bottom-b.top)*a.options.cursorHeight+"px";b.other&&(a=c.appendChild(r("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=b.other.left+"px",a.style.top=b.other.top+"px",a.style.height=.85*(b.other.bottom-b.other.top)+"px")}function Ff(a,b,c){function d(a,b,c,d){0>b&&(b=0);b=Math.round(b);d=Math.round(d);h.appendChild(r("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?m-a:c)+"px; height: "+(d-b)+
"px"))}function e(b,c,e){var f=t(g,b),h=f.text.length,k,s;Gf(Z(f),c||0,null==e?h:e,function(g,n,r){var t=Wb(a,q(b,g),"div",f,"left"),u,v;g==n?(u=t,r=v=t.left):(u=Wb(a,q(b,n-1),"div",f,"right"),"rtl"==r&&(r=t,t=u,u=r),r=t.left,v=u.right);null==c&&0==g&&(r=l);3<u.top-t.top&&(d(r,t.top,null,t.bottom),r=l,t.bottom<u.top&&d(r,t.bottom,null,u.top));null==e&&n==h&&(v=m);if(!k||t.top<k.top||t.top==k.top&&t.left<k.left)k=t;if(!s||u.bottom>s.bottom||u.bottom==s.bottom&&u.right>s.right)s=u;r<l+1&&(r=l);d(r,
u.top,v-r,u.bottom)});return{start:k,end:s}}var f=a.display,g=a.doc,h=document.createDocumentFragment(),k=me(a.display),l=k.left,m=Math.max(f.sizerWidth,pa(a)-f.sizer.offsetLeft)-k.right,f=b.from();b=b.to();if(f.line==b.line)e(f.line,f.ch,b.ch);else{var s=t(g,f.line),k=t(g,b.line),k=ia(s)==ia(k),f=e(f.line,f.ch,k?s.text.length+1:null).end;b=e(b.line,k?0:null,b.ch).start;k&&(f.top<b.top-2?(d(f.right,f.top,null,f.bottom),d(l,b.top,b.left,b.bottom)):d(f.right,f.top,b.left-f.right,f.bottom));f.bottom<
b.top&&d(l,f.bottom,null,b.top)}c.appendChild(h)}function Yc(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function fb(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,cb(Hf,a))}function Hf(a){var b=
a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=sa(b.mode,sb(a,b.frontier)),e=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(b.frontier>=a.display.viewFrom){var g=f.styles,h=f.text.length>a.options.maxHighlightLength,k=ne(a,f,h?sa(b.mode,d):d,!0);f.styles=k.styles;var l=f.styleClasses;(k=k.classes)?f.styleClasses=k:l&&(f.styleClasses=null);l=!g||g.length!=f.styles.length||l!=k&&(!l||!k||l.bgClass!=
k.bgClass||l.textClass!=k.textClass);for(k=0;!l&&k<g.length;++k)l=g[k]!=f.styles[k];l&&e.push(b.frontier);f.stateAfter=h?d:sa(b.mode,d)}else f.text.length<=a.options.maxHighlightLength&&Zc(a,f.text,d),f.stateAfter=0==b.frontier%5?sa(b.mode,d):null;++b.frontier;if(+new Date>c)return fb(a,a.options.workDelay),!0});e.length&&R(a,function(){for(var b=0;b<e.length;b++)ma(a,e[b],"text")})}}function If(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1E3:100);b>g;--b){if(b<=f.first)return f.first;
var h=t(f,b-1);if(h.stateAfter&&(!c||b<=f.frontier))return b;h=aa(h.text,null,a.options.tabSize);if(null==e||d>h)e=b-1,d=h}return e}function sb(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return!0;var f=If(a,b,c),g=f>d.first&&t(d,f-1).stateAfter,g=g?sa(d.mode,g):Jf(d.mode);d.iter(f,b,function(c){Zc(a,c.text,g);c.stateAfter=f==b-1||0==f%5||f>=e.viewFrom&&f<e.viewTo?sa(d.mode,g):null;++f});c&&(d.frontier=f);return g}function Ec(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function me(a){if(a.cachedPaddingH)return a.cachedPaddingH;
var b=S(a.measure,r("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function da(a){return Gd-a.display.nativeBarWidth}function pa(a){return a.display.scroller.clientWidth-da(a)-a.display.barWidth}function Nc(a){return a.display.scroller.clientHeight-da(a)-a.display.barHeight}function $d(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};
for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(d=0;d<a.rest.length;d++)if(E(a.rest[d])>c)return{map:a.measure.maps[d],cache:a.measure.caches[d],before:!0}}function Uc(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[Aa(a,b)];var c=a.display.externalMeasured;if(c&&b>=c.lineN&&b<c.lineN+c.size)return c}function Xb(a,b){var c=E(b),d=Uc(a,c);d&&!d.text?d=null:d&&d.changes&&(Nd(a,d,c,Kc(a)),a.curOp.forceUpdate=!0);if(!d){var e;
e=ia(b);d=E(e);e=a.display.externalMeasured=new oe(a.doc,e,d);e.lineN=d;d=e.built=Rd(a,e);e.text=d.pre;S(a.display.lineMeasure,d.pre);d=e}c=$d(d,b,c);return{line:b,view:d,rect:null,map:c.map,cache:c.cache,before:c.before,hasHeights:!1}}function $c(a,b,c,d,e){b.before&&(c=-1);var f=c+(d||"");if(b.cache.hasOwnProperty(f))a=b.cache[f];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.hasHeights){var g=b.view,h=b.rect,k=a.options.lineWrapping,l=k&&pa(a);if(!g.measure.heights||k&&g.measure.width!=
l){var m=g.measure.heights=[];if(k)for(g.measure.width=l,g=g.text.firstChild.getClientRects(),k=0;k<g.length-1;k++){var l=g[k],s=g[k+1];2<Math.abs(l.bottom-s.bottom)&&m.push((l.bottom+s.top)/2-h.top)}m.push(h.bottom-h.top)}b.hasHeights=!0}g=d;k=ae(b.map,c,g);d=k.node;h=k.start;l=k.end;c=k.collapse;var p;if(3==d.nodeType){for(m=0;4>m;m++){for(;h&&tb(b.line.text.charAt(k.coverStart+h));)--h;for(;k.coverStart+l<k.coverEnd&&tb(b.line.text.charAt(k.coverStart+l));)++l;if(A&&9>C&&0==h&&l==k.coverEnd-k.coverStart)p=
d.parentNode.getBoundingClientRect();else if(A&&a.options.lineWrapping){var F=Ca(d,h,l).getClientRects();p=F.length?F["right"==g?F.length-1:0]:ad}else p=Ca(d,h,l).getBoundingClientRect()||ad;if(p.left||p.right||0==h)break;l=h;--h;c="right"}A&&11>C&&((F=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=bd?F=bd:(m=S(a.display.measure,r("span","x")),F=m.getBoundingClientRect(),m=Ca(m,0,1).getBoundingClientRect(),F=bd=1<Math.abs(F.left-m.left)),F=!F),F||(F=screen.logicalXDPI/
screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI,p={left:p.left*F,right:p.right*F,top:p.top*m,bottom:p.bottom*m}))}else 0<h&&(c=g="right"),p=a.options.lineWrapping&&1<(F=d.getClientRects()).length?F["right"==g?F.length-1:0]:d.getBoundingClientRect();!(A&&9>C)||h||p&&(p.left||p.right)||(p=(p=d.parentNode.getClientRects()[0])?{left:p.left,right:p.left+gb(a.display),top:p.top,bottom:p.bottom}:ad);F=p.top-b.rect.top;d=p.bottom-b.rect.top;h=(F+d)/2;g=b.view.measure.heights;for(m=0;m<g.length-1&&
!(h<g[m]);m++);c={left:("right"==c?p.right:p.left)-b.rect.left,right:("left"==c?p.left:p.right)-b.rect.left,top:m?g[m-1]:0,bottom:g[m]};p.left||p.right||(c.bogus=!0);a.options.singleCursorHeightPerLine||(c.rtop=F,c.rbottom=d);a=c;a.bogus||(b.cache[f]=a)}return{left:a.left,right:a.right,top:e?a.rtop:a.top,bottom:e?a.rbottom:a.bottom}}function ae(a,b,c){for(var d,e,f,g,h=0;h<a.length;h+=3){var k=a[h],l=a[h+1];if(b<k)e=0,f=1,g="left";else if(b<l)e=b-k,f=e+1;else if(h==a.length-3||b==l&&a[h+3]>b)f=l-
k,e=f-1,b>=l&&(g="right");if(null!=e){d=a[h+2];k==l&&c==(d.insertLeft?"left":"right")&&(g=c);if("left"==c&&0==e)for(;h&&a[h-2]==a[h-3]&&a[h-1].insertLeft;)d=a[(h-=3)+2],g="left";if("right"==c&&e==l-k)for(;h<a.length-3&&a[h+3]==a[h+4]&&!a[h+5].insertLeft;)d=a[(h+=3)+2],g="right";break}}return{node:d,start:e,end:f,collapse:g,coverStart:k,coverEnd:l}}function pe(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function qe(a){a.display.externalMeasure=
null;xa(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)pe(a.display.view[b])}function hb(a){qe(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function cd(a,b,c,d){if(b.widgets)for(var e=0;e<b.widgets.length;++e)if(b.widgets[e].above){var f=ub(b.widgets[e]);c.top+=f;c.bottom+=f}if("line"==d)return c;d||(d="local");b=ea(b);b="local"==d?b+a.display.lineSpace.offsetTop:
b-a.display.viewOffset;if("page"==d||"window"==d)a=a.display.lineSpace.getBoundingClientRect(),b+=a.top+("window"==d?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),d=a.left+("window"==d?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),c.left+=d,c.right+=d;c.top+=b;c.bottom+=b;return c}function re(a,b,c){if("div"==c)return b;var d=b.left;b=b.top;"page"==c?(d-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,b-=window.pageYOffset||
(document.documentElement||document.body).scrollTop):"local"!=c&&c||(c=a.display.sizer.getBoundingClientRect(),d+=c.left,b+=c.top);a=a.display.lineSpace.getBoundingClientRect();return{left:d-a.left,top:b-a.top}}function Wb(a,b,c,d,e){d||(d=t(a.doc,b.line));var f=d;b=b.ch;d=$c(a,Xb(a,d),b,e);return cd(a,f,d,c)}function la(a,b,c,d,e,f){function g(b,g){var h=$c(a,e,b,g?"right":"left",f);g?h.left=h.right:h.right=h.left;return cd(a,d,h,c)}function h(a,b){var c=k[b],d=c.level%2;a==dd(c)&&b&&c.level<k[b-
1].level?(c=k[--b],a=ed(c)-(c.level%2?0:1),d=!0):a==ed(c)&&b<k.length-1&&c.level<k[b+1].level&&(c=k[++b],a=dd(c)-c.level%2,d=!1);return d&&a==c.to&&a>c.from?g(a-1):g(a,d)}d=d||t(a.doc,b.line);e||(e=Xb(a,d));var k=Z(d);b=b.ch;if(!k)return g(b);var l=Rb(k,b),l=h(b,l);null!=vb&&(l.other=h(b,vb));return l}function se(a,b){var c=0;b=x(a.doc,b);a.options.lineWrapping||(c=gb(a.display)*b.ch);var d=t(a.doc,b.line),e=ea(d)+a.display.lineSpace.offsetTop;return{left:c,right:c,top:e,bottom:e+d.height}}function Yb(a,
b,c,d){a=q(a,b);a.xRel=d;c&&(a.outside=!0);return a}function fd(a,b,c){var d=a.doc;c+=a.display.viewOffset;if(0>c)return Yb(d.first,0,!0,-1);var e=za(d,c),f=d.first+d.size-1;if(e>f)return Yb(d.first+d.size-1,t(d,f).text.length,!0,1);0>b&&(b=0);for(d=t(d,e);;)if(e=Kf(a,d,e,b,c),f=(d=ya(d,!1))&&d.find(0,!0),d&&(e.ch>f.from.ch||e.ch==f.from.ch&&0<e.xRel))e=E(d=f.to.line);else return e}function Kf(a,b,c,d,e){function f(d){d=la(a,q(c,d),"line",b,l);h=!0;if(g>d.bottom)return d.left-k;if(g<d.top)return d.left+
k;h=!1;return d.left}var g=e-ea(b),h=!1,k=2*a.display.wrapper.clientWidth,l=Xb(a,b),m=Z(b),s=b.text.length;e=Zb(b);var p=$b(b),F=f(e),n=h,r=f(p),t=h;if(d>r)return Yb(c,p,t,1);for(;;){if(m?p==e||p==gd(b,e,1):1>=p-e){m=d<F||d-F<=r-d?e:p;for(d-=m==e?F:r;tb(b.text.charAt(m));)++m;return Yb(c,m,m==e?n:t,-1>d?-1:1<d?1:0)}var u=Math.ceil(s/2),v=e+u;if(m)for(var v=e,w=0;w<u;++w)v=gd(b,v,1);w=f(v);if(w>d){p=v;r=w;if(t=h)r+=1E3;s=u}else e=v,F=w,n=h,s-=u}}function va(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;
if(null==Da){Da=r("pre");for(var b=0;49>b;++b)Da.appendChild(document.createTextNode("x")),Da.appendChild(r("br"));Da.appendChild(document.createTextNode("x"))}S(a.measure,Da);b=Da.offsetHeight/50;3<b&&(a.cachedTextHeight=b);xa(a.measure);return b||1}function gb(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=r("span","xxxxxxxxxx"),c=r("pre",[b]);S(a.measure,c);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function Ka(a){a.curOp={cm:a,viewChanged:!1,
startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lf};Ua?Ua.ops.push(a.curOp):a.curOp.ownsGroup=Ua={ops:[a.curOp],delayedCallbacks:[]}}function Ma(a){if(a=a.curOp.ownsGroup)try{var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c].call(null);for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<
e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++].call(null,e.cm)}}while(c<b.length)}finally{Ua=null;for(b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;a=a.ops;for(b=0;b<a.length;b++){var e=a[b],c=e.cm,f=d=c.display;!f.scrollbarsClipped&&f.scroller.offsetWidth&&(f.nativeBarWidth=f.scroller.offsetWidth-f.scroller.clientWidth,f.heightForcer.style.height=da(c)+"px",f.sizer.style.marginBottom=-f.nativeBarWidth+"px",f.sizer.style.borderRightWidth=da(c)+"px",f.scrollbarsClipped=
!0);e.updateMaxLine&&Dc(c);e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<d.viewFrom||e.scrollToPos.to.line>=d.viewTo)||d.maxLineChanged&&c.options.lineWrapping;e.update=e.mustUpdate&&new Lb(c,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}for(b=0;b<a.length;b++)e=a[b],e.updatedDisplay=e.mustUpdate&&Lc(e.cm,e.update);for(b=0;b<a.length;b++)if(e=a[b],c=e.cm,d=c.display,e.updatedDisplay&&Kb(c),e.barMeasure=jb(c),d.maxLineChanged&&
!c.options.lineWrapping&&(f=void 0,f=d.maxLine.text.length,f=$c(c,Xb(c,d.maxLine),f,void 0),e.adjustWidthTo=f.left+3,c.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(d.scroller.clientWidth,d.sizer.offsetLeft+e.adjustWidthTo+da(c)+c.display.barWidth),e.maxScrollLeft=Math.max(0,d.sizer.offsetLeft+e.adjustWidthTo-pa(c))),e.updatedDisplay||e.selectionChanged)e.preparedSelection=d.input.prepareSelection();for(b=0;b<a.length;b++)e=a[b],c=e.cm,null!=e.adjustWidthTo&&(c.display.sizer.style.minWidth=
e.adjustWidthTo+"px",e.maxScrollLeft<c.doc.scrollLeft&&Na(c,Math.min(c.display.scroller.scrollLeft,e.maxScrollLeft),!0),c.display.maxLineChanged=!1),e.preparedSelection&&c.display.input.showSelection(e.preparedSelection),e.updatedDisplay&&Oc(c,e.barMeasure),(e.updatedDisplay||e.startHeight!=c.doc.height)&&Oa(c,e.barMeasure),e.selectionChanged&&Yc(c),c.state.focused&&e.updateInput&&c.display.input.reset(e.typing),!e.focus||e.focus!=fa()||document.hasFocus&&!document.hasFocus()||Td(e.cm);for(b=0;b<
a.length;b++){e=a[b];c=e.cm;d=c.display;f=c.doc;e.updatedDisplay&&Ld(c,e.update);null==d.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(d.wheelStartX=d.wheelStartY=null);null==e.scrollTop||d.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(f.scrollTop=Math.max(0,Math.min(d.scroller.scrollHeight-d.scroller.clientHeight,e.scrollTop)),d.scrollbars.setScrollTop(f.scrollTop),d.scroller.scrollTop=f.scrollTop);null==e.scrollLeft||d.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||
(f.scrollLeft=Math.max(0,Math.min(d.scroller.scrollWidth-pa(c),e.scrollLeft)),d.scrollbars.setScrollLeft(f.scrollLeft),d.scroller.scrollLeft=f.scrollLeft,Bc(c));if(e.scrollToPos){var g=void 0,h=x(f,e.scrollToPos.from),g=x(f,e.scrollToPos.to),k=e.scrollToPos.margin;null==k&&(k=0);for(var l=0;5>l;l++){var m=!1,s=la(c,h),p=g&&g!=h?la(c,g):s,p=ac(c,Math.min(s.left,p.left),Math.min(s.top,p.top)-k,Math.max(s.left,p.left),Math.max(s.bottom,p.bottom)+k),n=c.doc.scrollTop,q=c.doc.scrollLeft;null!=p.scrollTop&&
(lb(c,p.scrollTop),1<Math.abs(c.doc.scrollTop-n)&&(m=!0));null!=p.scrollLeft&&(Na(c,p.scrollLeft),1<Math.abs(c.doc.scrollLeft-q)&&(m=!0));if(!m)break}g=s;e.scrollToPos.isCursor&&c.state.focused&&(B(c,"scrollCursorIntoView")||(k=c.display,l=k.sizer.getBoundingClientRect(),h=null,0>g.top+l.top?h=!0:g.bottom+l.top>(window.innerHeight||document.documentElement.clientHeight)&&(h=!1),null==h||Mf||(g=r("div","​",null,"position: absolute; top: "+(g.top-k.viewOffset-c.display.lineSpace.offsetTop)+"px; height: "+
(g.bottom-g.top+da(c)+k.barHeight)+"px; left: "+g.left+"px; width: 2px;"),c.display.lineSpace.appendChild(g),g.scrollIntoView(h),c.display.lineSpace.removeChild(g))))}h=e.maybeHiddenMarkers;g=e.maybeUnhiddenMarkers;if(h)for(k=0;k<h.length;++k)h[k].lines.length||J(h[k],"hide");if(g)for(k=0;k<g.length;++k)g[k].lines.length&&J(g[k],"unhide");d.wrapper.offsetHeight&&(f.scrollTop=c.display.scroller.scrollTop);e.changeObjs&&J(c,"changes",c,e.changeObjs);e.update&&e.update.finish()}}}function R(a,b){if(a.curOp)return b();
Ka(a);try{return b()}finally{Ma(a)}}function G(a,b){return function(){if(a.curOp)return b.apply(a,arguments);Ka(a);try{return b.apply(a,arguments)}finally{Ma(a)}}}function L(a){return function(){if(this.curOp)return a.apply(this,arguments);Ka(this);try{return a.apply(this,arguments)}finally{Ma(this)}}}function M(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);Ka(b);try{return a.apply(this,arguments)}finally{Ma(b)}}}function oe(a,b,c){for(var d=this.line=b,e;d=ya(d,
!1);)d=d.find(1,!0).line,(e||(e=[])).push(d);this.size=(this.rest=e)?E(z(this.rest))-c+1:1;this.node=this.text=null;this.hidden=wa(a,b)}function Mb(a,b,c){var d=[],e;for(e=b;e<c;)b=new oe(a.doc,t(a.doc,e),e),e+=b.size,d.push(b);return d}function O(a,b,c,d){null==b&&(b=a.doc.first);null==c&&(c=a.doc.first+a.doc.size);d||(d=0);var e=a.display;d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=e.viewTo)ra&&Mc(a.doc,b)<e.viewTo&&qa(a);
else if(c<=e.viewFrom)ra&&Kd(a.doc,c+d)>e.viewFrom?qa(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)qa(a);else if(b<=e.viewFrom){var f=bc(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):qa(a)}else if(c>=e.viewTo)(f=bc(a,b,b,-1))?(e.view=e.view.slice(0,f.index),e.viewTo=f.lineN):qa(a);else{var f=bc(a,b,b,-1),g=bc(a,c,c+d,1);f&&g?(e.view=e.view.slice(0,f.index).concat(Mb(a,f.lineN,g.lineN)).concat(e.view.slice(g.index)),e.viewTo+=d):qa(a)}if(a=e.externalMeasured)c<
a.lineN?a.lineN+=d:b<a.lineN+a.size&&(e.externalMeasured=null)}function ma(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null);b<d.viewFrom||b>=d.viewTo||(a=d.view[Aa(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==D(a,c)&&a.push(c)))}function qa(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Aa(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>
b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function bc(a,b,c,d){var e=Aa(a,b),f=a.display.view;if(!ra||c==a.doc.first+a.doc.size)return{index:e,lineN:c};for(var g=0,h=a.display.viewFrom;g<e;g++)h+=f[g].size;if(h!=b){if(0<d){if(e==f.length-1)return null;b=h+f[e].size-b;e++}else b=h-b;c+=b}for(;Mc(a.doc,c)!=c;){if(e==(0>d?0:f.length-1))return null;c+=d*f[e-(0>d?1:0)].size;e+=d}return{index:e,lineN:c}}function Jd(a){a=a.display.view;for(var b=0,c=0;c<a.length;c++){var d=
a[c];d.hidden||d.node&&!d.changes||++b}return b}function yf(a){function b(){d.activeTouch&&(e=setTimeout(function(){d.activeTouch=null},1E3),f=d.activeTouch,f.end=+new Date)}function c(a,b){if(null==b.left)return!0;var c=b.left-a.left,d=b.top-a.top;return 400<c*c+d*d}var d=a.display;u(d.scroller,"mousedown",G(a,Nf));A&&11>C?u(d.scroller,"dblclick",G(a,function(b){if(!B(a,b)){var c=Ea(a,b);!c||hd(a,b,"gutterClick",!0)||na(a.display,b)||(N(b),b=a.findWordAt(c),Tb(a.doc,b.anchor,b.head))}})):u(d.scroller,
"dblclick",function(b){B(a,b)||N(b)});id||u(d.scroller,"contextmenu",function(b){te(a,b)});var e,f={end:0};u(d.scroller,"touchstart",function(b){var c;if(c=!B(a,b))1!=b.touches.length?c=!1:(c=b.touches[0],c=1>=c.radiusX&&1>=c.radiusY),c=!c;c&&(clearTimeout(e),c=+new Date,d.activeTouch={start:c,moved:!1,prev:300>=c-f.end?f:null},1==b.touches.length&&(d.activeTouch.left=b.touches[0].pageX,d.activeTouch.top=b.touches[0].pageY))});u(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=
!0)});u(d.scroller,"touchend",function(e){var f=d.activeTouch;if(f&&!na(d,e)&&null!=f.left&&!f.moved&&300>new Date-f.start){var g=a.coordsChar(d.activeTouch,"page"),f=!f.prev||c(f,f.prev)?new y(g,g):!f.prev.prev||c(f,f.prev.prev)?a.findWordAt(g):new y(q(g.line,0),x(a.doc,q(g.line+1,0)));a.setSelection(f.anchor,f.head);a.focus();N(e)}b()});u(d.scroller,"touchcancel",b);u(d.scroller,"scroll",function(){d.scroller.clientHeight&&(lb(a,d.scroller.scrollTop),Na(a,d.scroller.scrollLeft,!0),J(a,"scroll",
a))});u(d.scroller,"mousewheel",function(b){ue(a,b)});u(d.scroller,"DOMMouseScroll",function(b){ue(a,b)});u(d.wrapper,"scroll",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0});d.dragFunctions={enter:function(b){B(a,b)||cc(b)},over:function(b){if(!B(a,b)){var c=Ea(a,b);if(c){var d=document.createDocumentFragment();le(a,c,d);a.display.dragCursor||(a.display.dragCursor=r("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));
S(a.display.dragCursor,d)}cc(b)}},start:function(b){if(A&&(!a.state.draggingText||100>+new Date-ve))cc(b);else if(!B(a,b)&&!na(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.setDragImage&&!we)){var c=r("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";ba&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);ba&&c.parentNode.removeChild(c)}},
drop:G(a,Of),leave:function(){xe(a)}};var g=d.input.getField();u(g,"keyup",function(b){ye.call(a,b)});u(g,"keydown",G(a,ze));u(g,"keypress",G(a,Ae));u(g,"focus",cb(xc,a));u(g,"blur",cb(db,a))}function Pf(a){var b=a.display;if(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize()}function na(a,b){for(var c=b.target||b.srcElement;c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&
"true"==c.getAttribute("cm-ignore-events")||c.parentNode==a.sizer&&c!=a.mover)return!0}function Ea(a,b,c,d){var e=a.display;if(!c&&"true"==(b.target||b.srcElement).getAttribute("cm-not-content"))return null;var f,g;c=e.lineSpace.getBoundingClientRect();try{f=b.clientX-c.left,g=b.clientY-c.top}catch(h){return null}b=fd(a,f,g);var k;d&&1==b.xRel&&(k=t(a.doc,b.line).text).length==b.ch&&(d=aa(k,k.length,a.options.tabSize)-k.length,b=q(b.line,Math.max(0,Math.round((f-me(a.display).left)/gb(a.display))-
d)));return b}function Nf(a){var b=this.display;if(!(B(this,a)||b.activeTouch&&b.input.supportsTouch()))if(b.shift=a.shiftKey,na(b,a))K||(b.scroller.draggable=!1,setTimeout(function(){b.scroller.draggable=!0},100));else if(!hd(this,a,"gutterClick",!0)){var c=Ea(this,a);window.focus();switch(Be(a)){case 1:this.state.selectingText?this.state.selectingText(a):c?Qf(this,a,c):(a.target||a.srcElement)==b.scroller&&N(a);break;case 2:K&&(this.state.lastMiddleDown=+new Date);c&&Tb(this.doc,c);setTimeout(function(){b.input.focus()},
20);N(a);break;case 3:id?te(this,a):Rf(this)}}}function Qf(a,b,c){A?setTimeout(cb(Td,a),0):a.curOp.focus=fa();var d=+new Date,e;dc&&dc.time>d-400&&0==w(dc.pos,c)?e="triple":ec&&ec.time>d-400&&0==w(ec.pos,c)?(e="double",dc={time:d,pos:c}):(e="single",ec={time:d,pos:c});var d=a.doc.sel,f=Y?b.metaKey:b.ctrlKey,g;a.options.dragDrop&&Sf&&!a.isReadOnly()&&"single"==e&&-1<(g=d.contains(c))&&(0>w((g=d.ranges[g]).from(),c)||0<c.xRel)&&(0<w(g.to(),c)||0>c.xRel)?Tf(a,b,c,f):Uf(a,b,c,e,f)}function Tf(a,b,c,d){var e=
a.display,f=+new Date,g=G(a,function(h){K&&(e.scroller.draggable=!1);a.state.draggingText=!1;ja(document,"mouseup",g);ja(e.scroller,"drop",g);10>Math.abs(b.clientX-h.clientX)+Math.abs(b.clientY-h.clientY)&&(N(h),!d&&+new Date-200<f&&Tb(a.doc,c),K||A&&9==C?setTimeout(function(){document.body.focus();e.input.focus()},20):e.input.focus())});K&&(e.scroller.draggable=!0);a.state.draggingText=g;e.scroller.dragDrop&&e.scroller.dragDrop();u(document,"mouseup",g);u(e.scroller,"drop",g)}function Uf(a,b,c,d,
e){function f(b){if(0!=w(v,b))if(v=b,"rect"==d){for(var e=[],f=a.options.tabSize,g=aa(t(l,c.line).text,c.ch,f),h=aa(t(l,b.line).text,b.ch,f),k=Math.min(g,h),g=Math.max(g,h),h=Math.min(c.line,b.line),n=Math.min(a.lastLine(),Math.max(c.line,b.line));h<=n;h++){var r=t(l,h).text,F=Ce(r,k,f);k==g?e.push(new y(q(h,F),q(h,F))):r.length>F&&e.push(new y(q(h,F),q(h,Ce(r,g,f))))}e.length||e.push(new y(c,c));H(l,$(p.ranges.slice(0,s).concat(e),s),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else e=m,f=e.anchor,
k=b,"single"!=d&&(b="double"==d?a.findWordAt(b):new y(q(b.line,0),x(l,q(b.line+1,0))),0<w(b.anchor,f)?(k=b.head,f=Ob(e.from(),b.anchor)):(k=b.anchor,f=Nb(e.to(),b.head))),e=p.ranges.slice(0),e[s]=new y(x(l,f),k),H(l,$(e,s),jd)}function g(b){var c=++z,e=Ea(a,b,!0,"rect"==d);if(e)if(0!=w(e,v)){a.curOp.focus=fa();f(e);var h=Hc(k,l);(e.line>=h.to||e.line<h.from)&&setTimeout(G(a,function(){z==c&&g(b)}),150)}else{var m=b.clientY<A.top?-20:b.clientY>A.bottom?20:0;m&&setTimeout(G(a,function(){z==c&&(k.scroller.scrollTop+=
m,g(b))}),50)}}function h(b){a.state.selectingText=!1;z=Infinity;N(b);k.input.focus();ja(document,"mousemove",E);ja(document,"mouseup",C);l.history.lastSelOrigin=null}var k=a.display,l=a.doc;N(b);var m,s,p=l.sel,n=p.ranges;e&&!b.shiftKey?(s=l.sel.contains(c),m=-1<s?n[s]:new y(c,c)):(m=l.sel.primary(),s=l.sel.primIndex);if(b.altKey)d="rect",e||(m=new y(c,c)),c=Ea(a,b,!0,!0),s=-1;else if("double"==d){var r=a.findWordAt(c);m=a.display.shift||l.extend?rb(l,m,r.anchor,r.head):r}else"triple"==d?(r=new y(q(c.line,
0),x(l,q(c.line+1,0))),m=a.display.shift||l.extend?rb(l,m,r.anchor,r.head):r):m=rb(l,m,c);e?-1==s?(s=n.length,H(l,$(n.concat([m]),s),{scroll:!1,origin:"*mouse"})):1<n.length&&n[s].empty()&&"single"==d&&!b.shiftKey?(H(l,$(n.slice(0,s).concat(n.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),p=l.sel):Wc(l,s,m,jd):(s=0,H(l,new ka([m],0),jd),p=l.sel);var v=c,A=k.wrapper.getBoundingClientRect(),z=0,E=G(a,function(a){Be(a)?g(a):h(a)}),C=G(a,h);a.state.selectingText=C;u(document,"mousemove",E);u(document,"mouseup",
C)}function hd(a,b,c,d){try{var e=b.clientX,f=b.clientY}catch(g){return!1}if(e>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&N(b);d=a.display;var h=d.lineDiv.getBoundingClientRect();if(f>h.bottom||!W(a,c))return kd(b);f-=h.top-d.viewOffset;for(h=0;h<a.options.gutters.length;++h){var k=d.gutters.childNodes[h];if(k&&k.getBoundingClientRect().right>=e)return e=za(a.doc,f),J(a,c,a,e,a.options.gutters[h],b),kd(b)}}function Of(a){var b=this;xe(b);if(!B(b,a)&&!na(b.display,a)){N(a);
A&&(ve=+new Date);var c=Ea(b,a,!0),d=a.dataTransfer.files;if(c&&!b.isReadOnly())if(d&&d.length&&window.FileReader&&window.File){var e=d.length,f=Array(e),g=0;a=function(a,d){if(!b.options.allowDropFileTypes||-1!=D(b.options.allowDropFileTypes,a.type)){var h=new FileReader;h.onload=G(b,function(){var a=h.result;/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a="");f[d]=a;++g==e&&(c=x(b.doc,c),a={from:c,to:c,text:b.doc.splitLines(f.join(b.doc.lineSeparator())),origin:"paste"},Pa(b.doc,a),de(b.doc,ga(c,Fa(a))))});
h.readAsText(a)}};for(var h=0;h<e;++h)a(d[h],h)}else if(b.state.draggingText&&-1<b.doc.sel.contains(c))b.state.draggingText(a),setTimeout(function(){b.display.input.focus()},20);else try{if(f=a.dataTransfer.getData("Text")){if(b.state.draggingText&&(Y?!a.altKey:!a.ctrlKey))var k=b.listSelections();Ub(b.doc,ga(c,c));if(k)for(h=0;h<k.length;++h)Va(b.doc,"",k[h].anchor,k[h].head,"drag");b.replaceSelection(f,"around","paste");b.display.input.focus()}}catch(l){}}}function xe(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),
a.display.dragCursor=null)}function lb(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,oa||Pc(a,{top:b}),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b),a.display.scrollbars.setScrollTop(b),oa&&Pc(a),fb(a,100))}function Na(a,b,c){(c?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,Bc(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}
function ue(a,b){var c=De(b),d=c.x,c=c.y,e=a.display,f=e.scroller,g=f.scrollWidth>f.clientWidth,h=f.scrollHeight>f.clientHeight;if(d&&g||c&&h){if(c&&Y&&K){var g=b.target,k=e.view;a:for(;g!=f;g=g.parentNode)for(var l=0;l<k.length;l++)if(k[l].node==g){a.display.currentWheelTarget=g;break a}}!d||oa||ba||null==T?(c&&null!=T&&(h=c*T,g=a.doc.scrollTop,k=g+e.wrapper.clientHeight,0>h?g=Math.max(0,g+h-50):k=Math.min(a.doc.height,k+h+50),Pc(a,{top:g,bottom:k})),20>fc&&(null==e.wheelStartX?(e.wheelStartX=f.scrollLeft,
e.wheelStartY=f.scrollTop,e.wheelDX=d,e.wheelDY=c,setTimeout(function(){if(null!=e.wheelStartX){var a=f.scrollLeft-e.wheelStartX,b=f.scrollTop-e.wheelStartY,a=b&&e.wheelDY&&b/e.wheelDY||a&&e.wheelDX&&a/e.wheelDX;e.wheelStartX=e.wheelStartY=null;a&&(T=(T*fc+a)/(fc+1),++fc)}},200)):(e.wheelDX+=d,e.wheelDY+=c))):(c&&h&&lb(a,Math.max(0,Math.min(f.scrollTop+c*T,f.scrollHeight-f.clientHeight))),Na(a,Math.max(0,Math.min(f.scrollLeft+d*T,f.scrollWidth-f.clientWidth))),(!c||c&&h)&&N(b),e.wheelStartX=null)}}
function gc(a,b,c){if("string"==typeof b&&(b=hc[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Ee}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function Vf(a,b,c){for(var d=0;d<a.state.keyMaps.length;d++){var e=wb(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&wb(b,a.options.extraKeys,c,a)||wb(b,a.options.keyMap,c,a)}function ic(a,b,c,d){var e=a.state.keySeq;
if(e){if(Wf(b))return"handled";Xf.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())});b=e+" "+b}d=Vf(a,b,d);"multi"==d&&(a.state.keySeq=b);"handled"==d&&Q(a,"keyHandled",a,b,c);if("handled"==d||"multi"==d)N(c),Yc(a);return e&&!d&&/\'$/.test(b)?(N(c),!0):!!d}function Fe(a,b){var c=Yf(b,!0);return c?b.shiftKey&&!a.state.keySeq?ic(a,"Shift-"+c,b,function(b){return gc(a,b,!0)})||ic(a,c,b,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return gc(a,b)}):ic(a,
c,b,function(b){return gc(a,b)}):!1}function Zf(a,b,c){return ic(a,"'"+c+"'",b,function(b){return gc(a,b,!0)})}function ze(a){this.curOp.focus=fa();if(!B(this,a)){A&&11>C&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=Fe(this,a);ba&&(ld=c?b:null,!c&&88==b&&!Ge&&(Y?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||$f(this)}}function $f(a){function b(a){18!=a.keyCode&&a.altKey||
(kb(c,"CodeMirror-crosshair"),ja(document,"keyup",b),ja(document,"mouseover",b))}var c=a.display.lineDiv;mb(c,"CodeMirror-crosshair");u(document,"keyup",b);u(document,"mouseover",b)}function ye(a){16==a.keyCode&&(this.doc.sel.shift=!1);B(this,a)}function Ae(a){if(!(na(this.display,a)||B(this,a)||a.ctrlKey&&!a.altKey||Y&&a.metaKey)){var b=a.keyCode,c=a.charCode;if(ba&&b==ld)ld=null,N(a);else if(!ba||a.which&&!(10>a.which)||!Fe(this,a))if(b=String.fromCharCode(null==c?b:c),!Zf(this,a,b))this.display.input.onKeyPress(a)}}
function Rf(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,db(a))},100)}function xc(a){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(J(a,"focus",a),a.state.focused=!0,mb(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),K&&setTimeout(function(){a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),
Yc(a))}function db(a){a.state.delayingBlurEvent||(a.state.focused&&(J(a,"blur",a),a.state.focused=!1,kb(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function te(a,b){var c;(c=na(a.display,b))||(c=W(a,"gutterContextMenu")?hd(a,b,"gutterContextMenu",!1):!1);if(!c&&!B(a,b,"contextmenu"))a.display.input.onContextMenu(b)}function He(a,b){if(0>w(a,b.from))return a;if(0>=w(a,b.to))return Fa(b);var c=a.line+b.text.length-
(b.to.line-b.from.line)-1,d=a.ch;a.line==b.to.line&&(d+=Fa(b).ch-b.to.ch);return q(c,d)}function md(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new y(He(e.anchor,b),He(e.head,b)))}return $(c,a.sel.primIndex)}function Ie(a,b,c){return a.line==b.line?q(c.line,a.ch-b.ch+c.ch):q(c.line+(a.line-b.line),a.ch)}function Je(a,b,c){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};c&&(b.update=function(b,c,f,g){b&&(this.from=
x(a,b));c&&(this.to=x(a,c));f&&(this.text=f);void 0!==g&&(this.origin=g)});J(a,"beforeChange",a,b);a.cm&&J(a.cm,"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,origin:b.origin}}function Pa(a,b,c){if(a.cm){if(!a.cm.curOp)return G(a.cm,Pa)(a,b,c);if(a.cm.state.suppressEdits)return}if(W(a,"beforeChange")||a.cm&&W(a.cm,"beforeChange"))if(b=Je(a,b,!0),!b)return;if(c=Ke&&!c&&ag(a,b.from,b.to))for(var d=c.length-1;0<=d;--d)Le(a,{from:c[d].from,to:c[d].to,text:d?[""]:b.text});
else Le(a,b)}function Le(a,b){if(1!=b.text.length||""!=b.text[0]||0!=w(b.from,b.to)){var c=md(a,b);Me(a,b,c,a.cm?a.cm.curOp.id:NaN);xb(a,b,c,nd(a,b));var d=[];Ga(a,function(a,c){c||-1!=D(d,a.history)||(Ne(a.history,b),d.push(a.history));xb(a,b,null,nd(a,b))})}}function jc(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var d=a.history,e,f=a.sel,g="undo"==b?d.done:d.undone,h="undo"==b?d.undone:d.done,k=0;k<g.length&&(e=g[k],c?!e.ranges||e.equals(a.sel):e.ranges);k++);if(k!=g.length){for(d.lastOrigin=
d.lastSelOrigin=null;;)if(e=g.pop(),e.ranges){Vb(e,h);if(c&&!e.equals(a.sel)){H(a,e,{clearRedo:!1});return}f=e}else break;c=[];Vb(f,h);h.push({changes:c,generation:d.generation});d.generation=e.generation||++d.maxGeneration;d=W(a,"beforeChange")||a.cm&&W(a.cm,"beforeChange");for(k=e.changes.length-1;0<=k;--k){var l=e.changes[k];l.origin=b;if(d&&!Je(a,l,!1)){g.length=0;break}c.push(od(a,l));f=k?md(a,l):z(g);xb(a,l,f,Oe(a,l));!k&&a.cm&&a.cm.scrollIntoView({from:l.from,to:Fa(l)});var m=[];Ga(a,function(a,
b){b||-1!=D(m,a.history)||(Ne(a.history,l),m.push(a.history));xb(a,l,null,Oe(a,l))})}}}}function Pe(a,b){if(0!=b&&(a.first+=b,a.sel=new ka(Qb(a.sel.ranges,function(a){return new y(q(a.anchor.line+b,a.anchor.ch),q(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){O(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)ma(a.cm,d,"gutter")}}function xb(a,b,c,d){if(a.cm&&!a.cm.curOp)return G(a.cm,xb)(a,b,c,d);if(b.to.line<a.first)Pe(a,b.text.length-1-(b.to.line-b.from.line));
else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Pe(a,e);b={from:q(a.first,0),to:q(b.to.line+e,b.to.ch),text:[z(b.text)],origin:b.origin}}e=a.lastLine();b.to.line>e&&(b={from:b.from,to:q(e,t(a,e).text.length),text:[b.text[0]],origin:b.origin});b.removed=Ba(a,b.from,b.to);c||(c=md(a,b));a.cm?bg(a.cm,b,d):pd(a,b,d);Ub(a,c,ha)}}function bg(a,b,c){var d=a.doc,e=a.display,f=b.from,g=b.to,h=!1,k=f.line;a.options.lineWrapping||(k=E(ia(t(d,f.line))),
d.iter(k,g.line+1,function(a){if(a==e.maxLine)return h=!0}));-1<d.sel.contains(b.from,b.to)&&he(a);pd(d,b,c,Hd(a));a.options.lineWrapping||(d.iter(k,f.line+b.text.length,function(a){var b=Jb(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0));d.frontier=Math.min(d.frontier,f.line);fb(a,400);c=b.text.length-(g.line-f.line)-1;b.full?O(a):f.line!=g.line||1!=b.text.length||Qe(a.doc,b)?O(a,f.line,g.line+1,c):ma(a,f.line,"text");c=W(a,"changes");
if((d=W(a,"change"))||c)b={from:f,to:g,text:b.text,removed:b.removed,origin:b.origin},d&&Q(a,"change",a,b),c&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(b);a.display.selForContextMenu=null}function Va(a,b,c,d,e){d||(d=c);if(0>w(d,c)){var f=d;d=c;c=f}"string"==typeof b&&(b=a.splitLines(b));Pa(a,{from:c,to:d,text:b,origin:e})}function ac(a,b,c,d,e){var f=a.display,g=va(a.display);0>c&&(c=0);var h=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:f.scroller.scrollTop,k=Nc(a),l={};e-c>k&&(e=
c+k);var m=a.doc.height+Ec(f),s=c<g,g=e>m-g;c<h?l.scrollTop=s?0:c:e>h+k&&(c=Math.min(c,(g?m:e)-k),c!=h&&(l.scrollTop=c));h=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:f.scroller.scrollLeft;a=pa(a)-(a.options.fixedGutter?f.gutters.offsetWidth:0);(f=d-b>a)&&(d=b+a);10>b?l.scrollLeft=0:b<h?l.scrollLeft=Math.max(0,b-(f?0:10)):d>a+h-3&&(l.scrollLeft=d+(f?0:10)-a);return l}function kc(a,b,c){null==b&&null==c||lc(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+
b);null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+c)}function Qa(a){lc(a);var b=a.getCursor(),c=b,d=b;a.options.lineWrapping||(c=b.ch?q(b.line,b.ch-1):b,d=q(b.line,b.ch+1));a.curOp.scrollToPos={from:c,to:d,margin:a.options.cursorScrollMargin,isCursor:!0}}function lc(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=se(a,b.from),d=se(a,b.to),b=ac(a,Math.min(c.left,d.left),Math.min(c.top,d.top)-b.margin,Math.max(c.right,d.right),Math.max(c.bottom,
d.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function pb(a,b,c,d){var e=a.doc,f;null==c&&(c="add");"smart"==c&&(e.mode.indent?f=sb(a,b):c="prev");var g=a.options.tabSize,h=t(e,b),k=aa(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var l=h.text.match(/^\s*/)[0],m;if(!d&&!/\S/.test(h.text))m=0,c="not";else if("smart"==c&&(m=e.mode.indent(f,h.text.slice(l.length),h.text),m==Ee||150<m)){if(!d)return;c="prev"}"prev"==c?m=b>e.first?aa(t(e,b-1).text,null,g):0:"add"==c?m=k+a.options.indentUnit:
"subtract"==c?m=k-a.options.indentUnit:"number"==typeof c&&(m=k+c);m=Math.max(0,m);c="";d=0;if(a.options.indentWithTabs)for(a=Math.floor(m/g);a;--a)d+=g,c+="\t";d<m&&(c+=Re(m-d));if(c!=l)return Va(e,c,q(b,0),q(b,l.length),"+input"),h.stateAfter=null,!0;for(a=0;a<e.sel.ranges.length;a++)if(g=e.sel.ranges[a],g.head.line==b&&g.head.ch<l.length){d=q(b,l.length);Wc(e,a,new y(d,d));break}}function mc(a,b,c,d){var e=b,f=b;"number"==typeof b?f=t(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):e=E(b);if(null==
e)return null;d(f,e)&&a.cm&&ma(a.cm,e,c);return f}function Wa(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&0>=w(f.from,z(d).to);){var g=d.pop();if(0>w(g.from,f.from)){f.from=g.from;break}}d.push(f)}R(a,function(){for(var b=d.length-1;0<=b;b--)Va(a.doc,"",d[b].from,d[b].to,"+delete");Qa(a)})}function qd(a,b,c,d,e){function f(b){var d=(e?gd:Se)(l,h,c,!0);if(null==d){if(b=!b)b=g+c,b<a.first||b>=a.first+a.size?b=!1:(g=b,b=l=t(a,b));if(b)h=e?(0>c?$b:Zb)(l):0>c?l.text.length:
0;else return!1}else h=d;return!0}var g=b.line,h=b.ch,k=c,l=t(a,g);if("char"==d)f();else if("column"==d)f(!0);else if("word"==d||"group"==d){var m=null;d="group"==d;for(var s=a.cm&&a.cm.getHelper(b,"wordChars"),p=!0;!(0>c)||f(!p);p=!1){var n=l.text.charAt(h)||"\n",n=nc(n,s)?"w":d&&"\n"==n?"n":!d||/\s/.test(n)?null:"p";!d||p||n||(n="s");if(m&&m!=n){0>c&&(c=1,f());break}n&&(m=n);if(0<c&&!f(!p))break}}k=Xc(a,q(g,h),b,k,!0);w(b,k)||(k.hitSide=!0);return k}function Te(a,b,c,d){var e=a.doc,f=b.left,g;"page"==
d?(g=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),g=b.top+c*(g-(0>c?1.5:.5)*va(a.display))):"line"==d&&(g=0<c?b.bottom+3:b.top-3);for(;;){b=fd(a,f,g);if(!b.outside)break;if(0>c?0>=g:g>=e.height){b.hitSide=!0;break}g+=5*c}return b}function v(a,b,c,d){n.defaults[a]=b;c&&(La[a]=d?function(a,b,d){d!=Ed&&c(a,b,d)}:c)}function cg(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,d,e,f,g=0;g<b.length-1;g++){var h=b[g];if(/^(cmd|meta|m)$/i.test(h))f=
!0;else if(/^a(lt)?$/i.test(h))c=!0;else if(/^(c|ctrl|control)$/i.test(h))d=!0;else if(/^s(hift)$/i.test(h))e=!0;else throw Error("Unrecognized modifier name: "+h);}c&&(a="Alt-"+a);d&&(a="Ctrl-"+a);f&&(a="Cmd-"+a);e&&(a="Shift-"+a);return a}function oc(a){return"string"==typeof a?ta[a]:a}function Xa(a,b,c,d,e){if(d&&d.shared)return dg(a,b,c,d,e);if(a.cm&&!a.cm.curOp)return G(a.cm,Xa)(a,b,c,d,e);var f=new Ha(a,e);e=w(b,c);d&&X(d,f,!1);if(0<e||0==e&&!1!==f.clearWhenEmpty)return f;f.replacedWith&&(f.collapsed=
!0,f.widgetNode=r("span",[f.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||f.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(f.widgetNode.insertLeft=!0));if(f.collapsed){if(Ue(a,b.line,b,c,f)||b.line!=c.line&&Ue(a,c.line,b,c,f))throw Error("Inserting collapsed marker partially overlapping an existing one");ra=!0}f.addToHistory&&Me(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var g=b.line,h=a.cm,k;a.iter(g,c.line+1,function(a){h&&f.collapsed&&!h.options.lineWrapping&&ia(a)==
h.display.maxLine&&(k=!0);f.collapsed&&g!=b.line&&ca(a,0);var d=new pc(f,g==b.line?b.ch:null,g==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([d]):[d];d.marker.attachLine(a);++g});f.collapsed&&a.iter(b.line,c.line+1,function(b){wa(a,b)&&ca(b,0)});f.clearOnEnter&&u(f,"beforeCursorEnter",function(){f.clear()});f.readOnly&&(Ke=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());f.collapsed&&(f.id=++rd,f.atomic=!0);if(h){k&&(h.curOp.updateMaxLine=!0);if(f.collapsed)O(h,
b.line,c.line+1);else if(f.className||f.title||f.startStyle||f.endStyle||f.css)for(d=b.line;d<=c.line;d++)ma(h,d,"text");f.atomic&&ie(h.doc);Q(h,"markerAdded",h,f)}return f}function dg(a,b,c,d,e){d=X(d);d.shared=!1;var f=[Xa(a,b,c,d,e)],g=f[0],h=d.widgetNode;Ga(a,function(a){h&&(d.widgetNode=h.cloneNode(!0));f.push(Xa(a,x(a,b),x(a,c),d,e));for(var l=0;l<a.linked.length;++l)if(a.linked[l].isParent)return;g=z(f)});return new qc(f,g)}function Ve(a){return a.findMarks(q(a.first,0),a.clipPos(q(a.lastLine())),
function(a){return a.parent})}function eg(a){for(var b=0;b<a.length;b++){var c=a[b],d=[c.primary.doc];Ga(c.primary.doc,function(a){d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==D(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}}}function pc(a,b,c){this.marker=a;this.from=b;this.to=c}function yb(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function nd(a,b){if(b.full)return null;var c=qb(a,b.from.line)&&t(a,b.from.line).markedSpans,d=qb(a,b.to.line)&&
t(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==w(b.from,b.to);if(c)for(var h=0,k;h<c.length;++h){var l=c[h],m=l.marker;if(null==l.from||(m.inclusiveLeft?l.from<=e:l.from<e)||!(l.from!=e||"bookmark"!=m.type||g&&l.marker.insertLeft)){var s=null==l.to||(m.inclusiveRight?l.to>=e:l.to>e);(k||(k=[])).push(new pc(m,l.from,s?null:l.to))}}c=k;if(d)for(var h=0,p;h<d.length;++h)if(k=d[h],l=k.marker,null==k.to||(l.inclusiveRight?k.to>=f:k.to>f)||k.from==f&&"bookmark"==l.type&&
(!g||k.marker.insertLeft))m=null==k.from||(l.inclusiveLeft?k.from<=f:k.from<f),(p||(p=[])).push(new pc(l,m?null:k.from-f,null==k.to?null:k.to-f));d=p;g=1==b.text.length;p=z(b.text).length+(g?e:0);if(c)for(f=0;f<c.length;++f)if(h=c[f],null==h.to)(k=yb(d,h.marker),k)?g&&(h.to=null==k.to?null:k.to+p):h.to=e;if(d)for(f=0;f<d.length;++f)h=d[f],null!=h.to&&(h.to+=p),null==h.from?(k=yb(c,h.marker),k||(h.from=p,g&&(c||(c=[])).push(h))):(h.from+=p,g&&(c||(c=[])).push(h));c&&(c=We(c));d&&d!=c&&(d=We(d));e=
[c];if(!g){var g=b.text.length-2,n;if(0<g&&c)for(f=0;f<c.length;++f)null==c[f].to&&(n||(n=[])).push(new pc(c[f].marker,null,null));for(f=0;f<g;++f)e.push(n);e.push(d)}return e}function We(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function Oe(a,b){var c;if(c=b["spans_"+a.id]){for(var d=0,e=[];d<b.text.length;++d)e.push(fg(c[d]));c=e}else c=null;d=nd(a,b);if(!c)return d;if(!d)return c;for(e=0;e<c.length;++e){var f=
c[e],g=d[e];if(f&&g){var h=0;a:for(;h<g.length;++h){for(var k=g[h],l=0;l<f.length;++l)if(f[l].marker==k.marker)continue a;f.push(k)}}else g&&(c[e]=g)}return c}function ag(a,b,c){var d=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=D(d,c)||(d||(d=[])).push(c)}});if(!d)return null;a=[{from:b,to:c}];for(b=0;b<d.length;++b){c=d[b];for(var e=c.find(0),f=0;f<a.length;++f){var g=a[f];if(!(0>w(g.to,e.from)||
0<w(g.from,e.to))){var h=[f,1],k=w(g.from,e.from),l=w(g.to,e.to);(0>k||!c.inclusiveLeft&&!k)&&h.push({from:g.from,to:e.from});(0<l||!c.inclusiveRight&&!l)&&h.push({from:e.to,to:g.to});a.splice.apply(a,h);f+=h.length-1}}}return a}function Xe(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Ye(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Ze(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;
var c=a.find(),d=b.find(),e=w(c.from,d.from)||(a.inclusiveLeft?-1:0)-(b.inclusiveLeft?-1:0);return e?-e:(c=w(c.to,d.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?c:b.id-a.id}function ya(a,b){var c=ra&&a.markedSpans,d;if(c)for(var e,f=0;f<c.length;++f)e=c[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!d||0>Ze(d,e.marker))&&(d=e.marker);return d}function Ue(a,b,c,d,e){a=t(a,b);if(a=ra&&a.markedSpans)for(b=0;b<a.length;++b){var f=a[b];if(f.marker.collapsed){var g=f.marker.find(0),h=w(g.from,c)||
(f.marker.inclusiveLeft?-1:0)-(e.inclusiveLeft?-1:0),k=w(g.to,d)||(f.marker.inclusiveRight?1:0)-(e.inclusiveRight?1:0);if(!(0<=h&&0>=k||0>=h&&0<=k)&&(0>=h&&(0<w(g.to,c)||f.marker.inclusiveRight&&e.inclusiveLeft)||0<=h&&(0>w(g.from,d)||f.marker.inclusiveLeft&&e.inclusiveRight)))return!0}}}function ia(a){for(var b;b=ya(a,!0);)a=b.find(-1,!0).line;return a}function Mc(a,b){var c=t(a,b),d=ia(c);return c==d?b:E(d)}function Kd(a,b){if(b>a.lastLine())return b;var c=t(a,b),d;if(!wa(a,c))return b;for(;d=ya(c,
!1);)c=d.find(1,!0).line;return E(c)+1}function wa(a,b){var c=ra&&b.markedSpans;if(c)for(var d,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed&&(null==d.from||!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&sd(a,b,d)))return!0}function sd(a,b,c){if(null==c.to)return b=c.marker.find(1,!0),sd(a,b.line,yb(b.line.markedSpans,c.marker));if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var d,e=0;e<b.markedSpans.length;++e)if(d=b.markedSpans[e],d.marker.collapsed&&!d.marker.widgetNode&&
d.from==c.to&&(null==d.to||d.to!=c.from)&&(d.marker.inclusiveLeft||c.marker.inclusiveRight)&&sd(a,b,d))return!0}function ub(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!Vc(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+b.display.gutters.offsetWidth+"px;");a.noHScroll&&(c+="width: "+b.display.wrapper.clientWidth+"px;");S(b.display.measure,r("div",[a.node],null,c))}return a.height=a.node.parentNode.offsetHeight}function gg(a,b,c,d){var e=
new rc(a,c,d),f=a.cm;f&&e.noHScroll&&(f.display.alignWidgets=!0);mc(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e);e.line=b;f&&!wa(a,b)&&(c=ea(b)<a.scrollTop,ca(b,b.height+ub(e)),c&&kc(f,null,e.height),f.curOp.forceUpdate=!0);return!0});return e}function $e(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":
"textClass";null==b[d]?b[d]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(b[d])||(b[d]+=" "+c[2])}return a}function af(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=n.innerMode(a,b);if(c.mode.blankLine)return c.mode.blankLine(c.state)}}function td(a,b,c,d){for(var e=0;10>e;e++){d&&(d[0]=n.innerMode(a,c).mode);var f=a.token(b,c);if(b.pos>b.start)return f}throw Error("Mode "+a.name+" failed to advance stream.");}function bf(a,b,c,d){function e(a){return{start:m.start,end:m.pos,
string:m.current(),type:h||null,state:a?sa(f.mode,l):l}}var f=a.doc,g=f.mode,h;b=x(f,b);var k=t(f,b.line),l=sb(a,b.line,c),m=new sc(k.text,a.options.tabSize),s;for(d&&(s=[]);(d||m.pos<b.ch)&&!m.eol();)m.start=m.pos,h=td(g,m,l),d&&s.push(e(!0));return d?s:e()}function cf(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var k=0,l=null,m=new sc(b,a.options.tabSize),s,p=a.options.addModeClass&&[null];for(""==b&&$e(af(c,d),f);!m.eol();){m.pos>a.options.maxHighlightLength?(h=!1,g&&
Zc(a,b,d,m.pos),m.pos=b.length,s=null):s=$e(td(c,m,d,p),f);if(p){var n=p[0].name;n&&(s="m-"+(s?n+" "+s:n))}if(!h||l!=s){for(;k<m.start;)k=Math.min(m.start,k+5E4),e(k,l);l=s}m.start=m.pos}for(;k<m.pos;)a=Math.min(m.pos,k+5E4),e(a,l),k=a}function ne(a,b,c,d){var e=[a.state.modeGen],f={};cf(a,b.text,a.doc.mode,c,function(a,b){e.push(a,b)},f,d);for(c=0;c<a.state.overlays.length;++c){var g=a.state.overlays[c],h=1,k=0;cf(a,b.text,g.mode,!0,function(a,b){for(var c=h;k<a;){var d=e[h];d>a&&e.splice(h,1,a,
e[h+1],d);h+=2;k=Math.min(a,d)}if(b)if(g.opaque)e.splice(c,h-c,a,"cm-overlay "+b),h=c+2;else for(;c<h;c+=2)d=e[c+1],e[c+1]=(d?d+" ":"")+"cm-overlay "+b},f)}return{styles:e,classes:f.bgClass||f.textClass?f:null}}function df(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=sb(a,E(b)),e=ne(a,b,b.text.length>a.options.maxHighlightLength?sa(a.doc.mode,d):d);b.stateAfter=d;b.styles=e.styles;e.classes?b.styleClasses=e.classes:b.styleClasses&&(b.styleClasses=null);c===a.doc.frontier&&a.doc.frontier++}return b.styles}
function Zc(a,b,c,d){var e=a.doc.mode;a=new sc(b,a.options.tabSize);a.start=a.pos=d||0;for(""==b&&af(e,c);!a.eol();)td(e,a,c),a.start=a.pos}function ef(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?hg:ig;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$\x26"))}function Rd(a,b){var c=r("span",null,null,K?"padding-right: .1px":null),c={pre:r("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:a,splitSpaces:(A||K)&&a.getOption("lineWrapping")};b.measure={};for(var d=0;d<=(b.rest?b.rest.length:
0);d++){var e=d?b.rest[d-1]:b.line,f;c.pos=0;c.addToken=jg;var g;if(null!=ud)g=ud;else{g=S(a.display.measure,document.createTextNode("AخA"));var h=Ca(g,0,1).getBoundingClientRect();g=h&&h.left!=h.right?ud=3>Ca(g,1,2).getBoundingClientRect().right-h.right:!1}g&&(f=Z(e))&&(c.addToken=kg(c.addToken,f));c.map=[];h=b!=a.display.externalMeasured&&E(e);a:{g=c;var h=df(a,e,h),k=e.markedSpans,l=e.text,m=0;if(k)for(var s=l.length,p=0,n=1,q="",t=void 0,u=void 0,v=0,w=void 0,x=void 0,z=void 0,C=void 0,y=void 0;;){if(v==
p){for(var w=x=z=C=u="",y=null,v=Infinity,G=[],H,B=0;B<k.length;++B){var I=k[B],D=I.marker;"bookmark"==D.type&&I.from==p&&D.widgetNode?G.push(D):I.from<=p&&(null==I.to||I.to>p||D.collapsed&&I.to==p&&I.from==p)?(null!=I.to&&I.to!=p&&v>I.to&&(v=I.to,x=""),D.className&&(w+=" "+D.className),D.css&&(u=(u?u+";":"")+D.css),D.startStyle&&I.from==p&&(z+=" "+D.startStyle),D.endStyle&&I.to==v&&(H||(H=[])).push(D.endStyle,I.to),D.title&&!C&&(C=D.title),D.collapsed&&(!y||0>Ze(y.marker,D))&&(y=I)):I.from>p&&v>
I.from&&(v=I.from)}if(H)for(B=0;B<H.length;B+=2)H[B+1]==v&&(x+=" "+H[B]);if(!y||y.from==p)for(B=0;B<G.length;++B)ff(g,0,G[B]);if(y&&(y.from||0)==p){ff(g,(null==y.to?s+1:y.to)-p,y.marker,null==y.from);if(null==y.to)break a;y.to==p&&(y=!1)}}if(p>=s)break;for(G=Math.min(s,v);;){if(q){B=p+q.length;y||(I=B>G?q.slice(0,G-p):q,g.addToken(g,I,t?t+w:w,z,p+I.length==v?x:"",C,u));if(B>=G){q=q.slice(G-p);p=G;break}p=B;z=""}q=l.slice(m,m=h[n++]);t=ef(h[n++],g.cm.options)}}else for(var n=1;n<h.length;n+=2)g.addToken(g,
l.slice(m,m=h[n]),ef(h[n+1],g.cm.options))}e.styleClasses&&(e.styleClasses.bgClass&&(c.bgClass=vd(e.styleClasses.bgClass,c.bgClass||"")),e.styleClasses.textClass&&(c.textClass=vd(e.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(lg(a.display.measure)));0==d?(b.measure.map=c.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(c.map),(b.measure.caches||(b.measure.caches=[])).push({}))}K&&/\bcm-tab\b/.test(c.content.lastChild.className)&&
(c.content.className="cm-tab-wrap-hack");J(a,"renderLine",a,b.line,c.pre);c.pre.className&&(c.textClass=vd(c.pre.className,c.textClass||""));return c}function jg(a,b,c,d,e,f,g){if(b){var h=a.splitSpaces?b.replace(/ {3,}/g,mg):b,k=a.cm.state.specialChars,l=!1;if(k.test(b))for(var m=document.createDocumentFragment(),s=0;;){k.lastIndex=s;var p=k.exec(b),n=p?p.index-s:b.length-s;if(n){var q=document.createTextNode(h.slice(s,s+n));A&&9>C?m.appendChild(r("span",[q])):m.appendChild(q);a.map.push(a.pos,a.pos+
n,q);a.col+=n;a.pos+=n}if(!p)break;s+=n+1;"\t"==p[0]?(q=a.cm.options.tabSize,p=q-a.col%q,q=m.appendChild(r("span",Re(p),"cm-tab")),q.setAttribute("role","presentation"),q.setAttribute("cm-text","\t"),a.col+=p):("\r"==p[0]||"\n"==p[0]?(q=m.appendChild(r("span","\r"==p[0]?"␍":"␤","cm-invalidchar")),q.setAttribute("cm-text",p[0])):(q=a.cm.options.specialCharPlaceholder(p[0]),q.setAttribute("cm-text",p[0]),A&&9>C?m.appendChild(r("span",[q])):m.appendChild(q)),a.col+=1);a.map.push(a.pos,a.pos+1,q);a.pos++}else{a.col+=
b.length;var m=document.createTextNode(h);a.map.push(a.pos,a.pos+b.length,m);A&&9>C&&(l=!0);a.pos+=b.length}if(c||d||e||l||g)return b=c||"",d&&(b+=d),e&&(b+=e),d=r("span",[m],b,g),f&&(d.title=f),a.content.appendChild(d);a.content.appendChild(m)}}function mg(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":" ";return b+" "}function kg(a,b){return function(c,d,e,f,g,h,k){e=e?e+" cm-force-border":"cm-force-border";for(var l=c.pos,m=l+d.length;;){for(var s=0;s<b.length;s++){var p=b[s];if(p.to>l&&p.from<=
l)break}if(p.to>=m)return a(c,d,e,f,g,h,k);a(c,d.slice(0,p.to-l),e,f,null,h,k);f=null;d=d.slice(p.to-l);l=p.to}}}function ff(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e);!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement("span"))),e.setAttribute("cm-marker",c.id));e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e));a.pos+=b}function Qe(a,b){return 0==b.from.ch&&0==b.to.ch&&""==z(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}
function pd(a,b,c,d){function e(a,c,e){a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null);null!=a.order&&(a.order=null);Xe(a);Ye(a,e);c=d?d(a):1;c!=a.height&&ca(a,c);Q(a,"change",a,b)}function f(a,b){for(var e=a,f=[];e<b;++e)f.push(new zb(k[e],c?c[e]:null,d));return f}var g=b.from,h=b.to,k=b.text,l=t(a,g.line),m=t(a,h.line),s=z(k),p=c?c[k.length-1]:null,n=h.line-g.line;if(b.full)a.insert(0,f(0,k.length)),a.remove(k.length,a.size-k.length);else if(Qe(a,b)){var q=f(0,k.length-1);e(m,
m.text,p);n&&a.remove(g.line,n);q.length&&a.insert(g.line,q)}else l==m?1==k.length?e(l,l.text.slice(0,g.ch)+s+l.text.slice(h.ch),p):(q=f(1,k.length-1),q.push(new zb(s+l.text.slice(h.ch),p,d)),e(l,l.text.slice(0,g.ch)+k[0],c?c[0]:null),a.insert(g.line+1,q)):1==k.length?(e(l,l.text.slice(0,g.ch)+k[0]+m.text.slice(h.ch),c?c[0]:null),a.remove(g.line+1,n)):(e(l,l.text.slice(0,g.ch)+k[0],c?c[0]:null),e(m,s+m.text.slice(h.ch),p),q=f(1,k.length-1),1<n&&a.remove(g.line+1,n-1),a.insert(g.line+1,q));Q(a,"change",
a,b)}function Ab(a){this.lines=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,c+=a[b].height;this.height=c}function Bb(a){this.children=a;for(var b=0,c=0,d=0;d<a.length;++d){var e=a[d],b=b+e.chunkSize(),c=c+e.height;e.parent=this}this.size=b;this.height=c;this.parent=null}function Ga(a,b,c){function d(a,f,g){if(a.linked)for(var h=0;h<a.linked.length;++h){var k=a.linked[h];if(k.doc!=f){var l=g&&k.sharedHist;if(!c||l)b(k.doc,l),d(k.doc,a,l)}}}d(a,null,!0)}function Dd(a,b){if(b.cm)throw Error("This document is already in use.");
a.doc=b;b.cm=a;Ac(a);zc(a);a.options.lineWrapping||Dc(a);a.options.mode=b.modeOption;O(a)}function t(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(b<f){c=e;break}b-=f}return c.lines[b]}function Ba(a,b,c){var d=[],e=b.line;a.iter(b.line,c.line+1,function(a){a=a.text;e==c.line&&(a=a.slice(0,c.ch));e==b.line&&(a=a.slice(b.ch));d.push(a);++e});return d}function wd(a,b,c){var d=
[];a.iter(b,c,function(a){d.push(a.text)});return d}function ca(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function E(a){if(null==a.parent)return null;var b=a.parent;a=D(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();return a+b.first}function za(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(b<f){a=e;continue a}b-=f;c+=e.chunkSize()}return c}while(!a.lines);for(d=0;d<
a.lines.length;++d){e=a.lines[d].height;if(b<e)break;b-=e}return c+d}function ea(a){a=ia(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;else b+=e.height}for(a=c.parent;a;c=a,a=c.parent)for(d=0;d<a.children.length&&(e=a.children[d],e!=c);++d)b+=e.height;return b}function Z(a){var b=a.order;null==b&&(b=a.order=ng(a.text));return b}function tc(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=
this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function od(a,b){var c={from:Rc(b.from),to:Fa(b),text:Ba(a,b.from,b.to)};gf(a,c,b.from.line,b.to.line+1);Ga(a,function(a){gf(a,c,b.from.line,b.to.line+1)},!0);return c}function ee(a){for(;a.length;)if(z(a).ranges)a.pop();else break}function Me(a,b,c,d){var e=a.history;e.undone.length=0;var f=+new Date,g,h;if(h=e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&e.lastModTime>f-a.cm.options.historyEventDelay||
"*"==b.origin.charAt(0)))e.lastOp==d?(ee(e.done),g=z(e.done)):e.done.length&&!z(e.done).ranges?g=z(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),g=z(e.done)):g=void 0,h=g;if(h){var k=z(g.changes);0==w(b.from,b.to)&&0==w(b.from,k.to)?k.to=Fa(b):g.changes.push(od(a,b))}else for((g=z(e.done))&&g.ranges||Vb(a.sel,e.done),g={changes:[od(a,b)],generation:e.generation},e.done.push(g);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift();e.done.push(c);e.generation=
++e.maxGeneration;e.lastModTime=e.lastSelTime=f;e.lastOp=e.lastSelOp=d;e.lastOrigin=e.lastSelOrigin=b.origin;k||J(a,"historyAdded")}function Vb(a,b){var c=z(b);c&&c.ranges&&c.equals(a)||b.push(a)}function gf(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans);++f})}function fg(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);
return c?c.length?c:null:a}function Ya(a,b,c){for(var d=0,e=[];d<a.length;++d){var f=a[d];if(f.ranges)e.push(c?ka.prototype.deepCopy.call(f):f);else{var f=f.changes,g=[];e.push({changes:g});for(var h=0;h<f.length;++h){var k=f[h],l;g.push({from:k.from,to:k.to,text:k.text});if(b)for(var m in k)(l=m.match(/^spans_(\d+)$/))&&-1<D(b,Number(l[1]))&&(z(g)[m]=k[m],delete k[m])}}}return e}function hf(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function jf(a,b,c,d){for(var e=0;e<a.length;++e){var f=
a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)hf(f.ranges[h].anchor,b,c,d),hf(f.ranges[h].head,b,c,d)}else{for(h=0;h<f.changes.length;++h){var k=f.changes[h];if(c<k.from.line)k.from=q(k.from.line+d,k.from.ch),k.to=q(k.to.line+d,k.to.ch);else if(b<=k.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Ne(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;jf(a.done,c,d,e);jf(a.undone,c,d,e)}function kd(a){return null!=a.defaultPrevented?
a.defaultPrevented:0==a.returnValue}function Be(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Y&&a.ctrlKey&&1==b&&(b=3);return b}function uc(a,b,c){a=a._handlers&&a._handlers[b];return c?a&&0<a.length?a.slice():kf:a||kf}function Q(a,b){function c(a){return function(){a.apply(null,e)}}var d=uc(a,b,!1);if(d.length){var e=Array.prototype.slice.call(arguments,2),f;Ua?f=Ua.delayedCallbacks:Cb?f=Cb:(f=Cb=[],setTimeout(og,0));for(var g=0;g<d.length;++g)f.push(c(d[g]))}}function og(){var a=
Cb;Cb=null;for(var b=0;b<a.length;++b)a[b]()}function B(a,b,c){"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}});J(a,c||b.type,a,b);return kd(b)||b.codemirrorIgnore}function he(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var c=0;c<b.length;++c)-1==D(a,b[c])&&a.push(b[c])}}function W(a,b){return 0<uc(a,b).length}function Za(a){a.prototype.on=function(a,c){u(this,a,c)};a.prototype.off=
function(a,c){ja(this,a,c)}}function ua(){this.id=null}function Re(a){for(;vc.length<=a;)vc.push(z(vc)+" ");return vc[a]}function z(a){return a[a.length-1]}function D(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function Qb(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function Db(){}function lf(a,b){var c;Object.create?c=Object.create(a):(Db.prototype=a,c=new Db);b&&X(b,c);return c}function X(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||!1===c&&b.hasOwnProperty(d)||
(b[d]=a[d]);return b}function cb(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function nc(a,b){return b?-1<b.source.indexOf("\\w")&&mf(a)?!0:b.test(a):mf(a)}function nf(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function tb(a){return 768<=a.charCodeAt(0)&&pg.test(a)}function r(a,b,c,d){a=document.createElement(a);c&&(a.className=c);d&&(a.style.cssText=d);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=
0;c<b.length;++c)a.appendChild(b[c]);return a}function xa(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function S(a,b){return xa(a).appendChild(b)}function fa(){for(var a=document.activeElement;a&&a.root&&a.root.activeElement;)a=a.root.activeElement;return a}function Eb(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function vd(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)c[d]&&!Eb(c[d]).test(b)&&(b+=" "+c[d]);return b}function of(a){if(document.body.getElementsByClassName)for(var b=
document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var d=b[c].CodeMirror;d&&a(d)}}function zf(){var a;u(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;of(Pf)},100))});u(window,"blur",function(){of(db)})}function lg(a){if(null==xd){var b=r("span","​");S(a,r("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(xd=1>=b.offsetWidth&&2<b.offsetHeight&&!(A&&8>C))}a=xd?r("span","​"):r("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");
a.setAttribute("cm-text","");return a}function Gf(a,b,c,d){if(!a)return d(b,c,"ltr");for(var e=!1,f=0;f<a.length;++f){var g=a[f];if(g.from<c&&g.to>b||b==c&&g.to==b)d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr"),e=!0}e||d(b,c,"ltr")}function dd(a){return a.level%2?a.to:a.from}function ed(a){return a.level%2?a.from:a.to}function Zb(a){return(a=Z(a))?dd(a[0]):0}function $b(a){var b=Z(a);return b?ed(z(b)):a.text.length}function pf(a,b){var c=t(a.doc,b),d=ia(c);d!=c&&(b=E(d));d=(c=Z(d))?
c[0].level%2?$b(d):Zb(d):0;return q(b,d)}function qf(a,b){var c=pf(a,b.line),d=t(a.doc,c.line),e=Z(d);return e&&0!=e[0].level?c:(d=Math.max(0,d.text.search(/\S/)),q(c.line,b.line==c.line&&b.ch<=d&&b.ch?0:d))}function Rb(a,b){vb=null;for(var c=0,d;c<a.length;++c){var e=a[c];if(e.from<b&&e.to>b)return c;if(e.from==b||e.to==b)if(null==d)d=c;else{var f;f=e.level;var g=a[d].level,h=a[0].level;f=f==h?!0:g==h?!1:f<g;if(f)return e.from!=e.to&&(vb=d),c;e.from!=e.to&&(vb=c);break}}return d}function yd(a,b,
c,d){if(!d)return b+c;do b+=c;while(0<b&&tb(a.text.charAt(b)));return b}function gd(a,b,c,d){var e=Z(a);if(!e)return Se(a,b,c,d);var f=Rb(e,b),g=e[f];for(b=yd(a,b,g.level%2?-c:c,d);;){if(b>g.from&&b<g.to)return b;if(b==g.from||b==g.to){if(Rb(e,b)==f)return b;g=e[f+c];return 0<c==g.level%2?g.to:g.from}g=e[f+=c];if(!g)return null;b=0<c==g.level%2?yd(a,g.to,-1,d):yd(a,g.from,1,d)}}function Se(a,b,c,d){b+=c;if(d)for(;0<b&&tb(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var U=navigator.userAgent,
rf=navigator.platform,oa=/gecko\/\d/i.test(U),sf=/MSIE \d/.test(U),tf=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(U),A=sf||tf,C=A&&(sf?document.documentMode||6:tf[1]),K=/WebKit\//.test(U),qg=K&&/Qt\/\d+\.\d+/.test(U),rg=/Chrome\//.test(U),ba=/Opera\//.test(U),we=/Apple Computer/.test(navigator.vendor),sg=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(U),Mf=/PhantomJS/.test(U),Ra=/AppleWebKit/.test(U)&&/Mobile\/\w+/.test(U),bb=Ra||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(U),Y=Ra||/Mac/.test(rf),
tg=/win/i.test(rf),Ia=ba&&U.match(/Version\/(\d*\.\d*)/);Ia&&(Ia=Number(Ia[1]));Ia&&15<=Ia&&(ba=!1,K=!0);var uf=Y&&(qg||ba&&(null==Ia||12.11>Ia)),id=oa||A&&9<=C,Ke=!1,ra=!1;Fc.prototype=X({update:function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=b?d+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?d:0)))+"px"):(this.vert.style.display="",
this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?d:0))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:c?d:0,bottom:b?d:0}},setScrollLeft:function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=
a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){this.horiz.style.height=this.vert.style.width=Y&&!sg?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new ua;this.disableVert=new ua},enableZeroWidthBar:function(a,b){function c(){var d=a.getBoundingClientRect();
document.elementFromPoint(d.left+1,d.bottom-1)!=a?a.style.pointerEvents="none":b.set(1E3,c)}a.style.pointerEvents="auto";b.set(1E3,c)},clear:function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)}},Fc.prototype);Gc.prototype=X({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},Gc.prototype);n.scrollbarModel={"native":Fc,"null":Gc};Lb.prototype.signal=function(a,b){W(a,b)&&this.events.push(arguments)};
Lb.prototype.finish=function(){for(var a=0;a<this.events.length;a++)J.apply(null,this.events[a])};var q=n.Pos=function(a,b){if(!(this instanceof q))return new q(a,b);this.line=a;this.ch=b},w=n.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},V=null;Sc.prototype=X({init:function(a){function b(a){if(!B(d,a)){if(d.somethingSelected())V=d.getSelections(),c.inaccurateSelection&&(c.prevInput="",c.inaccurateSelection=!1,f.value=V.join("\n"),$a(f));else if(d.options.lineWiseCopyCut){var b=Wd(d);V=b.text;
"cut"==a.type?d.setSelections(b.ranges,null,ha):(c.prevInput="",f.value=b.text.join("\n"),$a(f))}else return;"cut"==a.type&&(d.state.cutIncoming=!0)}}var c=this,d=this.cm,e=this.wrapper=Yd(),f=this.textarea=e.firstChild;a.wrapper.insertBefore(e,a.wrapper.firstChild);Ra&&(f.style.width="0px");u(f,"input",function(){A&&9<=C&&c.hasSelection&&(c.hasSelection=null);c.poll()});u(f,"paste",function(a){B(d,a)||Vd(a,d)||(d.state.pasteIncoming=!0,c.fastPoll())});u(f,"cut",b);u(f,"copy",b);u(a.scroller,"paste",
function(b){na(a,b)||B(d,b)||(d.state.pasteIncoming=!0,c.focus())});u(a.lineSpace,"selectstart",function(b){na(a,b)||N(b)});u(f,"compositionstart",function(){var a=d.getCursor("from");c.composing&&c.composing.range.clear();c.composing={start:a,range:d.markText(a,d.getCursor("to"),{className:"CodeMirror-composing"})}});u(f,"compositionend",function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},prepareSelection:function(){var a=this.cm,b=a.display,c=a.doc,d=ke(a);if(a.options.moveInputWithCursor){var a=
la(a,c.sel.primary().head,"div"),c=b.wrapper.getBoundingClientRect(),e=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+e.top-c.top));d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+e.left-c.left))}return d},showSelection:function(a){var b=this.cm.display;S(b.cursorDiv,a.cursors);S(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},reset:function(a){if(!this.contextMenuPending){var b,
c,d=this.cm,e=d.doc;d.somethingSelected()?(this.prevInput="",b=e.sel.primary(),c=(b=Ge&&(100<b.to().line-b.from().line||1E3<(c=d.getSelection()).length))?"-":c||d.getSelection(),this.textarea.value=c,d.state.focused&&$a(this.textarea),A&&9<=C&&(this.hasSelection=c)):a||(this.prevInput=this.textarea.value="",A&&9<=C&&(this.hasSelection=null));this.inaccurateSelection=b}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&
(!bb||fa()!=this.textarea))try{this.textarea.focus()}catch(a){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var a=this;a.pollingFast||a.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})},fastPoll:function(){function a(){c.poll()||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0;
c.polling.set(20,a)},poll:function(){var a=this.cm,b=this.textarea,c=this.prevInput;if(this.contextMenuPending||!a.state.focused||ug(b)&&!c&&!this.composing||a.isReadOnly()||a.options.disableInput||a.state.keySeq)return!1;var d=b.value;if(d==c&&!a.somethingSelected())return!1;if(A&&9<=C&&this.hasSelection===d||Y&&/[\uf700-\uf7ff]/.test(d))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var e=d.charCodeAt(0);8203!=e||c||(c="​");if(8666==e)return this.reset(),this.cm.execCommand("undo")}for(var f=
0,e=Math.min(c.length,d.length);f<e&&c.charCodeAt(f)==d.charCodeAt(f);)++f;var g=this;R(a,function(){Pb(a,d.slice(f),c.length-f,null,g.composing?"*compose":null);1E3<d.length||-1<d.indexOf("\n")?b.value=g.prevInput="":g.prevInput=d;g.composing&&(g.composing.range.clear(),g.composing.range=a.markText(g.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))});return!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){A&&9<=C&&(this.hasSelection=
null);this.fastPoll()},onContextMenu:function(a){function b(){if(null!=g.selectionStart){var a=e.somethingSelected(),b="​"+(a?g.value:"");g.value="⇚";g.value=b;d.prevInput=a?"":"​";g.selectionStart=1;g.selectionEnd=b.length;f.selForContextMenu=e.doc.sel}}function c(){d.contextMenuPending=!1;d.wrapper.style.position="relative";g.style.cssText=l;A&&9>C&&f.scrollbars.setScrollTop(f.scroller.scrollTop=k);if(null!=g.selectionStart){(!A||A&&9>C)&&b();var a=0,c=function(){f.selForContextMenu==e.doc.sel&&
0==g.selectionStart&&0<g.selectionEnd&&"​"==d.prevInput?G(e,hc.selectAll)(e):10>a++?f.detectingSelectAll=setTimeout(c,500):f.input.reset()};f.detectingSelectAll=setTimeout(c,200)}}var d=this,e=d.cm,f=e.display,g=d.textarea,h=Ea(e,a),k=f.scroller.scrollTop;if(h&&!ba){e.options.resetSelectionOnContextMenu&&-1==e.doc.sel.contains(h)&&G(e,H)(e.doc,ga(h),ha);var l=g.style.cssText;d.wrapper.style.position="absolute";g.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+
(a.clientX-5)+"px; z-index: 1000; background: "+(A?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(K)var m=window.scrollY;f.input.focus();K&&window.scrollTo(null,m);f.input.reset();e.somethingSelected()||(g.value=d.prevInput=" ");d.contextMenuPending=!0;f.selForContextMenu=e.doc.sel;clearTimeout(f.detectingSelectAll);A&&9<=C&&b();if(id){cc(a);var n=function(){ja(window,"mouseup",n);setTimeout(c,
20)};u(window,"mouseup",n)}else setTimeout(c,50)}},readOnlyChanged:function(a){a||this.reset()},setUneditable:Db,needsContentAttribute:!1},Sc.prototype);Tc.prototype=X({init:function(a){function b(a){if(!B(d,a)){if(d.somethingSelected())V=d.getSelections(),"cut"==a.type&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var b=Wd(d);V=b.text;"cut"==a.type&&d.operation(function(){d.setSelections(b.ranges,0,ha);d.replaceSelection("",null,"cut")})}else return;if(a.clipboardData&&!Ra)a.preventDefault(),
a.clipboardData.clearData(),a.clipboardData.setData("text/plain",V.join("\n"));else{var c=Yd();a=c.firstChild;d.display.lineSpace.insertBefore(c,d.display.lineSpace.firstChild);a.value=V.join("\n");var h=document.activeElement;$a(a);setTimeout(function(){d.display.lineSpace.removeChild(c);h.focus()},50)}}}var c=this,d=c.cm;a=c.div=a.lineDiv;Xd(a);u(a,"paste",function(a){B(d,a)||Vd(a,d)});u(a,"compositionstart",function(a){a=a.data;c.composing={sel:d.doc.sel,data:a,startData:a};if(a){var b=d.doc.sel.primary(),
g=d.getLine(b.head.line).indexOf(a,Math.max(0,b.head.ch-a.length));-1<g&&g<=b.head.ch&&(c.composing.sel=ga(q(b.head.line,g),q(b.head.line,g+a.length)))}});u(a,"compositionupdate",function(a){c.composing.data=a.data});u(a,"compositionend",function(a){var b=c.composing;b&&(a.data==b.startData||/\u200b/.test(a.data)||(b.data=a.data),setTimeout(function(){b.handled||c.applyComposition(b);c.composing==b&&(c.composing=null)},50))});u(a,"touchstart",function(){c.forceCompositionEnd()});u(a,"input",function(){c.composing||
!d.isReadOnly()&&c.pollContent()||R(c.cm,function(){O(d)})});u(a,"copy",b);u(a,"cut",b)},prepareSelection:function(){var a=ke(this.cm,!1);a.focus=this.cm.state.focused;return a},showSelection:function(a){a&&this.cm.display.view.length&&(a.focus&&this.showPrimarySelection(),this.showMultipleSelections(a))},showPrimarySelection:function(){var a=window.getSelection(),b=this.cm.doc.sel.primary(),c=Sb(this.cm,a.anchorNode,a.anchorOffset),d=Sb(this.cm,a.focusNode,a.focusOffset);if(!c||c.bad||!d||d.bad||
0!=w(Ob(c,d),b.from())||0!=w(Nb(c,d),b.to()))if(c=Zd(this.cm,b.from()),d=Zd(this.cm,b.to()),c||d){var e=this.cm.display.view,b=a.rangeCount&&a.getRangeAt(0);c?d||(d=e[e.length-1].measure,d=d.maps?d.maps[d.maps.length-1]:d.map,d={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}):c={node:e[0].measure.map[2],offset:0};try{var f=Ca(c.node,c.offset,d.offset,d.node)}catch(g){}f&&(!oa&&this.cm.state.focused?(a.collapse(c.node,c.offset),f.collapsed||a.addRange(f)):(a.removeAllRanges(),a.addRange(f)),
b&&null==a.anchorNode?a.addRange(b):oa&&this.startGracePeriod());this.rememberSelection()}},startGracePeriod:function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){a.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(a){S(this.cm.display.cursorDiv,a.cursors);S(this.cm.display.selectionDiv,a.selection)},rememberSelection:function(){var a=window.getSelection();this.lastAnchorNode=
a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset},selectionInEditor:function(){var a=window.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return Vc(this.div,a)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function a(){b.cm.state.focused&&
(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():R(this.cm,function(){b.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)},selectionChanged:function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var a=
window.getSelection(),b=this.cm;this.rememberSelection();var c=Sb(b,a.anchorNode,a.anchorOffset),d=Sb(b,a.focusNode,a.focusOffset);c&&d&&R(b,function(){H(b.doc,ga(c,d),ha);if(c.bad||d.bad)b.curOp.selectionChanged=!0})}},pollContent:function(){var a=this.cm,b=a.display,c=a.doc.sel.primary(),d=c.from(),c=c.to();if(d.line<b.viewFrom||c.line>b.viewTo-1)return!1;var e;d.line==b.viewFrom||0==(e=Aa(a,d.line))?(d=E(b.view[0].line),e=b.view[0].node):(d=E(b.view[e].line),e=b.view[e-1].node.nextSibling);var f=
Aa(a,c.line);f==b.view.length-1?(c=b.viewTo-1,b=b.lineDiv.lastChild):(c=E(b.view[f+1].line)-1,b=b.view[f+1].node.previousSibling);b=a.doc.splitLines(Df(a,e,b,d,c));for(e=Ba(a.doc,q(d,0),q(c,t(a.doc,c).text.length));1<b.length&&1<e.length;)if(z(b)==z(e))b.pop(),e.pop(),c--;else if(b[0]==e[0])b.shift(),e.shift(),d++;else break;for(var g=0,f=0,h=b[0],k=e[0],l=Math.min(h.length,k.length);g<l&&h.charCodeAt(g)==k.charCodeAt(g);)++g;h=z(b);k=z(e);for(l=Math.min(h.length-(1==b.length?g:0),k.length-(1==e.length?
g:0));f<l&&h.charCodeAt(h.length-f-1)==k.charCodeAt(k.length-f-1);)++f;b[b.length-1]=h.slice(0,h.length-f);b[0]=b[0].slice(g);d=q(d,g);c=q(c,e.length?z(e).length-f:0);if(1<b.length||b[0]||w(d,c))return Va(a.doc,b,d,c,"+input"),!0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(a){this.cm.isReadOnly()?
G(this.cm,O)(this.cm):a.data&&a.data!=a.startData&&G(this.cm,Pb)(this.cm,a.data,0,a.sel)},setUneditable:function(a){a.contentEditable="false"},onKeyPress:function(a){a.preventDefault();this.cm.isReadOnly()||G(this.cm,Pb)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0)},readOnlyChanged:function(a){this.div.contentEditable=String("nocursor"!=a)},onContextMenu:Db,resetPosition:Db,needsContentAttribute:!0},Tc.prototype);n.inputStyles={textarea:Sc,contenteditable:Tc};ka.prototype=
{primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],d=a.ranges[b];if(0!=w(c.anchor,d.anchor)||0!=w(c.head,d.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new y(Rc(this.ranges[b].anchor),Rc(this.ranges[b].head));return new ka(a,this.primIndex)},somethingSelected:function(){for(var a=
0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var d=this.ranges[c];if(0<=w(b,d.from())&&0>=w(a,d.to()))return c}return-1}};y.prototype={from:function(){return Ob(this.anchor,this.head)},to:function(){return Nb(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var ad={left:0,right:0,top:0,bottom:0},Da,Ua=null,Lf=0,ec,dc,ve=0,fc=0,T=null;A?T=
-.53:oa?T=15:rg?T=-.7:we&&(T=-1/3);var De=function(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail);null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta);return{x:b,y:c}};n.wheelEventPixels=function(a){a=De(a);a.x*=T;a.y*=T;return a};var Xf=new ua,ld=null,Fa=n.changeEnd=function(a){return a.text?q(a.from.line+a.text.length-1,z(a.text).length+(1==a.text.length?a.from.ch:0)):a.to};n.prototype={constructor:n,focus:function(){window.focus();
this.display.input.focus()},setOption:function(a,b){var c=this.options,d=c[a];if(c[a]!=b||"mode"==a)c[a]=b,La.hasOwnProperty(a)&&G(this,La[a])(this,b,d)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](oc(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:L(function(a,b){var c=a.token?a:n.getMode(this.options,a);if(c.startState)throw Error("Overlays may not be stateful.");
this.state.overlays.push({mode:c,modeSpec:a,opaque:b&&b.opaque});this.state.modeGen++;O(this)}),removeOverlay:L(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var d=b[c].modeSpec;if(d==a||"string"==typeof a&&d.name==a){b.splice(c,1);this.state.modeGen++;O(this);break}}}),indentLine:L(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");qb(this.doc,a)&&pb(this,a,b,c)}),indentSelection:L(function(a){for(var b=this.doc.sel.ranges,
c=-1,d=0;d<b.length;d++){var e=b[d];if(e.empty())e.head.line>c&&(pb(this,e.head.line,a,!0),c=e.head.line,d==this.doc.sel.primIndex&&Qa(this));else{for(var f=e.from(),e=e.to(),g=Math.max(c,f.line),c=Math.min(this.lastLine(),e.line-(e.ch?0:1))+1,e=g;e<c;++e)pb(this,e,a);e=this.doc.sel.ranges;0==f.ch&&b.length==e.length&&0<e[d].from().ch&&Wc(this.doc,d,new y(f,e[d].to()),ha)}}}),getTokenAt:function(a,b){return bf(this,a,b)},getLineTokens:function(a,b){return bf(this,q(a),b,!0)},getTokenTypeAt:function(a){a=
x(this.doc,a);var b=df(this,t(this.doc,a.line)),c=0,d=(b.length-1)/2;a=a.ch;if(0==a)b=b[2];else for(;;){var e=c+d>>1;if((e?b[2*e-1]:0)>=a)d=e;else if(b[2*e+1]<a)c=e+1;else{b=b[2*e+2];break}}c=b?b.indexOf("cm-overlay "):-1;return 0>c?b:0==c?null:b.slice(0,c-1)},getModeAt:function(a){var b=this.doc.mode;return b.innerMode?n.innerMode(b,this.getTokenAt(a).state).mode:b},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!ab.hasOwnProperty(b))return c;var d=ab[b],
e=this.getModeAt(a);if("string"==typeof e[b])d[e[b]]&&c.push(d[e[b]]);else if(e[b])for(var f=0;f<e[b].length;f++){var g=d[e[b][f]];g&&c.push(g)}else e.helperType&&d[e.helperType]?c.push(d[e.helperType]):d[e.name]&&c.push(d[e.name]);for(f=0;f<d._global.length;f++)g=d._global[f],g.pred(e,this)&&-1==D(c,g.val)&&c.push(g.val);return c},getStateAfter:function(a,b){var c=this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return sb(this,a+1,b)},cursorCoords:function(a,b){var c;
c=this.doc.sel.primary();c=null==a?c.head:"object"==typeof a?x(this.doc,a):a?c.from():c.to();return la(this,c,b||"page")},charCoords:function(a,b){return Wb(this,x(this.doc,a),b||"page")},coordsChar:function(a,b){a=re(this,a,b||"page");return fd(this,a.left,a.top)},lineAtHeight:function(a,b){a=re(this,{top:a,left:0},b||"page").top;return za(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1,d;"number"==typeof a?(d=this.doc.first+this.doc.size-1,a<this.doc.first?a=this.doc.first:
a>d&&(a=d,c=!0),d=t(this.doc,a)):d=a;return cd(this,d,{top:0,left:0},b||"page").top+(c?this.doc.height-ea(d):0)},defaultTextHeight:function(){return va(this.display)},defaultCharWidth:function(){return gb(this.display)},setGutterMarker:L(function(a,b,c){return mc(this.doc,a,"gutter",function(a){var e=a.gutterMarkers||(a.gutterMarkers={});e[b]=c;!c&&nf(e)&&(a.gutterMarkers=null);return!0})}),clearGutter:L(function(a){var b=this,c=b.doc,d=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&
(c.gutterMarkers[a]=null,ma(b,d,"gutter"),nf(c.gutterMarkers)&&(c.gutterMarkers=null));++d})}),lineInfo:function(a){if("number"==typeof a){if(!qb(this.doc,a))return null;var b=a;a=t(this.doc,a);if(!a)return null}else if(b=E(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,
d,e){var f=this.display;a=la(this,x(this.doc,a));var g=a.bottom,h=a.left;b.style.position="absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);f.sizer.appendChild(b);if("over"==d)g=a.top;else if("above"==d||"near"==d){var k=Math.max(f.wrapper.clientHeight,this.doc.height),l=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>k)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=k&&(g=a.bottom);h+b.offsetWidth>
l&&(h=l-b.offsetWidth)}b.style.top=g+"px";b.style.left=b.style.right="";"right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px");c&&(a=ac(this,h,g,h+b.offsetWidth,g+b.offsetHeight),null!=a.scrollTop&&lb(this,a.scrollTop),null!=a.scrollLeft&&Na(this,a.scrollLeft))},triggerOnKeyDown:L(ze),triggerOnKeyPress:L(Ae),triggerOnKeyUp:ye,execCommand:function(a){if(hc.hasOwnProperty(a))return hc[a].call(null,
this)},triggerElectric:L(function(a){Ud(this,a)}),findPosH:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=x(this.doc,a);f<b&&(a=qd(this.doc,a,e,c,d),!a.hitSide);++f);return a},moveH:L(function(a,b){var c=this;c.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?qd(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Fb)}),deleteH:L(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):Wa(this,function(d){var e=
qd(c,d.head,a,b,!1);return 0>a?{from:e,to:d.head}:{from:d.head,to:e}})}),findPosV:function(a,b,c,d){var e=1;0>b&&(e=-1,b=-b);var f=0;for(a=x(this.doc,a);f<b&&(a=la(this,a,"div"),null==d?d=a.left:a.left=d,a=Te(this,a,e,c),!a.hitSide);++f);return a},moveV:L(function(a,b){var c=this,d=this.doc,e=[],f=!c.display.shift&&!d.extend&&d.sel.somethingSelected();d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var k=la(c,g.head,"div");null!=g.goalColumn&&(k.left=g.goalColumn);e.push(k.left);
var l=Te(c,k,a,b);"page"==b&&g==d.sel.primary()&&kc(c,null,Wb(c,l,"div").top-k.top);return l},Fb);if(e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=t(this.doc,a.line).text,c=a.ch,d=a.ch;if(b){var e=this.getHelper(a,"wordChars");(0>a.xRel||d==b.length)&&c?--c:++d;for(var f=b.charAt(c),f=nc(f,e)?function(a){return nc(a,e)}:/\s/.test(f)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!nc(a)};0<c&&f(b.charAt(c-1));)--c;for(;d<
b.length&&f(b.charAt(d));)++d}return new y(q(a.line,c),q(a.line,d))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?mb(this.display.cursorDiv,"CodeMirror-overwrite"):kb(this.display.cursorDiv,"CodeMirror-overwrite"),J(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==fa()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:L(function(a,b){null==
a&&null==b||lc(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-da(this)-this.display.barHeight,width:a.scrollWidth-da(this)-this.display.barWidth,clientHeight:Nc(this),clientWidth:pa(this)}},scrollIntoView:L(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:q(a,0),
to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;if(null!=a.from.line)lc(this),this.curOp.scrollToPos=a;else{var c=ac(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin);this.scrollTo(c.scrollLeft,c.scrollTop)}}),setSize:L(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var d=this;null!=a&&(d.display.wrapper.style.width=c(a));null!=
b&&(d.display.wrapper.style.height=c(b));d.options.lineWrapping&&qe(this);var e=d.display.viewFrom;d.doc.iter(e,d.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){ma(d,e,"widget");break}++e});d.curOp.forceUpdate=!0;J(d,"refresh",this)}),operation:function(a){return R(this,a)},refresh:L(function(){var a=this.display.cachedTextHeight;O(this);this.curOp.forceUpdate=!0;hb(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);Cc(this);(null==a||
.5<Math.abs(a-va(this.display)))&&Ac(this);J(this,"refresh",this)}),swapDoc:L(function(a){var b=this.doc;b.cm=null;Dd(this,a);hb(this);this.display.input.reset();this.scrollTo(a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;Q(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
Za(n);var wf=n.defaults={},La=n.optionHandlers={},Ed=n.Init={toString:function(){return"CodeMirror.Init"}};v("value","",function(a,b){a.setValue(b)},!0);v("mode",null,function(a,b){a.doc.modeOption=b;zc(a)},!0);v("indentUnit",2,zc,!0);v("indentWithTabs",!1);v("smartIndent",!0);v("tabSize",4,function(a){eb(a);hb(a);O(a)},!0);v("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=0;;){var h=a.text.indexOf(b,e);if(-1==h)break;e=h+b.length;c.push(q(d,
h))}d++});for(var e=c.length-1;0<=e;e--)Va(a.doc,b,c[e],q(c[e].line,c[e].ch+b.length))}});v("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+(b.test("\t")?"":"|\t"),"g");c!=n.Init&&a.refresh()});v("specialCharPlaceholder",function(a){var b=r("span","•","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);b.setAttribute("aria-label",b.title);return b},function(a){a.refresh()},!0);v("electricChars",!0);v("inputStyle",
bb?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);v("rtlMoveVisually",!tg);v("wholeLineUpdateBefore",!0);v("theme","default",function(a){Ad(a);ib(a)},!0);v("keyMap","default",function(a,b,c){b=oc(b);(c=c!=n.Init&&oc(c))&&c.detach&&c.detach(a,b);b.attach&&b.attach(a,c||null)});v("extraKeys",null);v("lineWrapping",!1,function(a){a.options.lineWrapping?(mb(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=
null):(kb(a.display.wrapper,"CodeMirror-wrap"),Dc(a));Ac(a);O(a);hb(a);setTimeout(function(){Oa(a)},100)},!0);v("gutters",[],function(a){wc(a.options);ib(a)},!0);v("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?Ic(a.display)+"px":"0";a.refresh()},!0);v("coverGutterNextToScrollbar",!1,function(a){Oa(a)},!0);v("scrollbarStyle","native",function(a){Bd(a);Oa(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0);v("lineNumbers",!1,
function(a){wc(a.options);ib(a)},!0);v("firstLineNumber",1,ib,!0);v("lineNumberFormatter",function(a){return a},ib,!0);v("showCursorWhenSelecting",!1,nb,!0);v("resetSelectionOnContextMenu",!0);v("lineWiseCopyCut",!0);v("readOnly",!1,function(a,b){"nocursor"==b?(db(a),a.display.input.blur(),a.display.disabled=!0):a.display.disabled=!1;a.display.input.readOnlyChanged(b)});v("disableInput",!1,function(a,b){b||a.display.input.reset()},!0);v("dragDrop",!0,function(a,b,c){!b!=!(c&&c!=n.Init)&&(c=a.display.dragFunctions,
b=b?u:ja,b(a.display.scroller,"dragstart",c.start),b(a.display.scroller,"dragenter",c.enter),b(a.display.scroller,"dragover",c.over),b(a.display.scroller,"dragleave",c.leave),b(a.display.scroller,"drop",c.drop))});v("allowDropFileTypes",null);v("cursorBlinkRate",530);v("cursorScrollMargin",0);v("cursorHeight",1,nb,!0);v("singleCursorHeightPerLine",!0,nb,!0);v("workTime",100);v("workDelay",100);v("flattenSpans",!0,eb,!0);v("addModeClass",!1,eb,!0);v("pollInterval",100);v("undoDepth",200,function(a,
b){a.doc.history.undoDepth=b});v("historyEventDelay",1250);v("viewportMargin",10,function(a){a.refresh()},!0);v("maxHighlightLength",1E4,eb,!0);v("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});v("tabindex",null,function(a,b){a.display.input.getField().tabIndex=b||""});v("autofocus",null);var vf=n.modes={},Gb=n.mimeModes={};n.defineMode=function(a,b){n.defaults.mode||"null"==a||(n.defaults.mode=a);2<arguments.length&&(b.dependencies=Array.prototype.slice.call(arguments,
2));vf[a]=b};n.defineMIME=function(a,b){Gb[a]=b};n.resolveMode=function(a){if("string"==typeof a&&Gb.hasOwnProperty(a))a=Gb[a];else if(a&&"string"==typeof a.name&&Gb.hasOwnProperty(a.name)){var b=Gb[a.name];"string"==typeof b&&(b={name:b});a=lf(b,a);a.name=b.name}else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return n.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};n.getMode=function(a,b){b=n.resolveMode(b);var c=vf[b.name];if(!c)return n.getMode(a,
"text/plain");c=c(a,b);if(Hb.hasOwnProperty(b.name)){var d=Hb[b.name],e;for(e in d)d.hasOwnProperty(e)&&(c.hasOwnProperty(e)&&(c["_"+e]=c[e]),c[e]=d[e])}c.name=b.name;b.helperType&&(c.helperType=b.helperType);if(b.modeProps)for(e in b.modeProps)c[e]=b.modeProps[e];return c};n.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});n.defineMIME("text/plain","null");var Hb=n.modeExtensions={};n.extendMode=function(a,b){var c=Hb.hasOwnProperty(a)?Hb[a]:Hb[a]={};X(b,c)};n.defineExtension=
function(a,b){n.prototype[a]=b};n.defineDocExtension=function(a,b){P.prototype[a]=b};n.defineOption=v;var yc=[];n.defineInitHook=function(a){yc.push(a)};var ab=n.helpers={};n.registerHelper=function(a,b,c){ab.hasOwnProperty(a)||(ab[a]=n[a]={_global:[]});ab[a][b]=c};n.registerGlobalHelper=function(a,b,c,d){n.registerHelper(a,b,d);ab[a]._global.push({pred:c,val:d})};var sa=n.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var e=b[d];e instanceof
Array&&(e=e.concat([]));c[d]=e}return c},Jf=n.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};n.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var hc=n.commands={selectAll:function(a){a.setSelection(q(a.firstLine(),0),q(a.lastLine()),ha)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),ha)},killLine:function(a){Wa(a,function(b){if(b.empty()){var c=t(a.doc,
b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:q(b.head.line+1,0)}:{from:b.head,to:q(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Wa(a,function(b){return{from:q(b.from().line,0),to:x(a.doc,q(b.to().line+1,0))}})},delLineLeft:function(a){Wa(a,function(a){return{from:q(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){Wa(a,function(b){var c=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,top:c},"div"),
to:b.from()}})},delWrappedLineRight:function(a){Wa(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(q(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(q(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return pf(a,
b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return qf(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,d=t(a.doc,b);c=ya(d,!1);)d=c.find(1,!0).line,b=null;c=(c=Z(d))?c[0].level%2?Zb(d):$b(d):d.text.length;return q(null==b?E(d):b,c)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:b},"div")},Fb)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Fb)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?qf(a,b.head):c},Fb)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,
"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},
delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),f=aa(a.getLine(f.line),f.ch,d);b.push(Array(d-
f%d+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){R(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++){var e=b[d].head,f=t(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new q(e.line,e.ch-1)),0<e.ch)e=new q(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),q(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=t(a.doc,e.line-1).text;g&&a.replaceRange(f.charAt(0)+
a.doc.lineSeparator()+g.charAt(g.length-1),q(e.line-1,g.length-1),q(e.line,1),"+transpose")}c.push(new y(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){R(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var d=a.listSelections()[c];a.replaceRange(a.doc.lineSeparator(),d.anchor,d.head,"+input");a.indentLine(d.from().line+1,null,!0)}Qa(a)})},toggleOverwrite:function(a){a.toggleOverwrite()}},ta=n.keyMap={};ta.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",
End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};ta.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft",
"Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};ta.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};ta.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft",
"Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",
fallthrough:["basic","emacsy"]};ta["default"]=Y?ta.macDefault:ta.pcDefault;n.normalizeKeyMap=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!/^(name|fallthrough|(de|at)tach)$/.test(c)){if("..."!=d)for(var e=Qb(c.split(" "),cg),f=0;f<e.length;f++){var g,h;f==e.length-1?(h=e.join(" "),g=d):(h=e.slice(0,f+1).join(" "),g="...");var k=b[h];if(!k)b[h]=g;else if(k!=g)throw Error("Inconsistent bindings for "+h);}delete a[c]}}for(var l in b)a[l]=b[l];return a};var wb=n.lookupKey=function(a,
b,c,d){b=oc(b);var e=b.call?b.call(a,d):b[a];if(!1===e)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return wb(a,b.fallthrough,c,d);for(e=0;e<b.fallthrough.length;e++){var f=wb(a,b.fallthrough[e],c,d);if(f)return f}}},Wf=n.isModifierKey=function(a){a="string"==typeof a?a:Ja[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},Yf=n.keyName=function(a,b){if(ba&&34==a.keyCode&&a["char"])return!1;
var c=Ja[a.keyCode],d=c;if(null==d||a.altGraphKey)return!1;a.altKey&&"Alt"!=c&&(d="Alt-"+d);(uf?a.metaKey:a.ctrlKey)&&"Ctrl"!=c&&(d="Ctrl-"+d);(uf?a.ctrlKey:a.metaKey)&&"Cmd"!=c&&(d="Cmd-"+d);!b&&a.shiftKey&&"Shift"!=c&&(d="Shift-"+d);return d};n.fromTextArea=function(a,b){function c(){a.value=k.getValue()}b=b?X(b):{};b.value=a.value;!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex);!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder);if(null==b.autofocus){var d=fa();b.autofocus=d==a||null!=
a.getAttribute("autofocus")&&d==document.body}if(a.form&&(u(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var e=a.form,f=e.submit;try{var g=e.submit=function(){c();e.submit=f;e.submit();e.submit=g}}catch(h){}}b.finishInit=function(b){b.save=c;b.getTextArea=function(){return a};b.toTextArea=function(){b.toTextArea=isNaN;c();a.parentNode.removeChild(b.getWrapperElement());a.style.display="";a.form&&(ja(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=f))}};a.style.display="none";
var k=n(function(b){a.parentNode.insertBefore(b,a.nextSibling)},b);return k};var sc=n.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};sc.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=
this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&
(this.lastColumnValue=aa(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?aa(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return aa(this.string,null,this.tabSize)-(this.lineStart?aa(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var d=function(a){return c?a.toLowerCase():a},e=this.string.substr(this.pos,a.length);if(d(e)==d(a))return!1!==
b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var rd=0,Ha=n.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a;this.id=++rd};Za(Ha);Ha.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&Ka(a);if(W(this,
"clear")){var c=this.find();c&&Q(this,"clear",c.from,c.to)}for(var d=c=null,e=0;e<this.lines.length;++e){var f=this.lines[e],g=yb(f.markedSpans,this);a&&!this.collapsed?ma(a,E(f),"text"):a&&(null!=g.to&&(d=E(f)),null!=g.from&&(c=E(f)));for(var h=f,k=f.markedSpans,l=g,m=void 0,n=0;n<k.length;++n)k[n]!=l&&(m||(m=[])).push(k[n]);h.markedSpans=m;null==g.from&&this.collapsed&&!wa(this.doc,f)&&a&&ca(f,va(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(e=0;e<this.lines.length;++e)f=ia(this.lines[e]),
g=Jb(f),g>a.display.maxLineLength&&(a.display.maxLine=f,a.display.maxLineLength=g,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&O(a,c,d+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&ie(a.doc));a&&Q(a,"markerCleared",a,this);b&&Ma(a);this.parent&&this.parent.clear()}};Ha.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,d,e=0;e<this.lines.length;++e){var f=this.lines[e],g=yb(f.markedSpans,this);if(null!=
g.from&&(c=q(b?f:E(f),g.from),-1==a))return c;if(null!=g.to&&(d=q(b?f:E(f),g.to),1==a))return d}return c&&{from:c,to:d}};Ha.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&R(c,function(){var d=a.line,e=E(a.line);if(e=Uc(c,e))pe(e),c.curOp.selectionChanged=c.curOp.forceUpdate=!0;c.curOp.updateMaxLine=!0;wa(b.doc,d)||null==b.height||(e=b.height,b.height=null,(e=ub(b)-e)&&ca(d,d.height+e))})};Ha.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=
this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=D(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Ha.prototype.detachLine=function(a){this.lines.splice(D(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};var rd=0,qc=n.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(var c=0;c<a.length;++c)a[c].parent=this};Za(qc);qc.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Q(this,"clear")}};qc.prototype.find=function(a,b){return this.primary.find(a,b)};var rc=n.LineWidget=function(a,b,c){if(c)for(var d in c)c.hasOwnProperty(d)&&(this[d]=c[d]);this.doc=a;this.node=b};Za(rc);rc.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,d=E(c);if(null!=d&&b){for(var e=0;e<b.length;++e)b[e]==this&&b.splice(e--,1);b.length||(c.widgets=null);var f=ub(this);ca(c,Math.max(0,c.height-f));a&&R(a,
function(){var b=-f;ea(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&kc(a,null,b);ma(a,d,"widget")})}};rc.prototype.changed=function(){var a=this.height,b=this.doc.cm,c=this.line;this.height=null;var d=ub(this)-a;d&&(ca(c,c.height+d),b&&R(b,function(){b.curOp.forceUpdate=!0;ea(c)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&kc(b,null,d)}))};var zb=n.Line=function(a,b,c){this.text=a;Ye(this,b);this.height=c?c(this):1};Za(zb);zb.prototype.lineNo=function(){return E(this)};var ig={},hg={};Ab.prototype=
{chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,d=a+b;c<d;++c){var e=this.lines[c];this.height-=e.height;var f=e;f.parent=null;Xe(f);Q(e,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};Bb.prototype={chunkSize:function(){return this.size},
removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var d=this.children[c],e=d.chunkSize();if(a<e){var f=Math.min(b,e-a),g=d.height;d.removeInner(a,f);this.height-=g-d.height;e==f&&(this.children.splice(c--,1),d.parent=null);if(0==(b-=f))break;a=0}else a-=e}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof Ab))&&(c=[],this.collapse(c),this.children=[new Ab(c)],this.children[0].parent=this)},collapse:function(a){for(var b=0;b<this.children.length;++b)this.children[b].collapse(a)},
insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<=f){e.insertInner(a,b,c);if(e.lines&&50<e.lines.length){for(;50<e.lines.length;)a=e.lines.splice(e.lines.length-25,25),a=new Ab(a),e.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=f}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-5,5),b=new Bb(b);if(a.parent){a.size-=
b.size;a.height-=b.height;var c=D(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new Bb(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=0;d<this.children.length;++d){var e=this.children[d],f=e.chunkSize();if(a<f){f=Math.min(b,f-a);if(e.iterN(a,f,c))return!0;if(0==(b-=f))break;a=0}else a-=f}}};var vg=0,P=n.Doc=function(a,b,c,d){if(!(this instanceof P))return new P(a,b,c,d);null==c&&(c=0);
Bb.call(this,[new Ab([new zb("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=q(c,0);this.sel=ga(c);this.history=new tc(null);this.id=++vg;this.modeOption=b;this.lineSep=d;this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));pd(this,{from:c,to:c,text:a});H(this,ga(c),ha)};P.prototype=lf(Bb.prototype,{constructor:P,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,
b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=wd(this,this.first,this.first+this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:M(function(a){var b=q(this.first,0),c=this.first+this.size-1;Pa(this,{from:b,to:q(c,t(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);H(this,ga(b))}),replaceRange:function(a,b,c,d){b=x(this,b);c=c?x(this,c):b;
Va(this,a,b,c,d)},getRange:function(a,b,c){a=Ba(this,x(this,a),x(this,b));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(qb(this,a))return t(this,a)},getLineNumber:function(a){return E(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=t(this,a));return ia(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return x(this,
a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:M(function(a,b,c){a=x(this,"number"==typeof a?q(a,b||0):a);H(this,ga(a,null),c)}),setSelection:M(function(a,b,c){var d=x(this,a);a=x(this,b||a);H(this,ga(d,a),c)}),extendSelection:M(function(a,b,c){Tb(this,x(this,a),b&&x(this,b),
c)}),extendSelections:M(function(a,b){ce(this,be(this,a),b)}),extendSelectionsBy:M(function(a,b){var c=Qb(this.sel.ranges,a);ce(this,be(this,c),b)}),setSelections:M(function(a,b,c){if(a.length){for(var d=0,e=[];d<a.length;d++)e[d]=new y(x(this,a[d].anchor),x(this,a[d].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));H(this,$(e,b),c)}}),addSelection:M(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new y(x(this,a),x(this,b||a)));H(this,$(d,d.length-1),c)}),getSelection:function(a){for(var b=
this.sel.ranges,c,d=0;d<b.length;d++){var e=Ba(this,b[d].from(),b[d].to());c=c?c.concat(e):e}return!1===a?c:c.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,d=0;d<c.length;d++){var e=Ba(this,c[d].from(),c[d].to());!1!==a&&(e=e.join(a||this.lineSeparator()));b[d]=e}return b},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:M(function(a,b,c){for(var d=[],e=this.sel,
f=0;f<e.ranges.length;f++){var g=e.ranges[f];d[f]={from:g.from(),to:g.to(),text:this.splitLines(a[f]),origin:c}}if(f=b&&"end"!=b){f=[];c=a=q(this.first,0);for(e=0;e<d.length;e++){var h=d[e],g=Ie(h.from,a,c),k=Ie(Fa(h),a,c);a=h.to;c=k;"around"==b?(h=this.sel.ranges[e],h=0>w(h.head,h.anchor),f[e]=new y(h?k:g,h?g:k)):f[e]=new y(g,g)}f=new ka(f,this.sel.primIndex)}b=f;for(f=d.length-1;0<=f;f--)Pa(this,d[f]);b?de(this,b):this.cm&&Qa(this.cm)}),undo:M(function(){jc(this,"undo")}),redo:M(function(){jc(this,
"redo")}),undoSelection:M(function(){jc(this,"undo",!0)}),redoSelection:M(function(){jc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(d=0;d<a.undone.length;d++)a.undone[d].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new tc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},
changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Ya(this.history.done),undone:Ya(this.history.undone)}},setHistory:function(a){var b=this.history=new tc(this.history.maxGeneration);b.done=Ya(a.done.slice(0),null,!0);b.undone=Ya(a.undone.slice(0),null,!0)},addLineClass:M(function(a,b,c){return mc(this,
a,"gutter"==b?"gutter":"class",function(a){var e="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[e]){if(Eb(c).test(a[e]))return!1;a[e]+=" "+c}else a[e]=c;return!0})}),removeLineClass:M(function(a,b,c){return mc(this,a,"gutter"==b?"gutter":"class",function(a){var e="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",f=a[e];if(f)if(null==c)a[e]=null;else{var g=f.match(Eb(c));if(!g)return!1;var h=g.index+g[0].length;a[e]=f.slice(0,
g.index)+(g.index&&h!=f.length?" ":"")+f.slice(h)||null}else return!1;return!0})}),addLineWidget:M(function(a,b,c){return gg(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Xa(this,x(this,a),x(this,b),c,c&&c.type||"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};a=x(this,a);return Xa(this,a,a,c,"bookmark")},findMarksAt:function(a){a=
x(this,a);var b=[],c=t(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=x(this,a);b=x(this,b);var d=[],e=a.line;this.iter(a.line,b.line+1,function(f){if(f=f.markedSpans)for(var g=0;g<f.length;g++){var h=f[g];e==a.line&&a.ch>h.to||null==h.from&&e!=a.line||e==b.line&&h.from>b.ch||c&&!c(h.marker)||d.push(h.marker.parent||h.marker)}++e});return d},getAllMarks:function(){var a=
[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(d){d=d.text.length+1;if(d>a)return b=a,!0;a-=d;++c});return x(this,q(c,b))},indexFromPos:function(a){a=x(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+1});return b},copy:function(a){var b=new P(wd(this,this.first,this.first+this.size),this.modeOption,
this.first,this.lineSep);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new P(wd(this,b,c),a.mode||this.modeOption,b,this.lineSep);a.sharedHist&&(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});
b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Ve(this);for(c=0;c<a.length;c++){var d=a[c],e=d.find(),f=b.clipPos(e.from),e=b.clipPos(e.to);w(f,e)&&(f=Xa(b,f,e,d.primary,d.primary.type),d.markers.push(f),f.parent=d)}return b},unlinkDoc:function(a){a instanceof n&&(a=a.doc);if(this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==a){this.linked.splice(b,1);a.unlinkDoc(this);eg(Ve(this));break}if(a.history==this.history){var c=[a.id];Ga(a,function(a){c.push(a.id)},!0);
a.history=new tc(null);a.history.done=Ya(this.history.done,c);a.history.undone=Ya(this.history.undone,c)}},iterLinkedDocs:function(a){Ga(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):wg(a)},lineSeparator:function(){return this.lineSep||"\n"}});P.prototype.eachLine=P.prototype.iter;var xg="iter insert remove copy getEditor constructor".split(" "),Ib;for(Ib in P.prototype)P.prototype.hasOwnProperty(Ib)&&
0>D(xg,Ib)&&(n.prototype[Ib]=function(a){return function(){return a.apply(this.doc,arguments)}}(P.prototype[Ib]));Za(P);var N=n.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},yg=n.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},cc=n.e_stop=function(a){N(a);yg(a)},u=n.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},
kf=[],ja=n.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else for(a=uc(a,b,!1),b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},J=n.signal=function(a,b){var c=uc(a,b,!0);if(c.length)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)},Cb=null,Gd=30,Ee=n.Pass={toString:function(){return"CodeMirror.Pass"}},ha={scroll:!1},jd={origin:"*mouse"},Fb={origin:"+move"};ua.prototype.set=function(a,
b){clearTimeout(this.id);this.id=setTimeout(b,a)};var aa=n.countColumn=function(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));d=d||0;for(e=e||0;;){var f=a.indexOf("\t",d);if(0>f||f>=b)return e+(b-d);e+=f-d;e+=c-e%c;d=f+1}},Ce=n.findColumn=function(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("\t",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);e+=f-d;e+=c-e%c;d=f+1;if(e>=b)return d}},vc=[""],$a=function(a){a.select()};Ra?$a=function(a){a.selectionStart=
0;a.selectionEnd=a.value.length}:A&&($a=function(a){try{a.select()}catch(b){}});var zg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,mf=n.isWordChar=function(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||zg.test(a))},pg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Ca;Ca=document.createRange?function(a,b,c,d){var e=document.createRange();e.setEnd(d||a,c);e.setStart(a,b);return e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(e){return d}d.collapse(!0);d.moveEnd("character",c);d.moveStart("character",b);return d};var Vc=n.contains=function(a,b){3==b.nodeType&&(b=b.parentNode);if(a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)};A&&11>C&&(fa=function(){try{return document.activeElement}catch(a){return document.body}});
var kb=n.rmClass=function(a,b){var c=a.className,d=Eb(b).exec(c);if(d){var e=c.slice(d.index+d[0].length);a.className=c.slice(0,d.index)+(e?d[1]+e:"")}},mb=n.addClass=function(a,b){var c=a.className;Eb(b).test(c)||(a.className+=(c?" ":"")+b)},Cd=!1,Sf=function(){if(A&&9>C)return!1;var a=r("div");return"draggable"in a||"dragDrop"in a}(),xd,ud,wg=n.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;b<=d;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==
a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},ug=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},Ge=function(){var a=r("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),
bd=null,Ja=n.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",
63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var a=0;10>a;a++)Ja[a+48]=Ja[a+96]=String(a);for(a=65;90>=a;a++)Ja[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Ja[a+111]=Ja[a+63235]="F"+a})();var vb,ng=function(){function a(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):
1424<=a&&1524>=a?"R":1536<=a&&1773>=a?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(a-1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a;this.from=b;this.to=c}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,d=/[stwN]/,e=/[LRr]/,f=/[Lb1n]/,g=/[1n]/;return function(h){if(!c.test(h))return!1;
for(var k=h.length,l=[],m=0,n;m<k;++m)l.push(a(h.charCodeAt(m)));for(var m=0,p="L";m<k;++m)n=l[m],"m"==n?l[m]=p:p=n;m=0;for(p="L";m<k;++m)n=l[m],"1"==n&&"r"==p?l[m]="n":e.test(n)&&(p=n,"r"==n&&(l[m]="R"));m=1;for(p=l[0];m<k-1;++m)n=l[m],"+"==n&&"1"==p&&"1"==l[m+1]?l[m]="1":","!=n||p!=l[m+1]||"1"!=p&&"n"!=p||(l[m]=p),p=n;for(m=0;m<k;++m)if(n=l[m],","==n)l[m]="N";else if("%"==n){for(p=m+1;p<k&&"%"==l[p];++p);var q=m&&"!"==l[m-1]||p<k&&"1"==l[p]?"1":"N";for(n=m;n<p;++n)l[n]=q;m=p-1}m=0;for(p="L";m<k;++m)n=
l[m],"L"==p&&"1"==n?l[m]="L":e.test(n)&&(p=n);for(m=0;m<k;++m)if(d.test(l[m])){for(p=m+1;p<k&&d.test(l[p]);++p);n="L"==(p<k?l[p]:"L");q="L"==(m?l[m-1]:"L")||n?"L":"R";for(n=m;n<p;++n)l[n]=q;m=p-1}for(var p=[],r,m=0;m<k;)if(f.test(l[m])){n=m;for(++m;m<k&&f.test(l[m]);++m);p.push(new b(0,n,m))}else{var t=m,q=p.length;for(++m;m<k&&"L"!=l[m];++m);for(n=t;n<m;)if(g.test(l[n])){t<n&&p.splice(q,0,new b(1,t,n));t=n;for(++n;n<m&&g.test(l[n]);++n);p.splice(q,0,new b(2,t,n));t=n}else++n;t<m&&p.splice(q,0,new b(1,
t,m))}1==p[0].level&&(r=h.match(/^\s+/))&&(p[0].from=r[0].length,p.unshift(new b(0,0,r[0].length)));1==z(p).level&&(r=h.match(/\s+$/))&&(z(p).to-=r[0].length,p.push(new b(0,k-r[0].length,k)));2==p[0].level&&p.unshift(new b(1,p[0].to,p[0].to));p[0].level!=z(p).level&&p.push(new b(p[0].level,k,k));return p}}();n.version="5.11.0";return n});
// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  var Pos = CodeMirror.Pos;

  function forEach(arr, f) {
    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);
  }

  function arrayContains(arr, item) {
    if (!Array.prototype.indexOf) {
      var i = arr.length;
      while (i--) {
        if (arr[i] === item) {
          return true;
        }
      }
      return false;
    }
    return arr.indexOf(item) != -1;
  }

  function scriptHint(editor, keywords, getToken, options) {
    // Find the token at the cursor
    var cur = editor.getCursor(), token = getToken(editor, cur);
    if (/\b(?:string|comment)\b/.test(token.type)) return;
    token.state = CodeMirror.innerMode(editor.getMode(), token.state).state;

    // If it's not a 'word-style' token, ignore the token.
    if (!/^[\w$_]*$/.test(token.string)) {
      token = {start: cur.ch, end: cur.ch, string: "", state: token.state,
               type: token.string == "." ? "property" : null};
    } else if (token.end > cur.ch) {
      token.end = cur.ch;
      token.string = token.string.slice(0, cur.ch - token.start);
    }

    var tprop = token;
    // If it is a property, find out what it is a property of.
    while (tprop.type == "property") {
      tprop = getToken(editor, Pos(cur.line, tprop.start));
      if (tprop.string != ".") return;
      tprop = getToken(editor, Pos(cur.line, tprop.start));
      if (!context) var context = [];
      context.push(tprop);
    }
    return {list: getCompletions(token, context, keywords, options),
            from: Pos(cur.line, token.start),
            to: Pos(cur.line, token.end)};
  }

  function javascriptHint(editor, options) {
    return scriptHint(editor, javascriptKeywords,
                      function (e, cur) {return e.getTokenAt(cur);},
                      options);
  };
  CodeMirror.registerHelper("hint", "javascript", javascriptHint);

  function getCoffeeScriptToken(editor, cur) {
  // This getToken, it is for coffeescript, imitates the behavior of
  // getTokenAt method in javascript.js, that is, returning "property"
  // type and treat "." as indepenent token.
    var token = editor.getTokenAt(cur);
    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {
      token.end = token.start;
      token.string = '.';
      token.type = "property";
    }
    else if (/^\.[\w$_]*$/.test(token.string)) {
      token.type = "property";
      token.start++;
      token.string = token.string.replace(/\./, '');
    }
    return token;
  }

  function coffeescriptHint(editor, options) {
    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken, options);
  }
  CodeMirror.registerHelper("hint", "coffeescript", coffeescriptHint);

  var stringProps = ("charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight " +
                     "toUpperCase toLowerCase split concat match replace search").split(" ");
  var arrayProps = ("length concat join splice push pop shift unshift slice reverse sort indexOf " +
                    "lastIndexOf every some filter forEach map reduce reduceRight ").split(" ");
  var funcProps = "prototype apply call bind".split(" ");
  var javascriptKeywords = ("break case catch continue debugger default delete do else false finally for function " +
                  "if in instanceof new null return switch throw true try typeof var void while with").split(" ");
  var coffeescriptKeywords = ("and break catch class continue delete do else extends false finally for " +
                  "if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes").split(" ");

  function getCompletions(token, context, keywords, options) {
    var found = [], start = token.string, global = options && options.globalScope || window;
    function maybeAdd(str) {
      if (str.lastIndexOf(start, 0) == 0 && !arrayContains(found, str)) found.push(str);
    }
    function gatherCompletions(obj) {
      if (typeof obj == "string") forEach(stringProps, maybeAdd);
      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);
      else if (obj instanceof Function) forEach(funcProps, maybeAdd);
      for (var name in obj) maybeAdd(name);
    }

    if (context && context.length) {
      // If this is a property, see if it belongs to some object we can
      // find in the current environment.
      var obj = context.pop(), base;
      if ((obj.type && obj.type.indexOf("variable") === 0) || obj.string === "this") {
        if (options && options.additionalContext)
          base = options.additionalContext[obj.string];
        if (!options || options.useGlobalScope !== false)
          base = base || global[obj.string];
      } else if (obj.type == "string") {
        base = "";
      } else if (obj.type == "atom") {
        base = 1;
      } else if (obj.type == "function") {
        if (global.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&
            (typeof global.jQuery == 'function'))
          base = global.jQuery();
        else if (global._ != null && (obj.string == '_') && (typeof global._ == 'function'))
          base = global._();
      }
      while (base != null && context.length)
        base = base[context.pop().string];
      if (base != null) gatherCompletions(base);
    } else {
      // If not, just look in the global object and any local scope
      // (reading into JS mode internals to get at the local and global variables)
      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);
      for (var v = token.state.globalVars; v; v = v.next) maybeAdd(v.name);
      if (!options || options.useGlobalScope !== false)
        gatherCompletions(global);
      forEach(keywords, maybeAdd);
    }
    return found;
  }
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  CodeMirror.defineOption("showTrailingSpace", false, function(cm, val, prev) {
    if (prev == CodeMirror.Init) prev = false;
    if (prev && !val)
      cm.removeOverlay("trailingspace");
    else if (!prev && val)
      cm.addOverlay({
        token: function(stream) {
          for (var l = stream.string.length, i = l; i && /\s/.test(stream.string.charAt(i - 1)); --i) {}
          if (i > stream.pos) { stream.pos = i; return null; }
          stream.pos = l;
          return "trailingspace";
        },
        name: "trailingspace"
      });
  });
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"))
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod)
  else // Plain browser env
    mod(CodeMirror)
})(function(CodeMirror) {
  "use strict"

  CodeMirror.defineOption("autoRefresh", false, function(cm, val) {
    if (cm.state.autoRefresh) {
      stopListening(cm, cm.state.autoRefresh)
      cm.state.autoRefresh = null
    }
    if (val && cm.display.wrapper.offsetHeight == 0)
      startListening(cm, cm.state.autoRefresh = {delay: val.delay || 250})
  })

  function startListening(cm, state) {
    function check() {
      if (cm.display.wrapper.offsetHeight) {
        stopListening(cm, state)
        if (cm.display.lastWrapHeight != cm.display.wrapper.clientHeight)
          cm.refresh()
      } else {
        state.timeout = setTimeout(check, state.delay)
      }
    }
    state.timeout = setTimeout(check, state.delay)
    state.hurry = function() {
      clearTimeout(state.timeout)
      state.timeout = setTimeout(check, 50)
    }
    CodeMirror.on(window, "mouseup", state.hurry)
    CodeMirror.on(window, "keyup", state.hurry)
  }

  function stopListening(_cm, state) {
    clearTimeout(state.timeout)
    CodeMirror.off(window, "mouseup", state.hurry)
    CodeMirror.off(window, "keyup", state.hurry)
  }
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../fold/xml-fold"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../fold/xml-fold"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";

  CodeMirror.defineOption("matchTags", false, function(cm, val, old) {
    if (old && old != CodeMirror.Init) {
      cm.off("cursorActivity", doMatchTags);
      cm.off("viewportChange", maybeUpdateMatch);
      clear(cm);
    }
    if (val) {
      cm.state.matchBothTags = typeof val == "object" && val.bothTags;
      cm.on("cursorActivity", doMatchTags);
      cm.on("viewportChange", maybeUpdateMatch);
      doMatchTags(cm);
    }
  });

  function clear(cm) {
    if (cm.state.tagHit) cm.state.tagHit.clear();
    if (cm.state.tagOther) cm.state.tagOther.clear();
    cm.state.tagHit = cm.state.tagOther = null;
  }

  function doMatchTags(cm) {
    cm.state.failedTagMatch = false;
    cm.operation(function() {
      clear(cm);
      if (cm.somethingSelected()) return;
      var cur = cm.getCursor(), range = cm.getViewport();
      range.from = Math.min(range.from, cur.line); range.to = Math.max(cur.line + 1, range.to);
      var match = CodeMirror.findMatchingTag(cm, cur, range);
      if (!match) return;
      if (cm.state.matchBothTags) {
        var hit = match.at == "open" ? match.open : match.close;
        if (hit) cm.state.tagHit = cm.markText(hit.from, hit.to, {className: "CodeMirror-matchingtag"});
      }
      var other = match.at == "close" ? match.open : match.close;
      if (other)
        cm.state.tagOther = cm.markText(other.from, other.to, {className: "CodeMirror-matchingtag"});
      else
        cm.state.failedTagMatch = true;
    });
  }

  function maybeUpdateMatch(cm) {
    if (cm.state.failedTagMatch) doMatchTags(cm);
  }

  CodeMirror.commands.toMatchingTag = function(cm) {
    var found = CodeMirror.findMatchingTag(cm, cm.getCursor());
    if (found) {
      var other = found.at == "close" ? found.open : found.close;
      if (other) cm.extendSelection(other.to, other.from);
    }
  };
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

// TODO actually recognize syntax of TypeScript constructs

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

function expressionAllowed(stream, state, backUp) {
  return /^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(state.lastType) ||
    (state.lastType == "quasi" && /\{\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))
}

CodeMirror.defineMode("javascript", function(config, parserConfig) {
  var indentUnit = config.indentUnit;
  var statementIndent = parserConfig.statementIndent;
  var jsonldMode = parserConfig.jsonld;
  var jsonMode = parserConfig.json || jsonldMode;
  var isTS = parserConfig.typescript;
  var wordRE = parserConfig.wordCharacters || /[\w$\xa1-\uffff]/;

  // Tokenizer

  var keywords = function(){
    function kw(type) {return {type: type, style: "keyword"};}
    var A = kw("keyword a"), B = kw("keyword b"), C = kw("keyword c");
    var operator = kw("operator"), atom = {type: "atom", style: "atom"};

    var jsKeywords = {
      "if": kw("if"), "while": A, "with": A, "else": B, "do": B, "try": B, "finally": B,
      "return": C, "break": C, "continue": C, "new": kw("new"), "delete": C, "throw": C, "debugger": C,
      "var": kw("var"), "const": kw("var"), "let": kw("var"),
      "function": kw("function"), "catch": kw("catch"),
      "for": kw("for"), "switch": kw("switch"), "case": kw("case"), "default": kw("default"),
      "in": operator, "typeof": operator, "instanceof": operator,
      "true": atom, "false": atom, "null": atom, "undefined": atom, "NaN": atom, "Infinity": atom,
      "this": kw("this"), "class": kw("class"), "super": kw("atom"),
      "yield": C, "export": kw("export"), "import": kw("import"), "extends": C
    };

    // Extend the 'normal' keywords with the TypeScript language extensions
    if (isTS) {
      var type = {type: "variable", style: "variable-3"};
      var tsKeywords = {
        // object-like things
        "interface": kw("class"),
        "implements": C,
        "namespace": C,
        "module": kw("module"),
        "enum": kw("module"),

        // scope modifiers
        "public": kw("modifier"),
        "private": kw("modifier"),
        "protected": kw("modifier"),
        "abstract": kw("modifier"),

        // operators
        "as": operator,

        // types
        "string": type, "number": type, "boolean": type, "any": type
      };

      for (var attr in tsKeywords) {
        jsKeywords[attr] = tsKeywords[attr];
      }
    }

    return jsKeywords;
  }();

  var isOperatorChar = /[+\-*&%=<>!?|~^]/;
  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

  function readRegexp(stream) {
    var escaped = false, next, inSet = false;
    while ((next = stream.next()) != null) {
      if (!escaped) {
        if (next == "/" && !inSet) return;
        if (next == "[") inSet = true;
        else if (inSet && next == "]") inSet = false;
      }
      escaped = !escaped && next == "\\";
    }
  }

  // Used as scratch variables to communicate multiple values without
  // consing up tons of objects.
  var type, content;
  function ret(tp, style, cont) {
    type = tp; content = cont;
    return style;
  }
  function tokenBase(stream, state) {
    var ch = stream.next();
    if (ch == '"' || ch == "'") {
      state.tokenize = tokenString(ch);
      return state.tokenize(stream, state);
    } else if (ch == "." && stream.match(/^\d+(?:[eE][+\-]?\d+)?/)) {
      return ret("number", "number");
    } else if (ch == "." && stream.match("..")) {
      return ret("spread", "meta");
    } else if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
      return ret(ch);
    } else if (ch == "=" && stream.eat(">")) {
      return ret("=>", "operator");
    } else if (ch == "0" && stream.eat(/x/i)) {
      stream.eatWhile(/[\da-f]/i);
      return ret("number", "number");
    } else if (ch == "0" && stream.eat(/o/i)) {
      stream.eatWhile(/[0-7]/i);
      return ret("number", "number");
    } else if (ch == "0" && stream.eat(/b/i)) {
      stream.eatWhile(/[01]/i);
      return ret("number", "number");
    } else if (/\d/.test(ch)) {
      stream.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);
      return ret("number", "number");
    } else if (ch == "/") {
      if (stream.eat("*")) {
        state.tokenize = tokenComment;
        return tokenComment(stream, state);
      } else if (stream.eat("/")) {
        stream.skipToEnd();
        return ret("comment", "comment");
      } else if (expressionAllowed(stream, state, 1)) {
        readRegexp(stream);
        stream.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);
        return ret("regexp", "string-2");
      } else {
        stream.eatWhile(isOperatorChar);
        return ret("operator", "operator", stream.current());
      }
    } else if (ch == "`") {
      state.tokenize = tokenQuasi;
      return tokenQuasi(stream, state);
    } else if (ch == "#") {
      stream.skipToEnd();
      return ret("error", "error");
    } else if (isOperatorChar.test(ch)) {
      stream.eatWhile(isOperatorChar);
      return ret("operator", "operator", stream.current());
    } else if (wordRE.test(ch)) {
      stream.eatWhile(wordRE);
      var word = stream.current(), known = keywords.propertyIsEnumerable(word) && keywords[word];
      return (known && state.lastType != ".") ? ret(known.type, known.style, word) :
                     ret("variable", "variable", word);
    }
  }

  function tokenString(quote) {
    return function(stream, state) {
      var escaped = false, next;
      if (jsonldMode && stream.peek() == "@" && stream.match(isJsonldKeyword)){
        state.tokenize = tokenBase;
        return ret("jsonld-keyword", "meta");
      }
      while ((next = stream.next()) != null) {
        if (next == quote && !escaped) break;
        escaped = !escaped && next == "\\";
      }
      if (!escaped) state.tokenize = tokenBase;
      return ret("string", "string");
    };
  }

  function tokenComment(stream, state) {
    var maybeEnd = false, ch;
    while (ch = stream.next()) {
      if (ch == "/" && maybeEnd) {
        state.tokenize = tokenBase;
        break;
      }
      maybeEnd = (ch == "*");
    }
    return ret("comment", "comment");
  }

  function tokenQuasi(stream, state) {
    var escaped = false, next;
    while ((next = stream.next()) != null) {
      if (!escaped && (next == "`" || next == "$" && stream.eat("{"))) {
        state.tokenize = tokenBase;
        break;
      }
      escaped = !escaped && next == "\\";
    }
    return ret("quasi", "string-2", stream.current());
  }

  var brackets = "([{}])";
  // This is a crude lookahead trick to try and notice that we're
  // parsing the argument patterns for a fat-arrow function before we
  // actually hit the arrow token. It only works if the arrow is on
  // the same line as the arguments and there's no strange noise
  // (comments) in between. Fallback is to only notice when we hit the
  // arrow, and not declare the arguments as locals for the arrow
  // body.
  function findFatArrow(stream, state) {
    if (state.fatArrowAt) state.fatArrowAt = null;
    var arrow = stream.string.indexOf("=>", stream.start);
    if (arrow < 0) return;

    var depth = 0, sawSomething = false;
    for (var pos = arrow - 1; pos >= 0; --pos) {
      var ch = stream.string.charAt(pos);
      var bracket = brackets.indexOf(ch);
      if (bracket >= 0 && bracket < 3) {
        if (!depth) { ++pos; break; }
        if (--depth == 0) break;
      } else if (bracket >= 3 && bracket < 6) {
        ++depth;
      } else if (wordRE.test(ch)) {
        sawSomething = true;
      } else if (/["'\/]/.test(ch)) {
        return;
      } else if (sawSomething && !depth) {
        ++pos;
        break;
      }
    }
    if (sawSomething && !depth) state.fatArrowAt = pos;
  }

  // Parser

  var atomicTypes = {"atom": true, "number": true, "variable": true, "string": true, "regexp": true, "this": true, "jsonld-keyword": true};

  function JSLexical(indented, column, type, align, prev, info) {
    this.indented = indented;
    this.column = column;
    this.type = type;
    this.prev = prev;
    this.info = info;
    if (align != null) this.align = align;
  }

  function inScope(state, varname) {
    for (var v = state.localVars; v; v = v.next)
      if (v.name == varname) return true;
    for (var cx = state.context; cx; cx = cx.prev) {
      for (var v = cx.vars; v; v = v.next)
        if (v.name == varname) return true;
    }
  }

  function parseJS(state, style, type, content, stream) {
    var cc = state.cc;
    // Communicate our context to the combinators.
    // (Less wasteful than consing up a hundred closures on every call.)
    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;

    if (!state.lexical.hasOwnProperty("align"))
      state.lexical.align = true;

    while(true) {
      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;
      if (combinator(type, content)) {
        while(cc.length && cc[cc.length - 1].lex)
          cc.pop()();
        if (cx.marked) return cx.marked;
        if (type == "variable" && inScope(state, content)) return "variable-2";
        return style;
      }
    }
  }

  // Combinator utils

  var cx = {state: null, column: null, marked: null, cc: null};
  function pass() {
    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);
  }
  function cont() {
    pass.apply(null, arguments);
    return true;
  }
  function register(varname) {
    function inList(list) {
      for (var v = list; v; v = v.next)
        if (v.name == varname) return true;
      return false;
    }
    var state = cx.state;
    cx.marked = "def";
    if (state.context) {
      if (inList(state.localVars)) return;
      state.localVars = {name: varname, next: state.localVars};
    } else {
      if (inList(state.globalVars)) return;
      if (parserConfig.globalVars)
        state.globalVars = {name: varname, next: state.globalVars};
    }
  }

  // Combinators

  var defaultVars = {name: "this", next: {name: "arguments"}};
  function pushcontext() {
    cx.state.context = {prev: cx.state.context, vars: cx.state.localVars};
    cx.state.localVars = defaultVars;
  }
  function popcontext() {
    cx.state.localVars = cx.state.context.vars;
    cx.state.context = cx.state.context.prev;
  }
  function pushlex(type, info) {
    var result = function() {
      var state = cx.state, indent = state.indented;
      if (state.lexical.type == "stat") indent = state.lexical.indented;
      else for (var outer = state.lexical; outer && outer.type == ")" && outer.align; outer = outer.prev)
        indent = outer.indented;
      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);
    };
    result.lex = true;
    return result;
  }
  function poplex() {
    var state = cx.state;
    if (state.lexical.prev) {
      if (state.lexical.type == ")")
        state.indented = state.lexical.indented;
      state.lexical = state.lexical.prev;
    }
  }
  poplex.lex = true;

  function expect(wanted) {
    function exp(type) {
      if (type == wanted) return cont();
      else if (wanted == ";") return pass();
      else return cont(exp);
    };
    return exp;
  }

  function statement(type, value) {
    if (type == "var") return cont(pushlex("vardef", value.length), vardef, expect(";"), poplex);
    if (type == "keyword a") return cont(pushlex("form"), expression, statement, poplex);
    if (type == "keyword b") return cont(pushlex("form"), statement, poplex);
    if (type == "{") return cont(pushlex("}"), block, poplex);
    if (type == ";") return cont();
    if (type == "if") {
      if (cx.state.lexical.info == "else" && cx.state.cc[cx.state.cc.length - 1] == poplex)
        cx.state.cc.pop()();
      return cont(pushlex("form"), expression, statement, poplex, maybeelse);
    }
    if (type == "function") return cont(functiondef);
    if (type == "for") return cont(pushlex("form"), forspec, statement, poplex);
    if (type == "variable") return cont(pushlex("stat"), maybelabel);
    if (type == "switch") return cont(pushlex("form"), expression, pushlex("}", "switch"), expect("{"),
                                      block, poplex, poplex);
    if (type == "case") return cont(expression, expect(":"));
    if (type == "default") return cont(expect(":"));
    if (type == "catch") return cont(pushlex("form"), pushcontext, expect("("), funarg, expect(")"),
                                     statement, poplex, popcontext);
    if (type == "class") return cont(pushlex("form"), className, poplex);
    if (type == "export") return cont(pushlex("stat"), afterExport, poplex);
    if (type == "import") return cont(pushlex("stat"), afterImport, poplex);
    if (type == "module") return cont(pushlex("form"), pattern, pushlex("}"), expect("{"), block, poplex, poplex)
    return pass(pushlex("stat"), expression, expect(";"), poplex);
  }
  function expression(type) {
    return expressionInner(type, false);
  }
  function expressionNoComma(type) {
    return expressionInner(type, true);
  }
  function expressionInner(type, noComma) {
    if (cx.state.fatArrowAt == cx.stream.start) {
      var body = noComma ? arrowBodyNoComma : arrowBody;
      if (type == "(") return cont(pushcontext, pushlex(")"), commasep(pattern, ")"), poplex, expect("=>"), body, popcontext);
      else if (type == "variable") return pass(pushcontext, pattern, expect("=>"), body, popcontext);
    }

    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;
    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);
    if (type == "function") return cont(functiondef, maybeop);
    if (type == "keyword c") return cont(noComma ? maybeexpressionNoComma : maybeexpression);
    if (type == "(") return cont(pushlex(")"), maybeexpression, comprehension, expect(")"), poplex, maybeop);
    if (type == "operator" || type == "spread") return cont(noComma ? expressionNoComma : expression);
    if (type == "[") return cont(pushlex("]"), arrayLiteral, poplex, maybeop);
    if (type == "{") return contCommasep(objprop, "}", null, maybeop);
    if (type == "quasi") return pass(quasi, maybeop);
    if (type == "new") return cont(maybeTarget(noComma));
    return cont();
  }
  function maybeexpression(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expression);
  }
  function maybeexpressionNoComma(type) {
    if (type.match(/[;\}\)\],]/)) return pass();
    return pass(expressionNoComma);
  }

  function maybeoperatorComma(type, value) {
    if (type == ",") return cont(expression);
    return maybeoperatorNoComma(type, value, false);
  }
  function maybeoperatorNoComma(type, value, noComma) {
    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;
    var expr = noComma == false ? expression : expressionNoComma;
    if (type == "=>") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);
    if (type == "operator") {
      if (/\+\+|--/.test(value)) return cont(me);
      if (value == "?") return cont(expression, expect(":"), expr);
      return cont(expr);
    }
    if (type == "quasi") { return pass(quasi, me); }
    if (type == ";") return;
    if (type == "(") return contCommasep(expressionNoComma, ")", "call", me);
    if (type == ".") return cont(property, me);
    if (type == "[") return cont(pushlex("]"), maybeexpression, expect("]"), poplex, me);
  }
  function quasi(type, value) {
    if (type != "quasi") return pass();
    if (value.slice(value.length - 2) != "${") return cont(quasi);
    return cont(expression, continueQuasi);
  }
  function continueQuasi(type) {
    if (type == "}") {
      cx.marked = "string-2";
      cx.state.tokenize = tokenQuasi;
      return cont(quasi);
    }
  }
  function arrowBody(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expression);
  }
  function arrowBodyNoComma(type) {
    findFatArrow(cx.stream, cx.state);
    return pass(type == "{" ? statement : expressionNoComma);
  }
  function maybeTarget(noComma) {
    return function(type) {
      if (type == ".") return cont(noComma ? targetNoComma : target);
      else return pass(noComma ? expressionNoComma : expression);
    };
  }
  function target(_, value) {
    if (value == "target") { cx.marked = "keyword"; return cont(maybeoperatorComma); }
  }
  function targetNoComma(_, value) {
    if (value == "target") { cx.marked = "keyword"; return cont(maybeoperatorNoComma); }
  }
  function maybelabel(type) {
    if (type == ":") return cont(poplex, statement);
    return pass(maybeoperatorComma, expect(";"), poplex);
  }
  function property(type) {
    if (type == "variable") {cx.marked = "property"; return cont();}
  }
  function objprop(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(getterSetter);
      return cont(afterprop);
    } else if (type == "number" || type == "string") {
      cx.marked = jsonldMode ? "property" : (cx.style + " property");
      return cont(afterprop);
    } else if (type == "jsonld-keyword") {
      return cont(afterprop);
    } else if (type == "modifier") {
      return cont(objprop)
    } else if (type == "[") {
      return cont(expression, expect("]"), afterprop);
    } else if (type == "spread") {
      return cont(expression);
    }
  }
  function getterSetter(type) {
    if (type != "variable") return pass(afterprop);
    cx.marked = "property";
    return cont(functiondef);
  }
  function afterprop(type) {
    if (type == ":") return cont(expressionNoComma);
    if (type == "(") return pass(functiondef);
  }
  function commasep(what, end) {
    function proceed(type) {
      if (type == ",") {
        var lex = cx.state.lexical;
        if (lex.info == "call") lex.pos = (lex.pos || 0) + 1;
        return cont(what, proceed);
      }
      if (type == end) return cont();
      return cont(expect(end));
    }
    return function(type) {
      if (type == end) return cont();
      return pass(what, proceed);
    };
  }
  function contCommasep(what, end, info) {
    for (var i = 3; i < arguments.length; i++)
      cx.cc.push(arguments[i]);
    return cont(pushlex(end, info), commasep(what, end), poplex);
  }
  function block(type) {
    if (type == "}") return cont();
    return pass(statement, block);
  }
  function maybetype(type) {
    if (isTS && type == ":") return cont(typedef);
  }
  function maybedefault(_, value) {
    if (value == "=") return cont(expressionNoComma);
  }
  function typedef(type) {
    if (type == "variable") {cx.marked = "variable-3"; return cont();}
  }
  function vardef() {
    return pass(pattern, maybetype, maybeAssign, vardefCont);
  }
  function pattern(type, value) {
    if (type == "modifier") return cont(pattern)
    if (type == "variable") { register(value); return cont(); }
    if (type == "spread") return cont(pattern);
    if (type == "[") return contCommasep(pattern, "]");
    if (type == "{") return contCommasep(proppattern, "}");
  }
  function proppattern(type, value) {
    if (type == "variable" && !cx.stream.match(/^\s*:/, false)) {
      register(value);
      return cont(maybeAssign);
    }
    if (type == "variable") cx.marked = "property";
    if (type == "spread") return cont(pattern);
    if (type == "}") return pass();
    return cont(expect(":"), pattern, maybeAssign);
  }
  function maybeAssign(_type, value) {
    if (value == "=") return cont(expressionNoComma);
  }
  function vardefCont(type) {
    if (type == ",") return cont(vardef);
  }
  function maybeelse(type, value) {
    if (type == "keyword b" && value == "else") return cont(pushlex("form", "else"), statement, poplex);
  }
  function forspec(type) {
    if (type == "(") return cont(pushlex(")"), forspec1, expect(")"), poplex);
  }
  function forspec1(type) {
    if (type == "var") return cont(vardef, expect(";"), forspec2);
    if (type == ";") return cont(forspec2);
    if (type == "variable") return cont(formaybeinof);
    return pass(expression, expect(";"), forspec2);
  }
  function formaybeinof(_type, value) {
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return cont(maybeoperatorComma, forspec2);
  }
  function forspec2(type, value) {
    if (type == ";") return cont(forspec3);
    if (value == "in" || value == "of") { cx.marked = "keyword"; return cont(expression); }
    return pass(expression, expect(";"), forspec3);
  }
  function forspec3(type) {
    if (type != ")") cont(expression);
  }
  function functiondef(type, value) {
    if (value == "*") {cx.marked = "keyword"; return cont(functiondef);}
    if (type == "variable") {register(value); return cont(functiondef);}
    if (type == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, statement, popcontext);
  }
  function funarg(type) {
    if (type == "spread") return cont(funarg);
    return pass(pattern, maybetype, maybedefault);
  }
  function className(type, value) {
    if (type == "variable") {register(value); return cont(classNameAfter);}
  }
  function classNameAfter(type, value) {
    if (value == "extends") return cont(expression, classNameAfter);
    if (type == "{") return cont(pushlex("}"), classBody, poplex);
  }
  function classBody(type, value) {
    if (type == "variable" || cx.style == "keyword") {
      if (value == "static") {
        cx.marked = "keyword";
        return cont(classBody);
      }
      cx.marked = "property";
      if (value == "get" || value == "set") return cont(classGetterSetter, functiondef, classBody);
      return cont(functiondef, classBody);
    }
    if (value == "*") {
      cx.marked = "keyword";
      return cont(classBody);
    }
    if (type == ";") return cont(classBody);
    if (type == "}") return cont();
  }
  function classGetterSetter(type) {
    if (type != "variable") return pass();
    cx.marked = "property";
    return cont();
  }
  function afterExport(_type, value) {
    if (value == "*") { cx.marked = "keyword"; return cont(maybeFrom, expect(";")); }
    if (value == "default") { cx.marked = "keyword"; return cont(expression, expect(";")); }
    return pass(statement);
  }
  function afterImport(type) {
    if (type == "string") return cont();
    return pass(importSpec, maybeFrom);
  }
  function importSpec(type, value) {
    if (type == "{") return contCommasep(importSpec, "}");
    if (type == "variable") register(value);
    if (value == "*") cx.marked = "keyword";
    return cont(maybeAs);
  }
  function maybeAs(_type, value) {
    if (value == "as") { cx.marked = "keyword"; return cont(importSpec); }
  }
  function maybeFrom(_type, value) {
    if (value == "from") { cx.marked = "keyword"; return cont(expression); }
  }
  function arrayLiteral(type) {
    if (type == "]") return cont();
    return pass(expressionNoComma, maybeArrayComprehension);
  }
  function maybeArrayComprehension(type) {
    if (type == "for") return pass(comprehension, expect("]"));
    if (type == ",") return cont(commasep(maybeexpressionNoComma, "]"));
    return pass(commasep(expressionNoComma, "]"));
  }
  function comprehension(type) {
    if (type == "for") return cont(forspec, comprehension);
    if (type == "if") return cont(expression, comprehension);
  }

  function isContinuedStatement(state, textAfter) {
    return state.lastType == "operator" || state.lastType == "," ||
      isOperatorChar.test(textAfter.charAt(0)) ||
      /[,.]/.test(textAfter.charAt(0));
  }

  // Interface

  return {
    startState: function(basecolumn) {
      var state = {
        tokenize: tokenBase,
        lastType: "sof",
        cc: [],
        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, "block", false),
        localVars: parserConfig.localVars,
        context: parserConfig.localVars && {vars: parserConfig.localVars},
        indented: basecolumn || 0
      };
      if (parserConfig.globalVars && typeof parserConfig.globalVars == "object")
        state.globalVars = parserConfig.globalVars;
      return state;
    },

    token: function(stream, state) {
      if (stream.sol()) {
        if (!state.lexical.hasOwnProperty("align"))
          state.lexical.align = false;
        state.indented = stream.indentation();
        findFatArrow(stream, state);
      }
      if (state.tokenize != tokenComment && stream.eatSpace()) return null;
      var style = state.tokenize(stream, state);
      if (type == "comment") return style;
      state.lastType = type == "operator" && (content == "++" || content == "--") ? "incdec" : type;
      return parseJS(state, style, type, content, stream);
    },

    indent: function(state, textAfter) {
      if (state.tokenize == tokenComment) return CodeMirror.Pass;
      if (state.tokenize != tokenBase) return 0;
      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical;
      // Kludge to prevent 'maybelse' from blocking lexical scope pops
      if (!/^\s*else\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {
        var c = state.cc[i];
        if (c == poplex) lexical = lexical.prev;
        else if (c != maybeelse) break;
      }
      if (lexical.type == "stat" && firstChar == "}") lexical = lexical.prev;
      if (statementIndent && lexical.type == ")" && lexical.prev.type == "stat")
        lexical = lexical.prev;
      var type = lexical.type, closing = firstChar == type;

      if (type == "vardef") return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? lexical.info + 1 : 0);
      else if (type == "form" && firstChar == "{") return lexical.indented;
      else if (type == "form") return lexical.indented + indentUnit;
      else if (type == "stat")
        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);
      else if (lexical.info == "switch" && !closing && parserConfig.doubleIndentSwitch != false)
        return lexical.indented + (/^(?:case|default)\b/.test(textAfter) ? indentUnit : 2 * indentUnit);
      else if (lexical.align) return lexical.column + (closing ? 0 : 1);
      else return lexical.indented + (closing ? 0 : indentUnit);
    },

    electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
    blockCommentStart: jsonMode ? null : "/*",
    blockCommentEnd: jsonMode ? null : "*/",
    lineComment: jsonMode ? null : "//",
    fold: "brace",
    closeBrackets: "()[]{}''\"\"``",

    helperType: jsonMode ? "json" : "javascript",
    jsonldMode: jsonldMode,
    jsonMode: jsonMode,

    expressionAllowed: expressionAllowed,
    skipExpression: function(state) {
      var top = state.cc[state.cc.length - 1]
      if (top == expression || top == expressionNoComma) state.cc.pop()
    }
  };
});

CodeMirror.registerHelper("wordChars", "javascript", /[\w$]/);

CodeMirror.defineMIME("text/javascript", "javascript");
CodeMirror.defineMIME("text/ecmascript", "javascript");
CodeMirror.defineMIME("application/javascript", "javascript");
CodeMirror.defineMIME("application/x-javascript", "javascript");
CodeMirror.defineMIME("application/ecmascript", "javascript");
CodeMirror.defineMIME("application/json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/x-json", {name: "javascript", json: true});
CodeMirror.defineMIME("application/ld+json", {name: "javascript", jsonld: true});
CodeMirror.defineMIME("text/typescript", { name: "javascript", typescript: true });
CodeMirror.defineMIME("application/typescript", { name: "javascript", typescript: true });

});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";

  var HINT_ELEMENT_CLASS        = "CodeMirror-hint";
  var ACTIVE_HINT_ELEMENT_CLASS = "CodeMirror-hint-active";

  // This is the old interface, kept around for now to stay
  // backwards-compatible.
  CodeMirror.showHint = function(cm, getHints, options) {
    if (!getHints) return cm.showHint(options);
    if (options && options.async) getHints.async = true;
    var newOpts = {hint: getHints};
    if (options) for (var prop in options) newOpts[prop] = options[prop];
    return cm.showHint(newOpts);
  };

  CodeMirror.defineExtension("showHint", function(options) {
    options = parseOptions(this, this.getCursor("start"), options);
    var selections = this.listSelections()
    if (selections.length > 1) return;
    // By default, don't allow completion when something is selected.
    // A hint function can have a `supportsSelection` property to
    // indicate that it can handle selections.
    if (this.somethingSelected()) {
      if (!options.hint.supportsSelection) return;
      // Don't try with cross-line selections
      for (var i = 0; i < selections.length; i++)
        if (selections[i].head.line != selections[i].anchor.line) return;
    }

    if (this.state.completionActive) this.state.completionActive.close();
    var completion = this.state.completionActive = new Completion(this, options);
    if (!completion.options.hint) return;

    CodeMirror.signal(this, "startCompletion", this);
    completion.update(true);
  });

  function Completion(cm, options) {
    this.cm = cm;
    this.options = options;
    this.widget = null;
    this.debounce = 0;
    this.tick = 0;
    this.startPos = this.cm.getCursor("start");
    this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length;

    var self = this;
    cm.on("cursorActivity", this.activityFunc = function() { self.cursorActivity(); });
  }

  var requestAnimationFrame = window.requestAnimationFrame || function(fn) {
    return setTimeout(fn, 1000/60);
  };
  var cancelAnimationFrame = window.cancelAnimationFrame || clearTimeout;

  Completion.prototype = {
    close: function() {
      if (!this.active()) return;
      this.cm.state.completionActive = null;
      this.tick = null;
      this.cm.off("cursorActivity", this.activityFunc);

      if (this.widget && this.data) CodeMirror.signal(this.data, "close");
      if (this.widget) this.widget.close();
      CodeMirror.signal(this.cm, "endCompletion", this.cm);
    },

    active: function() {
      return this.cm.state.completionActive == this;
    },

    pick: function(data, i) {
      var completion = data.list[i];
      if (completion.hint) completion.hint(this.cm, data, completion);
      else this.cm.replaceRange(getText(completion), completion.from || data.from,
                                completion.to || data.to, "complete");
      CodeMirror.signal(data, "pick", completion);
      this.close();
    },

    cursorActivity: function() {
      if (this.debounce) {
        cancelAnimationFrame(this.debounce);
        this.debounce = 0;
      }

      var pos = this.cm.getCursor(), line = this.cm.getLine(pos.line);
      if (pos.line != this.startPos.line || line.length - pos.ch != this.startLen - this.startPos.ch ||
          pos.ch < this.startPos.ch || this.cm.somethingSelected() ||
          (pos.ch && this.options.closeCharacters.test(line.charAt(pos.ch - 1)))) {
        this.close();
      } else {
        var self = this;
        this.debounce = requestAnimationFrame(function() {self.update();});
        if (this.widget) this.widget.disable();
      }
    },

    update: function(first) {
      if (this.tick == null) return;
      if (!this.options.hint.async) {
        this.finishUpdate(this.options.hint(this.cm, this.options), first);
      } else {
        var myTick = ++this.tick, self = this;
        this.options.hint(this.cm, function(data) {
          if (self.tick == myTick) self.finishUpdate(data, first);
        }, this.options);
      }
    },

    finishUpdate: function(data, first) {
      if (this.data) CodeMirror.signal(this.data, "update");
      if (data && this.data && CodeMirror.cmpPos(data.from, this.data.from)) data = null;
      this.data = data;

      var picked = (this.widget && this.widget.picked) || (first && this.options.completeSingle);
      if (this.widget) this.widget.close();
      if (data && data.list.length) {
        if (picked && data.list.length == 1) {
          this.pick(data, 0);
        } else {
          this.widget = new Widget(this, data);
          CodeMirror.signal(data, "shown");
        }
      }
    }
  };

  function parseOptions(cm, pos, options) {
    var editor = cm.options.hintOptions;
    var out = {};
    for (var prop in defaultOptions) out[prop] = defaultOptions[prop];
    if (editor) for (var prop in editor)
      if (editor[prop] !== undefined) out[prop] = editor[prop];
    if (options) for (var prop in options)
      if (options[prop] !== undefined) out[prop] = options[prop];
    if (out.hint.resolve) out.hint = out.hint.resolve(cm, pos)
    return out;
  }

  function getText(completion) {
    if (typeof completion == "string") return completion;
    else return completion.text;
  }

  function buildKeyMap(completion, handle) {
    var baseMap = {
      Up: function() {handle.moveFocus(-1);},
      Down: function() {handle.moveFocus(1);},
      PageUp: function() {handle.moveFocus(-handle.menuSize() + 1, true);},
      PageDown: function() {handle.moveFocus(handle.menuSize() - 1, true);},
      Home: function() {handle.setFocus(0);},
      End: function() {handle.setFocus(handle.length - 1);},
      Enter: handle.pick,
      Tab: handle.pick,
      Esc: handle.close
    };
    var custom = completion.options.customKeys;
    var ourMap = custom ? {} : baseMap;
    function addBinding(key, val) {
      var bound;
      if (typeof val != "string")
        bound = function(cm) { return val(cm, handle); };
      // This mechanism is deprecated
      else if (baseMap.hasOwnProperty(val))
        bound = baseMap[val];
      else
        bound = val;
      ourMap[key] = bound;
    }
    if (custom)
      for (var key in custom) if (custom.hasOwnProperty(key))
        addBinding(key, custom[key]);
    var extra = completion.options.extraKeys;
    if (extra)
      for (var key in extra) if (extra.hasOwnProperty(key))
        addBinding(key, extra[key]);
    return ourMap;
  }

  function getHintElement(hintsElement, el) {
    while (el && el != hintsElement) {
      if (el.nodeName.toUpperCase() === "LI" && el.parentNode == hintsElement) return el;
      el = el.parentNode;
    }
  }

  function Widget(completion, data) {
    this.completion = completion;
    this.data = data;
    this.picked = false;
    var widget = this, cm = completion.cm;

    var hints = this.hints = document.createElement("ul");
    hints.className = "CodeMirror-hints";
    this.selectedHint = data.selectedHint || 0;

    var completions = data.list;
    for (var i = 0; i < completions.length; ++i) {
      var elt = hints.appendChild(document.createElement("li")), cur = completions[i];
      var className = HINT_ELEMENT_CLASS + (i != this.selectedHint ? "" : " " + ACTIVE_HINT_ELEMENT_CLASS);
      if (cur.className != null) className = cur.className + " " + className;
      elt.className = className;
      if (cur.render) cur.render(elt, data, cur);
      else elt.appendChild(document.createTextNode(cur.displayText || getText(cur)));
      elt.hintId = i;
    }

    var pos = cm.cursorCoords(completion.options.alignWithWord ? data.from : null);
    var left = pos.left, top = pos.bottom, below = true;
    hints.style.left = left + "px";
    hints.style.top = top + "px";
    // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.
    var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);
    var winH = window.innerHeight || Math.max(document.body.offsetHeight, document.documentElement.offsetHeight);
    (completion.options.container || document.body).appendChild(hints);
    var box = hints.getBoundingClientRect(), overlapY = box.bottom - winH;
    if (overlapY > 0) {
      var height = box.bottom - box.top, curTop = pos.top - (pos.bottom - box.top);
      if (curTop - height > 0) { // Fits above cursor
        hints.style.top = (top = pos.top - height) + "px";
        below = false;
      } else if (height > winH) {
        hints.style.height = (winH - 5) + "px";
        hints.style.top = (top = pos.bottom - box.top) + "px";
        var cursor = cm.getCursor();
        if (data.from.ch != cursor.ch) {
          pos = cm.cursorCoords(cursor);
          hints.style.left = (left = pos.left) + "px";
          box = hints.getBoundingClientRect();
        }
      }
    }
    var overlapX = box.right - winW;
    if (overlapX > 0) {
      if (box.right - box.left > winW) {
        hints.style.width = (winW - 5) + "px";
        overlapX -= (box.right - box.left) - winW;
      }
      hints.style.left = (left = pos.left - overlapX) + "px";
    }

    cm.addKeyMap(this.keyMap = buildKeyMap(completion, {
      moveFocus: function(n, avoidWrap) { widget.changeActive(widget.selectedHint + n, avoidWrap); },
      setFocus: function(n) { widget.changeActive(n); },
      menuSize: function() { return widget.screenAmount(); },
      length: completions.length,
      close: function() { completion.close(); },
      pick: function() { widget.pick(); },
      data: data
    }));

    if (completion.options.closeOnUnfocus) {
      var closingOnBlur;
      cm.on("blur", this.onBlur = function() { closingOnBlur = setTimeout(function() { completion.close(); }, 100); });
      cm.on("focus", this.onFocus = function() { clearTimeout(closingOnBlur); });
    }

    var startScroll = cm.getScrollInfo();
    cm.on("scroll", this.onScroll = function() {
      var curScroll = cm.getScrollInfo(), editor = cm.getWrapperElement().getBoundingClientRect();
      var newTop = top + startScroll.top - curScroll.top;
      var point = newTop - (window.pageYOffset || (document.documentElement || document.body).scrollTop);
      if (!below) point += hints.offsetHeight;
      if (point <= editor.top || point >= editor.bottom) return completion.close();
      hints.style.top = newTop + "px";
      hints.style.left = (left + startScroll.left - curScroll.left) + "px";
    });

    CodeMirror.on(hints, "dblclick", function(e) {
      var t = getHintElement(hints, e.target || e.srcElement);
      if (t && t.hintId != null) {widget.changeActive(t.hintId); widget.pick();}
    });

    CodeMirror.on(hints, "click", function(e) {
      var t = getHintElement(hints, e.target || e.srcElement);
      if (t && t.hintId != null) {
        widget.changeActive(t.hintId);
        if (completion.options.completeOnSingleClick) widget.pick();
      }
    });

    CodeMirror.on(hints, "mousedown", function() {
      setTimeout(function(){cm.focus();}, 20);
    });

    CodeMirror.signal(data, "select", completions[0], hints.firstChild);
    return true;
  }

  Widget.prototype = {
    close: function() {
      if (this.completion.widget != this) return;
      this.completion.widget = null;
      this.hints.parentNode.removeChild(this.hints);
      this.completion.cm.removeKeyMap(this.keyMap);

      var cm = this.completion.cm;
      if (this.completion.options.closeOnUnfocus) {
        cm.off("blur", this.onBlur);
        cm.off("focus", this.onFocus);
      }
      cm.off("scroll", this.onScroll);
    },

    disable: function() {
      this.completion.cm.removeKeyMap(this.keyMap);
      var widget = this;
      this.keyMap = {Enter: function() { widget.picked = true; }};
      this.completion.cm.addKeyMap(this.keyMap);
    },

    pick: function() {
      this.completion.pick(this.data, this.selectedHint);
    },

    changeActive: function(i, avoidWrap) {
      if (i >= this.data.list.length)
        i = avoidWrap ? this.data.list.length - 1 : 0;
      else if (i < 0)
        i = avoidWrap ? 0  : this.data.list.length - 1;
      if (this.selectedHint == i) return;
      var node = this.hints.childNodes[this.selectedHint];
      node.className = node.className.replace(" " + ACTIVE_HINT_ELEMENT_CLASS, "");
      node = this.hints.childNodes[this.selectedHint = i];
      node.className += " " + ACTIVE_HINT_ELEMENT_CLASS;
      if (node.offsetTop < this.hints.scrollTop)
        this.hints.scrollTop = node.offsetTop - 3;
      else if (node.offsetTop + node.offsetHeight > this.hints.scrollTop + this.hints.clientHeight)
        this.hints.scrollTop = node.offsetTop + node.offsetHeight - this.hints.clientHeight + 3;
      CodeMirror.signal(this.data, "select", this.data.list[this.selectedHint], node);
    },

    screenAmount: function() {
      return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1;
    }
  };

  function applicableHelpers(cm, helpers) {
    if (!cm.somethingSelected()) return helpers
    var result = []
    for (var i = 0; i < helpers.length; i++)
      if (helpers[i].supportsSelection) result.push(helpers[i])
    return result
  }

  function resolveAutoHints(cm, pos) {
    var helpers = cm.getHelpers(pos, "hint"), words
    if (helpers.length) {
      var async = false, resolved
      for (var i = 0; i < helpers.length; i++) if (helpers[i].async) async = true
      if (async) {
        resolved = function(cm, callback, options) {
          var app = applicableHelpers(cm, helpers)
          function run(i, result) {
            if (i == app.length) return callback(null)
            var helper = app[i]
            if (helper.async) {
              helper(cm, function(result) {
                if (result) callback(result)
                else run(i + 1)
              }, options)
            } else {
              var result = helper(cm, options)
              if (result) callback(result)
              else run(i + 1)
            }
          }
          run(0)
        }
        resolved.async = true
      } else {
        resolved = function(cm, options) {
          var app = applicableHelpers(cm, helpers)
          for (var i = 0; i < app.length; i++) {
            var cur = app[i](cm, options)
            if (cur && cur.list.length) return cur
          }
        }
      }
      resolved.supportsSelection = true
      return resolved
    } else if (words = cm.getHelper(cm.getCursor(), "hintWords")) {
      return function(cm) { return CodeMirror.hint.fromList(cm, {words: words}) }
    } else if (CodeMirror.hint.anyword) {
      return function(cm, options) { return CodeMirror.hint.anyword(cm, options) }
    } else {
      return function() {}
    }
  }

  CodeMirror.registerHelper("hint", "auto", {
    resolve: resolveAutoHints
  });

  CodeMirror.registerHelper("hint", "fromList", function(cm, options) {
    var cur = cm.getCursor(), token = cm.getTokenAt(cur);
    var to = CodeMirror.Pos(cur.line, token.end);
    if (token.string && /\w/.test(token.string[token.string.length - 1])) {
      var term = token.string, from = CodeMirror.Pos(cur.line, token.start);
    } else {
      var term = "", from = to;
    }
    var found = [];
    for (var i = 0; i < options.words.length; i++) {
      var word = options.words[i];
      if (word.slice(0, term.length) == term)
        found.push(word);
    }

    if (found.length) return {list: found, from: from, to: to};
  });

  CodeMirror.commands.autocomplete = CodeMirror.showHint;

  var defaultOptions = {
    hint: CodeMirror.hint.auto,
    completeSingle: true,
    alignWithWord: true,
    closeCharacters: /[\s()\[\]{};:>,]/,
    closeOnUnfocus: true,
    completeOnSingleClick: true,
    container: null,
    customKeys: null,
    extraKeys: null
  };

  CodeMirror.defineOption("hintOptions", null);
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  var ie_lt8 = /MSIE \d/.test(navigator.userAgent) &&
    (document.documentMode == null || document.documentMode < 8);

  var Pos = CodeMirror.Pos;

  var matching = {"(": ")>", ")": "(<", "[": "]>", "]": "[<", "{": "}>", "}": "{<"};

  function findMatchingBracket(cm, where, strict, config) {
    var line = cm.getLineHandle(where.line), pos = where.ch - 1;
    var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];
    if (!match) return null;
    var dir = match.charAt(1) == ">" ? 1 : -1;
    if (strict && (dir > 0) != (pos == where.ch)) return null;
    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));

    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style || null, config);
    if (found == null) return null;
    return {from: Pos(where.line, pos), to: found && found.pos,
            match: found && found.ch == match.charAt(0), forward: dir > 0};
  }

  // bracketRegex is used to specify which type of bracket to scan
  // should be a regexp, e.g. /[[\]]/
  //
  // Note: If "where" is on an open bracket, then this bracket is ignored.
  //
  // Returns false when no bracket was found, null when it reached
  // maxScanLines and gave up
  function scanForBracket(cm, where, dir, style, config) {
    var maxScanLen = (config && config.maxScanLineLength) || 10000;
    var maxScanLines = (config && config.maxScanLines) || 1000;

    var stack = [];
    var re = config && config.bracketRegex ? config.bracketRegex : /[(){}[\]]/;
    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)
                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);
    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {
      var line = cm.getLine(lineNo);
      if (!line) continue;
      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;
      if (line.length > maxScanLen) continue;
      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);
      for (; pos != end; pos += dir) {
        var ch = line.charAt(pos);
        if (re.test(ch) && (style === undefined || cm.getTokenTypeAt(Pos(lineNo, pos + 1)) == style)) {
          var match = matching[ch];
          if ((match.charAt(1) == ">") == (dir > 0)) stack.push(ch);
          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};
          else stack.pop();
        }
      }
    }
    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;
  }

  function matchBrackets(cm, autoclear, config) {
    // Disable brace matching in long lines, since it'll cause hugely slow updates
    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000;
    var marks = [], ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, false, config);
      if (match && cm.getLine(match.from.line).length <= maxHighlightLen) {
        var style = match.match ? "CodeMirror-matchingbracket" : "CodeMirror-nonmatchingbracket";
        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));
        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)
          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));
      }
    }

    if (marks.length) {
      // Kludge to work around the IE bug from issue #1193, where text
      // input stops going to the textare whever this fires.
      if (ie_lt8 && cm.state.focused) cm.focus();

      var clear = function() {
        cm.operation(function() {
          for (var i = 0; i < marks.length; i++) marks[i].clear();
        });
      };
      if (autoclear) setTimeout(clear, 800);
      else return clear;
    }
  }

  var currentlyHighlighted = null;
  function doMatchBrackets(cm) {
    cm.operation(function() {
      if (currentlyHighlighted) {currentlyHighlighted(); currentlyHighlighted = null;}
      currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);
    });
  }

  CodeMirror.defineOption("matchBrackets", false, function(cm, val, old) {
    if (old && old != CodeMirror.Init)
      cm.off("cursorActivity", doMatchBrackets);
    if (val) {
      cm.state.matchBrackets = typeof val == "object" ? val : {};
      cm.on("cursorActivity", doMatchBrackets);
    }
  });

  CodeMirror.defineExtension("matchBrackets", function() {matchBrackets(this, true);});
  CodeMirror.defineExtension("findMatchingBracket", function(pos, strict, config){
    return findMatchingBracket(this, pos, strict, config);
  });
  CodeMirror.defineExtension("scanForBracket", function(pos, dir, style, config){
    return scanForBracket(this, pos, dir, style, config);
  });
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  var defaults = {
    pairs: "()[]{}''\"\"",
    triples: "",
    explode: "[]{}"
  };

  var Pos = CodeMirror.Pos;

  CodeMirror.defineOption("autoCloseBrackets", false, function(cm, val, old) {
    if (old && old != CodeMirror.Init) {
      cm.removeKeyMap(keyMap);
      cm.state.closeBrackets = null;
    }
    if (val) {
      cm.state.closeBrackets = val;
      cm.addKeyMap(keyMap);
    }
  });

  function getOption(conf, name) {
    if (name == "pairs" && typeof conf == "string") return conf;
    if (typeof conf == "object" && conf[name] != null) return conf[name];
    return defaults[name];
  }

  var bind = defaults.pairs + "`";
  var keyMap = {Backspace: handleBackspace, Enter: handleEnter};
  for (var i = 0; i < bind.length; i++)
    keyMap["'" + bind.charAt(i) + "'"] = handler(bind.charAt(i));

  function handler(ch) {
    return function(cm) { return handleChar(cm, ch); };
  }

  function getConfig(cm) {
    var deflt = cm.state.closeBrackets;
    if (!deflt) return null;
    var mode = cm.getModeAt(cm.getCursor());
    return mode.closeBrackets || deflt;
  }

  function handleBackspace(cm) {
    var conf = getConfig(cm);
    if (!conf || cm.getOption("disableInput")) return CodeMirror.Pass;

    var pairs = getOption(conf, "pairs");
    var ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var around = charsAround(cm, ranges[i].head);
      if (!around || pairs.indexOf(around) % 2 != 0) return CodeMirror.Pass;
    }
    for (var i = ranges.length - 1; i >= 0; i--) {
      var cur = ranges[i].head;
      cm.replaceRange("", Pos(cur.line, cur.ch - 1), Pos(cur.line, cur.ch + 1), "+delete");
    }
  }

  function handleEnter(cm) {
    var conf = getConfig(cm);
    var explode = conf && getOption(conf, "explode");
    if (!explode || cm.getOption("disableInput")) return CodeMirror.Pass;

    var ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var around = charsAround(cm, ranges[i].head);
      if (!around || explode.indexOf(around) % 2 != 0) return CodeMirror.Pass;
    }
    cm.operation(function() {
      cm.replaceSelection("\n\n", null);
      cm.execCommand("goCharLeft");
      ranges = cm.listSelections();
      for (var i = 0; i < ranges.length; i++) {
        var line = ranges[i].head.line;
        cm.indentLine(line, null, true);
        cm.indentLine(line + 1, null, true);
      }
    });
  }

  function contractSelection(sel) {
    var inverted = CodeMirror.cmpPos(sel.anchor, sel.head) > 0;
    return {anchor: new Pos(sel.anchor.line, sel.anchor.ch + (inverted ? -1 : 1)),
            head: new Pos(sel.head.line, sel.head.ch + (inverted ? 1 : -1))};
  }

  function handleChar(cm, ch) {
    var conf = getConfig(cm);
    if (!conf || cm.getOption("disableInput")) return CodeMirror.Pass;

    var pairs = getOption(conf, "pairs");
    var pos = pairs.indexOf(ch);
    if (pos == -1) return CodeMirror.Pass;
    var triples = getOption(conf, "triples");

    var identical = pairs.charAt(pos + 1) == ch;
    var ranges = cm.listSelections();
    var opening = pos % 2 == 0;

    var type, next;
    for (var i = 0; i < ranges.length; i++) {
      var range = ranges[i], cur = range.head, curType;
      var next = cm.getRange(cur, Pos(cur.line, cur.ch + 1));
      if (opening && !range.empty()) {
        curType = "surround";
      } else if ((identical || !opening) && next == ch) {
        if (triples.indexOf(ch) >= 0 && cm.getRange(cur, Pos(cur.line, cur.ch + 3)) == ch + ch + ch)
          curType = "skipThree";
        else
          curType = "skip";
      } else if (identical && cur.ch > 1 && triples.indexOf(ch) >= 0 &&
                 cm.getRange(Pos(cur.line, cur.ch - 2), cur) == ch + ch &&
                 (cur.ch <= 2 || cm.getRange(Pos(cur.line, cur.ch - 3), Pos(cur.line, cur.ch - 2)) != ch)) {
        curType = "addFour";
      } else if (identical) {
        if (!CodeMirror.isWordChar(next) && enteringString(cm, cur, ch)) curType = "both";
        else return CodeMirror.Pass;
      } else if (opening && (cm.getLine(cur.line).length == cur.ch ||
                             isClosingBracket(next, pairs) ||
                             /\s/.test(next))) {
        curType = "both";
      } else {
        return CodeMirror.Pass;
      }
      if (!type) type = curType;
      else if (type != curType) return CodeMirror.Pass;
    }

    var left = pos % 2 ? pairs.charAt(pos - 1) : ch;
    var right = pos % 2 ? ch : pairs.charAt(pos + 1);
    cm.operation(function() {
      if (type == "skip") {
        cm.execCommand("goCharRight");
      } else if (type == "skipThree") {
        for (var i = 0; i < 3; i++)
          cm.execCommand("goCharRight");
      } else if (type == "surround") {
        var sels = cm.getSelections();
        for (var i = 0; i < sels.length; i++)
          sels[i] = left + sels[i] + right;
        cm.replaceSelections(sels, "around");
        sels = cm.listSelections().slice();
        for (var i = 0; i < sels.length; i++)
          sels[i] = contractSelection(sels[i]);
        cm.setSelections(sels);
      } else if (type == "both") {
        cm.replaceSelection(left + right, null);
        cm.triggerElectric(left + right);
        cm.execCommand("goCharLeft");
      } else if (type == "addFour") {
        cm.replaceSelection(left + left + left + left, "before");
        cm.execCommand("goCharRight");
      }
    });
  }

  function isClosingBracket(ch, pairs) {
    var pos = pairs.lastIndexOf(ch);
    return pos > -1 && pos % 2 == 1;
  }

  function charsAround(cm, pos) {
    var str = cm.getRange(Pos(pos.line, pos.ch - 1),
                          Pos(pos.line, pos.ch + 1));
    return str.length == 2 ? str : null;
  }

  // Project the token type that will exists after the given char is
  // typed, and use it to determine whether it would cause the start
  // of a string token.
  function enteringString(cm, pos, ch) {
    var line = cm.getLine(pos.line);
    var token = cm.getTokenAt(pos);
    if (/\bstring2?\b/.test(token.type)) return false;
    var stream = new CodeMirror.StringStream(line.slice(0, pos.ch) + ch + line.slice(pos.ch), 4);
    stream.pos = stream.start = token.start;
    for (;;) {
      var type1 = cm.getMode().token(stream, token.state);
      if (stream.pos >= pos.ch + 1) return /\bstring2?\b/.test(type1);
      stream.start = stream.pos;
    }
  }
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/**
 * Tag-closer extension for CodeMirror.
 *
 * This extension adds an "autoCloseTags" option that can be set to
 * either true to get the default behavior, or an object to further
 * configure its behavior.
 *
 * These are supported options:
 *
 * `whenClosing` (default true)
 *   Whether to autoclose when the '/' of a closing tag is typed.
 * `whenOpening` (default true)
 *   Whether to autoclose the tag when the final '>' of an opening
 *   tag is typed.
 * `dontCloseTags` (default is empty tags for HTML, none for XML)
 *   An array of tag names that should not be autoclosed.
 * `indentTags` (default is block tags for HTML, none for XML)
 *   An array of tag names that should, when opened, cause a
 *   blank line to be added inside the tag, and the blank line and
 *   closing line to be indented.
 *
 * See demos/closetag.html for a usage example.
 */

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../fold/xml-fold"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../fold/xml-fold"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  CodeMirror.defineOption("autoCloseTags", false, function(cm, val, old) {
    if (old != CodeMirror.Init && old)
      cm.removeKeyMap("autoCloseTags");
    if (!val) return;
    var map = {name: "autoCloseTags"};
    if (typeof val != "object" || val.whenClosing)
      map["'/'"] = function(cm) { return autoCloseSlash(cm); };
    if (typeof val != "object" || val.whenOpening)
      map["'>'"] = function(cm) { return autoCloseGT(cm); };
    cm.addKeyMap(map);
  });

  var htmlDontClose = ["area", "base", "br", "col", "command", "embed", "hr", "img", "input", "keygen", "link", "meta", "param",
                       "source", "track", "wbr"];
  var htmlIndent = ["applet", "blockquote", "body", "button", "div", "dl", "fieldset", "form", "frameset", "h1", "h2", "h3", "h4",
                    "h5", "h6", "head", "html", "iframe", "layer", "legend", "object", "ol", "p", "select", "table", "ul"];

  function autoCloseGT(cm) {
    if (cm.getOption("disableInput")) return CodeMirror.Pass;
    var ranges = cm.listSelections(), replacements = [];
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var pos = ranges[i].head, tok = cm.getTokenAt(pos);
      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;
      if (inner.mode.name != "xml" || !state.tagName) return CodeMirror.Pass;

      var opt = cm.getOption("autoCloseTags"), html = inner.mode.configuration == "html";
      var dontCloseTags = (typeof opt == "object" && opt.dontCloseTags) || (html && htmlDontClose);
      var indentTags = (typeof opt == "object" && opt.indentTags) || (html && htmlIndent);

      var tagName = state.tagName;
      if (tok.end > pos.ch) tagName = tagName.slice(0, tagName.length - tok.end + pos.ch);
      var lowerTagName = tagName.toLowerCase();
      // Don't process the '>' at the end of an end-tag or self-closing tag
      if (!tagName ||
          tok.type == "string" && (tok.end != pos.ch || !/[\"\']/.test(tok.string.charAt(tok.string.length - 1)) || tok.string.length == 1) ||
          tok.type == "tag" && state.type == "closeTag" ||
          tok.string.indexOf("/") == (tok.string.length - 1) || // match something like <someTagName />
          dontCloseTags && indexOf(dontCloseTags, lowerTagName) > -1 ||
          closingTagExists(cm, tagName, pos, state, true))
        return CodeMirror.Pass;

      var indent = indentTags && indexOf(indentTags, lowerTagName) > -1;
      replacements[i] = {indent: indent,
                         text: ">" + (indent ? "\n\n" : "") + "</" + tagName + ">",
                         newPos: indent ? CodeMirror.Pos(pos.line + 1, 0) : CodeMirror.Pos(pos.line, pos.ch + 1)};
    }

    for (var i = ranges.length - 1; i >= 0; i--) {
      var info = replacements[i];
      cm.replaceRange(info.text, ranges[i].head, ranges[i].anchor, "+insert");
      var sel = cm.listSelections().slice(0);
      sel[i] = {head: info.newPos, anchor: info.newPos};
      cm.setSelections(sel);
      if (info.indent) {
        cm.indentLine(info.newPos.line, null, true);
        cm.indentLine(info.newPos.line + 1, null, true);
      }
    }
  }

  function autoCloseCurrent(cm, typingSlash) {
    var ranges = cm.listSelections(), replacements = [];
    var head = typingSlash ? "/" : "</";
    for (var i = 0; i < ranges.length; i++) {
      if (!ranges[i].empty()) return CodeMirror.Pass;
      var pos = ranges[i].head, tok = cm.getTokenAt(pos);
      var inner = CodeMirror.innerMode(cm.getMode(), tok.state), state = inner.state;
      if (typingSlash && (tok.type == "string" || tok.string.charAt(0) != "<" ||
                          tok.start != pos.ch - 1))
        return CodeMirror.Pass;
      // Kludge to get around the fact that we are not in XML mode
      // when completing in JS/CSS snippet in htmlmixed mode. Does not
      // work for other XML embedded languages (there is no general
      // way to go from a mixed mode to its current XML state).
      var replacement;
      if (inner.mode.name != "xml") {
        if (cm.getMode().name == "htmlmixed" && inner.mode.name == "javascript")
          replacement = head + "script";
        else if (cm.getMode().name == "htmlmixed" && inner.mode.name == "css")
          replacement = head + "style";
        else
          return CodeMirror.Pass;
      } else {
        if (!state.context || !state.context.tagName ||
            closingTagExists(cm, state.context.tagName, pos, state))
          return CodeMirror.Pass;
        replacement = head + state.context.tagName;
      }
      if (cm.getLine(pos.line).charAt(tok.end) != ">") replacement += ">";
      replacements[i] = replacement;
    }
    cm.replaceSelections(replacements);
    ranges = cm.listSelections();
    for (var i = 0; i < ranges.length; i++)
      if (i == ranges.length - 1 || ranges[i].head.line < ranges[i + 1].head.line)
        cm.indentLine(ranges[i].head.line);
  }

  function autoCloseSlash(cm) {
    if (cm.getOption("disableInput")) return CodeMirror.Pass;
    return autoCloseCurrent(cm, true);
  }

  CodeMirror.commands.closeTag = function(cm) { return autoCloseCurrent(cm); };

  function indexOf(collection, elt) {
    if (collection.indexOf) return collection.indexOf(elt);
    for (var i = 0, e = collection.length; i < e; ++i)
      if (collection[i] == elt) return i;
    return -1;
  }

  // If xml-fold is loaded, we use its functionality to try and verify
  // whether a given tag is actually unclosed.
  function closingTagExists(cm, tagName, pos, state, newTag) {
    if (!CodeMirror.scanForClosingTag) return false;
    var end = Math.min(cm.lastLine() + 1, pos.line + 500);
    var nextClose = CodeMirror.scanForClosingTag(cm, pos, null, end);
    if (!nextClose || nextClose.tag != tagName) return false;
    var cx = state.context;
    // If the immediate wrapping context contains onCx instances of
    // the same tag, a closing tag only exists if there are at least
    // that many closing tags of that type following.
    for (var onCx = newTag ? 1 : 0; cx && cx.tagName == tagName; cx = cx.prev) ++onCx;
    pos = nextClose.to;
    for (var i = 1; i < onCx; i++) {
      var next = CodeMirror.scanForClosingTag(cm, pos, null, end);
      if (!next || next.tag != tagName) return false;
      pos = next.to;
    }
    return true;
  }
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"), require("../xml/xml"), require("../javascript/javascript"), require("../css/css"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror", "../xml/xml", "../javascript/javascript", "../css/css"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  "use strict";

  var defaultTags = {
    script: [
      ["lang", /(javascript|babel)/i, "javascript"],
      ["type", /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i, "javascript"],
      ["type", /./, "text/plain"],
      [null, null, "javascript"]
    ],
    style:  [
      ["lang", /^css$/i, "css"],
      ["type", /^(text\/)?(x-)?(stylesheet|css)$/i, "css"],
      ["type", /./, "text/plain"],
      [null, null, "css"]
    ]
  };

  function maybeBackup(stream, pat, style) {
    var cur = stream.current(), close = cur.search(pat);
    if (close > -1) {
      stream.backUp(cur.length - close);
    } else if (cur.match(/<\/?$/)) {
      stream.backUp(cur.length);
      if (!stream.match(pat, false)) stream.match(cur);
    }
    return style;
  }

  var attrRegexpCache = {};
  function getAttrRegexp(attr) {
    var regexp = attrRegexpCache[attr];
    if (regexp) return regexp;
    return attrRegexpCache[attr] = new RegExp("\\s+" + attr + "\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*");
  }

  function getAttrValue(stream, attr) {
    var pos = stream.pos, match;
    while (pos >= 0 && stream.string.charAt(pos) !== "<") pos--;
    if (pos < 0) return pos;
    if (match = stream.string.slice(pos, stream.pos).match(getAttrRegexp(attr)))
      return match[2];
    return "";
  }

  function getTagRegexp(tagName, anchored) {
    return new RegExp((anchored ? "^" : "") + "<\/\s*" + tagName + "\s*>", "i");
  }

  function addTags(from, to) {
    for (var tag in from) {
      var dest = to[tag] || (to[tag] = []);
      var source = from[tag];
      for (var i = source.length - 1; i >= 0; i--)
        dest.unshift(source[i])
    }
  }

  function findMatchingMode(tagInfo, stream) {
    for (var i = 0; i < tagInfo.length; i++) {
      var spec = tagInfo[i];
      if (!spec[0] || spec[1].test(getAttrValue(stream, spec[0]))) return spec[2];
    }
  }

  CodeMirror.defineMode("htmlmixed", function (config, parserConfig) {
    var htmlMode = CodeMirror.getMode(config, {
      name: "xml",
      htmlMode: true,
      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,
      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag
    });

    var tags = {};
    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;
    addTags(defaultTags, tags);
    if (configTags) addTags(configTags, tags);
    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)
      tags.script.unshift(["type", configScript[i].matches, configScript[i].mode])

    function html(stream, state) {
      var tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase();
      var tagInfo = tagName && tags.hasOwnProperty(tagName) && tags[tagName];

      var style = htmlMode.token(stream, state.htmlState), modeSpec;

      if (tagInfo && /\btag\b/.test(style) && stream.current() === ">" &&
          (modeSpec = findMatchingMode(tagInfo, stream))) {
        var mode = CodeMirror.getMode(config, modeSpec);
        var endTagA = getTagRegexp(tagName, true), endTag = getTagRegexp(tagName, false);
        state.token = function (stream, state) {
          if (stream.match(endTagA, false)) {
            state.token = html;
            state.localState = state.localMode = null;
            return null;
          }
          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));
        };
        state.localMode = mode;
        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, ""));
      }
      return style;
    };

    return {
      startState: function () {
        var state = htmlMode.startState();
        return {token: html, localMode: null, localState: null, htmlState: state};
      },

      copyState: function (state) {
        var local;
        if (state.localState) {
          local = CodeMirror.copyState(state.localMode, state.localState);
        }
        return {token: state.token, localMode: state.localMode, localState: local,
                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};
      },

      token: function (stream, state) {
        return state.token(stream, state);
      },

      indent: function (state, textAfter) {
        if (!state.localMode || /^\s*<\//.test(textAfter))
          return htmlMode.indent(state.htmlState, textAfter);
        else if (state.localMode.indent)
          return state.localMode.indent(state.localState, textAfter);
        else
          return CodeMirror.Pass;
      },

      innerMode: function (state) {
        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};
      }
    };
  }, "xml", "javascript", "css");

  CodeMirror.defineMIME("text/html", "htmlmixed");
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

/**
 * Supported keybindings:
 *   Too many to list. Refer to defaultKeyMap below.
 *
 * Supported Ex commands:
 *   Refer to defaultExCommandMap below.
 *
 * Registers: unnamed, -, a-z, A-Z, 0-9
 *   (Does not respect the special case for number registers when delete
 *    operator is made with these commands: %, (, ),  , /, ?, n, N, {, } )
 *   TODO: Implement the remaining registers.
 *
 * Marks: a-z, A-Z, and 0-9
 *   TODO: Implement the remaining special marks. They have more complex
 *       behavior.
 *
 * Events:
 *  'vim-mode-change' - raised on the editor anytime the current mode changes,
 *                      Event object: {mode: "visual", subMode: "linewise"}
 *
 * Code structure:
 *  1. Default keymap
 *  2. Variable declarations and short basic helpers
 *  3. Instance (External API) implementation
 *  4. Internal state tracking objects (input state, counter) implementation
 *     and instanstiation
 *  5. Key handler (the main command dispatcher) implementation
 *  6. Motion, operator, and action implementations
 *  7. Helper functions for the key handler, motions, operators, and actions
 *  8. Set up Vim to work as a keymap for CodeMirror.
 *  9. Ex command implementations.
 */

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../lib/codemirror"), require("../addon/search/searchcursor"), require("../addon/dialog/dialog"), require("../addon/edit/matchbrackets.js"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../lib/codemirror", "../addon/search/searchcursor", "../addon/dialog/dialog", "../addon/edit/matchbrackets"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
  'use strict';

  var defaultKeymap = [
    // Key to key mapping. This goes first to make it possible to override
    // existing mappings.
    { keys: '<Left>', type: 'keyToKey', toKeys: 'h' },
    { keys: '<Right>', type: 'keyToKey', toKeys: 'l' },
    { keys: '<Up>', type: 'keyToKey', toKeys: 'k' },
    { keys: '<Down>', type: 'keyToKey', toKeys: 'j' },
    { keys: '<Space>', type: 'keyToKey', toKeys: 'l' },
    { keys: '<BS>', type: 'keyToKey', toKeys: 'h', context: 'normal'},
    { keys: '<C-Space>', type: 'keyToKey', toKeys: 'W' },
    { keys: '<C-BS>', type: 'keyToKey', toKeys: 'B', context: 'normal' },
    { keys: '<S-Space>', type: 'keyToKey', toKeys: 'w' },
    { keys: '<S-BS>', type: 'keyToKey', toKeys: 'b', context: 'normal' },
    { keys: '<C-n>', type: 'keyToKey', toKeys: 'j' },
    { keys: '<C-p>', type: 'keyToKey', toKeys: 'k' },
    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>' },
    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>' },
    { keys: '<C-[>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },
    { keys: '<C-c>', type: 'keyToKey', toKeys: '<Esc>', context: 'insert' },
    { keys: 's', type: 'keyToKey', toKeys: 'cl', context: 'normal' },
    { keys: 's', type: 'keyToKey', toKeys: 'xi', context: 'visual'},
    { keys: 'S', type: 'keyToKey', toKeys: 'cc', context: 'normal' },
    { keys: 'S', type: 'keyToKey', toKeys: 'dcc', context: 'visual' },
    { keys: '<Home>', type: 'keyToKey', toKeys: '0' },
    { keys: '<End>', type: 'keyToKey', toKeys: '$' },
    { keys: '<PageUp>', type: 'keyToKey', toKeys: '<C-b>' },
    { keys: '<PageDown>', type: 'keyToKey', toKeys: '<C-f>' },
    { keys: '<CR>', type: 'keyToKey', toKeys: 'j^', context: 'normal' },
    // Motions
    { keys: 'H', type: 'motion', motion: 'moveToTopLine', motionArgs: { linewise: true, toJumplist: true }},
    { keys: 'M', type: 'motion', motion: 'moveToMiddleLine', motionArgs: { linewise: true, toJumplist: true }},
    { keys: 'L', type: 'motion', motion: 'moveToBottomLine', motionArgs: { linewise: true, toJumplist: true }},
    { keys: 'h', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: false }},
    { keys: 'l', type: 'motion', motion: 'moveByCharacters', motionArgs: { forward: true }},
    { keys: 'j', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, linewise: true }},
    { keys: 'k', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, linewise: true }},
    { keys: 'gj', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: true }},
    { keys: 'gk', type: 'motion', motion: 'moveByDisplayLines', motionArgs: { forward: false }},
    { keys: 'w', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false }},
    { keys: 'W', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: false, bigWord: true }},
    { keys: 'e', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, inclusive: true }},
    { keys: 'E', type: 'motion', motion: 'moveByWords', motionArgs: { forward: true, wordEnd: true, bigWord: true, inclusive: true }},
    { keys: 'b', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }},
    { keys: 'B', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false, bigWord: true }},
    { keys: 'ge', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, inclusive: true }},
    { keys: 'gE', type: 'motion', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: true, bigWord: true, inclusive: true }},
    { keys: '{', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: false, toJumplist: true }},
    { keys: '}', type: 'motion', motion: 'moveByParagraph', motionArgs: { forward: true, toJumplist: true }},
    { keys: '<C-f>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: true }},
    { keys: '<C-b>', type: 'motion', motion: 'moveByPage', motionArgs: { forward: false }},
    { keys: '<C-d>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: true, explicitRepeat: true }},
    { keys: '<C-u>', type: 'motion', motion: 'moveByScroll', motionArgs: { forward: false, explicitRepeat: true }},
    { keys: 'gg', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: false, explicitRepeat: true, linewise: true, toJumplist: true }},
    { keys: 'G', type: 'motion', motion: 'moveToLineOrEdgeOfDocument', motionArgs: { forward: true, explicitRepeat: true, linewise: true, toJumplist: true }},
    { keys: '0', type: 'motion', motion: 'moveToStartOfLine' },
    { keys: '^', type: 'motion', motion: 'moveToFirstNonWhiteSpaceCharacter' },
    { keys: '+', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true }},
    { keys: '-', type: 'motion', motion: 'moveByLines', motionArgs: { forward: false, toFirstChar:true }},
    { keys: '_', type: 'motion', motion: 'moveByLines', motionArgs: { forward: true, toFirstChar:true, repeatOffset:-1 }},
    { keys: '$', type: 'motion', motion: 'moveToEol', motionArgs: { inclusive: true }},
    { keys: '%', type: 'motion', motion: 'moveToMatchedSymbol', motionArgs: { inclusive: true, toJumplist: true }},
    { keys: 'f<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: true , inclusive: true }},
    { keys: 'F<character>', type: 'motion', motion: 'moveToCharacter', motionArgs: { forward: false }},
    { keys: 't<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: true, inclusive: true }},
    { keys: 'T<character>', type: 'motion', motion: 'moveTillCharacter', motionArgs: { forward: false }},
    { keys: ';', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: true }},
    { keys: ',', type: 'motion', motion: 'repeatLastCharacterSearch', motionArgs: { forward: false }},
    { keys: '\'<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true, linewise: true}},
    { keys: '`<character>', type: 'motion', motion: 'goToMark', motionArgs: {toJumplist: true}},
    { keys: ']`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true } },
    { keys: '[`', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false } },
    { keys: ']\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: true, linewise: true } },
    { keys: '[\'', type: 'motion', motion: 'jumpToMark', motionArgs: { forward: false, linewise: true } },
    // the next two aren't motions but must come before more general motion declarations
    { keys: ']p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true, matchIndent: true}},
    { keys: '[p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true, matchIndent: true}},
    { keys: ']<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: true, toJumplist: true}},
    { keys: '[<character>', type: 'motion', motion: 'moveToSymbol', motionArgs: { forward: false, toJumplist: true}},
    { keys: '|', type: 'motion', motion: 'moveToColumn'},
    { keys: 'o', type: 'motion', motion: 'moveToOtherHighlightedEnd', context:'visual'},
    { keys: 'O', type: 'motion', motion: 'moveToOtherHighlightedEnd', motionArgs: {sameLine: true}, context:'visual'},
    // Operators
    { keys: 'd', type: 'operator', operator: 'delete' },
    { keys: 'y', type: 'operator', operator: 'yank' },
    { keys: 'c', type: 'operator', operator: 'change' },
    { keys: '>', type: 'operator', operator: 'indent', operatorArgs: { indentRight: true }},
    { keys: '<', type: 'operator', operator: 'indent', operatorArgs: { indentRight: false }},
    { keys: 'g~', type: 'operator', operator: 'changeCase' },
    { keys: 'gu', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, isEdit: true },
    { keys: 'gU', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, isEdit: true },
    { keys: 'n', type: 'motion', motion: 'findNext', motionArgs: { forward: true, toJumplist: true }},
    { keys: 'N', type: 'motion', motion: 'findNext', motionArgs: { forward: false, toJumplist: true }},
    // Operator-Motion dual commands
    { keys: 'x', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorMotionArgs: { visualLine: false }},
    { keys: 'X', type: 'operatorMotion', operator: 'delete', motion: 'moveByCharacters', motionArgs: { forward: false }, operatorMotionArgs: { visualLine: true }},
    { keys: 'D', type: 'operatorMotion', operator: 'delete', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},
    { keys: 'D', type: 'operator', operator: 'delete', operatorArgs: { linewise: true }, context: 'visual'},
    { keys: 'Y', type: 'operatorMotion', operator: 'yank', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},
    { keys: 'Y', type: 'operator', operator: 'yank', operatorArgs: { linewise: true }, context: 'visual'},
    { keys: 'C', type: 'operatorMotion', operator: 'change', motion: 'moveToEol', motionArgs: { inclusive: true }, context: 'normal'},
    { keys: 'C', type: 'operator', operator: 'change', operatorArgs: { linewise: true }, context: 'visual'},
    { keys: '~', type: 'operatorMotion', operator: 'changeCase', motion: 'moveByCharacters', motionArgs: { forward: true }, operatorArgs: { shouldMoveCursor: true }, context: 'normal'},
    { keys: '~', type: 'operator', operator: 'changeCase', context: 'visual'},
    { keys: '<C-w>', type: 'operatorMotion', operator: 'delete', motion: 'moveByWords', motionArgs: { forward: false, wordEnd: false }, context: 'insert' },
    // Actions
    { keys: '<C-i>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: true }},
    { keys: '<C-o>', type: 'action', action: 'jumpListWalk', actionArgs: { forward: false }},
    { keys: '<C-e>', type: 'action', action: 'scroll', actionArgs: { forward: true, linewise: true }},
    { keys: '<C-y>', type: 'action', action: 'scroll', actionArgs: { forward: false, linewise: true }},
    { keys: 'a', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'charAfter' }, context: 'normal' },
    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'eol' }, context: 'normal' },
    { keys: 'A', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'endOfSelectedArea' }, context: 'visual' },
    { keys: 'i', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'inplace' }, context: 'normal' },
    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'firstNonBlank'}, context: 'normal' },
    { keys: 'I', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { insertAt: 'startOfSelectedArea' }, context: 'visual' },
    { keys: 'o', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: true }, context: 'normal' },
    { keys: 'O', type: 'action', action: 'newLineAndEnterInsertMode', isEdit: true, interlaceInsertRepeat: true, actionArgs: { after: false }, context: 'normal' },
    { keys: 'v', type: 'action', action: 'toggleVisualMode' },
    { keys: 'V', type: 'action', action: 'toggleVisualMode', actionArgs: { linewise: true }},
    { keys: '<C-v>', type: 'action', action: 'toggleVisualMode', actionArgs: { blockwise: true }},
    { keys: 'gv', type: 'action', action: 'reselectLastSelection' },
    { keys: 'J', type: 'action', action: 'joinLines', isEdit: true },
    { keys: 'p', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: true, isEdit: true }},
    { keys: 'P', type: 'action', action: 'paste', isEdit: true, actionArgs: { after: false, isEdit: true }},
    { keys: 'r<character>', type: 'action', action: 'replace', isEdit: true },
    { keys: '@<character>', type: 'action', action: 'replayMacro' },
    { keys: 'q<character>', type: 'action', action: 'enterMacroRecordMode' },
    // Handle Replace-mode as a special case of insert mode.
    { keys: 'R', type: 'action', action: 'enterInsertMode', isEdit: true, actionArgs: { replace: true }},
    { keys: 'u', type: 'action', action: 'undo', context: 'normal' },
    { keys: 'u', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: true}, context: 'visual', isEdit: true },
    { keys: 'U', type: 'operator', operator: 'changeCase', operatorArgs: {toLower: false}, context: 'visual', isEdit: true },
    { keys: '<C-r>', type: 'action', action: 'redo' },
    { keys: 'm<character>', type: 'action', action: 'setMark' },
    { keys: '"<character>', type: 'action', action: 'setRegister' },
    { keys: 'zz', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }},
    { keys: 'z.', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'center' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },
    { keys: 'zt', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }},
    { keys: 'z<CR>', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'top' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },
    { keys: 'z-', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }},
    { keys: 'zb', type: 'action', action: 'scrollToCursor', actionArgs: { position: 'bottom' }, motion: 'moveToFirstNonWhiteSpaceCharacter' },
    { keys: '.', type: 'action', action: 'repeatLastEdit' },
    { keys: '<C-a>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: true, backtrack: false}},
    { keys: '<C-x>', type: 'action', action: 'incrementNumberToken', isEdit: true, actionArgs: {increase: false, backtrack: false}},
    // Text object motions
    { keys: 'a<character>', type: 'motion', motion: 'textObjectManipulation' },
    { keys: 'i<character>', type: 'motion', motion: 'textObjectManipulation', motionArgs: { textObjectInner: true }},
    // Search
    { keys: '/', type: 'search', searchArgs: { forward: true, querySrc: 'prompt', toJumplist: true }},
    { keys: '?', type: 'search', searchArgs: { forward: false, querySrc: 'prompt', toJumplist: true }},
    { keys: '*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},
    { keys: '#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', wholeWordOnly: true, toJumplist: true }},
    { keys: 'g*', type: 'search', searchArgs: { forward: true, querySrc: 'wordUnderCursor', toJumplist: true }},
    { keys: 'g#', type: 'search', searchArgs: { forward: false, querySrc: 'wordUnderCursor', toJumplist: true }},
    // Ex command
    { keys: ':', type: 'ex' }
  ];

  /**
   * Ex commands
   * Care must be taken when adding to the default Ex command map. For any
   * pair of commands that have a shared prefix, at least one of their
   * shortNames must not match the prefix of the other command.
   */
  var defaultExCommandMap = [
    { name: 'colorscheme', shortName: 'colo' },
    { name: 'map' },
    { name: 'imap', shortName: 'im' },
    { name: 'nmap', shortName: 'nm' },
    { name: 'vmap', shortName: 'vm' },
    { name: 'unmap' },
    { name: 'write', shortName: 'w' },
    { name: 'undo', shortName: 'u' },
    { name: 'redo', shortName: 'red' },
    { name: 'set', shortName: 'se' },
    { name: 'set', shortName: 'se' },
    { name: 'setlocal', shortName: 'setl' },
    { name: 'setglobal', shortName: 'setg' },
    { name: 'sort', shortName: 'sor' },
    { name: 'substitute', shortName: 's', possiblyAsync: true },
    { name: 'nohlsearch', shortName: 'noh' },
    { name: 'delmarks', shortName: 'delm' },
    { name: 'registers', shortName: 'reg', excludeFromCommandHistory: true },
    { name: 'global', shortName: 'g' }
  ];

  var Pos = CodeMirror.Pos;

  var Vim = function() {
    function enterVimMode(cm) {
      cm.setOption('disableInput', true);
      cm.setOption('showCursorWhenSelecting', false);
      CodeMirror.signal(cm, "vim-mode-change", {mode: "normal"});
      cm.on('cursorActivity', onCursorActivity);
      maybeInitVimState(cm);
      CodeMirror.on(cm.getInputField(), 'paste', getOnPasteFn(cm));
    }

    function leaveVimMode(cm) {
      cm.setOption('disableInput', false);
      cm.off('cursorActivity', onCursorActivity);
      CodeMirror.off(cm.getInputField(), 'paste', getOnPasteFn(cm));
      cm.state.vim = null;
    }

    function detachVimMap(cm, next) {
      if (this == CodeMirror.keyMap.vim)
        CodeMirror.rmClass(cm.getWrapperElement(), "cm-fat-cursor");

      if (!next || next.attach != attachVimMap)
        leaveVimMode(cm, false);
    }
    function attachVimMap(cm, prev) {
      if (this == CodeMirror.keyMap.vim)
        CodeMirror.addClass(cm.getWrapperElement(), "cm-fat-cursor");

      if (!prev || prev.attach != attachVimMap)
        enterVimMode(cm);
    }

    // Deprecated, simply setting the keymap works again.
    CodeMirror.defineOption('vimMode', false, function(cm, val, prev) {
      if (val && cm.getOption("keyMap") != "vim")
        cm.setOption("keyMap", "vim");
      else if (!val && prev != CodeMirror.Init && /^vim/.test(cm.getOption("keyMap")))
        cm.setOption("keyMap", "default");
    });

    function cmKey(key, cm) {
      if (!cm) { return undefined; }
      var vimKey = cmKeyToVimKey(key);
      if (!vimKey) {
        return false;
      }
      var cmd = CodeMirror.Vim.findKey(cm, vimKey);
      if (typeof cmd == 'function') {
        CodeMirror.signal(cm, 'vim-keypress', vimKey);
      }
      return cmd;
    }

    var modifiers = {'Shift': 'S', 'Ctrl': 'C', 'Alt': 'A', 'Cmd': 'D', 'Mod': 'A'};
    var specialKeys = {Enter:'CR',Backspace:'BS',Delete:'Del'};
    function cmKeyToVimKey(key) {
      if (key.charAt(0) == '\'') {
        // Keypress character binding of format "'a'"
        return key.charAt(1);
      }
      var pieces = key.split(/-(?!$)/);
      var lastPiece = pieces[pieces.length - 1];
      if (pieces.length == 1 && pieces[0].length == 1) {
        // No-modifier bindings use literal character bindings above. Skip.
        return false;
      } else if (pieces.length == 2 && pieces[0] == 'Shift' && lastPiece.length == 1) {
        // Ignore Shift+char bindings as they should be handled by literal character.
        return false;
      }
      var hasCharacter = false;
      for (var i = 0; i < pieces.length; i++) {
        var piece = pieces[i];
        if (piece in modifiers) { pieces[i] = modifiers[piece]; }
        else { hasCharacter = true; }
        if (piece in specialKeys) { pieces[i] = specialKeys[piece]; }
      }
      if (!hasCharacter) {
        // Vim does not support modifier only keys.
        return false;
      }
      // TODO: Current bindings expect the character to be lower case, but
      // it looks like vim key notation uses upper case.
      if (isUpperCase(lastPiece)) {
        pieces[pieces.length - 1] = lastPiece.toLowerCase();
      }
      return '<' + pieces.join('-') + '>';
    }

    function getOnPasteFn(cm) {
      var vim = cm.state.vim;
      if (!vim.onPasteFn) {
        vim.onPasteFn = function() {
          if (!vim.insertMode) {
            cm.setCursor(offsetCursor(cm.getCursor(), 0, 1));
            actions.enterInsertMode(cm, {}, vim);
          }
        };
      }
      return vim.onPasteFn;
    }

    var numberRegex = /[\d]/;
    var wordCharTest = [CodeMirror.isWordChar, function(ch) {
      return ch && !CodeMirror.isWordChar(ch) && !/\s/.test(ch);
    }], bigWordCharTest = [function(ch) {
      return /\S/.test(ch);
    }];
    function makeKeyRange(start, size) {
      var keys = [];
      for (var i = start; i < start + size; i++) {
        keys.push(String.fromCharCode(i));
      }
      return keys;
    }
    var upperCaseAlphabet = makeKeyRange(65, 26);
    var lowerCaseAlphabet = makeKeyRange(97, 26);
    var numbers = makeKeyRange(48, 10);
    var validMarks = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['<', '>']);
    var validRegisters = [].concat(upperCaseAlphabet, lowerCaseAlphabet, numbers, ['-', '"', '.', ':', '/']);

    function isLine(cm, line) {
      return line >= cm.firstLine() && line <= cm.lastLine();
    }
    function isLowerCase(k) {
      return (/^[a-z]$/).test(k);
    }
    function isMatchableSymbol(k) {
      return '()[]{}'.indexOf(k) != -1;
    }
    function isNumber(k) {
      return numberRegex.test(k);
    }
    function isUpperCase(k) {
      return (/^[A-Z]$/).test(k);
    }
    function isWhiteSpaceString(k) {
      return (/^\s*$/).test(k);
    }
    function inArray(val, arr) {
      for (var i = 0; i < arr.length; i++) {
        if (arr[i] == val) {
          return true;
        }
      }
      return false;
    }

    var options = {};
    function defineOption(name, defaultValue, type, aliases, callback) {
      if (defaultValue === undefined && !callback) {
        throw Error('defaultValue is required unless callback is provided');
      }
      if (!type) { type = 'string'; }
      options[name] = {
        type: type,
        defaultValue: defaultValue,
        callback: callback
      };
      if (aliases) {
        for (var i = 0; i < aliases.length; i++) {
          options[aliases[i]] = options[name];
        }
      }
      if (defaultValue) {
        setOption(name, defaultValue);
      }
    }

    function setOption(name, value, cm, cfg) {
      var option = options[name];
      cfg = cfg || {};
      var scope = cfg.scope;
      if (!option) {
        throw Error('Unknown option: ' + name);
      }
      if (option.type == 'boolean') {
        if (value && value !== true) {
          throw Error('Invalid argument: ' + name + '=' + value);
        } else if (value !== false) {
          // Boolean options are set to true if value is not defined.
          value = true;
        }
      }
      if (option.callback) {
        if (scope !== 'local') {
          option.callback(value, undefined);
        }
        if (scope !== 'global' && cm) {
          option.callback(value, cm);
        }
      } else {
        if (scope !== 'local') {
          option.value = option.type == 'boolean' ? !!value : value;
        }
        if (scope !== 'global' && cm) {
          cm.state.vim.options[name] = {value: value};
        }
      }
    }

    function getOption(name, cm, cfg) {
      var option = options[name];
      cfg = cfg || {};
      var scope = cfg.scope;
      if (!option) {
        throw Error('Unknown option: ' + name);
      }
      if (option.callback) {
        var local = cm && option.callback(undefined, cm);
        if (scope !== 'global' && local !== undefined) {
          return local;
        }
        if (scope !== 'local') {
          return option.callback();
        }
        return;
      } else {
        var local = (scope !== 'global') && (cm && cm.state.vim.options[name]);
        return (local || (scope !== 'local') && option || {}).value;
      }
    }

    defineOption('filetype', undefined, 'string', ['ft'], function(name, cm) {
      // Option is local. Do nothing for global.
      if (cm === undefined) {
        return;
      }
      // The 'filetype' option proxies to the CodeMirror 'mode' option.
      if (name === undefined) {
        var mode = cm.getOption('mode');
        return mode == 'null' ? '' : mode;
      } else {
        var mode = name == '' ? 'null' : name;
        cm.setOption('mode', mode);
      }
    });

    var createCircularJumpList = function() {
      var size = 100;
      var pointer = -1;
      var head = 0;
      var tail = 0;
      var buffer = new Array(size);
      function add(cm, oldCur, newCur) {
        var current = pointer % size;
        var curMark = buffer[current];
        function useNextSlot(cursor) {
          var next = ++pointer % size;
          var trashMark = buffer[next];
          if (trashMark) {
            trashMark.clear();
          }
          buffer[next] = cm.setBookmark(cursor);
        }
        if (curMark) {
          var markPos = curMark.find();
          // avoid recording redundant cursor position
          if (markPos && !cursorEqual(markPos, oldCur)) {
            useNextSlot(oldCur);
          }
        } else {
          useNextSlot(oldCur);
        }
        useNextSlot(newCur);
        head = pointer;
        tail = pointer - size + 1;
        if (tail < 0) {
          tail = 0;
        }
      }
      function move(cm, offset) {
        pointer += offset;
        if (pointer > head) {
          pointer = head;
        } else if (pointer < tail) {
          pointer = tail;
        }
        var mark = buffer[(size + pointer) % size];
        // skip marks that are temporarily removed from text buffer
        if (mark && !mark.find()) {
          var inc = offset > 0 ? 1 : -1;
          var newCur;
          var oldCur = cm.getCursor();
          do {
            pointer += inc;
            mark = buffer[(size + pointer) % size];
            // skip marks that are the same as current position
            if (mark &&
                (newCur = mark.find()) &&
                !cursorEqual(oldCur, newCur)) {
              break;
            }
          } while (pointer < head && pointer > tail);
        }
        return mark;
      }
      return {
        cachedCursor: undefined, //used for # and * jumps
        add: add,
        move: move
      };
    };

    // Returns an object to track the changes associated insert mode.  It
    // clones the object that is passed in, or creates an empty object one if
    // none is provided.
    var createInsertModeChanges = function(c) {
      if (c) {
        // Copy construction
        return {
          changes: c.changes,
          expectCursorActivityForChange: c.expectCursorActivityForChange
        };
      }
      return {
        // Change list
        changes: [],
        // Set to true on change, false on cursorActivity.
        expectCursorActivityForChange: false
      };
    };

    function MacroModeState() {
      this.latestRegister = undefined;
      this.isPlaying = false;
      this.isRecording = false;
      this.replaySearchQueries = [];
      this.onRecordingDone = undefined;
      this.lastInsertModeChanges = createInsertModeChanges();
    }
    MacroModeState.prototype = {
      exitMacroRecordMode: function() {
        var macroModeState = vimGlobalState.macroModeState;
        if (macroModeState.onRecordingDone) {
          macroModeState.onRecordingDone(); // close dialog
        }
        macroModeState.onRecordingDone = undefined;
        macroModeState.isRecording = false;
      },
      enterMacroRecordMode: function(cm, registerName) {
        var register =
            vimGlobalState.registerController.getRegister(registerName);
        if (register) {
          register.clear();
          this.latestRegister = registerName;
          if (cm.openDialog) {
            this.onRecordingDone = cm.openDialog(
                '(recording)['+registerName+']', null, {bottom:true});
          }
          this.isRecording = true;
        }
      }
    };

    function maybeInitVimState(cm) {
      if (!cm.state.vim) {
        // Store instance state in the CodeMirror object.
        cm.state.vim = {
          inputState: new InputState(),
          // Vim's input state that triggered the last edit, used to repeat
          // motions and operators with '.'.
          lastEditInputState: undefined,
          // Vim's action command before the last edit, used to repeat actions
          // with '.' and insert mode repeat.
          lastEditActionCommand: undefined,
          // When using jk for navigation, if you move from a longer line to a
          // shorter line, the cursor may clip to the end of the shorter line.
          // If j is pressed again and cursor goes to the next line, the
          // cursor should go back to its horizontal position on the longer
          // line if it can. This is to keep track of the horizontal position.
          lastHPos: -1,
          // Doing the same with screen-position for gj/gk
          lastHSPos: -1,
          // The last motion command run. Cleared if a non-motion command gets
          // executed in between.
          lastMotion: null,
          marks: {},
          // Mark for rendering fake cursor for visual mode.
          fakeCursor: null,
          insertMode: false,
          // Repeat count for changes made in insert mode, triggered by key
          // sequences like 3,i. Only exists when insertMode is true.
          insertModeRepeat: undefined,
          visualMode: false,
          // If we are in visual line mode. No effect if visualMode is false.
          visualLine: false,
          visualBlock: false,
          lastSelection: null,
          lastPastedText: null,
          sel: {},
          // Buffer-local/window-local values of vim options.
          options: {}
        };
      }
      return cm.state.vim;
    }
    var vimGlobalState;
    function resetVimGlobalState() {
      vimGlobalState = {
        // The current search query.
        searchQuery: null,
        // Whether we are searching backwards.
        searchIsReversed: false,
        // Replace part of the last substituted pattern
        lastSubstituteReplacePart: undefined,
        jumpList: createCircularJumpList(),
        macroModeState: new MacroModeState,
        // Recording latest f, t, F or T motion command.
        lastChararacterSearch: {increment:0, forward:true, selectedCharacter:''},
        registerController: new RegisterController({}),
        // search history buffer
        searchHistoryController: new HistoryController({}),
        // ex Command history buffer
        exCommandHistoryController : new HistoryController({})
      };
      for (var optionName in options) {
        var option = options[optionName];
        option.value = option.defaultValue;
      }
    }

    var lastInsertModeKeyTimer;
    var vimApi= {
      buildKeyMap: function() {
        // TODO: Convert keymap into dictionary format for fast lookup.
      },
      // Testing hook, though it might be useful to expose the register
      // controller anyways.
      getRegisterController: function() {
        return vimGlobalState.registerController;
      },
      // Testing hook.
      resetVimGlobalState_: resetVimGlobalState,

      // Testing hook.
      getVimGlobalState_: function() {
        return vimGlobalState;
      },

      // Testing hook.
      maybeInitVimState_: maybeInitVimState,

      suppressErrorLogging: false,

      InsertModeKey: InsertModeKey,
      map: function(lhs, rhs, ctx) {
        // Add user defined key bindings.
        exCommandDispatcher.map(lhs, rhs, ctx);
      },
      // TODO: Expose setOption and getOption as instance methods. Need to decide how to namespace
      // them, or somehow make them work with the existing CodeMirror setOption/getOption API.
      setOption: setOption,
      getOption: getOption,
      defineOption: defineOption,
      defineEx: function(name, prefix, func){
        if (!prefix) {
          prefix = name;
        } else if (name.indexOf(prefix) !== 0) {
          throw new Error('(Vim.defineEx) "'+prefix+'" is not a prefix of "'+name+'", command not registered');
        }
        exCommands[name]=func;
        exCommandDispatcher.commandMap_[prefix]={name:name, shortName:prefix, type:'api'};
      },
      handleKey: function (cm, key, origin) {
        var command = this.findKey(cm, key, origin);
        if (typeof command === 'function') {
          return command();
        }
      },
      /**
       * This is the outermost function called by CodeMirror, after keys have
       * been mapped to their Vim equivalents.
       *
       * Finds a command based on the key (and cached keys if there is a
       * multi-key sequence). Returns `undefined` if no key is matched, a noop
       * function if a partial match is found (multi-key), and a function to
       * execute the bound command if a a key is matched. The function always
       * returns true.
       */
      findKey: function(cm, key, origin) {
        var vim = maybeInitVimState(cm);
        function handleMacroRecording() {
          var macroModeState = vimGlobalState.macroModeState;
          if (macroModeState.isRecording) {
            if (key == 'q') {
              macroModeState.exitMacroRecordMode();
              clearInputState(cm);
              return true;
            }
            if (origin != 'mapping') {
              logKey(macroModeState, key);
            }
          }
        }
        function handleEsc() {
          if (key == '<Esc>') {
            // Clear input state and get back to normal mode.
            clearInputState(cm);
            if (vim.visualMode) {
              exitVisualMode(cm);
            } else if (vim.insertMode) {
              exitInsertMode(cm);
            }
            return true;
          }
        }
        function doKeyToKey(keys) {
          // TODO: prevent infinite recursion.
          var match;
          while (keys) {
            // Pull off one command key, which is either a single character
            // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.
            match = (/<\w+-.+?>|<\w+>|./).exec(keys);
            key = match[0];
            keys = keys.substring(match.index + key.length);
            CodeMirror.Vim.handleKey(cm, key, 'mapping');
          }
        }

        function handleKeyInsertMode() {
          if (handleEsc()) { return true; }
          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;
          var keysAreChars = key.length == 1;
          var match = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');
          // Need to check all key substrings in insert mode.
          while (keys.length > 1 && match.type != 'full') {
            var keys = vim.inputState.keyBuffer = keys.slice(1);
            var thisMatch = commandDispatcher.matchCommand(keys, defaultKeymap, vim.inputState, 'insert');
            if (thisMatch.type != 'none') { match = thisMatch; }
          }
          if (match.type == 'none') { clearInputState(cm); return false; }
          else if (match.type == 'partial') {
            if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }
            lastInsertModeKeyTimer = window.setTimeout(
              function() { if (vim.insertMode && vim.inputState.keyBuffer) { clearInputState(cm); } },
              getOption('insertModeEscKeysTimeout'));
            return !keysAreChars;
          }

          if (lastInsertModeKeyTimer) { window.clearTimeout(lastInsertModeKeyTimer); }
          if (keysAreChars) {
            var here = cm.getCursor();
            cm.replaceRange('', offsetCursor(here, 0, -(keys.length - 1)), here, '+input');
          }
          clearInputState(cm);
          return match.command;
        }

        function handleKeyNonInsertMode() {
          if (handleMacroRecording() || handleEsc()) { return true; };

          var keys = vim.inputState.keyBuffer = vim.inputState.keyBuffer + key;
          if (/^[1-9]\d*$/.test(keys)) { return true; }

          var keysMatcher = /^(\d*)(.*)$/.exec(keys);
          if (!keysMatcher) { clearInputState(cm); return false; }
          var context = vim.visualMode ? 'visual' :
                                         'normal';
          var match = commandDispatcher.matchCommand(keysMatcher[2] || keysMatcher[1], defaultKeymap, vim.inputState, context);
          if (match.type == 'none') { clearInputState(cm); return false; }
          else if (match.type == 'partial') { return true; }

          vim.inputState.keyBuffer = '';
          var keysMatcher = /^(\d*)(.*)$/.exec(keys);
          if (keysMatcher[1] && keysMatcher[1] != '0') {
            vim.inputState.pushRepeatDigit(keysMatcher[1]);
          }
          return match.command;
        }

        var command;
        if (vim.insertMode) { command = handleKeyInsertMode(); }
        else { command = handleKeyNonInsertMode(); }
        if (command === false) {
          return undefined;
        } else if (command === true) {
          // TODO: Look into using CodeMirror's multi-key handling.
          // Return no-op since we are caching the key. Counts as handled, but
          // don't want act on it just yet.
          return function() {};
        } else {
          return function() {
            return cm.operation(function() {
              cm.curOp.isVimOp = true;
              try {
                if (command.type == 'keyToKey') {
                  doKeyToKey(command.toKeys);
                } else {
                  commandDispatcher.processCommand(cm, vim, command);
                }
              } catch (e) {
                // clear VIM state in case it's in a bad state.
                cm.state.vim = undefined;
                maybeInitVimState(cm);
                if (!CodeMirror.Vim.suppressErrorLogging) {
                  console['log'](e);
                }
                throw e;
              }
              return true;
            });
          };
        }
      },
      handleEx: function(cm, input) {
        exCommandDispatcher.processCommand(cm, input);
      },

      defineMotion: defineMotion,
      defineAction: defineAction,
      defineOperator: defineOperator,
      mapCommand: mapCommand,
      _mapCommand: _mapCommand,

      defineRegister: defineRegister,

      exitVisualMode: exitVisualMode,
      exitInsertMode: exitInsertMode
    };

    // Represents the current input state.
    function InputState() {
      this.prefixRepeat = [];
      this.motionRepeat = [];

      this.operator = null;
      this.operatorArgs = null;
      this.motion = null;
      this.motionArgs = null;
      this.keyBuffer = []; // For matching multi-key commands.
      this.registerName = null; // Defaults to the unnamed register.
    }
    InputState.prototype.pushRepeatDigit = function(n) {
      if (!this.operator) {
        this.prefixRepeat = this.prefixRepeat.concat(n);
      } else {
        this.motionRepeat = this.motionRepeat.concat(n);
      }
    };
    InputState.prototype.getRepeat = function() {
      var repeat = 0;
      if (this.prefixRepeat.length > 0 || this.motionRepeat.length > 0) {
        repeat = 1;
        if (this.prefixRepeat.length > 0) {
          repeat *= parseInt(this.prefixRepeat.join(''), 10);
        }
        if (this.motionRepeat.length > 0) {
          repeat *= parseInt(this.motionRepeat.join(''), 10);
        }
      }
      return repeat;
    };

    function clearInputState(cm, reason) {
      cm.state.vim.inputState = new InputState();
      CodeMirror.signal(cm, 'vim-command-done', reason);
    }

    /*
     * Register stores information about copy and paste registers.  Besides
     * text, a register must store whether it is linewise (i.e., when it is
     * pasted, should it insert itself into a new line, or should the text be
     * inserted at the cursor position.)
     */
    function Register(text, linewise, blockwise) {
      this.clear();
      this.keyBuffer = [text || ''];
      this.insertModeChanges = [];
      this.searchQueries = [];
      this.linewise = !!linewise;
      this.blockwise = !!blockwise;
    }
    Register.prototype = {
      setText: function(text, linewise, blockwise) {
        this.keyBuffer = [text || ''];
        this.linewise = !!linewise;
        this.blockwise = !!blockwise;
      },
      pushText: function(text, linewise) {
        // if this register has ever been set to linewise, use linewise.
        if (linewise) {
          if (!this.linewise) {
            this.keyBuffer.push('\n');
          }
          this.linewise = true;
        }
        this.keyBuffer.push(text);
      },
      pushInsertModeChanges: function(changes) {
        this.insertModeChanges.push(createInsertModeChanges(changes));
      },
      pushSearchQuery: function(query) {
        this.searchQueries.push(query);
      },
      clear: function() {
        this.keyBuffer = [];
        this.insertModeChanges = [];
        this.searchQueries = [];
        this.linewise = false;
      },
      toString: function() {
        return this.keyBuffer.join('');
      }
    };

    /**
     * Defines an external register.
     *
     * The name should be a single character that will be used to reference the register.
     * The register should support setText, pushText, clear, and toString(). See Register
     * for a reference implementation.
     */
    function defineRegister(name, register) {
      var registers = vimGlobalState.registerController.registers[name];
      if (!name || name.length != 1) {
        throw Error('Register name must be 1 character');
      }
      if (registers[name]) {
        throw Error('Register already defined ' + name);
      }
      registers[name] = register;
      validRegisters.push(name);
    }

    /*
     * vim registers allow you to keep many independent copy and paste buffers.
     * See http://usevim.com/2012/04/13/registers/ for an introduction.
     *
     * RegisterController keeps the state of all the registers.  An initial
     * state may be passed in.  The unnamed register '"' will always be
     * overridden.
     */
    function RegisterController(registers) {
      this.registers = registers;
      this.unnamedRegister = registers['"'] = new Register();
      registers['.'] = new Register();
      registers[':'] = new Register();
      registers['/'] = new Register();
    }
    RegisterController.prototype = {
      pushText: function(registerName, operator, text, linewise, blockwise) {
        if (linewise && text.charAt(0) == '\n') {
          text = text.slice(1) + '\n';
        }
        if (linewise && text.charAt(text.length - 1) !== '\n'){
          text += '\n';
        }
        // Lowercase and uppercase registers refer to the same register.
        // Uppercase just means append.
        var register = this.isValidRegister(registerName) ?
            this.getRegister(registerName) : null;
        // if no register/an invalid register was specified, things go to the
        // default registers
        if (!register) {
          switch (operator) {
            case 'yank':
              // The 0 register contains the text from the most recent yank.
              this.registers['0'] = new Register(text, linewise, blockwise);
              break;
            case 'delete':
            case 'change':
              if (text.indexOf('\n') == -1) {
                // Delete less than 1 line. Update the small delete register.
                this.registers['-'] = new Register(text, linewise);
              } else {
                // Shift down the contents of the numbered registers and put the
                // deleted text into register 1.
                this.shiftNumericRegisters_();
                this.registers['1'] = new Register(text, linewise);
              }
              break;
          }
          // Make sure the unnamed register is set to what just happened
          this.unnamedRegister.setText(text, linewise, blockwise);
          return;
        }

        // If we've gotten to this point, we've actually specified a register
        var append = isUpperCase(registerName);
        if (append) {
          register.pushText(text, linewise);
        } else {
          register.setText(text, linewise, blockwise);
        }
        // The unnamed register always has the same value as the last used
        // register.
        this.unnamedRegister.setText(register.toString(), linewise);
      },
      // Gets the register named @name.  If one of @name doesn't already exist,
      // create it.  If @name is invalid, return the unnamedRegister.
      getRegister: function(name) {
        if (!this.isValidRegister(name)) {
          return this.unnamedRegister;
        }
        name = name.toLowerCase();
        if (!this.registers[name]) {
          this.registers[name] = new Register();
        }
        return this.registers[name];
      },
      isValidRegister: function(name) {
        return name && inArray(name, validRegisters);
      },
      shiftNumericRegisters_: function() {
        for (var i = 9; i >= 2; i--) {
          this.registers[i] = this.getRegister('' + (i - 1));
        }
      }
    };
    function HistoryController() {
        this.historyBuffer = [];
        this.iterator;
        this.initialPrefix = null;
    }
    HistoryController.prototype = {
      // the input argument here acts a user entered prefix for a small time
      // until we start autocompletion in which case it is the autocompleted.
      nextMatch: function (input, up) {
        var historyBuffer = this.historyBuffer;
        var dir = up ? -1 : 1;
        if (this.initialPrefix === null) this.initialPrefix = input;
        for (var i = this.iterator + dir; up ? i >= 0 : i < historyBuffer.length; i+= dir) {
          var element = historyBuffer[i];
          for (var j = 0; j <= element.length; j++) {
            if (this.initialPrefix == element.substring(0, j)) {
              this.iterator = i;
              return element;
            }
          }
        }
        // should return the user input in case we reach the end of buffer.
        if (i >= historyBuffer.length) {
          this.iterator = historyBuffer.length;
          return this.initialPrefix;
        }
        // return the last autocompleted query or exCommand as it is.
        if (i < 0 ) return input;
      },
      pushInput: function(input) {
        var index = this.historyBuffer.indexOf(input);
        if (index > -1) this.historyBuffer.splice(index, 1);
        if (input.length) this.historyBuffer.push(input);
      },
      reset: function() {
        this.initialPrefix = null;
        this.iterator = this.historyBuffer.length;
      }
    };
    var commandDispatcher = {
      matchCommand: function(keys, keyMap, inputState, context) {
        var matches = commandMatches(keys, keyMap, context, inputState);
        if (!matches.full && !matches.partial) {
          return {type: 'none'};
        } else if (!matches.full && matches.partial) {
          return {type: 'partial'};
        }

        var bestMatch;
        for (var i = 0; i < matches.full.length; i++) {
          var match = matches.full[i];
          if (!bestMatch) {
            bestMatch = match;
          }
        }
        if (bestMatch.keys.slice(-11) == '<character>') {
          inputState.selectedCharacter = lastChar(keys);
        }
        return {type: 'full', command: bestMatch};
      },
      processCommand: function(cm, vim, command) {
        vim.inputState.repeatOverride = command.repeatOverride;
        switch (command.type) {
          case 'motion':
            this.processMotion(cm, vim, command);
            break;
          case 'operator':
            this.processOperator(cm, vim, command);
            break;
          case 'operatorMotion':
            this.processOperatorMotion(cm, vim, command);
            break;
          case 'action':
            this.processAction(cm, vim, command);
            break;
          case 'search':
            this.processSearch(cm, vim, command);
            break;
          case 'ex':
          case 'keyToEx':
            this.processEx(cm, vim, command);
            break;
          default:
            break;
        }
      },
      processMotion: function(cm, vim, command) {
        vim.inputState.motion = command.motion;
        vim.inputState.motionArgs = copyArgs(command.motionArgs);
        this.evalInput(cm, vim);
      },
      processOperator: function(cm, vim, command) {
        var inputState = vim.inputState;
        if (inputState.operator) {
          if (inputState.operator == command.operator) {
            // Typing an operator twice like 'dd' makes the operator operate
            // linewise
            inputState.motion = 'expandToLine';
            inputState.motionArgs = { linewise: true };
            this.evalInput(cm, vim);
            return;
          } else {
            // 2 different operators in a row doesn't make sense.
            clearInputState(cm);
          }
        }
        inputState.operator = command.operator;
        inputState.operatorArgs = copyArgs(command.operatorArgs);
        if (vim.visualMode) {
          // Operating on a selection in visual mode. We don't need a motion.
          this.evalInput(cm, vim);
        }
      },
      processOperatorMotion: function(cm, vim, command) {
        var visualMode = vim.visualMode;
        var operatorMotionArgs = copyArgs(command.operatorMotionArgs);
        if (operatorMotionArgs) {
          // Operator motions may have special behavior in visual mode.
          if (visualMode && operatorMotionArgs.visualLine) {
            vim.visualLine = true;
          }
        }
        this.processOperator(cm, vim, command);
        if (!visualMode) {
          this.processMotion(cm, vim, command);
        }
      },
      processAction: function(cm, vim, command) {
        var inputState = vim.inputState;
        var repeat = inputState.getRepeat();
        var repeatIsExplicit = !!repeat;
        var actionArgs = copyArgs(command.actionArgs) || {};
        if (inputState.selectedCharacter) {
          actionArgs.selectedCharacter = inputState.selectedCharacter;
        }
        // Actions may or may not have motions and operators. Do these first.
        if (command.operator) {
          this.processOperator(cm, vim, command);
        }
        if (command.motion) {
          this.processMotion(cm, vim, command);
        }
        if (command.motion || command.operator) {
          this.evalInput(cm, vim);
        }
        actionArgs.repeat = repeat || 1;
        actionArgs.repeatIsExplicit = repeatIsExplicit;
        actionArgs.registerName = inputState.registerName;
        clearInputState(cm);
        vim.lastMotion = null;
        if (command.isEdit) {
          this.recordLastEdit(vim, inputState, command);
        }
        actions[command.action](cm, actionArgs, vim);
      },
      processSearch: function(cm, vim, command) {
        if (!cm.getSearchCursor) {
          // Search depends on SearchCursor.
          return;
        }
        var forward = command.searchArgs.forward;
        var wholeWordOnly = command.searchArgs.wholeWordOnly;
        getSearchState(cm).setReversed(!forward);
        var promptPrefix = (forward) ? '/' : '?';
        var originalQuery = getSearchState(cm).getQuery();
        var originalScrollPos = cm.getScrollInfo();
        function handleQuery(query, ignoreCase, smartCase) {
          vimGlobalState.searchHistoryController.pushInput(query);
          vimGlobalState.searchHistoryController.reset();
          try {
            updateSearchQuery(cm, query, ignoreCase, smartCase);
          } catch (e) {
            showConfirm(cm, 'Invalid regex: ' + query);
            clearInputState(cm);
            return;
          }
          commandDispatcher.processMotion(cm, vim, {
            type: 'motion',
            motion: 'findNext',
            motionArgs: { forward: true, toJumplist: command.searchArgs.toJumplist }
          });
        }
        function onPromptClose(query) {
          cm.scrollTo(originalScrollPos.left, originalScrollPos.top);
          handleQuery(query, true /** ignoreCase */, true /** smartCase */);
          var macroModeState = vimGlobalState.macroModeState;
          if (macroModeState.isRecording) {
            logSearchQuery(macroModeState, query);
          }
        }
        function onPromptKeyUp(e, query, close) {
          var keyName = CodeMirror.keyName(e), up;
          if (keyName == 'Up' || keyName == 'Down') {
            up = keyName == 'Up' ? true : false;
            query = vimGlobalState.searchHistoryController.nextMatch(query, up) || '';
            close(query);
          } else {
            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')
              vimGlobalState.searchHistoryController.reset();
          }
          var parsedQuery;
          try {
            parsedQuery = updateSearchQuery(cm, query,
                true /** ignoreCase */, true /** smartCase */);
          } catch (e) {
            // Swallow bad regexes for incremental search.
          }
          if (parsedQuery) {
            cm.scrollIntoView(findNext(cm, !forward, parsedQuery), 30);
          } else {
            clearSearchHighlight(cm);
            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);
          }
        }
        function onPromptKeyDown(e, query, close) {
          var keyName = CodeMirror.keyName(e);
          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||
              (keyName == 'Backspace' && query == '')) {
            vimGlobalState.searchHistoryController.pushInput(query);
            vimGlobalState.searchHistoryController.reset();
            updateSearchQuery(cm, originalQuery);
            clearSearchHighlight(cm);
            cm.scrollTo(originalScrollPos.left, originalScrollPos.top);
            CodeMirror.e_stop(e);
            clearInputState(cm);
            close();
            cm.focus();
          } else if (keyName == 'Ctrl-U') {
            // Ctrl-U clears input.
            CodeMirror.e_stop(e);
            close('');
          }
        }
        switch (command.searchArgs.querySrc) {
          case 'prompt':
            var macroModeState = vimGlobalState.macroModeState;
            if (macroModeState.isPlaying) {
              var query = macroModeState.replaySearchQueries.shift();
              handleQuery(query, true /** ignoreCase */, false /** smartCase */);
            } else {
              showPrompt(cm, {
                  onClose: onPromptClose,
                  prefix: promptPrefix,
                  desc: searchPromptDesc,
                  onKeyUp: onPromptKeyUp,
                  onKeyDown: onPromptKeyDown
              });
            }
            break;
          case 'wordUnderCursor':
            var word = expandWordUnderCursor(cm, false /** inclusive */,
                true /** forward */, false /** bigWord */,
                true /** noSymbol */);
            var isKeyword = true;
            if (!word) {
              word = expandWordUnderCursor(cm, false /** inclusive */,
                  true /** forward */, false /** bigWord */,
                  false /** noSymbol */);
              isKeyword = false;
            }
            if (!word) {
              return;
            }
            var query = cm.getLine(word.start.line).substring(word.start.ch,
                word.end.ch);
            if (isKeyword && wholeWordOnly) {
                query = '\\b' + query + '\\b';
            } else {
              query = escapeRegex(query);
            }

            // cachedCursor is used to save the old position of the cursor
            // when * or # causes vim to seek for the nearest word and shift
            // the cursor before entering the motion.
            vimGlobalState.jumpList.cachedCursor = cm.getCursor();
            cm.setCursor(word.start);

            handleQuery(query, true /** ignoreCase */, false /** smartCase */);
            break;
        }
      },
      processEx: function(cm, vim, command) {
        function onPromptClose(input) {
          // Give the prompt some time to close so that if processCommand shows
          // an error, the elements don't overlap.
          vimGlobalState.exCommandHistoryController.pushInput(input);
          vimGlobalState.exCommandHistoryController.reset();
          exCommandDispatcher.processCommand(cm, input);
        }
        function onPromptKeyDown(e, input, close) {
          var keyName = CodeMirror.keyName(e), up;
          if (keyName == 'Esc' || keyName == 'Ctrl-C' || keyName == 'Ctrl-[' ||
              (keyName == 'Backspace' && input == '')) {
            vimGlobalState.exCommandHistoryController.pushInput(input);
            vimGlobalState.exCommandHistoryController.reset();
            CodeMirror.e_stop(e);
            clearInputState(cm);
            close();
            cm.focus();
          }
          if (keyName == 'Up' || keyName == 'Down') {
            up = keyName == 'Up' ? true : false;
            input = vimGlobalState.exCommandHistoryController.nextMatch(input, up) || '';
            close(input);
          } else if (keyName == 'Ctrl-U') {
            // Ctrl-U clears input.
            CodeMirror.e_stop(e);
            close('');
          } else {
            if ( keyName != 'Left' && keyName != 'Right' && keyName != 'Ctrl' && keyName != 'Alt' && keyName != 'Shift')
              vimGlobalState.exCommandHistoryController.reset();
          }
        }
        if (command.type == 'keyToEx') {
          // Handle user defined Ex to Ex mappings
          exCommandDispatcher.processCommand(cm, command.exArgs.input);
        } else {
          if (vim.visualMode) {
            showPrompt(cm, { onClose: onPromptClose, prefix: ':', value: '\'<,\'>',
                onKeyDown: onPromptKeyDown});
          } else {
            showPrompt(cm, { onClose: onPromptClose, prefix: ':',
                onKeyDown: onPromptKeyDown});
          }
        }
      },
      evalInput: function(cm, vim) {
        // If the motion comand is set, execute both the operator and motion.
        // Otherwise return.
        var inputState = vim.inputState;
        var motion = inputState.motion;
        var motionArgs = inputState.motionArgs || {};
        var operator = inputState.operator;
        var operatorArgs = inputState.operatorArgs || {};
        var registerName = inputState.registerName;
        var sel = vim.sel;
        // TODO: Make sure cm and vim selections are identical outside visual mode.
        var origHead = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.head): cm.getCursor('head'));
        var origAnchor = copyCursor(vim.visualMode ? clipCursorToContent(cm, sel.anchor) : cm.getCursor('anchor'));
        var oldHead = copyCursor(origHead);
        var oldAnchor = copyCursor(origAnchor);
        var newHead, newAnchor;
        var repeat;
        if (operator) {
          this.recordLastEdit(vim, inputState);
        }
        if (inputState.repeatOverride !== undefined) {
          // If repeatOverride is specified, that takes precedence over the
          // input state's repeat. Used by Ex mode and can be user defined.
          repeat = inputState.repeatOverride;
        } else {
          repeat = inputState.getRepeat();
        }
        if (repeat > 0 && motionArgs.explicitRepeat) {
          motionArgs.repeatIsExplicit = true;
        } else if (motionArgs.noRepeat ||
            (!motionArgs.explicitRepeat && repeat === 0)) {
          repeat = 1;
          motionArgs.repeatIsExplicit = false;
        }
        if (inputState.selectedCharacter) {
          // If there is a character input, stick it in all of the arg arrays.
          motionArgs.selectedCharacter = operatorArgs.selectedCharacter =
              inputState.selectedCharacter;
        }
        motionArgs.repeat = repeat;
        clearInputState(cm);
        if (motion) {
          var motionResult = motions[motion](cm, origHead, motionArgs, vim);
          vim.lastMotion = motions[motion];
          if (!motionResult) {
            return;
          }
          if (motionArgs.toJumplist) {
            var jumpList = vimGlobalState.jumpList;
            // if the current motion is # or *, use cachedCursor
            var cachedCursor = jumpList.cachedCursor;
            if (cachedCursor) {
              recordJumpPosition(cm, cachedCursor, motionResult);
              delete jumpList.cachedCursor;
            } else {
              recordJumpPosition(cm, origHead, motionResult);
            }
          }
          if (motionResult instanceof Array) {
            newAnchor = motionResult[0];
            newHead = motionResult[1];
          } else {
            newHead = motionResult;
          }
          // TODO: Handle null returns from motion commands better.
          if (!newHead) {
            newHead = copyCursor(origHead);
          }
          if (vim.visualMode) {
            if (!(vim.visualBlock && newHead.ch === Infinity)) {
              newHead = clipCursorToContent(cm, newHead, vim.visualBlock);
            }
            if (newAnchor) {
              newAnchor = clipCursorToContent(cm, newAnchor, true);
            }
            newAnchor = newAnchor || oldAnchor;
            sel.anchor = newAnchor;
            sel.head = newHead;
            updateCmSelection(cm);
            updateMark(cm, vim, '<',
                cursorIsBefore(newAnchor, newHead) ? newAnchor
                    : newHead);
            updateMark(cm, vim, '>',
                cursorIsBefore(newAnchor, newHead) ? newHead
                    : newAnchor);
          } else if (!operator) {
            newHead = clipCursorToContent(cm, newHead);
            cm.setCursor(newHead.line, newHead.ch);
          }
        }
        if (operator) {
          if (operatorArgs.lastSel) {
            // Replaying a visual mode operation
            newAnchor = oldAnchor;
            var lastSel = operatorArgs.lastSel;
            var lineOffset = Math.abs(lastSel.head.line - lastSel.anchor.line);
            var chOffset = Math.abs(lastSel.head.ch - lastSel.anchor.ch);
            if (lastSel.visualLine) {
              // Linewise Visual mode: The same number of lines.
              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);
            } else if (lastSel.visualBlock) {
              // Blockwise Visual mode: The same number of lines and columns.
              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch + chOffset);
            } else if (lastSel.head.line == lastSel.anchor.line) {
              // Normal Visual mode within one line: The same number of characters.
              newHead = Pos(oldAnchor.line, oldAnchor.ch + chOffset);
            } else {
              // Normal Visual mode with several lines: The same number of lines, in the
              // last line the same number of characters as in the last line the last time.
              newHead = Pos(oldAnchor.line + lineOffset, oldAnchor.ch);
            }
            vim.visualMode = true;
            vim.visualLine = lastSel.visualLine;
            vim.visualBlock = lastSel.visualBlock;
            sel = vim.sel = {
              anchor: newAnchor,
              head: newHead
            };
            updateCmSelection(cm);
          } else if (vim.visualMode) {
            operatorArgs.lastSel = {
              anchor: copyCursor(sel.anchor),
              head: copyCursor(sel.head),
              visualBlock: vim.visualBlock,
              visualLine: vim.visualLine
            };
          }
          var curStart, curEnd, linewise, mode;
          var cmSel;
          if (vim.visualMode) {
            // Init visual op
            curStart = cursorMin(sel.head, sel.anchor);
            curEnd = cursorMax(sel.head, sel.anchor);
            linewise = vim.visualLine || operatorArgs.linewise;
            mode = vim.visualBlock ? 'block' :
                   linewise ? 'line' :
                   'char';
            cmSel = makeCmSelection(cm, {
              anchor: curStart,
              head: curEnd
            }, mode);
            if (linewise) {
              var ranges = cmSel.ranges;
              if (mode == 'block') {
                // Linewise operators in visual block mode extend to end of line
                for (var i = 0; i < ranges.length; i++) {
                  ranges[i].head.ch = lineLength(cm, ranges[i].head.line);
                }
              } else if (mode == 'line') {
                ranges[0].head = Pos(ranges[0].head.line + 1, 0);
              }
            }
          } else {
            // Init motion op
            curStart = copyCursor(newAnchor || oldAnchor);
            curEnd = copyCursor(newHead || oldHead);
            if (cursorIsBefore(curEnd, curStart)) {
              var tmp = curStart;
              curStart = curEnd;
              curEnd = tmp;
            }
            linewise = motionArgs.linewise || operatorArgs.linewise;
            if (linewise) {
              // Expand selection to entire line.
              expandSelectionToLine(cm, curStart, curEnd);
            } else if (motionArgs.forward) {
              // Clip to trailing newlines only if the motion goes forward.
              clipToLine(cm, curStart, curEnd);
            }
            mode = 'char';
            var exclusive = !motionArgs.inclusive || linewise;
            cmSel = makeCmSelection(cm, {
              anchor: curStart,
              head: curEnd
            }, mode, exclusive);
          }
          cm.setSelections(cmSel.ranges, cmSel.primary);
          vim.lastMotion = null;
          operatorArgs.repeat = repeat; // For indent in visual mode.
          operatorArgs.registerName = registerName;
          // Keep track of linewise as it affects how paste and change behave.
          operatorArgs.linewise = linewise;
          var operatorMoveTo = operators[operator](
            cm, operatorArgs, cmSel.ranges, oldAnchor, newHead);
          if (vim.visualMode) {
            exitVisualMode(cm, operatorMoveTo != null);
          }
          if (operatorMoveTo) {
            cm.setCursor(operatorMoveTo);
          }
        }
      },
      recordLastEdit: function(vim, inputState, actionCommand) {
        var macroModeState = vimGlobalState.macroModeState;
        if (macroModeState.isPlaying) { return; }
        vim.lastEditInputState = inputState;
        vim.lastEditActionCommand = actionCommand;
        macroModeState.lastInsertModeChanges.changes = [];
        macroModeState.lastInsertModeChanges.expectCursorActivityForChange = false;
      }
    };

    /**
     * typedef {Object{line:number,ch:number}} Cursor An object containing the
     *     position of the cursor.
     */
    // All of the functions below return Cursor objects.
    var motions = {
      moveToTopLine: function(cm, _head, motionArgs) {
        var line = getUserVisibleLines(cm).top + motionArgs.repeat -1;
        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));
      },
      moveToMiddleLine: function(cm) {
        var range = getUserVisibleLines(cm);
        var line = Math.floor((range.top + range.bottom) * 0.5);
        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));
      },
      moveToBottomLine: function(cm, _head, motionArgs) {
        var line = getUserVisibleLines(cm).bottom - motionArgs.repeat +1;
        return Pos(line, findFirstNonWhiteSpaceCharacter(cm.getLine(line)));
      },
      expandToLine: function(_cm, head, motionArgs) {
        // Expands forward to end of line, and then to next line if repeat is
        // >1. Does not handle backward motion!
        var cur = head;
        return Pos(cur.line + motionArgs.repeat - 1, Infinity);
      },
      findNext: function(cm, _head, motionArgs) {
        var state = getSearchState(cm);
        var query = state.getQuery();
        if (!query) {
          return;
        }
        var prev = !motionArgs.forward;
        // If search is initiated with ? instead of /, negate direction.
        prev = (state.isReversed()) ? !prev : prev;
        highlightSearchMatches(cm, query);
        return findNext(cm, prev/** prev */, query, motionArgs.repeat);
      },
      goToMark: function(cm, _head, motionArgs, vim) {
        var mark = vim.marks[motionArgs.selectedCharacter];
        if (mark) {
          var pos = mark.find();
          return motionArgs.linewise ? { line: pos.line, ch: findFirstNonWhiteSpaceCharacter(cm.getLine(pos.line)) } : pos;
        }
        return null;
      },
      moveToOtherHighlightedEnd: function(cm, _head, motionArgs, vim) {
        if (vim.visualBlock && motionArgs.sameLine) {
          var sel = vim.sel;
          return [
            clipCursorToContent(cm, Pos(sel.anchor.line, sel.head.ch)),
            clipCursorToContent(cm, Pos(sel.head.line, sel.anchor.ch))
          ];
        } else {
          return ([vim.sel.head, vim.sel.anchor]);
        }
      },
      jumpToMark: function(cm, head, motionArgs, vim) {
        var best = head;
        for (var i = 0; i < motionArgs.repeat; i++) {
          var cursor = best;
          for (var key in vim.marks) {
            if (!isLowerCase(key)) {
              continue;
            }
            var mark = vim.marks[key].find();
            var isWrongDirection = (motionArgs.forward) ?
              cursorIsBefore(mark, cursor) : cursorIsBefore(cursor, mark);

            if (isWrongDirection) {
              continue;
            }
            if (motionArgs.linewise && (mark.line == cursor.line)) {
              continue;
            }

            var equal = cursorEqual(cursor, best);
            var between = (motionArgs.forward) ?
              cursorIsBetween(cursor, mark, best) :
              cursorIsBetween(best, mark, cursor);

            if (equal || between) {
              best = mark;
            }
          }
        }

        if (motionArgs.linewise) {
          // Vim places the cursor on the first non-whitespace character of
          // the line if there is one, else it places the cursor at the end
          // of the line, regardless of whether a mark was found.
          best = Pos(best.line, findFirstNonWhiteSpaceCharacter(cm.getLine(best.line)));
        }
        return best;
      },
      moveByCharacters: function(_cm, head, motionArgs) {
        var cur = head;
        var repeat = motionArgs.repeat;
        var ch = motionArgs.forward ? cur.ch + repeat : cur.ch - repeat;
        return Pos(cur.line, ch);
      },
      moveByLines: function(cm, head, motionArgs, vim) {
        var cur = head;
        var endCh = cur.ch;
        // Depending what our last motion was, we may want to do different
        // things. If our last motion was moving vertically, we want to
        // preserve the HPos from our last horizontal move.  If our last motion
        // was going to the end of a line, moving vertically we should go to
        // the end of the line, etc.
        switch (vim.lastMotion) {
          case this.moveByLines:
          case this.moveByDisplayLines:
          case this.moveByScroll:
          case this.moveToColumn:
          case this.moveToEol:
            endCh = vim.lastHPos;
            break;
          default:
            vim.lastHPos = endCh;
        }
        var repeat = motionArgs.repeat+(motionArgs.repeatOffset||0);
        var line = motionArgs.forward ? cur.line + repeat : cur.line - repeat;
        var first = cm.firstLine();
        var last = cm.lastLine();
        // Vim cancels linewise motions that start on an edge and move beyond
        // that edge. It does not cancel motions that do not start on an edge.
        if ((line < first && cur.line == first) ||
            (line > last && cur.line == last)) {
          return;
        }
        if (motionArgs.toFirstChar){
          endCh=findFirstNonWhiteSpaceCharacter(cm.getLine(line));
          vim.lastHPos = endCh;
        }
        vim.lastHSPos = cm.charCoords(Pos(line, endCh),'div').left;
        return Pos(line, endCh);
      },
      moveByDisplayLines: function(cm, head, motionArgs, vim) {
        var cur = head;
        switch (vim.lastMotion) {
          case this.moveByDisplayLines:
          case this.moveByScroll:
          case this.moveByLines:
          case this.moveToColumn:
          case this.moveToEol:
            break;
          default:
            vim.lastHSPos = cm.charCoords(cur,'div').left;
        }
        var repeat = motionArgs.repeat;
        var res=cm.findPosV(cur,(motionArgs.forward ? repeat : -repeat),'line',vim.lastHSPos);
        if (res.hitSide) {
          if (motionArgs.forward) {
            var lastCharCoords = cm.charCoords(res, 'div');
            var goalCoords = { top: lastCharCoords.top + 8, left: vim.lastHSPos };
            var res = cm.coordsChar(goalCoords, 'div');
          } else {
            var resCoords = cm.charCoords(Pos(cm.firstLine(), 0), 'div');
            resCoords.left = vim.lastHSPos;
            res = cm.coordsChar(resCoords, 'div');
          }
        }
        vim.lastHPos = res.ch;
        return res;
      },
      moveByPage: function(cm, head, motionArgs) {
        // CodeMirror only exposes functions that move the cursor page down, so
        // doing this bad hack to move the cursor and move it back. evalInput
        // will move the cursor to where it should be in the end.
        var curStart = head;
        var repeat = motionArgs.repeat;
        return cm.findPosV(curStart, (motionArgs.forward ? repeat : -repeat), 'page');
      },
      moveByParagraph: function(cm, head, motionArgs) {
        var dir = motionArgs.forward ? 1 : -1;
        return findParagraph(cm, head, motionArgs.repeat, dir);
      },
      moveByScroll: function(cm, head, motionArgs, vim) {
        var scrollbox = cm.getScrollInfo();
        var curEnd = null;
        var repeat = motionArgs.repeat;
        if (!repeat) {
          repeat = scrollbox.clientHeight / (2 * cm.defaultTextHeight());
        }
        var orig = cm.charCoords(head, 'local');
        motionArgs.repeat = repeat;
        var curEnd = motions.moveByDisplayLines(cm, head, motionArgs, vim);
        if (!curEnd) {
          return null;
        }
        var dest = cm.charCoords(curEnd, 'local');
        cm.scrollTo(null, scrollbox.top + dest.top - orig.top);
        return curEnd;
      },
      moveByWords: function(cm, head, motionArgs) {
        return moveToWord(cm, head, motionArgs.repeat, !!motionArgs.forward,
            !!motionArgs.wordEnd, !!motionArgs.bigWord);
      },
      moveTillCharacter: function(cm, _head, motionArgs) {
        var repeat = motionArgs.repeat;
        var curEnd = moveToCharacter(cm, repeat, motionArgs.forward,
            motionArgs.selectedCharacter);
        var increment = motionArgs.forward ? -1 : 1;
        recordLastCharacterSearch(increment, motionArgs);
        if (!curEnd) return null;
        curEnd.ch += increment;
        return curEnd;
      },
      moveToCharacter: function(cm, head, motionArgs) {
        var repeat = motionArgs.repeat;
        recordLastCharacterSearch(0, motionArgs);
        return moveToCharacter(cm, repeat, motionArgs.forward,
            motionArgs.selectedCharacter) || head;
      },
      moveToSymbol: function(cm, head, motionArgs) {
        var repeat = motionArgs.repeat;
        return findSymbol(cm, repeat, motionArgs.forward,
            motionArgs.selectedCharacter) || head;
      },
      moveToColumn: function(cm, head, motionArgs, vim) {
        var repeat = motionArgs.repeat;
        // repeat is equivalent to which column we want to move to!
        vim.lastHPos = repeat - 1;
        vim.lastHSPos = cm.charCoords(head,'div').left;
        return moveToColumn(cm, repeat);
      },
      moveToEol: function(cm, head, motionArgs, vim) {
        var cur = head;
        vim.lastHPos = Infinity;
        var retval= Pos(cur.line + motionArgs.repeat - 1, Infinity);
        var end=cm.clipPos(retval);
        end.ch--;
        vim.lastHSPos = cm.charCoords(end,'div').left;
        return retval;
      },
      moveToFirstNonWhiteSpaceCharacter: function(cm, head) {
        // Go to the start of the line where the text begins, or the end for
        // whitespace-only lines
        var cursor = head;
        return Pos(cursor.line,
                   findFirstNonWhiteSpaceCharacter(cm.getLine(cursor.line)));
      },
      moveToMatchedSymbol: function(cm, head) {
        var cursor = head;
        var line = cursor.line;
        var ch = cursor.ch;
        var lineText = cm.getLine(line);
        var symbol;
        do {
          symbol = lineText.charAt(ch++);
          if (symbol && isMatchableSymbol(symbol)) {
            var style = cm.getTokenTypeAt(Pos(line, ch));
            if (style !== "string" && style !== "comment") {
              break;
            }
          }
        } while (symbol);
        if (symbol) {
          var matched = cm.findMatchingBracket(Pos(line, ch));
          return matched.to;
        } else {
          return cursor;
        }
      },
      moveToStartOfLine: function(_cm, head) {
        return Pos(head.line, 0);
      },
      moveToLineOrEdgeOfDocument: function(cm, _head, motionArgs) {
        var lineNum = motionArgs.forward ? cm.lastLine() : cm.firstLine();
        if (motionArgs.repeatIsExplicit) {
          lineNum = motionArgs.repeat - cm.getOption('firstLineNumber');
        }
        return Pos(lineNum,
                   findFirstNonWhiteSpaceCharacter(cm.getLine(lineNum)));
      },
      textObjectManipulation: function(cm, head, motionArgs, vim) {
        // TODO: lots of possible exceptions that can be thrown here. Try da(
        //     outside of a () block.

        // TODO: adding <> >< to this map doesn't work, presumably because
        // they're operators
        var mirroredPairs = {'(': ')', ')': '(',
                             '{': '}', '}': '{',
                             '[': ']', ']': '['};
        var selfPaired = {'\'': true, '"': true};

        var character = motionArgs.selectedCharacter;
        // 'b' refers to  '()' block.
        // 'B' refers to  '{}' block.
        if (character == 'b') {
          character = '(';
        } else if (character == 'B') {
          character = '{';
        }

        // Inclusive is the difference between a and i
        // TODO: Instead of using the additional text object map to perform text
        //     object operations, merge the map into the defaultKeyMap and use
        //     motionArgs to define behavior. Define separate entries for 'aw',
        //     'iw', 'a[', 'i[', etc.
        var inclusive = !motionArgs.textObjectInner;

        var tmp;
        if (mirroredPairs[character]) {
          tmp = selectCompanionObject(cm, head, character, inclusive);
        } else if (selfPaired[character]) {
          tmp = findBeginningAndEnd(cm, head, character, inclusive);
        } else if (character === 'W') {
          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,
                                                     true /** bigWord */);
        } else if (character === 'w') {
          tmp = expandWordUnderCursor(cm, inclusive, true /** forward */,
                                                     false /** bigWord */);
        } else if (character === 'p') {
          tmp = findParagraph(cm, head, motionArgs.repeat, 0, inclusive);
          motionArgs.linewise = true;
          if (vim.visualMode) {
            if (!vim.visualLine) { vim.visualLine = true; }
          } else {
            var operatorArgs = vim.inputState.operatorArgs;
            if (operatorArgs) { operatorArgs.linewise = true; }
            tmp.end.line--;
          }
        } else {
          // No text object defined for this, don't move.
          return null;
        }

        if (!cm.state.vim.visualMode) {
          return [tmp.start, tmp.end];
        } else {
          return expandSelection(cm, tmp.start, tmp.end);
        }
      },

      repeatLastCharacterSearch: function(cm, head, motionArgs) {
        var lastSearch = vimGlobalState.lastChararacterSearch;
        var repeat = motionArgs.repeat;
        var forward = motionArgs.forward === lastSearch.forward;
        var increment = (lastSearch.increment ? 1 : 0) * (forward ? -1 : 1);
        cm.moveH(-increment, 'char');
        motionArgs.inclusive = forward ? true : false;
        var curEnd = moveToCharacter(cm, repeat, forward, lastSearch.selectedCharacter);
        if (!curEnd) {
          cm.moveH(increment, 'char');
          return head;
        }
        curEnd.ch += increment;
        return curEnd;
      }
    };

    function defineMotion(name, fn) {
      motions[name] = fn;
    }

    function fillArray(val, times) {
      var arr = [];
      for (var i = 0; i < times; i++) {
        arr.push(val);
      }
      return arr;
    }
    /**
     * An operator acts on a text selection. It receives the list of selections
     * as input. The corresponding CodeMirror selection is guaranteed to
    * match the input selection.
     */
    var operators = {
      change: function(cm, args, ranges) {
        var finalHead, text;
        var vim = cm.state.vim;
        vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock = vim.visualBlock;
        if (!vim.visualMode) {
          var anchor = ranges[0].anchor,
              head = ranges[0].head;
          text = cm.getRange(anchor, head);
          var lastState = vim.lastEditInputState || {};
          if (lastState.motion == "moveByWords" && !isWhiteSpaceString(text)) {
            // Exclude trailing whitespace if the range is not all whitespace.
            var match = (/\s+$/).exec(text);
            if (match && lastState.motionArgs && lastState.motionArgs.forward) {
              head = offsetCursor(head, 0, - match[0].length);
              text = text.slice(0, - match[0].length);
            }
          }
          var prevLineEnd = new Pos(anchor.line - 1, Number.MAX_VALUE);
          var wasLastLine = cm.firstLine() == cm.lastLine();
          if (head.line > cm.lastLine() && args.linewise && !wasLastLine) {
            cm.replaceRange('', prevLineEnd, head);
          } else {
            cm.replaceRange('', anchor, head);
          }
          if (args.linewise) {
            // Push the next line back down, if there is a next line.
            if (!wasLastLine) {
              cm.setCursor(prevLineEnd);
              CodeMirror.commands.newlineAndIndent(cm);
            }
            // make sure cursor ends up at the end of the line.
            anchor.ch = Number.MAX_VALUE;
          }
          finalHead = anchor;
        } else {
          text = cm.getSelection();
          var replacement = fillArray('', ranges.length);
          cm.replaceSelections(replacement);
          finalHead = cursorMin(ranges[0].head, ranges[0].anchor);
        }
        vimGlobalState.registerController.pushText(
            args.registerName, 'change', text,
            args.linewise, ranges.length > 1);
        actions.enterInsertMode(cm, {head: finalHead}, cm.state.vim);
      },
      // delete is a javascript keyword.
      'delete': function(cm, args, ranges) {
        var finalHead, text;
        var vim = cm.state.vim;
        if (!vim.visualBlock) {
          var anchor = ranges[0].anchor,
              head = ranges[0].head;
          if (args.linewise &&
              head.line != cm.firstLine() &&
              anchor.line == cm.lastLine() &&
              anchor.line == head.line - 1) {
            // Special case for dd on last line (and first line).
            if (anchor.line == cm.firstLine()) {
              anchor.ch = 0;
            } else {
              anchor = Pos(anchor.line - 1, lineLength(cm, anchor.line - 1));
            }
          }
          text = cm.getRange(anchor, head);
          cm.replaceRange('', anchor, head);
          finalHead = anchor;
          if (args.linewise) {
            finalHead = motions.moveToFirstNonWhiteSpaceCharacter(cm, anchor);
          }
        } else {
          text = cm.getSelection();
          var replacement = fillArray('', ranges.length);
          cm.replaceSelections(replacement);
          finalHead = ranges[0].anchor;
        }
        vimGlobalState.registerController.pushText(
            args.registerName, 'delete', text,
            args.linewise, vim.visualBlock);
        return clipCursorToContent(cm, finalHead);
      },
      indent: function(cm, args, ranges) {
        var vim = cm.state.vim;
        var startLine = ranges[0].anchor.line;
        var endLine = vim.visualBlock ?
          ranges[ranges.length - 1].anchor.line :
          ranges[0].head.line;
        // In visual mode, n> shifts the selection right n times, instead of
        // shifting n lines right once.
        var repeat = (vim.visualMode) ? args.repeat : 1;
        if (args.linewise) {
          // The only way to delete a newline is to delete until the start of
          // the next line, so in linewise mode evalInput will include the next
          // line. We don't want this in indent, so we go back a line.
          endLine--;
        }
        for (var i = startLine; i <= endLine; i++) {
          for (var j = 0; j < repeat; j++) {
            cm.indentLine(i, args.indentRight);
          }
        }
        return motions.moveToFirstNonWhiteSpaceCharacter(cm, ranges[0].anchor);
      },
      changeCase: function(cm, args, ranges, oldAnchor, newHead) {
        var selections = cm.getSelections();
        var swapped = [];
        var toLower = args.toLower;
        for (var j = 0; j < selections.length; j++) {
          var toSwap = selections[j];
          var text = '';
          if (toLower === true) {
            text = toSwap.toLowerCase();
          } else if (toLower === false) {
            text = toSwap.toUpperCase();
          } else {
            for (var i = 0; i < toSwap.length; i++) {
              var character = toSwap.charAt(i);
              text += isUpperCase(character) ? character.toLowerCase() :
                  character.toUpperCase();
            }
          }
          swapped.push(text);
        }
        cm.replaceSelections(swapped);
        if (args.shouldMoveCursor){
          return newHead;
        } else if (!cm.state.vim.visualMode && args.linewise && ranges[0].anchor.line + 1 == ranges[0].head.line) {
          return motions.moveToFirstNonWhiteSpaceCharacter(cm, oldAnchor);
        } else if (args.linewise){
          return oldAnchor;
        } else {
          return cursorMin(ranges[0].anchor, ranges[0].head);
        }
      },
      yank: function(cm, args, ranges, oldAnchor) {
        var vim = cm.state.vim;
        var text = cm.getSelection();
        var endPos = vim.visualMode
          ? cursorMin(vim.sel.anchor, vim.sel.head, ranges[0].head, ranges[0].anchor)
          : oldAnchor;
        vimGlobalState.registerController.pushText(
            args.registerName, 'yank',
            text, args.linewise, vim.visualBlock);
        return endPos;
      }
    };

    function defineOperator(name, fn) {
      operators[name] = fn;
    }

    var actions = {
      jumpListWalk: function(cm, actionArgs, vim) {
        if (vim.visualMode) {
          return;
        }
        var repeat = actionArgs.repeat;
        var forward = actionArgs.forward;
        var jumpList = vimGlobalState.jumpList;

        var mark = jumpList.move(cm, forward ? repeat : -repeat);
        var markPos = mark ? mark.find() : undefined;
        markPos = markPos ? markPos : cm.getCursor();
        cm.setCursor(markPos);
      },
      scroll: function(cm, actionArgs, vim) {
        if (vim.visualMode) {
          return;
        }
        var repeat = actionArgs.repeat || 1;
        var lineHeight = cm.defaultTextHeight();
        var top = cm.getScrollInfo().top;
        var delta = lineHeight * repeat;
        var newPos = actionArgs.forward ? top + delta : top - delta;
        var cursor = copyCursor(cm.getCursor());
        var cursorCoords = cm.charCoords(cursor, 'local');
        if (actionArgs.forward) {
          if (newPos > cursorCoords.top) {
             cursor.line += (newPos - cursorCoords.top) / lineHeight;
             cursor.line = Math.ceil(cursor.line);
             cm.setCursor(cursor);
             cursorCoords = cm.charCoords(cursor, 'local');
             cm.scrollTo(null, cursorCoords.top);
          } else {
             // Cursor stays within bounds.  Just reposition the scroll window.
             cm.scrollTo(null, newPos);
          }
        } else {
          var newBottom = newPos + cm.getScrollInfo().clientHeight;
          if (newBottom < cursorCoords.bottom) {
             cursor.line -= (cursorCoords.bottom - newBottom) / lineHeight;
             cursor.line = Math.floor(cursor.line);
             cm.setCursor(cursor);
             cursorCoords = cm.charCoords(cursor, 'local');
             cm.scrollTo(
                 null, cursorCoords.bottom - cm.getScrollInfo().clientHeight);
          } else {
             // Cursor stays within bounds.  Just reposition the scroll window.
             cm.scrollTo(null, newPos);
          }
        }
      },
      scrollToCursor: function(cm, actionArgs) {
        var lineNum = cm.getCursor().line;
        var charCoords = cm.charCoords(Pos(lineNum, 0), 'local');
        var height = cm.getScrollInfo().clientHeight;
        var y = charCoords.top;
        var lineHeight = charCoords.bottom - y;
        switch (actionArgs.position) {
          case 'center': y = y - (height / 2) + lineHeight;
            break;
          case 'bottom': y = y - height + lineHeight;
            break;
        }
        cm.scrollTo(null, y);
      },
      replayMacro: function(cm, actionArgs, vim) {
        var registerName = actionArgs.selectedCharacter;
        var repeat = actionArgs.repeat;
        var macroModeState = vimGlobalState.macroModeState;
        if (registerName == '@') {
          registerName = macroModeState.latestRegister;
        }
        while(repeat--){
          executeMacroRegister(cm, vim, macroModeState, registerName);
        }
      },
      enterMacroRecordMode: function(cm, actionArgs) {
        var macroModeState = vimGlobalState.macroModeState;
        var registerName = actionArgs.selectedCharacter;
        macroModeState.enterMacroRecordMode(cm, registerName);
      },
      enterInsertMode: function(cm, actionArgs, vim) {
        if (cm.getOption('readOnly')) { return; }
        vim.insertMode = true;
        vim.insertModeRepeat = actionArgs && actionArgs.repeat || 1;
        var insertAt = (actionArgs) ? actionArgs.insertAt : null;
        var sel = vim.sel;
        var head = actionArgs.head || cm.getCursor('head');
        var height = cm.listSelections().length;
        if (insertAt == 'eol') {
          head = Pos(head.line, lineLength(cm, head.line));
        } else if (insertAt == 'charAfter') {
          head = offsetCursor(head, 0, 1);
        } else if (insertAt == 'firstNonBlank') {
          head = motions.moveToFirstNonWhiteSpaceCharacter(cm, head);
        } else if (insertAt == 'startOfSelectedArea') {
          if (!vim.visualBlock) {
            if (sel.head.line < sel.anchor.line) {
              head = sel.head;
            } else {
              head = Pos(sel.anchor.line, 0);
            }
          } else {
            head = Pos(
                Math.min(sel.head.line, sel.anchor.line),
                Math.min(sel.head.ch, sel.anchor.ch));
            height = Math.abs(sel.head.line - sel.anchor.line) + 1;
          }
        } else if (insertAt == 'endOfSelectedArea') {
          if (!vim.visualBlock) {
            if (sel.head.line >= sel.anchor.line) {
              head = offsetCursor(sel.head, 0, 1);
            } else {
              head = Pos(sel.anchor.line, 0);
            }
          } else {
            head = Pos(
                Math.min(sel.head.line, sel.anchor.line),
                Math.max(sel.head.ch + 1, sel.anchor.ch));
            height = Math.abs(sel.head.line - sel.anchor.line) + 1;
          }
        } else if (insertAt == 'inplace') {
          if (vim.visualMode){
            return;
          }
        }
        cm.setOption('keyMap', 'vim-insert');
        cm.setOption('disableInput', false);
        if (actionArgs && actionArgs.replace) {
          // Handle Replace-mode as a special case of insert mode.
          cm.toggleOverwrite(true);
          cm.setOption('keyMap', 'vim-replace');
          CodeMirror.signal(cm, "vim-mode-change", {mode: "replace"});
        } else {
          cm.setOption('keyMap', 'vim-insert');
          CodeMirror.signal(cm, "vim-mode-change", {mode: "insert"});
        }
        if (!vimGlobalState.macroModeState.isPlaying) {
          // Only record if not replaying.
          cm.on('change', onChange);
          CodeMirror.on(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);
        }
        if (vim.visualMode) {
          exitVisualMode(cm);
        }
        selectForInsert(cm, head, height);
      },
      toggleVisualMode: function(cm, actionArgs, vim) {
        var repeat = actionArgs.repeat;
        var anchor = cm.getCursor();
        var head;
        // TODO: The repeat should actually select number of characters/lines
        //     equal to the repeat times the size of the previous visual
        //     operation.
        if (!vim.visualMode) {
          // Entering visual mode
          vim.visualMode = true;
          vim.visualLine = !!actionArgs.linewise;
          vim.visualBlock = !!actionArgs.blockwise;
          head = clipCursorToContent(
              cm, Pos(anchor.line, anchor.ch + repeat - 1),
              true /** includeLineBreak */);
          vim.sel = {
            anchor: anchor,
            head: head
          };
          CodeMirror.signal(cm, "vim-mode-change", {mode: "visual", subMode: vim.visualLine ? "linewise" : vim.visualBlock ? "blockwise" : ""});
          updateCmSelection(cm);
          updateMark(cm, vim, '<', cursorMin(anchor, head));
          updateMark(cm, vim, '>', cursorMax(anchor, head));
        } else if (vim.visualLine ^ actionArgs.linewise ||
            vim.visualBlock ^ actionArgs.blockwise) {
          // Toggling between modes
          vim.visualLine = !!actionArgs.linewise;
          vim.visualBlock = !!actionArgs.blockwise;
          CodeMirror.signal(cm, "vim-mode-change", {mode: "visual", subMode: vim.visualLine ? "linewise" : vim.visualBlock ? "blockwise" : ""});
          updateCmSelection(cm);
        } else {
          exitVisualMode(cm);
        }
      },
      reselectLastSelection: function(cm, _actionArgs, vim) {
        var lastSelection = vim.lastSelection;
        if (vim.visualMode) {
          updateLastSelection(cm, vim);
        }
        if (lastSelection) {
          var anchor = lastSelection.anchorMark.find();
          var head = lastSelection.headMark.find();
          if (!anchor || !head) {
            // If the marks have been destroyed due to edits, do nothing.
            return;
          }
          vim.sel = {
            anchor: anchor,
            head: head
          };
          vim.visualMode = true;
          vim.visualLine = lastSelection.visualLine;
          vim.visualBlock = lastSelection.visualBlock;
          updateCmSelection(cm);
          updateMark(cm, vim, '<', cursorMin(anchor, head));
          updateMark(cm, vim, '>', cursorMax(anchor, head));
          CodeMirror.signal(cm, 'vim-mode-change', {
            mode: 'visual',
            subMode: vim.visualLine ? 'linewise' :
                     vim.visualBlock ? 'blockwise' : ''});
        }
      },
      joinLines: function(cm, actionArgs, vim) {
        var curStart, curEnd;
        if (vim.visualMode) {
          curStart = cm.getCursor('anchor');
          curEnd = cm.getCursor('head');
          if (cursorIsBefore(curEnd, curStart)) {
            var tmp = curEnd;
            curEnd = curStart;
            curStart = tmp;
          }
          curEnd.ch = lineLength(cm, curEnd.line) - 1;
        } else {
          // Repeat is the number of lines to join. Minimum 2 lines.
          var repeat = Math.max(actionArgs.repeat, 2);
          curStart = cm.getCursor();
          curEnd = clipCursorToContent(cm, Pos(curStart.line + repeat - 1,
                                               Infinity));
        }
        var finalCh = 0;
        for (var i = curStart.line; i < curEnd.line; i++) {
          finalCh = lineLength(cm, curStart.line);
          var tmp = Pos(curStart.line + 1,
                        lineLength(cm, curStart.line + 1));
          var text = cm.getRange(curStart, tmp);
          text = text.replace(/\n\s*/g, ' ');
          cm.replaceRange(text, curStart, tmp);
        }
        var curFinalPos = Pos(curStart.line, finalCh);
        if (vim.visualMode) {
          exitVisualMode(cm, false);
        }
        cm.setCursor(curFinalPos);
      },
      newLineAndEnterInsertMode: function(cm, actionArgs, vim) {
        vim.insertMode = true;
        var insertAt = copyCursor(cm.getCursor());
        if (insertAt.line === cm.firstLine() && !actionArgs.after) {
          // Special case for inserting newline before start of document.
          cm.replaceRange('\n', Pos(cm.firstLine(), 0));
          cm.setCursor(cm.firstLine(), 0);
        } else {
          insertAt.line = (actionArgs.after) ? insertAt.line :
              insertAt.line - 1;
          insertAt.ch = lineLength(cm, insertAt.line);
          cm.setCursor(insertAt);
          var newlineFn = CodeMirror.commands.newlineAndIndentContinueComment ||
              CodeMirror.commands.newlineAndIndent;
          newlineFn(cm);
        }
        this.enterInsertMode(cm, { repeat: actionArgs.repeat }, vim);
      },
      paste: function(cm, actionArgs, vim) {
        var cur = copyCursor(cm.getCursor());
        var register = vimGlobalState.registerController.getRegister(
            actionArgs.registerName);
        var text = register.toString();
        if (!text) {
          return;
        }
        if (actionArgs.matchIndent) {
          var tabSize = cm.getOption("tabSize");
          // length that considers tabs and tabSize
          var whitespaceLength = function(str) {
            var tabs = (str.split("\t").length - 1);
            var spaces = (str.split(" ").length - 1);
            return tabs * tabSize + spaces * 1;
          };
          var currentLine = cm.getLine(cm.getCursor().line);
          var indent = whitespaceLength(currentLine.match(/^\s*/)[0]);
          // chomp last newline b/c don't want it to match /^\s*/gm
          var chompedText = text.replace(/\n$/, '');
          var wasChomped = text !== chompedText;
          var firstIndent = whitespaceLength(text.match(/^\s*/)[0]);
          var text = chompedText.replace(/^\s*/gm, function(wspace) {
            var newIndent = indent + (whitespaceLength(wspace) - firstIndent);
            if (newIndent < 0) {
              return "";
            }
            else if (cm.getOption("indentWithTabs")) {
              var quotient = Math.floor(newIndent / tabSize);
              return Array(quotient + 1).join('\t');
            }
            else {
              return Array(newIndent + 1).join(' ');
            }
          });
          text += wasChomped ? "\n" : "";
        }
        if (actionArgs.repeat > 1) {
          var text = Array(actionArgs.repeat + 1).join(text);
        }
        var linewise = register.linewise;
        var blockwise = register.blockwise;
        if (linewise) {
          if(vim.visualMode) {
            text = vim.visualLine ? text.slice(0, -1) : '\n' + text.slice(0, text.length - 1) + '\n';
          } else if (actionArgs.after) {
            // Move the newline at the end to the start instead, and paste just
            // before the newline character of the line we are on right now.
            text = '\n' + text.slice(0, text.length - 1);
            cur.ch = lineLength(cm, cur.line);
          } else {
            cur.ch = 0;
          }
        } else {
          if (blockwise) {
            text = text.split('\n');
            for (var i = 0; i < text.length; i++) {
              text[i] = (text[i] == '') ? ' ' : text[i];
            }
          }
          cur.ch += actionArgs.after ? 1 : 0;
        }
        var curPosFinal;
        var idx;
        if (vim.visualMode) {
          //  save the pasted text for reselection if the need arises
          vim.lastPastedText = text;
          var lastSelectionCurEnd;
          var selectedArea = getSelectedAreaRange(cm, vim);
          var selectionStart = selectedArea[0];
          var selectionEnd = selectedArea[1];
          var selectedText = cm.getSelection();
          var selections = cm.listSelections();
          var emptyStrings = new Array(selections.length).join('1').split('1');
          // save the curEnd marker before it get cleared due to cm.replaceRange.
          if (vim.lastSelection) {
            lastSelectionCurEnd = vim.lastSelection.headMark.find();
          }
          // push the previously selected text to unnamed register
          vimGlobalState.registerController.unnamedRegister.setText(selectedText);
          if (blockwise) {
            // first delete the selected text
            cm.replaceSelections(emptyStrings);
            // Set new selections as per the block length of the yanked text
            selectionEnd = Pos(selectionStart.line + text.length-1, selectionStart.ch);
            cm.setCursor(selectionStart);
            selectBlock(cm, selectionEnd);
            cm.replaceSelections(text);
            curPosFinal = selectionStart;
          } else if (vim.visualBlock) {
            cm.replaceSelections(emptyStrings);
            cm.setCursor(selectionStart);
            cm.replaceRange(text, selectionStart, selectionStart);
            curPosFinal = selectionStart;
          } else {
            cm.replaceRange(text, selectionStart, selectionEnd);
            curPosFinal = cm.posFromIndex(cm.indexFromPos(selectionStart) + text.length - 1);
          }
          // restore the the curEnd marker
          if(lastSelectionCurEnd) {
            vim.lastSelection.headMark = cm.setBookmark(lastSelectionCurEnd);
          }
          if (linewise) {
            curPosFinal.ch=0;
          }
        } else {
          if (blockwise) {
            cm.setCursor(cur);
            for (var i = 0; i < text.length; i++) {
              var line = cur.line+i;
              if (line > cm.lastLine()) {
                cm.replaceRange('\n',  Pos(line, 0));
              }
              var lastCh = lineLength(cm, line);
              if (lastCh < cur.ch) {
                extendLineToColumn(cm, line, cur.ch);
              }
            }
            cm.setCursor(cur);
            selectBlock(cm, Pos(cur.line + text.length-1, cur.ch));
            cm.replaceSelections(text);
            curPosFinal = cur;
          } else {
            cm.replaceRange(text, cur);
            // Now fine tune the cursor to where we want it.
            if (linewise && actionArgs.after) {
              curPosFinal = Pos(
              cur.line + 1,
              findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line + 1)));
            } else if (linewise && !actionArgs.after) {
              curPosFinal = Pos(
                cur.line,
                findFirstNonWhiteSpaceCharacter(cm.getLine(cur.line)));
            } else if (!linewise && actionArgs.after) {
              idx = cm.indexFromPos(cur);
              curPosFinal = cm.posFromIndex(idx + text.length - 1);
            } else {
              idx = cm.indexFromPos(cur);
              curPosFinal = cm.posFromIndex(idx + text.length);
            }
          }
        }
        if (vim.visualMode) {
          exitVisualMode(cm, false);
        }
        cm.setCursor(curPosFinal);
      },
      undo: function(cm, actionArgs) {
        cm.operation(function() {
          repeatFn(cm, CodeMirror.commands.undo, actionArgs.repeat)();
          cm.setCursor(cm.getCursor('anchor'));
        });
      },
      redo: function(cm, actionArgs) {
        repeatFn(cm, CodeMirror.commands.redo, actionArgs.repeat)();
      },
      setRegister: function(_cm, actionArgs, vim) {
        vim.inputState.registerName = actionArgs.selectedCharacter;
      },
      setMark: function(cm, actionArgs, vim) {
        var markName = actionArgs.selectedCharacter;
        updateMark(cm, vim, markName, cm.getCursor());
      },
      replace: function(cm, actionArgs, vim) {
        var replaceWith = actionArgs.selectedCharacter;
        var curStart = cm.getCursor();
        var replaceTo;
        var curEnd;
        var selections = cm.listSelections();
        if (vim.visualMode) {
          curStart = cm.getCursor('start');
          curEnd = cm.getCursor('end');
        } else {
          var line = cm.getLine(curStart.line);
          replaceTo = curStart.ch + actionArgs.repeat;
          if (replaceTo > line.length) {
            replaceTo=line.length;
          }
          curEnd = Pos(curStart.line, replaceTo);
        }
        if (replaceWith=='\n') {
          if (!vim.visualMode) cm.replaceRange('', curStart, curEnd);
          // special case, where vim help says to replace by just one line-break
          (CodeMirror.commands.newlineAndIndentContinueComment || CodeMirror.commands.newlineAndIndent)(cm);
        } else {
          var replaceWithStr = cm.getRange(curStart, curEnd);
          //replace all characters in range by selected, but keep linebreaks
          replaceWithStr = replaceWithStr.replace(/[^\n]/g, replaceWith);
          if (vim.visualBlock) {
            // Tabs are split in visua block before replacing
            var spaces = new Array(cm.getOption("tabSize")+1).join(' ');
            replaceWithStr = cm.getSelection();
            replaceWithStr = replaceWithStr.replace(/\t/g, spaces).replace(/[^\n]/g, replaceWith).split('\n');
            cm.replaceSelections(replaceWithStr);
          } else {
            cm.replaceRange(replaceWithStr, curStart, curEnd);
          }
          if (vim.visualMode) {
            curStart = cursorIsBefore(selections[0].anchor, selections[0].head) ?
                         selections[0].anchor : selections[0].head;
            cm.setCursor(curStart);
            exitVisualMode(cm, false);
          } else {
            cm.setCursor(offsetCursor(curEnd, 0, -1));
          }
        }
      },
      incrementNumberToken: function(cm, actionArgs) {
        var cur = cm.getCursor();
        var lineStr = cm.getLine(cur.line);
        var re = /-?\d+/g;
        var match;
        var start;
        var end;
        var numberStr;
        var token;
        while ((match = re.exec(lineStr)) !== null) {
          token = match[0];
          start = match.index;
          end = start + token.length;
          if (cur.ch < end)break;
        }
        if (!actionArgs.backtrack && (end <= cur.ch))return;
        if (token) {
          var increment = actionArgs.increase ? 1 : -1;
          var number = parseInt(token) + (increment * actionArgs.repeat);
          var from = Pos(cur.line, start);
          var to = Pos(cur.line, end);
          numberStr = number.toString();
          cm.replaceRange(numberStr, from, to);
        } else {
          return;
        }
        cm.setCursor(Pos(cur.line, start + numberStr.length - 1));
      },
      repeatLastEdit: function(cm, actionArgs, vim) {
        var lastEditInputState = vim.lastEditInputState;
        if (!lastEditInputState) { return; }
        var repeat = actionArgs.repeat;
        if (repeat && actionArgs.repeatIsExplicit) {
          vim.lastEditInputState.repeatOverride = repeat;
        } else {
          repeat = vim.lastEditInputState.repeatOverride || repeat;
        }
        repeatLastEdit(cm, vim, repeat, false /** repeatForInsert */);
      },
      exitInsertMode: exitInsertMode
    };

    function defineAction(name, fn) {
      actions[name] = fn;
    }

    /*
     * Below are miscellaneous utility functions used by vim.js
     */

    /**
     * Clips cursor to ensure that line is within the buffer's range
     * If includeLineBreak is true, then allow cur.ch == lineLength.
     */
    function clipCursorToContent(cm, cur, includeLineBreak) {
      var line = Math.min(Math.max(cm.firstLine(), cur.line), cm.lastLine() );
      var maxCh = lineLength(cm, line) - 1;
      maxCh = (includeLineBreak) ? maxCh + 1 : maxCh;
      var ch = Math.min(Math.max(0, cur.ch), maxCh);
      return Pos(line, ch);
    }
    function copyArgs(args) {
      var ret = {};
      for (var prop in args) {
        if (args.hasOwnProperty(prop)) {
          ret[prop] = args[prop];
        }
      }
      return ret;
    }
    function offsetCursor(cur, offsetLine, offsetCh) {
      if (typeof offsetLine === 'object') {
        offsetCh = offsetLine.ch;
        offsetLine = offsetLine.line;
      }
      return Pos(cur.line + offsetLine, cur.ch + offsetCh);
    }
    function getOffset(anchor, head) {
      return {
        line: head.line - anchor.line,
        ch: head.line - anchor.line
      };
    }
    function commandMatches(keys, keyMap, context, inputState) {
      // Partial matches are not applied. They inform the key handler
      // that the current key sequence is a subsequence of a valid key
      // sequence, so that the key buffer is not cleared.
      var match, partial = [], full = [];
      for (var i = 0; i < keyMap.length; i++) {
        var command = keyMap[i];
        if (context == 'insert' && command.context != 'insert' ||
            command.context && command.context != context ||
            inputState.operator && command.type == 'action' ||
            !(match = commandMatch(keys, command.keys))) { continue; }
        if (match == 'partial') { partial.push(command); }
        if (match == 'full') { full.push(command); }
      }
      return {
        partial: partial.length && partial,
        full: full.length && full
      };
    }
    function commandMatch(pressed, mapped) {
      if (mapped.slice(-11) == '<character>') {
        // Last character matches anything.
        var prefixLen = mapped.length - 11;
        var pressedPrefix = pressed.slice(0, prefixLen);
        var mappedPrefix = mapped.slice(0, prefixLen);
        return pressedPrefix == mappedPrefix && pressed.length > prefixLen ? 'full' :
               mappedPrefix.indexOf(pressedPrefix) == 0 ? 'partial' : false;
      } else {
        return pressed == mapped ? 'full' :
               mapped.indexOf(pressed) == 0 ? 'partial' : false;
      }
    }
    function lastChar(keys) {
      var match = /^.*(<[\w\-]+>)$/.exec(keys);
      var selectedCharacter = match ? match[1] : keys.slice(-1);
      if (selectedCharacter.length > 1){
        switch(selectedCharacter){
          case '<CR>':
            selectedCharacter='\n';
            break;
          case '<Space>':
            selectedCharacter=' ';
            break;
          default:
            break;
        }
      }
      return selectedCharacter;
    }
    function repeatFn(cm, fn, repeat) {
      return function() {
        for (var i = 0; i < repeat; i++) {
          fn(cm);
        }
      };
    }
    function copyCursor(cur) {
      return Pos(cur.line, cur.ch);
    }
    function cursorEqual(cur1, cur2) {
      return cur1.ch == cur2.ch && cur1.line == cur2.line;
    }
    function cursorIsBefore(cur1, cur2) {
      if (cur1.line < cur2.line) {
        return true;
      }
      if (cur1.line == cur2.line && cur1.ch < cur2.ch) {
        return true;
      }
      return false;
    }
    function cursorMin(cur1, cur2) {
      if (arguments.length > 2) {
        cur2 = cursorMin.apply(undefined, Array.prototype.slice.call(arguments, 1));
      }
      return cursorIsBefore(cur1, cur2) ? cur1 : cur2;
    }
    function cursorMax(cur1, cur2) {
      if (arguments.length > 2) {
        cur2 = cursorMax.apply(undefined, Array.prototype.slice.call(arguments, 1));
      }
      return cursorIsBefore(cur1, cur2) ? cur2 : cur1;
    }
    function cursorIsBetween(cur1, cur2, cur3) {
      // returns true if cur2 is between cur1 and cur3.
      var cur1before2 = cursorIsBefore(cur1, cur2);
      var cur2before3 = cursorIsBefore(cur2, cur3);
      return cur1before2 && cur2before3;
    }
    function lineLength(cm, lineNum) {
      return cm.getLine(lineNum).length;
    }
    function trim(s) {
      if (s.trim) {
        return s.trim();
      }
      return s.replace(/^\s+|\s+$/g, '');
    }
    function escapeRegex(s) {
      return s.replace(/([.?*+$\[\]\/\\(){}|\-])/g, '\\$1');
    }
    function extendLineToColumn(cm, lineNum, column) {
      var endCh = lineLength(cm, lineNum);
      var spaces = new Array(column-endCh+1).join(' ');
      cm.setCursor(Pos(lineNum, endCh));
      cm.replaceRange(spaces, cm.getCursor());
    }
    // This functions selects a rectangular block
    // of text with selectionEnd as any of its corner
    // Height of block:
    // Difference in selectionEnd.line and first/last selection.line
    // Width of the block:
    // Distance between selectionEnd.ch and any(first considered here) selection.ch
    function selectBlock(cm, selectionEnd) {
      var selections = [], ranges = cm.listSelections();
      var head = copyCursor(cm.clipPos(selectionEnd));
      var isClipped = !cursorEqual(selectionEnd, head);
      var curHead = cm.getCursor('head');
      var primIndex = getIndex(ranges, curHead);
      var wasClipped = cursorEqual(ranges[primIndex].head, ranges[primIndex].anchor);
      var max = ranges.length - 1;
      var index = max - primIndex > primIndex ? max : 0;
      var base = ranges[index].anchor;

      var firstLine = Math.min(base.line, head.line);
      var lastLine = Math.max(base.line, head.line);
      var baseCh = base.ch, headCh = head.ch;

      var dir = ranges[index].head.ch - baseCh;
      var newDir = headCh - baseCh;
      if (dir > 0 && newDir <= 0) {
        baseCh++;
        if (!isClipped) { headCh--; }
      } else if (dir < 0 && newDir >= 0) {
        baseCh--;
        if (!wasClipped) { headCh++; }
      } else if (dir < 0 && newDir == -1) {
        baseCh--;
        headCh++;
      }
      for (var line = firstLine; line <= lastLine; line++) {
        var range = {anchor: new Pos(line, baseCh), head: new Pos(line, headCh)};
        selections.push(range);
      }
      primIndex = head.line == lastLine ? selections.length - 1 : 0;
      cm.setSelections(selections);
      selectionEnd.ch = headCh;
      base.ch = baseCh;
      return base;
    }
    function selectForInsert(cm, head, height) {
      var sel = [];
      for (var i = 0; i < height; i++) {
        var lineHead = offsetCursor(head, i, 0);
        sel.push({anchor: lineHead, head: lineHead});
      }
      cm.setSelections(sel, 0);
    }
    // getIndex returns the index of the cursor in the selections.
    function getIndex(ranges, cursor, end) {
      for (var i = 0; i < ranges.length; i++) {
        var atAnchor = end != 'head' && cursorEqual(ranges[i].anchor, cursor);
        var atHead = end != 'anchor' && cursorEqual(ranges[i].head, cursor);
        if (atAnchor || atHead) {
          return i;
        }
      }
      return -1;
    }
    function getSelectedAreaRange(cm, vim) {
      var lastSelection = vim.lastSelection;
      var getCurrentSelectedAreaRange = function() {
        var selections = cm.listSelections();
        var start =  selections[0];
        var end = selections[selections.length-1];
        var selectionStart = cursorIsBefore(start.anchor, start.head) ? start.anchor : start.head;
        var selectionEnd = cursorIsBefore(end.anchor, end.head) ? end.head : end.anchor;
        return [selectionStart, selectionEnd];
      };
      var getLastSelectedAreaRange = function() {
        var selectionStart = cm.getCursor();
        var selectionEnd = cm.getCursor();
        var block = lastSelection.visualBlock;
        if (block) {
          var width = block.width;
          var height = block.height;
          selectionEnd = Pos(selectionStart.line + height, selectionStart.ch + width);
          var selections = [];
          // selectBlock creates a 'proper' rectangular block.
          // We do not want that in all cases, so we manually set selections.
          for (var i = selectionStart.line; i < selectionEnd.line; i++) {
            var anchor = Pos(i, selectionStart.ch);
            var head = Pos(i, selectionEnd.ch);
            var range = {anchor: anchor, head: head};
            selections.push(range);
          }
          cm.setSelections(selections);
        } else {
          var start = lastSelection.anchorMark.find();
          var end = lastSelection.headMark.find();
          var line = end.line - start.line;
          var ch = end.ch - start.ch;
          selectionEnd = {line: selectionEnd.line + line, ch: line ? selectionEnd.ch : ch + selectionEnd.ch};
          if (lastSelection.visualLine) {
            selectionStart = Pos(selectionStart.line, 0);
            selectionEnd = Pos(selectionEnd.line, lineLength(cm, selectionEnd.line));
          }
          cm.setSelection(selectionStart, selectionEnd);
        }
        return [selectionStart, selectionEnd];
      };
      if (!vim.visualMode) {
      // In case of replaying the action.
        return getLastSelectedAreaRange();
      } else {
        return getCurrentSelectedAreaRange();
      }
    }
    // Updates the previous selection with the current selection's values. This
    // should only be called in visual mode.
    function updateLastSelection(cm, vim) {
      var anchor = vim.sel.anchor;
      var head = vim.sel.head;
      // To accommodate the effect of lastPastedText in the last selection
      if (vim.lastPastedText) {
        head = cm.posFromIndex(cm.indexFromPos(anchor) + vim.lastPastedText.length);
        vim.lastPastedText = null;
      }
      vim.lastSelection = {'anchorMark': cm.setBookmark(anchor),
                           'headMark': cm.setBookmark(head),
                           'anchor': copyCursor(anchor),
                           'head': copyCursor(head),
                           'visualMode': vim.visualMode,
                           'visualLine': vim.visualLine,
                           'visualBlock': vim.visualBlock};
    }
    function expandSelection(cm, start, end) {
      var sel = cm.state.vim.sel;
      var head = sel.head;
      var anchor = sel.anchor;
      var tmp;
      if (cursorIsBefore(end, start)) {
        tmp = end;
        end = start;
        start = tmp;
      }
      if (cursorIsBefore(head, anchor)) {
        head = cursorMin(start, head);
        anchor = cursorMax(anchor, end);
      } else {
        anchor = cursorMin(start, anchor);
        head = cursorMax(head, end);
        head = offsetCursor(head, 0, -1);
        if (head.ch == -1 && head.line != cm.firstLine()) {
          head = Pos(head.line - 1, lineLength(cm, head.line - 1));
        }
      }
      return [anchor, head];
    }
    /**
     * Updates the CodeMirror selection to match the provided vim selection.
     * If no arguments are given, it uses the current vim selection state.
     */
    function updateCmSelection(cm, sel, mode) {
      var vim = cm.state.vim;
      sel = sel || vim.sel;
      var mode = mode ||
        vim.visualLine ? 'line' : vim.visualBlock ? 'block' : 'char';
      var cmSel = makeCmSelection(cm, sel, mode);
      cm.setSelections(cmSel.ranges, cmSel.primary);
      updateFakeCursor(cm);
    }
    function makeCmSelection(cm, sel, mode, exclusive) {
      var head = copyCursor(sel.head);
      var anchor = copyCursor(sel.anchor);
      if (mode == 'char') {
        var headOffset = !exclusive && !cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;
        var anchorOffset = cursorIsBefore(sel.head, sel.anchor) ? 1 : 0;
        head = offsetCursor(sel.head, 0, headOffset);
        anchor = offsetCursor(sel.anchor, 0, anchorOffset);
        return {
          ranges: [{anchor: anchor, head: head}],
          primary: 0
        };
      } else if (mode == 'line') {
        if (!cursorIsBefore(sel.head, sel.anchor)) {
          anchor.ch = 0;

          var lastLine = cm.lastLine();
          if (head.line > lastLine) {
            head.line = lastLine;
          }
          head.ch = lineLength(cm, head.line);
        } else {
          head.ch = 0;
          anchor.ch = lineLength(cm, anchor.line);
        }
        return {
          ranges: [{anchor: anchor, head: head}],
          primary: 0
        };
      } else if (mode == 'block') {
        var top = Math.min(anchor.line, head.line),
            left = Math.min(anchor.ch, head.ch),
            bottom = Math.max(anchor.line, head.line),
            right = Math.max(anchor.ch, head.ch) + 1;
        var height = bottom - top + 1;
        var primary = head.line == top ? 0 : height - 1;
        var ranges = [];
        for (var i = 0; i < height; i++) {
          ranges.push({
            anchor: Pos(top + i, left),
            head: Pos(top + i, right)
          });
        }
        return {
          ranges: ranges,
          primary: primary
        };
      }
    }
    function getHead(cm) {
      var cur = cm.getCursor('head');
      if (cm.getSelection().length == 1) {
        // Small corner case when only 1 character is selected. The "real"
        // head is the left of head and anchor.
        cur = cursorMin(cur, cm.getCursor('anchor'));
      }
      return cur;
    }

    /**
     * If moveHead is set to false, the CodeMirror selection will not be
     * touched. The caller assumes the responsibility of putting the cursor
    * in the right place.
     */
    function exitVisualMode(cm, moveHead) {
      var vim = cm.state.vim;
      if (moveHead !== false) {
        cm.setCursor(clipCursorToContent(cm, vim.sel.head));
      }
      updateLastSelection(cm, vim);
      vim.visualMode = false;
      vim.visualLine = false;
      vim.visualBlock = false;
      CodeMirror.signal(cm, "vim-mode-change", {mode: "normal"});
      if (vim.fakeCursor) {
        vim.fakeCursor.clear();
      }
    }

    // Remove any trailing newlines from the selection. For
    // example, with the caret at the start of the last word on the line,
    // 'dw' should word, but not the newline, while 'w' should advance the
    // caret to the first character of the next line.
    function clipToLine(cm, curStart, curEnd) {
      var selection = cm.getRange(curStart, curEnd);
      // Only clip if the selection ends with trailing newline + whitespace
      if (/\n\s*$/.test(selection)) {
        var lines = selection.split('\n');
        // We know this is all whitepsace.
        lines.pop();

        // Cases:
        // 1. Last word is an empty line - do not clip the trailing '\n'
        // 2. Last word is not an empty line - clip the trailing '\n'
        var line;
        // Find the line containing the last word, and clip all whitespace up
        // to it.
        for (var line = lines.pop(); lines.length > 0 && line && isWhiteSpaceString(line); line = lines.pop()) {
          curEnd.line--;
          curEnd.ch = 0;
        }
        // If the last word is not an empty line, clip an additional newline
        if (line) {
          curEnd.line--;
          curEnd.ch = lineLength(cm, curEnd.line);
        } else {
          curEnd.ch = 0;
        }
      }
    }

    // Expand the selection to line ends.
    function expandSelectionToLine(_cm, curStart, curEnd) {
      curStart.ch = 0;
      curEnd.ch = 0;
      curEnd.line++;
    }

    function findFirstNonWhiteSpaceCharacter(text) {
      if (!text) {
        return 0;
      }
      var firstNonWS = text.search(/\S/);
      return firstNonWS == -1 ? text.length : firstNonWS;
    }

    function expandWordUnderCursor(cm, inclusive, _forward, bigWord, noSymbol) {
      var cur = getHead(cm);
      var line = cm.getLine(cur.line);
      var idx = cur.ch;

      // Seek to first word or non-whitespace character, depending on if
      // noSymbol is true.
      var test = noSymbol ? wordCharTest[0] : bigWordCharTest [0];
      while (!test(line.charAt(idx))) {
        idx++;
        if (idx >= line.length) { return null; }
      }

      if (bigWord) {
        test = bigWordCharTest[0];
      } else {
        test = wordCharTest[0];
        if (!test(line.charAt(idx))) {
          test = wordCharTest[1];
        }
      }

      var end = idx, start = idx;
      while (test(line.charAt(end)) && end < line.length) { end++; }
      while (test(line.charAt(start)) && start >= 0) { start--; }
      start++;

      if (inclusive) {
        // If present, include all whitespace after word.
        // Otherwise, include all whitespace before word, except indentation.
        var wordEnd = end;
        while (/\s/.test(line.charAt(end)) && end < line.length) { end++; }
        if (wordEnd == end) {
          var wordStart = start;
          while (/\s/.test(line.charAt(start - 1)) && start > 0) { start--; }
          if (!start) { start = wordStart; }
        }
      }
      return { start: Pos(cur.line, start), end: Pos(cur.line, end) };
    }

    function recordJumpPosition(cm, oldCur, newCur) {
      if (!cursorEqual(oldCur, newCur)) {
        vimGlobalState.jumpList.add(cm, oldCur, newCur);
      }
    }

    function recordLastCharacterSearch(increment, args) {
        vimGlobalState.lastChararacterSearch.increment = increment;
        vimGlobalState.lastChararacterSearch.forward = args.forward;
        vimGlobalState.lastChararacterSearch.selectedCharacter = args.selectedCharacter;
    }

    var symbolToMode = {
        '(': 'bracket', ')': 'bracket', '{': 'bracket', '}': 'bracket',
        '[': 'section', ']': 'section',
        '*': 'comment', '/': 'comment',
        'm': 'method', 'M': 'method',
        '#': 'preprocess'
    };
    var findSymbolModes = {
      bracket: {
        isComplete: function(state) {
          if (state.nextCh === state.symb) {
            state.depth++;
            if (state.depth >= 1)return true;
          } else if (state.nextCh === state.reverseSymb) {
            state.depth--;
          }
          return false;
        }
      },
      section: {
        init: function(state) {
          state.curMoveThrough = true;
          state.symb = (state.forward ? ']' : '[') === state.symb ? '{' : '}';
        },
        isComplete: function(state) {
          return state.index === 0 && state.nextCh === state.symb;
        }
      },
      comment: {
        isComplete: function(state) {
          var found = state.lastCh === '*' && state.nextCh === '/';
          state.lastCh = state.nextCh;
          return found;
        }
      },
      // TODO: The original Vim implementation only operates on level 1 and 2.
      // The current implementation doesn't check for code block level and
      // therefore it operates on any levels.
      method: {
        init: function(state) {
          state.symb = (state.symb === 'm' ? '{' : '}');
          state.reverseSymb = state.symb === '{' ? '}' : '{';
        },
        isComplete: function(state) {
          if (state.nextCh === state.symb)return true;
          return false;
        }
      },
      preprocess: {
        init: function(state) {
          state.index = 0;
        },
        isComplete: function(state) {
          if (state.nextCh === '#') {
            var token = state.lineText.match(/#(\w+)/)[1];
            if (token === 'endif') {
              if (state.forward && state.depth === 0) {
                return true;
              }
              state.depth++;
            } else if (token === 'if') {
              if (!state.forward && state.depth === 0) {
                return true;
              }
              state.depth--;
            }
            if (token === 'else' && state.depth === 0)return true;
          }
          return false;
        }
      }
    };
    function findSymbol(cm, repeat, forward, symb) {
      var cur = copyCursor(cm.getCursor());
      var increment = forward ? 1 : -1;
      var endLine = forward ? cm.lineCount() : -1;
      var curCh = cur.ch;
      var line = cur.line;
      var lineText = cm.getLine(line);
      var state = {
        lineText: lineText,
        nextCh: lineText.charAt(curCh),
        lastCh: null,
        index: curCh,
        symb: symb,
        reverseSymb: (forward ?  { ')': '(', '}': '{' } : { '(': ')', '{': '}' })[symb],
        forward: forward,
        depth: 0,
        curMoveThrough: false
      };
      var mode = symbolToMode[symb];
      if (!mode)return cur;
      var init = findSymbolModes[mode].init;
      var isComplete = findSymbolModes[mode].isComplete;
      if (init) { init(state); }
      while (line !== endLine && repeat) {
        state.index += increment;
        state.nextCh = state.lineText.charAt(state.index);
        if (!state.nextCh) {
          line += increment;
          state.lineText = cm.getLine(line) || '';
          if (increment > 0) {
            state.index = 0;
          } else {
            var lineLen = state.lineText.length;
            state.index = (lineLen > 0) ? (lineLen-1) : 0;
          }
          state.nextCh = state.lineText.charAt(state.index);
        }
        if (isComplete(state)) {
          cur.line = line;
          cur.ch = state.index;
          repeat--;
        }
      }
      if (state.nextCh || state.curMoveThrough) {
        return Pos(line, state.index);
      }
      return cur;
    }

    /**
     * Returns the boundaries of the next word. If the cursor in the middle of
     * the word, then returns the boundaries of the current word, starting at
     * the cursor. If the cursor is at the start/end of a word, and we are going
     * forward/backward, respectively, find the boundaries of the next word.
     *
     * @param {CodeMirror} cm CodeMirror object.
     * @param {Cursor} cur The cursor position.
     * @param {boolean} forward True to search forward. False to search
     *     backward.
     * @param {boolean} bigWord True if punctuation count as part of the word.
     *     False if only [a-zA-Z0-9] characters count as part of the word.
     * @param {boolean} emptyLineIsWord True if empty lines should be treated
     *     as words.
     * @return {Object{from:number, to:number, line: number}} The boundaries of
     *     the word, or null if there are no more words.
     */
    function findWord(cm, cur, forward, bigWord, emptyLineIsWord) {
      var lineNum = cur.line;
      var pos = cur.ch;
      var line = cm.getLine(lineNum);
      var dir = forward ? 1 : -1;
      var charTests = bigWord ? bigWordCharTest: wordCharTest;

      if (emptyLineIsWord && line == '') {
        lineNum += dir;
        line = cm.getLine(lineNum);
        if (!isLine(cm, lineNum)) {
          return null;
        }
        pos = (forward) ? 0 : line.length;
      }

      while (true) {
        if (emptyLineIsWord && line == '') {
          return { from: 0, to: 0, line: lineNum };
        }
        var stop = (dir > 0) ? line.length : -1;
        var wordStart = stop, wordEnd = stop;
        // Find bounds of next word.
        while (pos != stop) {
          var foundWord = false;
          for (var i = 0; i < charTests.length && !foundWord; ++i) {
            if (charTests[i](line.charAt(pos))) {
              wordStart = pos;
              // Advance to end of word.
              while (pos != stop && charTests[i](line.charAt(pos))) {
                pos += dir;
              }
              wordEnd = pos;
              foundWord = wordStart != wordEnd;
              if (wordStart == cur.ch && lineNum == cur.line &&
                  wordEnd == wordStart + dir) {
                // We started at the end of a word. Find the next one.
                continue;
              } else {
                return {
                  from: Math.min(wordStart, wordEnd + 1),
                  to: Math.max(wordStart, wordEnd),
                  line: lineNum };
              }
            }
          }
          if (!foundWord) {
            pos += dir;
          }
        }
        // Advance to next/prev line.
        lineNum += dir;
        if (!isLine(cm, lineNum)) {
          return null;
        }
        line = cm.getLine(lineNum);
        pos = (dir > 0) ? 0 : line.length;
      }
      // Should never get here.
      throw new Error('The impossible happened.');
    }

    /**
     * @param {CodeMirror} cm CodeMirror object.
     * @param {Pos} cur The position to start from.
     * @param {int} repeat Number of words to move past.
     * @param {boolean} forward True to search forward. False to search
     *     backward.
     * @param {boolean} wordEnd True to move to end of word. False to move to
     *     beginning of word.
     * @param {boolean} bigWord True if punctuation count as part of the word.
     *     False if only alphabet characters count as part of the word.
     * @return {Cursor} The position the cursor should move to.
     */
    function moveToWord(cm, cur, repeat, forward, wordEnd, bigWord) {
      var curStart = copyCursor(cur);
      var words = [];
      if (forward && !wordEnd || !forward && wordEnd) {
        repeat++;
      }
      // For 'e', empty lines are not considered words, go figure.
      var emptyLineIsWord = !(forward && wordEnd);
      for (var i = 0; i < repeat; i++) {
        var word = findWord(cm, cur, forward, bigWord, emptyLineIsWord);
        if (!word) {
          var eodCh = lineLength(cm, cm.lastLine());
          words.push(forward
              ? {line: cm.lastLine(), from: eodCh, to: eodCh}
              : {line: 0, from: 0, to: 0});
          break;
        }
        words.push(word);
        cur = Pos(word.line, forward ? (word.to - 1) : word.from);
      }
      var shortCircuit = words.length != repeat;
      var firstWord = words[0];
      var lastWord = words.pop();
      if (forward && !wordEnd) {
        // w
        if (!shortCircuit && (firstWord.from != curStart.ch || firstWord.line != curStart.line)) {
          // We did not start in the middle of a word. Discard the extra word at the end.
          lastWord = words.pop();
        }
        return Pos(lastWord.line, lastWord.from);
      } else if (forward && wordEnd) {
        return Pos(lastWord.line, lastWord.to - 1);
      } else if (!forward && wordEnd) {
        // ge
        if (!shortCircuit && (firstWord.to != curStart.ch || firstWord.line != curStart.line)) {
          // We did not start in the middle of a word. Discard the extra word at the end.
          lastWord = words.pop();
        }
        return Pos(lastWord.line, lastWord.to);
      } else {
        // b
        return Pos(lastWord.line, lastWord.from);
      }
    }

    function moveToCharacter(cm, repeat, forward, character) {
      var cur = cm.getCursor();
      var start = cur.ch;
      var idx;
      for (var i = 0; i < repeat; i ++) {
        var line = cm.getLine(cur.line);
        idx = charIdxInLine(start, line, character, forward, true);
        if (idx == -1) {
          return null;
        }
        start = idx;
      }
      return Pos(cm.getCursor().line, idx);
    }

    function moveToColumn(cm, repeat) {
      // repeat is always >= 1, so repeat - 1 always corresponds
      // to the column we want to go to.
      var line = cm.getCursor().line;
      return clipCursorToContent(cm, Pos(line, repeat - 1));
    }

    function updateMark(cm, vim, markName, pos) {
      if (!inArray(markName, validMarks)) {
        return;
      }
      if (vim.marks[markName]) {
        vim.marks[markName].clear();
      }
      vim.marks[markName] = cm.setBookmark(pos);
    }

    function charIdxInLine(start, line, character, forward, includeChar) {
      // Search for char in line.
      // motion_options: {forward, includeChar}
      // If includeChar = true, include it too.
      // If forward = true, search forward, else search backwards.
      // If char is not found on this line, do nothing
      var idx;
      if (forward) {
        idx = line.indexOf(character, start + 1);
        if (idx != -1 && !includeChar) {
          idx -= 1;
        }
      } else {
        idx = line.lastIndexOf(character, start - 1);
        if (idx != -1 && !includeChar) {
          idx += 1;
        }
      }
      return idx;
    }

    function findParagraph(cm, head, repeat, dir, inclusive) {
      var line = head.line;
      var min = cm.firstLine();
      var max = cm.lastLine();
      var start, end, i = line;
      function isEmpty(i) { return !cm.getLine(i); }
      function isBoundary(i, dir, any) {
        if (any) { return isEmpty(i) != isEmpty(i + dir); }
        return !isEmpty(i) && isEmpty(i + dir);
      }
      if (dir) {
        while (min <= i && i <= max && repeat > 0) {
          if (isBoundary(i, dir)) { repeat--; }
          i += dir;
        }
        return new Pos(i, 0);
      }

      var vim = cm.state.vim;
      if (vim.visualLine && isBoundary(line, 1, true)) {
        var anchor = vim.sel.anchor;
        if (isBoundary(anchor.line, -1, true)) {
          if (!inclusive || anchor.line != line) {
            line += 1;
          }
        }
      }
      var startState = isEmpty(line);
      for (i = line; i <= max && repeat; i++) {
        if (isBoundary(i, 1, true)) {
          if (!inclusive || isEmpty(i) != startState) {
            repeat--;
          }
        }
      }
      end = new Pos(i, 0);
      // select boundary before paragraph for the last one
      if (i > max && !startState) { startState = true; }
      else { inclusive = false; }
      for (i = line; i > min; i--) {
        if (!inclusive || isEmpty(i) == startState || i == line) {
          if (isBoundary(i, -1, true)) { break; }
        }
      }
      start = new Pos(i, 0);
      return { start: start, end: end };
    }

    // TODO: perhaps this finagling of start and end positions belonds
    // in codmirror/replaceRange?
    function selectCompanionObject(cm, head, symb, inclusive) {
      var cur = head, start, end;

      var bracketRegexp = ({
        '(': /[()]/, ')': /[()]/,
        '[': /[[\]]/, ']': /[[\]]/,
        '{': /[{}]/, '}': /[{}]/})[symb];
      var openSym = ({
        '(': '(', ')': '(',
        '[': '[', ']': '[',
        '{': '{', '}': '{'})[symb];
      var curChar = cm.getLine(cur.line).charAt(cur.ch);
      // Due to the behavior of scanForBracket, we need to add an offset if the
      // cursor is on a matching open bracket.
      var offset = curChar === openSym ? 1 : 0;

      start = cm.scanForBracket(Pos(cur.line, cur.ch + offset), -1, null, {'bracketRegex': bracketRegexp});
      end = cm.scanForBracket(Pos(cur.line, cur.ch + offset), 1, null, {'bracketRegex': bracketRegexp});

      if (!start || !end) {
        return { start: cur, end: cur };
      }

      start = start.pos;
      end = end.pos;

      if ((start.line == end.line && start.ch > end.ch)
          || (start.line > end.line)) {
        var tmp = start;
        start = end;
        end = tmp;
      }

      if (inclusive) {
        end.ch += 1;
      } else {
        start.ch += 1;
      }

      return { start: start, end: end };
    }

    // Takes in a symbol and a cursor and tries to simulate text objects that
    // have identical opening and closing symbols
    // TODO support across multiple lines
    function findBeginningAndEnd(cm, head, symb, inclusive) {
      var cur = copyCursor(head);
      var line = cm.getLine(cur.line);
      var chars = line.split('');
      var start, end, i, len;
      var firstIndex = chars.indexOf(symb);

      // the decision tree is to always look backwards for the beginning first,
      // but if the cursor is in front of the first instance of the symb,
      // then move the cursor forward
      if (cur.ch < firstIndex) {
        cur.ch = firstIndex;
        // Why is this line even here???
        // cm.setCursor(cur.line, firstIndex+1);
      }
      // otherwise if the cursor is currently on the closing symbol
      else if (firstIndex < cur.ch && chars[cur.ch] == symb) {
        end = cur.ch; // assign end to the current cursor
        --cur.ch; // make sure to look backwards
      }

      // if we're currently on the symbol, we've got a start
      if (chars[cur.ch] == symb && !end) {
        start = cur.ch + 1; // assign start to ahead of the cursor
      } else {
        // go backwards to find the start
        for (i = cur.ch; i > -1 && !start; i--) {
          if (chars[i] == symb) {
            start = i + 1;
          }
        }
      }

      // look forwards for the end symbol
      if (start && !end) {
        for (i = start, len = chars.length; i < len && !end; i++) {
          if (chars[i] == symb) {
            end = i;
          }
        }
      }

      // nothing found
      if (!start || !end) {
        return { start: cur, end: cur };
      }

      // include the symbols
      if (inclusive) {
        --start; ++end;
      }

      return {
        start: Pos(cur.line, start),
        end: Pos(cur.line, end)
      };
    }

    // Search functions
    defineOption('pcre', true, 'boolean');
    function SearchState() {}
    SearchState.prototype = {
      getQuery: function() {
        return vimGlobalState.query;
      },
      setQuery: function(query) {
        vimGlobalState.query = query;
      },
      getOverlay: function() {
        return this.searchOverlay;
      },
      setOverlay: function(overlay) {
        this.searchOverlay = overlay;
      },
      isReversed: function() {
        return vimGlobalState.isReversed;
      },
      setReversed: function(reversed) {
        vimGlobalState.isReversed = reversed;
      },
      getScrollbarAnnotate: function() {
        return this.annotate;
      },
      setScrollbarAnnotate: function(annotate) {
        this.annotate = annotate;
      }
    };
    function getSearchState(cm) {
      var vim = cm.state.vim;
      return vim.searchState_ || (vim.searchState_ = new SearchState());
    }
    function dialog(cm, template, shortText, onClose, options) {
      if (cm.openDialog) {
        cm.openDialog(template, onClose, { bottom: true, value: options.value,
            onKeyDown: options.onKeyDown, onKeyUp: options.onKeyUp,
            selectValueOnOpen: false});
      }
      else {
        onClose(prompt(shortText, ''));
      }
    }
    function splitBySlash(argString) {
      var slashes = findUnescapedSlashes(argString) || [];
      if (!slashes.length) return [];
      var tokens = [];
      // in case of strings like foo/bar
      if (slashes[0] !== 0) return;
      for (var i = 0; i < slashes.length; i++) {
        if (typeof slashes[i] == 'number')
          tokens.push(argString.substring(slashes[i] + 1, slashes[i+1]));
      }
      return tokens;
    }

    function findUnescapedSlashes(str) {
      var escapeNextChar = false;
      var slashes = [];
      for (var i = 0; i < str.length; i++) {
        var c = str.charAt(i);
        if (!escapeNextChar && c == '/') {
          slashes.push(i);
        }
        escapeNextChar = !escapeNextChar && (c == '\\');
      }
      return slashes;
    }

    // Translates a search string from ex (vim) syntax into javascript form.
    function translateRegex(str) {
      // When these match, add a '\' if unescaped or remove one if escaped.
      var specials = '|(){';
      // Remove, but never add, a '\' for these.
      var unescape = '}';
      var escapeNextChar = false;
      var out = [];
      for (var i = -1; i < str.length; i++) {
        var c = str.charAt(i) || '';
        var n = str.charAt(i+1) || '';
        var specialComesNext = (n && specials.indexOf(n) != -1);
        if (escapeNextChar) {
          if (c !== '\\' || !specialComesNext) {
            out.push(c);
          }
          escapeNextChar = false;
        } else {
          if (c === '\\') {
            escapeNextChar = true;
            // Treat the unescape list as special for removing, but not adding '\'.
            if (n && unescape.indexOf(n) != -1) {
              specialComesNext = true;
            }
            // Not passing this test means removing a '\'.
            if (!specialComesNext || n === '\\') {
              out.push(c);
            }
          } else {
            out.push(c);
            if (specialComesNext && n !== '\\') {
              out.push('\\');
            }
          }
        }
      }
      return out.join('');
    }

    // Translates the replace part of a search and replace from ex (vim) syntax into
    // javascript form.  Similar to translateRegex, but additionally fixes back references
    // (translates '\[0..9]' to '$[0..9]') and follows different rules for escaping '$'.
    var charUnescapes = {'\\n': '\n', '\\r': '\r', '\\t': '\t'};
    function translateRegexReplace(str) {
      var escapeNextChar = false;
      var out = [];
      for (var i = -1; i < str.length; i++) {
        var c = str.charAt(i) || '';
        var n = str.charAt(i+1) || '';
        if (charUnescapes[c + n]) {
          out.push(charUnescapes[c+n]);
          i++;
        } else if (escapeNextChar) {
          // At any point in the loop, escapeNextChar is true if the previous
          // character was a '\' and was not escaped.
          out.push(c);
          escapeNextChar = false;
        } else {
          if (c === '\\') {
            escapeNextChar = true;
            if ((isNumber(n) || n === '$')) {
              out.push('$');
            } else if (n !== '/' && n !== '\\') {
              out.push('\\');
            }
          } else {
            if (c === '$') {
              out.push('$');
            }
            out.push(c);
            if (n === '/') {
              out.push('\\');
            }
          }
        }
      }
      return out.join('');
    }

    // Unescape \ and / in the replace part, for PCRE mode.
    var unescapes = {'\\/': '/', '\\\\': '\\', '\\n': '\n', '\\r': '\r', '\\t': '\t'};
    function unescapeRegexReplace(str) {
      var stream = new CodeMirror.StringStream(str);
      var output = [];
      while (!stream.eol()) {
        // Search for \.
        while (stream.peek() && stream.peek() != '\\') {
          output.push(stream.next());
        }
        var matched = false;
        for (var matcher in unescapes) {
          if (stream.match(matcher, true)) {
            matched = true;
            output.push(unescapes[matcher]);
            break;
          }
        }
        if (!matched) {
          // Don't change anything
          output.push(stream.next());
        }
      }
      return output.join('');
    }

    /**
     * Extract the regular expression from the query and return a Regexp object.
     * Returns null if the query is blank.
     * If ignoreCase is passed in, the Regexp object will have the 'i' flag set.
     * If smartCase is passed in, and the query contains upper case letters,
     *   then ignoreCase is overridden, and the 'i' flag will not be set.
     * If the query contains the /i in the flag part of the regular expression,
     *   then both ignoreCase and smartCase are ignored, and 'i' will be passed
     *   through to the Regex object.
     */
    function parseQuery(query, ignoreCase, smartCase) {
      // First update the last search register
      var lastSearchRegister = vimGlobalState.registerController.getRegister('/');
      lastSearchRegister.setText(query);
      // Check if the query is already a regex.
      if (query instanceof RegExp) { return query; }
      // First try to extract regex + flags from the input. If no flags found,
      // extract just the regex. IE does not accept flags directly defined in
      // the regex string in the form /regex/flags
      var slashes = findUnescapedSlashes(query);
      var regexPart;
      var forceIgnoreCase;
      if (!slashes.length) {
        // Query looks like 'regexp'
        regexPart = query;
      } else {
        // Query looks like 'regexp/...'
        regexPart = query.substring(0, slashes[0]);
        var flagsPart = query.substring(slashes[0]);
        forceIgnoreCase = (flagsPart.indexOf('i') != -1);
      }
      if (!regexPart) {
        return null;
      }
      if (!getOption('pcre')) {
        regexPart = translateRegex(regexPart);
      }
      if (smartCase) {
        ignoreCase = (/^[^A-Z]*$/).test(regexPart);
      }
      var regexp = new RegExp(regexPart,
          (ignoreCase || forceIgnoreCase) ? 'i' : undefined);
      return regexp;
    }
    function showConfirm(cm, text) {
      if (cm.openNotification) {
        cm.openNotification('<span style="color: red">' + text + '</span>',
                            {bottom: true, duration: 5000});
      } else {
        alert(text);
      }
    }
    function makePrompt(prefix, desc) {
      var raw = '';
      if (prefix) {
        raw += '<span style="font-family: monospace">' + prefix + '</span>';
      }
      raw += '<input type="text"/> ' +
          '<span style="color: #888">';
      if (desc) {
        raw += '<span style="color: #888">';
        raw += desc;
        raw += '</span>';
      }
      return raw;
    }
    var searchPromptDesc = '(Javascript regexp)';
    function showPrompt(cm, options) {
      var shortText = (options.prefix || '') + ' ' + (options.desc || '');
      var prompt = makePrompt(options.prefix, options.desc);
      dialog(cm, prompt, shortText, options.onClose, options);
    }
    function regexEqual(r1, r2) {
      if (r1 instanceof RegExp && r2 instanceof RegExp) {
          var props = ['global', 'multiline', 'ignoreCase', 'source'];
          for (var i = 0; i < props.length; i++) {
              var prop = props[i];
              if (r1[prop] !== r2[prop]) {
                  return false;
              }
          }
          return true;
      }
      return false;
    }
    // Returns true if the query is valid.
    function updateSearchQuery(cm, rawQuery, ignoreCase, smartCase) {
      if (!rawQuery) {
        return;
      }
      var state = getSearchState(cm);
      var query = parseQuery(rawQuery, !!ignoreCase, !!smartCase);
      if (!query) {
        return;
      }
      highlightSearchMatches(cm, query);
      if (regexEqual(query, state.getQuery())) {
        return query;
      }
      state.setQuery(query);
      return query;
    }
    function searchOverlay(query) {
      if (query.source.charAt(0) == '^') {
        var matchSol = true;
      }
      return {
        token: function(stream) {
          if (matchSol && !stream.sol()) {
            stream.skipToEnd();
            return;
          }
          var match = stream.match(query, false);
          if (match) {
            if (match[0].length == 0) {
              // Matched empty string, skip to next.
              stream.next();
              return 'searching';
            }
            if (!stream.sol()) {
              // Backtrack 1 to match \b
              stream.backUp(1);
              if (!query.exec(stream.next() + match[0])) {
                stream.next();
                return null;
              }
            }
            stream.match(query);
            return 'searching';
          }
          while (!stream.eol()) {
            stream.next();
            if (stream.match(query, false)) break;
          }
        },
        query: query
      };
    }
    function highlightSearchMatches(cm, query) {
      var searchState = getSearchState(cm);
      var overlay = searchState.getOverlay();
      if (!overlay || query != overlay.query) {
        if (overlay) {
          cm.removeOverlay(overlay);
        }
        overlay = searchOverlay(query);
        cm.addOverlay(overlay);
        if (cm.showMatchesOnScrollbar) {
          if (searchState.getScrollbarAnnotate()) {
            searchState.getScrollbarAnnotate().clear();
          }
          searchState.setScrollbarAnnotate(cm.showMatchesOnScrollbar(query));
        }
        searchState.setOverlay(overlay);
      }
    }
    function findNext(cm, prev, query, repeat) {
      if (repeat === undefined) { repeat = 1; }
      return cm.operation(function() {
        var pos = cm.getCursor();
        var cursor = cm.getSearchCursor(query, pos);
        for (var i = 0; i < repeat; i++) {
          var found = cursor.find(prev);
          if (i == 0 && found && cursorEqual(cursor.from(), pos)) { found = cursor.find(prev); }
          if (!found) {
            // SearchCursor may have returned null because it hit EOF, wrap
            // around and try again.
            cursor = cm.getSearchCursor(query,
                (prev) ? Pos(cm.lastLine()) : Pos(cm.firstLine(), 0) );
            if (!cursor.find(prev)) {
              return;
            }
          }
        }
        return cursor.from();
      });
    }
    function clearSearchHighlight(cm) {
      var state = getSearchState(cm);
      cm.removeOverlay(getSearchState(cm).getOverlay());
      state.setOverlay(null);
      if (state.getScrollbarAnnotate()) {
        state.getScrollbarAnnotate().clear();
        state.setScrollbarAnnotate(null);
      }
    }
    /**
     * Check if pos is in the specified range, INCLUSIVE.
     * Range can be specified with 1 or 2 arguments.
     * If the first range argument is an array, treat it as an array of line
     * numbers. Match pos against any of the lines.
     * If the first range argument is a number,
     *   if there is only 1 range argument, check if pos has the same line
     *       number
     *   if there are 2 range arguments, then check if pos is in between the two
     *       range arguments.
     */
    function isInRange(pos, start, end) {
      if (typeof pos != 'number') {
        // Assume it is a cursor position. Get the line number.
        pos = pos.line;
      }
      if (start instanceof Array) {
        return inArray(pos, start);
      } else {
        if (end) {
          return (pos >= start && pos <= end);
        } else {
          return pos == start;
        }
      }
    }
    function getUserVisibleLines(cm) {
      var scrollInfo = cm.getScrollInfo();
      var occludeToleranceTop = 6;
      var occludeToleranceBottom = 10;
      var from = cm.coordsChar({left:0, top: occludeToleranceTop + scrollInfo.top}, 'local');
      var bottomY = scrollInfo.clientHeight - occludeToleranceBottom + scrollInfo.top;
      var to = cm.coordsChar({left:0, top: bottomY}, 'local');
      return {top: from.line, bottom: to.line};
    }

    var ExCommandDispatcher = function() {
      this.buildCommandMap_();
    };
    ExCommandDispatcher.prototype = {
      processCommand: function(cm, input, opt_params) {
        var that = this;
        cm.operation(function () {
          cm.curOp.isVimOp = true;
          that._processCommand(cm, input, opt_params);
        });
      },
      _processCommand: function(cm, input, opt_params) {
        var vim = cm.state.vim;
        var commandHistoryRegister = vimGlobalState.registerController.getRegister(':');
        var previousCommand = commandHistoryRegister.toString();
        if (vim.visualMode) {
          exitVisualMode(cm);
        }
        var inputStream = new CodeMirror.StringStream(input);
        // update ": with the latest command whether valid or invalid
        commandHistoryRegister.setText(input);
        var params = opt_params || {};
        params.input = input;
        try {
          this.parseInput_(cm, inputStream, params);
        } catch(e) {
          showConfirm(cm, e);
          throw e;
        }
        var command;
        var commandName;
        if (!params.commandName) {
          // If only a line range is defined, move to the line.
          if (params.line !== undefined) {
            commandName = 'move';
          }
        } else {
          command = this.matchCommand_(params.commandName);
          if (command) {
            commandName = command.name;
            if (command.excludeFromCommandHistory) {
              commandHistoryRegister.setText(previousCommand);
            }
            this.parseCommandArgs_(inputStream, params, command);
            if (command.type == 'exToKey') {
              // Handle Ex to Key mapping.
              for (var i = 0; i < command.toKeys.length; i++) {
                CodeMirror.Vim.handleKey(cm, command.toKeys[i], 'mapping');
              }
              return;
            } else if (command.type == 'exToEx') {
              // Handle Ex to Ex mapping.
              this.processCommand(cm, command.toInput);
              return;
            }
          }
        }
        if (!commandName) {
          showConfirm(cm, 'Not an editor command ":' + input + '"');
          return;
        }
        try {
          exCommands[commandName](cm, params);
          // Possibly asynchronous commands (e.g. substitute, which might have a
          // user confirmation), are responsible for calling the callback when
          // done. All others have it taken care of for them here.
          if ((!command || !command.possiblyAsync) && params.callback) {
            params.callback();
          }
        } catch(e) {
          showConfirm(cm, e);
          throw e;
        }
      },
      parseInput_: function(cm, inputStream, result) {
        inputStream.eatWhile(':');
        // Parse range.
        if (inputStream.eat('%')) {
          result.line = cm.firstLine();
          result.lineEnd = cm.lastLine();
        } else {
          result.line = this.parseLineSpec_(cm, inputStream);
          if (result.line !== undefined && inputStream.eat(',')) {
            result.lineEnd = this.parseLineSpec_(cm, inputStream);
          }
        }

        // Parse command name.
        var commandMatch = inputStream.match(/^(\w+)/);
        if (commandMatch) {
          result.commandName = commandMatch[1];
        } else {
          result.commandName = inputStream.match(/.*/)[0];
        }

        return result;
      },
      parseLineSpec_: function(cm, inputStream) {
        var numberMatch = inputStream.match(/^(\d+)/);
        if (numberMatch) {
          return parseInt(numberMatch[1], 10) - 1;
        }
        switch (inputStream.next()) {
          case '.':
            return cm.getCursor().line;
          case '$':
            return cm.lastLine();
          case '\'':
            var mark = cm.state.vim.marks[inputStream.next()];
            if (mark && mark.find()) {
              return mark.find().line;
            }
            throw new Error('Mark not set');
          default:
            inputStream.backUp(1);
            return undefined;
        }
      },
      parseCommandArgs_: function(inputStream, params, command) {
        if (inputStream.eol()) {
          return;
        }
        params.argString = inputStream.match(/.*/)[0];
        // Parse command-line arguments
        var delim = command.argDelimiter || /\s+/;
        var args = trim(params.argString).split(delim);
        if (args.length && args[0]) {
          params.args = args;
        }
      },
      matchCommand_: function(commandName) {
        // Return the command in the command map that matches the shortest
        // prefix of the passed in command name. The match is guaranteed to be
        // unambiguous if the defaultExCommandMap's shortNames are set up
        // correctly. (see @code{defaultExCommandMap}).
        for (var i = commandName.length; i > 0; i--) {
          var prefix = commandName.substring(0, i);
          if (this.commandMap_[prefix]) {
            var command = this.commandMap_[prefix];
            if (command.name.indexOf(commandName) === 0) {
              return command;
            }
          }
        }
        return null;
      },
      buildCommandMap_: function() {
        this.commandMap_ = {};
        for (var i = 0; i < defaultExCommandMap.length; i++) {
          var command = defaultExCommandMap[i];
          var key = command.shortName || command.name;
          this.commandMap_[key] = command;
        }
      },
      map: function(lhs, rhs, ctx) {
        if (lhs != ':' && lhs.charAt(0) == ':') {
          if (ctx) { throw Error('Mode not supported for ex mappings'); }
          var commandName = lhs.substring(1);
          if (rhs != ':' && rhs.charAt(0) == ':') {
            // Ex to Ex mapping
            this.commandMap_[commandName] = {
              name: commandName,
              type: 'exToEx',
              toInput: rhs.substring(1),
              user: true
            };
          } else {
            // Ex to key mapping
            this.commandMap_[commandName] = {
              name: commandName,
              type: 'exToKey',
              toKeys: rhs,
              user: true
            };
          }
        } else {
          if (rhs != ':' && rhs.charAt(0) == ':') {
            // Key to Ex mapping.
            var mapping = {
              keys: lhs,
              type: 'keyToEx',
              exArgs: { input: rhs.substring(1) },
              user: true};
            if (ctx) { mapping.context = ctx; }
            defaultKeymap.unshift(mapping);
          } else {
            // Key to key mapping
            var mapping = {
              keys: lhs,
              type: 'keyToKey',
              toKeys: rhs,
              user: true
            };
            if (ctx) { mapping.context = ctx; }
            defaultKeymap.unshift(mapping);
          }
        }
      },
      unmap: function(lhs, ctx) {
        if (lhs != ':' && lhs.charAt(0) == ':') {
          // Ex to Ex or Ex to key mapping
          if (ctx) { throw Error('Mode not supported for ex mappings'); }
          var commandName = lhs.substring(1);
          if (this.commandMap_[commandName] && this.commandMap_[commandName].user) {
            delete this.commandMap_[commandName];
            return;
          }
        } else {
          // Key to Ex or key to key mapping
          var keys = lhs;
          for (var i = 0; i < defaultKeymap.length; i++) {
            if (keys == defaultKeymap[i].keys
                && defaultKeymap[i].context === ctx
                && defaultKeymap[i].user) {
              defaultKeymap.splice(i, 1);
              return;
            }
          }
        }
        throw Error('No such mapping.');
      }
    };

    var exCommands = {
      colorscheme: function(cm, params) {
        if (!params.args || params.args.length < 1) {
          showConfirm(cm, cm.getOption('theme'));
          return;
        }
        cm.setOption('theme', params.args[0]);
      },
      map: function(cm, params, ctx) {
        var mapArgs = params.args;
        if (!mapArgs || mapArgs.length < 2) {
          if (cm) {
            showConfirm(cm, 'Invalid mapping: ' + params.input);
          }
          return;
        }
        exCommandDispatcher.map(mapArgs[0], mapArgs[1], ctx);
      },
      imap: function(cm, params) { this.map(cm, params, 'insert'); },
      nmap: function(cm, params) { this.map(cm, params, 'normal'); },
      vmap: function(cm, params) { this.map(cm, params, 'visual'); },
      unmap: function(cm, params, ctx) {
        var mapArgs = params.args;
        if (!mapArgs || mapArgs.length < 1) {
          if (cm) {
            showConfirm(cm, 'No such mapping: ' + params.input);
          }
          return;
        }
        exCommandDispatcher.unmap(mapArgs[0], ctx);
      },
      move: function(cm, params) {
        commandDispatcher.processCommand(cm, cm.state.vim, {
            type: 'motion',
            motion: 'moveToLineOrEdgeOfDocument',
            motionArgs: { forward: false, explicitRepeat: true,
              linewise: true },
            repeatOverride: params.line+1});
      },
      set: function(cm, params) {
        var setArgs = params.args;
        // Options passed through to the setOption/getOption calls. May be passed in by the
        // local/global versions of the set command
        var setCfg = params.setCfg || {};
        if (!setArgs || setArgs.length < 1) {
          if (cm) {
            showConfirm(cm, 'Invalid mapping: ' + params.input);
          }
          return;
        }
        var expr = setArgs[0].split('=');
        var optionName = expr[0];
        var value = expr[1];
        var forceGet = false;

        if (optionName.charAt(optionName.length - 1) == '?') {
          // If post-fixed with ?, then the set is actually a get.
          if (value) { throw Error('Trailing characters: ' + params.argString); }
          optionName = optionName.substring(0, optionName.length - 1);
          forceGet = true;
        }
        if (value === undefined && optionName.substring(0, 2) == 'no') {
          // To set boolean options to false, the option name is prefixed with
          // 'no'.
          optionName = optionName.substring(2);
          value = false;
        }

        var optionIsBoolean = options[optionName] && options[optionName].type == 'boolean';
        if (optionIsBoolean && value == undefined) {
          // Calling set with a boolean option sets it to true.
          value = true;
        }
        // If no value is provided, then we assume this is a get.
        if (!optionIsBoolean && value === undefined || forceGet) {
          var oldValue = getOption(optionName, cm, setCfg);
          if (oldValue === true || oldValue === false) {
            showConfirm(cm, ' ' + (oldValue ? '' : 'no') + optionName);
          } else {
            showConfirm(cm, '  ' + optionName + '=' + oldValue);
          }
        } else {
          setOption(optionName, value, cm, setCfg);
        }
      },
      setlocal: function (cm, params) {
        // setCfg is passed through to setOption
        params.setCfg = {scope: 'local'};
        this.set(cm, params);
      },
      setglobal: function (cm, params) {
        // setCfg is passed through to setOption
        params.setCfg = {scope: 'global'};
        this.set(cm, params);
      },
      registers: function(cm, params) {
        var regArgs = params.args;
        var registers = vimGlobalState.registerController.registers;
        var regInfo = '----------Registers----------<br><br>';
        if (!regArgs) {
          for (var registerName in registers) {
            var text = registers[registerName].toString();
            if (text.length) {
              regInfo += '"' + registerName + '    ' + text + '<br>';
            }
          }
        } else {
          var registerName;
          regArgs = regArgs.join('');
          for (var i = 0; i < regArgs.length; i++) {
            registerName = regArgs.charAt(i);
            if (!vimGlobalState.registerController.isValidRegister(registerName)) {
              continue;
            }
            var register = registers[registerName] || new Register();
            regInfo += '"' + registerName + '    ' + register.toString() + '<br>';
          }
        }
        showConfirm(cm, regInfo);
      },
      sort: function(cm, params) {
        var reverse, ignoreCase, unique, number;
        function parseArgs() {
          if (params.argString) {
            var args = new CodeMirror.StringStream(params.argString);
            if (args.eat('!')) { reverse = true; }
            if (args.eol()) { return; }
            if (!args.eatSpace()) { return 'Invalid arguments'; }
            var opts = args.match(/[a-z]+/);
            if (opts) {
              opts = opts[0];
              ignoreCase = opts.indexOf('i') != -1;
              unique = opts.indexOf('u') != -1;
              var decimal = opts.indexOf('d') != -1 && 1;
              var hex = opts.indexOf('x') != -1 && 1;
              var octal = opts.indexOf('o') != -1 && 1;
              if (decimal + hex + octal > 1) { return 'Invalid arguments'; }
              number = decimal && 'decimal' || hex && 'hex' || octal && 'octal';
            }
            if (args.match(/\/.*\//)) { return 'patterns not supported'; }
          }
        }
        var err = parseArgs();
        if (err) {
          showConfirm(cm, err + ': ' + params.argString);
          return;
        }
        var lineStart = params.line || cm.firstLine();
        var lineEnd = params.lineEnd || params.line || cm.lastLine();
        if (lineStart == lineEnd) { return; }
        var curStart = Pos(lineStart, 0);
        var curEnd = Pos(lineEnd, lineLength(cm, lineEnd));
        var text = cm.getRange(curStart, curEnd).split('\n');
        var numberRegex = (number == 'decimal') ? /(-?)([\d]+)/ :
           (number == 'hex') ? /(-?)(?:0x)?([0-9a-f]+)/i :
           (number == 'octal') ? /([0-7]+)/ : null;
        var radix = (number == 'decimal') ? 10 : (number == 'hex') ? 16 : (number == 'octal') ? 8 : null;
        var numPart = [], textPart = [];
        if (number) {
          for (var i = 0; i < text.length; i++) {
            if (numberRegex.exec(text[i])) {
              numPart.push(text[i]);
            } else {
              textPart.push(text[i]);
            }
          }
        } else {
          textPart = text;
        }
        function compareFn(a, b) {
          if (reverse) { var tmp; tmp = a; a = b; b = tmp; }
          if (ignoreCase) { a = a.toLowerCase(); b = b.toLowerCase(); }
          var anum = number && numberRegex.exec(a);
          var bnum = number && numberRegex.exec(b);
          if (!anum) { return a < b ? -1 : 1; }
          anum = parseInt((anum[1] + anum[2]).toLowerCase(), radix);
          bnum = parseInt((bnum[1] + bnum[2]).toLowerCase(), radix);
          return anum - bnum;
        }
        numPart.sort(compareFn);
        textPart.sort(compareFn);
        text = (!reverse) ? textPart.concat(numPart) : numPart.concat(textPart);
        if (unique) { // Remove duplicate lines
          var textOld = text;
          var lastLine;
          text = [];
          for (var i = 0; i < textOld.length; i++) {
            if (textOld[i] != lastLine) {
              text.push(textOld[i]);
            }
            lastLine = textOld[i];
          }
        }
        cm.replaceRange(text.join('\n'), curStart, curEnd);
      },
      global: function(cm, params) {
        // a global command is of the form
        // :[range]g/pattern/[cmd]
        // argString holds the string /pattern/[cmd]
        var argString = params.argString;
        if (!argString) {
          showConfirm(cm, 'Regular Expression missing from global');
          return;
        }
        // range is specified here
        var lineStart = (params.line !== undefined) ? params.line : cm.firstLine();
        var lineEnd = params.lineEnd || params.line || cm.lastLine();
        // get the tokens from argString
        var tokens = splitBySlash(argString);
        var regexPart = argString, cmd;
        if (tokens.length) {
          regexPart = tokens[0];
          cmd = tokens.slice(1, tokens.length).join('/');
        }
        if (regexPart) {
          // If regex part is empty, then use the previous query. Otherwise
          // use the regex part as the new query.
          try {
           updateSearchQuery(cm, regexPart, true /** ignoreCase */,
             true /** smartCase */);
          } catch (e) {
           showConfirm(cm, 'Invalid regex: ' + regexPart);
           return;
          }
        }
        // now that we have the regexPart, search for regex matches in the
        // specified range of lines
        var query = getSearchState(cm).getQuery();
        var matchedLines = [], content = '';
        for (var i = lineStart; i <= lineEnd; i++) {
          var matched = query.test(cm.getLine(i));
          if (matched) {
            matchedLines.push(i+1);
            content+= cm.getLine(i) + '<br>';
          }
        }
        // if there is no [cmd], just display the list of matched lines
        if (!cmd) {
          showConfirm(cm, content);
          return;
        }
        var index = 0;
        var nextCommand = function() {
          if (index < matchedLines.length) {
            var command = matchedLines[index] + cmd;
            exCommandDispatcher.processCommand(cm, command, {
              callback: nextCommand
            });
          }
          index++;
        };
        nextCommand();
      },
      substitute: function(cm, params) {
        if (!cm.getSearchCursor) {
          throw new Error('Search feature not available. Requires searchcursor.js or ' +
              'any other getSearchCursor implementation.');
        }
        var argString = params.argString;
        var tokens = argString ? splitBySlash(argString) : [];
        var regexPart, replacePart = '', trailing, flagsPart, count;
        var confirm = false; // Whether to confirm each replace.
        var global = false; // True to replace all instances on a line, false to replace only 1.
        if (tokens.length) {
          regexPart = tokens[0];
          replacePart = tokens[1];
          if (replacePart !== undefined) {
            if (getOption('pcre')) {
              replacePart = unescapeRegexReplace(replacePart);
            } else {
              replacePart = translateRegexReplace(replacePart);
            }
            vimGlobalState.lastSubstituteReplacePart = replacePart;
          }
          trailing = tokens[2] ? tokens[2].split(' ') : [];
        } else {
          // either the argString is empty or its of the form ' hello/world'
          // actually splitBySlash returns a list of tokens
          // only if the string starts with a '/'
          if (argString && argString.length) {
            showConfirm(cm, 'Substitutions should be of the form ' +
                ':s/pattern/replace/');
            return;
          }
        }
        // After the 3rd slash, we can have flags followed by a space followed
        // by count.
        if (trailing) {
          flagsPart = trailing[0];
          count = parseInt(trailing[1]);
          if (flagsPart) {
            if (flagsPart.indexOf('c') != -1) {
              confirm = true;
              flagsPart.replace('c', '');
            }
            if (flagsPart.indexOf('g') != -1) {
              global = true;
              flagsPart.replace('g', '');
            }
            regexPart = regexPart + '/' + flagsPart;
          }
        }
        if (regexPart) {
          // If regex part is empty, then use the previous query. Otherwise use
          // the regex part as the new query.
          try {
            updateSearchQuery(cm, regexPart, true /** ignoreCase */,
              true /** smartCase */);
          } catch (e) {
            showConfirm(cm, 'Invalid regex: ' + regexPart);
            return;
          }
        }
        replacePart = replacePart || vimGlobalState.lastSubstituteReplacePart;
        if (replacePart === undefined) {
          showConfirm(cm, 'No previous substitute regular expression');
          return;
        }
        var state = getSearchState(cm);
        var query = state.getQuery();
        var lineStart = (params.line !== undefined) ? params.line : cm.getCursor().line;
        var lineEnd = params.lineEnd || lineStart;
        if (lineStart == cm.firstLine() && lineEnd == cm.lastLine()) {
          lineEnd = Infinity;
        }
        if (count) {
          lineStart = lineEnd;
          lineEnd = lineStart + count - 1;
        }
        var startPos = clipCursorToContent(cm, Pos(lineStart, 0));
        var cursor = cm.getSearchCursor(query, startPos);
        doReplace(cm, confirm, global, lineStart, lineEnd, cursor, query, replacePart, params.callback);
      },
      redo: CodeMirror.commands.redo,
      undo: CodeMirror.commands.undo,
      write: function(cm) {
        if (CodeMirror.commands.save) {
          // If a save command is defined, call it.
          CodeMirror.commands.save(cm);
        } else {
          // Saves to text area if no save command is defined.
          cm.save();
        }
      },
      nohlsearch: function(cm) {
        clearSearchHighlight(cm);
      },
      delmarks: function(cm, params) {
        if (!params.argString || !trim(params.argString)) {
          showConfirm(cm, 'Argument required');
          return;
        }

        var state = cm.state.vim;
        var stream = new CodeMirror.StringStream(trim(params.argString));
        while (!stream.eol()) {
          stream.eatSpace();

          // Record the streams position at the beginning of the loop for use
          // in error messages.
          var count = stream.pos;

          if (!stream.match(/[a-zA-Z]/, false)) {
            showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));
            return;
          }

          var sym = stream.next();
          // Check if this symbol is part of a range
          if (stream.match('-', true)) {
            // This symbol is part of a range.

            // The range must terminate at an alphabetic character.
            if (!stream.match(/[a-zA-Z]/, false)) {
              showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));
              return;
            }

            var startMark = sym;
            var finishMark = stream.next();
            // The range must terminate at an alphabetic character which
            // shares the same case as the start of the range.
            if (isLowerCase(startMark) && isLowerCase(finishMark) ||
                isUpperCase(startMark) && isUpperCase(finishMark)) {
              var start = startMark.charCodeAt(0);
              var finish = finishMark.charCodeAt(0);
              if (start >= finish) {
                showConfirm(cm, 'Invalid argument: ' + params.argString.substring(count));
                return;
              }

              // Because marks are always ASCII values, and we have
              // determined that they are the same case, we can use
              // their char codes to iterate through the defined range.
              for (var j = 0; j <= finish - start; j++) {
                var mark = String.fromCharCode(start + j);
                delete state.marks[mark];
              }
            } else {
              showConfirm(cm, 'Invalid argument: ' + startMark + '-');
              return;
            }
          } else {
            // This symbol is a valid mark, and is not part of a range.
            delete state.marks[sym];
          }
        }
      }
    };

    var exCommandDispatcher = new ExCommandDispatcher();

    /**
    * @param {CodeMirror} cm CodeMirror instance we are in.
    * @param {boolean} confirm Whether to confirm each replace.
    * @param {Cursor} lineStart Line to start replacing from.
    * @param {Cursor} lineEnd Line to stop replacing at.
    * @param {RegExp} query Query for performing matches with.
    * @param {string} replaceWith Text to replace matches with. May contain $1,
    *     $2, etc for replacing captured groups using Javascript replace.
    * @param {function()} callback A callback for when the replace is done.
    */
    function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,
        replaceWith, callback) {
      // Set up all the functions.
      cm.state.vim.exMode = true;
      var done = false;
      var lastPos = searchCursor.from();
      function replaceAll() {
        cm.operation(function() {
          while (!done) {
            replace();
            next();
          }
          stop();
        });
      }
      function replace() {
        var text = cm.getRange(searchCursor.from(), searchCursor.to());
        var newText = text.replace(query, replaceWith);
        searchCursor.replace(newText);
      }
      function next() {
        // The below only loops to skip over multiple occurrences on the same
        // line when 'global' is not true.
        while(searchCursor.findNext() &&
              isInRange(searchCursor.from(), lineStart, lineEnd)) {
          if (!global && lastPos && searchCursor.from().line == lastPos.line) {
            continue;
          }
          cm.scrollIntoView(searchCursor.from(), 30);
          cm.setSelection(searchCursor.from(), searchCursor.to());
          lastPos = searchCursor.from();
          done = false;
          return;
        }
        done = true;
      }
      function stop(close) {
        if (close) { close(); }
        cm.focus();
        if (lastPos) {
          cm.setCursor(lastPos);
          var vim = cm.state.vim;
          vim.exMode = false;
          vim.lastHPos = vim.lastHSPos = lastPos.ch;
        }
        if (callback) { callback(); }
      }
      function onPromptKeyDown(e, _value, close) {
        // Swallow all keys.
        CodeMirror.e_stop(e);
        var keyName = CodeMirror.keyName(e);
        switch (keyName) {
          case 'Y':
            replace(); next(); break;
          case 'N':
            next(); break;
          case 'A':
            // replaceAll contains a call to close of its own. We don't want it
            // to fire too early or multiple times.
            var savedCallback = callback;
            callback = undefined;
            cm.operation(replaceAll);
            callback = savedCallback;
            break;
          case 'L':
            replace();
            // fall through and exit.
          case 'Q':
          case 'Esc':
          case 'Ctrl-C':
          case 'Ctrl-[':
            stop(close);
            break;
        }
        if (done) { stop(close); }
        return true;
      }

      // Actually do replace.
      next();
      if (done) {
        showConfirm(cm, 'No matches for ' + query.source);
        return;
      }
      if (!confirm) {
        replaceAll();
        if (callback) { callback(); };
        return;
      }
      showPrompt(cm, {
        prefix: 'replace with <strong>' + replaceWith + '</strong> (y/n/a/q/l)',
        onKeyDown: onPromptKeyDown
      });
    }

    CodeMirror.keyMap.vim = {
      attach: attachVimMap,
      detach: detachVimMap,
      call: cmKey
    };

    function exitInsertMode(cm) {
      var vim = cm.state.vim;
      var macroModeState = vimGlobalState.macroModeState;
      var insertModeChangeRegister = vimGlobalState.registerController.getRegister('.');
      var isPlaying = macroModeState.isPlaying;
      var lastChange = macroModeState.lastInsertModeChanges;
      // In case of visual block, the insertModeChanges are not saved as a
      // single word, so we convert them to a single word
      // so as to update the ". register as expected in real vim.
      var text = [];
      if (!isPlaying) {
        var selLength = lastChange.inVisualBlock ? vim.lastSelection.visualBlock.height : 1;
        var changes = lastChange.changes;
        var text = [];
        var i = 0;
        // In case of multiple selections in blockwise visual,
        // the inserted text, for example: 'f<Backspace>oo', is stored as
        // 'f', 'f', InsertModeKey 'o', 'o', 'o', 'o'. (if you have a block with 2 lines).
        // We push the contents of the changes array as per the following:
        // 1. In case of InsertModeKey, just increment by 1.
        // 2. In case of a character, jump by selLength (2 in the example).
        while (i < changes.length) {
          // This loop will convert 'ff<bs>oooo' to 'f<bs>oo'.
          text.push(changes[i]);
          if (changes[i] instanceof InsertModeKey) {
             i++;
          } else {
             i+= selLength;
          }
        }
        lastChange.changes = text;
        cm.off('change', onChange);
        CodeMirror.off(cm.getInputField(), 'keydown', onKeyEventTargetKeyDown);
      }
      if (!isPlaying && vim.insertModeRepeat > 1) {
        // Perform insert mode repeat for commands like 3,a and 3,o.
        repeatLastEdit(cm, vim, vim.insertModeRepeat - 1,
            true /** repeatForInsert */);
        vim.lastEditInputState.repeatOverride = vim.insertModeRepeat;
      }
      delete vim.insertModeRepeat;
      vim.insertMode = false;
      cm.setCursor(cm.getCursor().line, cm.getCursor().ch-1);
      cm.setOption('keyMap', 'vim');
      cm.setOption('disableInput', true);
      cm.toggleOverwrite(false); // exit replace mode if we were in it.
      // update the ". register before exiting insert mode
      insertModeChangeRegister.setText(lastChange.changes.join(''));
      CodeMirror.signal(cm, "vim-mode-change", {mode: "normal"});
      if (macroModeState.isRecording) {
        logInsertModeChange(macroModeState);
      }
    }

    function _mapCommand(command) {
      defaultKeymap.unshift(command);
    }

    function mapCommand(keys, type, name, args, extra) {
      var command = {keys: keys, type: type};
      command[type] = name;
      command[type + "Args"] = args;
      for (var key in extra)
        command[key] = extra[key];
      _mapCommand(command);
    }

    // The timeout in milliseconds for the two-character ESC keymap should be
    // adjusted according to your typing speed to prevent false positives.
    defineOption('insertModeEscKeysTimeout', 200, 'number');

    CodeMirror.keyMap['vim-insert'] = {
      // TODO: override navigation keys so that Esc will cancel automatic
      // indentation from o, O, i_<CR>
      'Ctrl-N': 'autocomplete',
      'Ctrl-P': 'autocomplete',
      'Enter': function(cm) {
        var fn = CodeMirror.commands.newlineAndIndentContinueComment ||
            CodeMirror.commands.newlineAndIndent;
        fn(cm);
      },
      fallthrough: ['default'],
      attach: attachVimMap,
      detach: detachVimMap,
      call: cmKey
    };

    CodeMirror.keyMap['vim-replace'] = {
      'Backspace': 'goCharLeft',
      fallthrough: ['vim-insert'],
      attach: attachVimMap,
      detach: detachVimMap,
      call: cmKey
    };

    function executeMacroRegister(cm, vim, macroModeState, registerName) {
      var register = vimGlobalState.registerController.getRegister(registerName);
      if (registerName == ':') {
        // Read-only register containing last Ex command.
        if (register.keyBuffer[0]) {
          exCommandDispatcher.processCommand(cm, register.keyBuffer[0]);
        }
        macroModeState.isPlaying = false;
        return;
      }
      var keyBuffer = register.keyBuffer;
      var imc = 0;
      macroModeState.isPlaying = true;
      macroModeState.replaySearchQueries = register.searchQueries.slice(0);
      for (var i = 0; i < keyBuffer.length; i++) {
        var text = keyBuffer[i];
        var match, key;
        while (text) {
          // Pull off one command key, which is either a single character
          // or a special sequence wrapped in '<' and '>', e.g. '<Space>'.
          match = (/<\w+-.+?>|<\w+>|./).exec(text);
          key = match[0];
          text = text.substring(match.index + key.length);
          CodeMirror.Vim.handleKey(cm, key, 'macro');
          if (vim.insertMode) {
            var changes = register.insertModeChanges[imc++].changes;
            vimGlobalState.macroModeState.lastInsertModeChanges.changes =
                changes;
            repeatInsertModeChanges(cm, changes, 1);
            exitInsertMode(cm);
          }
        }
      };
      macroModeState.isPlaying = false;
    }

    function logKey(macroModeState, key) {
      if (macroModeState.isPlaying) { return; }
      var registerName = macroModeState.latestRegister;
      var register = vimGlobalState.registerController.getRegister(registerName);
      if (register) {
        register.pushText(key);
      }
    }

    function logInsertModeChange(macroModeState) {
      if (macroModeState.isPlaying) { return; }
      var registerName = macroModeState.latestRegister;
      var register = vimGlobalState.registerController.getRegister(registerName);
      if (register && register.pushInsertModeChanges) {
        register.pushInsertModeChanges(macroModeState.lastInsertModeChanges);
      }
    }

    function logSearchQuery(macroModeState, query) {
      if (macroModeState.isPlaying) { return; }
      var registerName = macroModeState.latestRegister;
      var register = vimGlobalState.registerController.getRegister(registerName);
      if (register && register.pushSearchQuery) {
        register.pushSearchQuery(query);
      }
    }

    /**
     * Listens for changes made in insert mode.
     * Should only be active in insert mode.
     */
    function onChange(_cm, changeObj) {
      var macroModeState = vimGlobalState.macroModeState;
      var lastChange = macroModeState.lastInsertModeChanges;
      if (!macroModeState.isPlaying) {
        while(changeObj) {
          lastChange.expectCursorActivityForChange = true;
          if (changeObj.origin == '+input' || changeObj.origin == 'paste'
              || changeObj.origin === undefined /* only in testing */) {
            var text = changeObj.text.join('\n');
            lastChange.changes.push(text);
          }
          // Change objects may be chained with next.
          changeObj = changeObj.next;
        }
      }
    }

    /**
    * Listens for any kind of cursor activity on CodeMirror.
    */
    function onCursorActivity(cm) {
      var vim = cm.state.vim;
      if (vim.insertMode) {
        // Tracking cursor activity in insert mode (for macro support).
        var macroModeState = vimGlobalState.macroModeState;
        if (macroModeState.isPlaying) { return; }
        var lastChange = macroModeState.lastInsertModeChanges;
        if (lastChange.expectCursorActivityForChange) {
          lastChange.expectCursorActivityForChange = false;
        } else {
          // Cursor moved outside the context of an edit. Reset the change.
          lastChange.changes = [];
        }
      } else if (!cm.curOp.isVimOp) {
        handleExternalSelection(cm, vim);
      }
      if (vim.visualMode) {
        updateFakeCursor(cm);
      }
    }
    function updateFakeCursor(cm) {
      var vim = cm.state.vim;
      var from = clipCursorToContent(cm, copyCursor(vim.sel.head));
      var to = offsetCursor(from, 0, 1);
      if (vim.fakeCursor) {
        vim.fakeCursor.clear();
      }
      vim.fakeCursor = cm.markText(from, to, {className: 'cm-animate-fat-cursor'});
    }
    function handleExternalSelection(cm, vim) {
      var anchor = cm.getCursor('anchor');
      var head = cm.getCursor('head');
      // Enter or exit visual mode to match mouse selection.
      if (vim.visualMode && !cm.somethingSelected()) {
        exitVisualMode(cm, false);
      } else if (!vim.visualMode && !vim.insertMode && cm.somethingSelected()) {
        vim.visualMode = true;
        vim.visualLine = false;
        CodeMirror.signal(cm, "vim-mode-change", {mode: "visual"});
      }
      if (vim.visualMode) {
        // Bind CodeMirror selection model to vim selection model.
        // Mouse selections are considered visual characterwise.
        var headOffset = !cursorIsBefore(head, anchor) ? -1 : 0;
        var anchorOffset = cursorIsBefore(head, anchor) ? -1 : 0;
        head = offsetCursor(head, 0, headOffset);
        anchor = offsetCursor(anchor, 0, anchorOffset);
        vim.sel = {
          anchor: anchor,
          head: head
        };
        updateMark(cm, vim, '<', cursorMin(head, anchor));
        updateMark(cm, vim, '>', cursorMax(head, anchor));
      } else if (!vim.insertMode) {
        // Reset lastHPos if selection was modified by something outside of vim mode e.g. by mouse.
        vim.lastHPos = cm.getCursor().ch;
      }
    }

    /** Wrapper for special keys pressed in insert mode */
    function InsertModeKey(keyName) {
      this.keyName = keyName;
    }

    /**
    * Handles raw key down events from the text area.
    * - Should only be active in insert mode.
    * - For recording deletes in insert mode.
    */
    function onKeyEventTargetKeyDown(e) {
      var macroModeState = vimGlobalState.macroModeState;
      var lastChange = macroModeState.lastInsertModeChanges;
      var keyName = CodeMirror.keyName(e);
      if (!keyName) { return; }
      function onKeyFound() {
        lastChange.changes.push(new InsertModeKey(keyName));
        return true;
      }
      if (keyName.indexOf('Delete') != -1 || keyName.indexOf('Backspace') != -1) {
        CodeMirror.lookupKey(keyName, 'vim-insert', onKeyFound);
      }
    }

    /**
     * Repeats the last edit, which includes exactly 1 command and at most 1
     * insert. Operator and motion commands are read from lastEditInputState,
     * while action commands are read from lastEditActionCommand.
     *
     * If repeatForInsert is true, then the function was called by
     * exitInsertMode to repeat the insert mode changes the user just made. The
     * corresponding enterInsertMode call was made with a count.
     */
    function repeatLastEdit(cm, vim, repeat, repeatForInsert) {
      var macroModeState = vimGlobalState.macroModeState;
      macroModeState.isPlaying = true;
      var isAction = !!vim.lastEditActionCommand;
      var cachedInputState = vim.inputState;
      function repeatCommand() {
        if (isAction) {
          commandDispatcher.processAction(cm, vim, vim.lastEditActionCommand);
        } else {
          commandDispatcher.evalInput(cm, vim);
        }
      }
      function repeatInsert(repeat) {
        if (macroModeState.lastInsertModeChanges.changes.length > 0) {
          // For some reason, repeat cw in desktop VIM does not repeat
          // insert mode changes. Will conform to that behavior.
          repeat = !vim.lastEditActionCommand ? 1 : repeat;
          var changeObject = macroModeState.lastInsertModeChanges;
          repeatInsertModeChanges(cm, changeObject.changes, repeat);
        }
      }
      vim.inputState = vim.lastEditInputState;
      if (isAction && vim.lastEditActionCommand.interlaceInsertRepeat) {
        // o and O repeat have to be interlaced with insert repeats so that the
        // insertions appear on separate lines instead of the last line.
        for (var i = 0; i < repeat; i++) {
          repeatCommand();
          repeatInsert(1);
        }
      } else {
        if (!repeatForInsert) {
          // Hack to get the cursor to end up at the right place. If I is
          // repeated in insert mode repeat, cursor will be 1 insert
          // change set left of where it should be.
          repeatCommand();
        }
        repeatInsert(repeat);
      }
      vim.inputState = cachedInputState;
      if (vim.insertMode && !repeatForInsert) {
        // Don't exit insert mode twice. If repeatForInsert is set, then we
        // were called by an exitInsertMode call lower on the stack.
        exitInsertMode(cm);
      }
      macroModeState.isPlaying = false;
    };

    function repeatInsertModeChanges(cm, changes, repeat) {
      function keyHandler(binding) {
        if (typeof binding == 'string') {
          CodeMirror.commands[binding](cm);
        } else {
          binding(cm);
        }
        return true;
      }
      var head = cm.getCursor('head');
      var inVisualBlock = vimGlobalState.macroModeState.lastInsertModeChanges.inVisualBlock;
      if (inVisualBlock) {
        // Set up block selection again for repeating the changes.
        var vim = cm.state.vim;
        var lastSel = vim.lastSelection;
        var offset = getOffset(lastSel.anchor, lastSel.head);
        selectForInsert(cm, head, offset.line + 1);
        repeat = cm.listSelections().length;
        cm.setCursor(head);
      }
      for (var i = 0; i < repeat; i++) {
        if (inVisualBlock) {
          cm.setCursor(offsetCursor(head, i, 0));
        }
        for (var j = 0; j < changes.length; j++) {
          var change = changes[j];
          if (change instanceof InsertModeKey) {
            CodeMirror.lookupKey(change.keyName, 'vim-insert', keyHandler);
          } else {
            var cur = cm.getCursor();
            cm.replaceRange(change, cur, cur);
          }
        }
      }
      if (inVisualBlock) {
        cm.setCursor(offsetCursor(head, 0, 1));
      }
    }

    resetVimGlobalState();
    return vimApi;
  };
  // Initialize Vim and make it available as an API.
  CodeMirror.Vim = Vim();
});

// CodeMirror, copyright (c) by Marijn Haverbeke and others
// Distributed under an MIT license: http://codemirror.net/LICENSE

(function(mod) {
  if (typeof exports == "object" && typeof module == "object") // CommonJS
    mod(require("../../lib/codemirror"));
  else if (typeof define == "function" && define.amd) // AMD
    define(["../../lib/codemirror"], mod);
  else // Plain browser env
    mod(CodeMirror);
})(function(CodeMirror) {
"use strict";

CodeMirror.defineMode("clike", function(config, parserConfig) {
  var indentUnit = config.indentUnit,
      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,
      dontAlignCalls = parserConfig.dontAlignCalls,
      keywords = parserConfig.keywords || {},
      builtin = parserConfig.builtin || {},
      blockKeywords = parserConfig.blockKeywords || {},
      atoms = parserConfig.atoms || {},
      hooks = parserConfig.hooks || {},
      multiLineStrings = parserConfig.multiLineStrings,
      indentStatements = parserConfig.indentStatements !== false;
  var isOperatorChar = /[+\-*&%=<>!?|\/]/;

  var curPunc;

  function tokenBase(stream, state) {
    var ch = stream.next();
    if (hooks[ch]) {
      var result = hooks[ch](stream, state);
      if (result !== false) return result;
    }
    if (ch == '"' || ch == "'") {
      state.tokenize = tokenString(ch);
      return state.tokenize(stream, state);
    }
    if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
      curPunc = ch;
      return null;
    }
    if (/\d/.test(ch)) {
      stream.eatWhile(/[\w\.]/);
      return "number";
    }
    if (ch == "/") {
      if (stream.eat("*")) {
        state.tokenize = tokenComment;
        return tokenComment(stream, state);
      }
      if (stream.eat("/")) {
        stream.skipToEnd();
        return "comment";
      }
    }
    if (isOperatorChar.test(ch)) {
      stream.eatWhile(isOperatorChar);
      return "operator";
    }
    stream.eatWhile(/[\w\$_\xa1-\uffff]/);
    var cur = stream.current();
    if (keywords.propertyIsEnumerable(cur)) {
      if (blockKeywords.propertyIsEnumerable(cur)) curPunc = "newstatement";
      return "keyword";
    }
    if (builtin.propertyIsEnumerable(cur)) {
      if (blockKeywords.propertyIsEnumerable(cur)) curPunc = "newstatement";
      return "builtin";
    }
    if (atoms.propertyIsEnumerable(cur)) return "atom";
    return "variable";
  }

  function tokenString(quote) {
    return function(stream, state) {
      var escaped = false, next, end = false;
      while ((next = stream.next()) != null) {
        if (next == quote && !escaped) {end = true; break;}
        escaped = !escaped && next == "\\";
      }
      if (end || !(escaped || multiLineStrings))
        state.tokenize = null;
      return "string";
    };
  }

  function tokenComment(stream, state) {
    var maybeEnd = false, ch;
    while (ch = stream.next()) {
      if (ch == "/" && maybeEnd) {
        state.tokenize = null;
        break;
      }
      maybeEnd = (ch == "*");
    }
    return "comment";
  }

  function Context(indented, column, type, align, prev) {
    this.indented = indented;
    this.column = column;
    this.type = type;
    this.align = align;
    this.prev = prev;
  }
  function pushContext(state, col, type) {
    var indent = state.indented;
    if (state.context && state.context.type == "statement")
      indent = state.context.indented;
    return state.context = new Context(indent, col, type, null, state.context);
  }
  function popContext(state) {
    var t = state.context.type;
    if (t == ")" || t == "]" || t == "}")
      state.indented = state.context.indented;
    return state.context = state.context.prev;
  }

  // Interface

  return {
    startState: function(basecolumn) {
      return {
        tokenize: null,
        context: new Context((basecolumn || 0) - indentUnit, 0, "top", false),
        indented: 0,
        startOfLine: true
      };
    },

    token: function(stream, state) {
      var ctx = state.context;
      if (stream.sol()) {
        if (ctx.align == null) ctx.align = false;
        state.indented = stream.indentation();
        state.startOfLine = true;
      }
      if (stream.eatSpace()) return null;
      curPunc = null;
      var style = (state.tokenize || tokenBase)(stream, state);
      if (style == "comment" || style == "meta") return style;
      if (ctx.align == null) ctx.align = true;

      if ((curPunc == ";" || curPunc == ":" || curPunc == ",") && ctx.type == "statement") popContext(state);
      else if (curPunc == "{") pushContext(state, stream.column(), "}");
      else if (curPunc == "[") pushContext(state, stream.column(), "]");
      else if (curPunc == "(") pushContext(state, stream.column(), ")");
      else if (curPunc == "}") {
        while (ctx.type == "statement") ctx = popContext(state);
        if (ctx.type == "}") ctx = popContext(state);
        while (ctx.type == "statement") ctx = popContext(state);
      }
      else if (curPunc == ctx.type) popContext(state);
      else if (indentStatements &&
               (((ctx.type == "}" || ctx.type == "top") && curPunc != ';') ||
                (ctx.type == "statement" && curPunc == "newstatement")))
        pushContext(state, stream.column(), "statement");
      state.startOfLine = false;
      return style;
    },

    indent: function(state, textAfter) {
      if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;
      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);
      if (ctx.type == "statement" && firstChar == "}") ctx = ctx.prev;
      var closing = firstChar == ctx.type;
      if (ctx.type == "statement") return ctx.indented + (firstChar == "{" ? 0 : statementIndentUnit);
      else if (ctx.align && (!dontAlignCalls || ctx.type != ")")) return ctx.column + (closing ? 0 : 1);
      else if (ctx.type == ")" && !closing) return ctx.indented + statementIndentUnit;
      else return ctx.indented + (closing ? 0 : indentUnit);
    },

    electricChars: "{}",
    blockCommentStart: "/*",
    blockCommentEnd: "*/",
    lineComment: "//",
    fold: "brace"
  };
});

  function words(str) {
    var obj = {}, words = str.split(" ");
    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;
    return obj;
  }

  function cppHook(stream, state) {
    if (!state.startOfLine) return false;
    for (;;) {
      if (stream.skipTo("\\")) {
        stream.next();
        if (stream.eol()) {
          state.tokenize = cppHook;
          break;
        }
      } else {
        stream.skipToEnd();
        state.tokenize = null;
        break;
      }
    }
    return "meta";
  }

  function def(mimes, mode) {
    if (typeof mimes == "string") mimes = [mimes];
    var words = [];
    function add(obj) {
      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))
        words.push(prop);
    }
    add(mode.keywords);
    add(mode.builtin);
    add(mode.atoms);
    if (words.length) {
      mode.helperType = mimes[0];
      CodeMirror.registerHelper("hintWords", mimes[0], words);
    }

    for (var i = 0; i < mimes.length; ++i)
      CodeMirror.defineMIME(mimes[i], mode);
  }

  def(["x-shader/x-vertex", "x-shader/x-fragment"], {
    name: "clike",
    keywords: words("float int bool void " +
                    "vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 " +
                    "mat2 mat3 mat4 " +
                    "sampler2D sampler3D samplerCube " +
                    "const attribute uniform varying " +
                    "break continue discard return " +
                    "for while do if else struct " +
                    "in out inout"),
    blockKeywords: words("for while do if else struct"),
    builtin: words("radians degrees sin cos tan asin acos atan " +
                    "pow exp log exp2 sqrt inversesqrt " +
                    "abs sign floor ceil fract mod min max clamp mix step smoothstep " +
                    "length distance dot cross normalize faceforward " +
                    "reflect refract matrixCompMult " +
                    "lessThan lessThanEqual greaterThan greaterThanEqual " +
                    "equal notEqual any all not " +
                    "texture2D texture2DLod texture2DProjLod " +
                    "textureCube textureCubeLod "),
    atoms: words("true false " +
                "gl_FragColor " +
                "gl_PointCoord " +
                "gl_Position gl_PointSize " +
                "gl_FragCoord gl_FrontFacing " +
                "gl_FragData " +
                "gl_DepthRangeParameters " +
                "gl_MaxVertexAttribs gl_MaxVaryingVectors gl_MaxVertexUniformVectors" +
                "gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits " +
                "gl_MaxFragmentUniformVectors " +
                "gl_MaxDrawBuffers"),
    hooks: {"#": cppHook},
    modeProps: {fold: ["brace", "include"]}
  });

});

;(function(){
var h, aa = this;
function ca(a, b) {
  var c = a.split("."), d = aa;
  c[0] in d || !d.execScript || d.execScript("var " + c[0]);
  for (var e;c.length && (e = c.shift());) {
    c.length || void 0 === b ? d = d[e] ? d[e] : d[e] = {} : d[e] = b;
  }
}
function da(a) {
  var b = typeof a;
  if ("object" == b) {
    if (a) {
      if (a instanceof Array) {
        return "array";
      }
      if (a instanceof Object) {
        return b;
      }
      var c = Object.prototype.toString.call(a);
      if ("[object Window]" == c) {
        return "object";
      }
      if ("[object Array]" == c || "number" == typeof a.length && "undefined" != typeof a.splice && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("splice")) {
        return "array";
      }
      if ("[object Function]" == c || "undefined" != typeof a.call && "undefined" != typeof a.propertyIsEnumerable && !a.propertyIsEnumerable("call")) {
        return "function";
      }
    } else {
      return "null";
    }
  } else {
    if ("function" == b && "undefined" == typeof a.call) {
      return "object";
    }
  }
  return b;
}
function ga(a) {
  return "string" == typeof a;
}
function ia(a) {
  return "number" == typeof a;
}
function ja(a) {
  return "function" == da(a);
}
function ka(a) {
  return a[ma] || (a[ma] = ++oa);
}
var ma = "closure_uid_" + (1E9 * Math.random() >>> 0), oa = 0;
function qa(a, b, c) {
  return a.call.apply(a.bind, arguments);
}
function ra(a, b, c) {
  if (!a) {
    throw Error();
  }
  if (2 < arguments.length) {
    var d = Array.prototype.slice.call(arguments, 2);
    return function() {
      var c = Array.prototype.slice.call(arguments);
      Array.prototype.unshift.apply(c, d);
      return a.apply(b, c);
    };
  }
  return function() {
    return a.apply(b, arguments);
  };
}
function sa(a, b, c) {
  sa = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? qa : ra;
  return sa.apply(null, arguments);
}
function ta(a, b) {
  function c() {
  }
  c.prototype = b.prototype;
  a.xd = b.prototype;
  a.prototype = new c;
  a.prototype.constructor = a;
  a.base = function(a, c, f) {
    for (var g = Array(arguments.length - 2), k = 2;k < arguments.length;k++) {
      g[k - 2] = arguments[k];
    }
    return b.prototype[c].apply(a, g);
  };
}
;function ua(a) {
  return /^[\s\xa0]*$/.test(a);
}
function xa(a) {
  return 1 == a.length && " " <= a && "~" >= a || "" <= a && "�" >= a;
}
var ya = String.prototype.trim ? function(a) {
  return a.trim();
} : function(a) {
  return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g, "");
}, Aa = String.prototype.repeat ? function(a, b) {
  return a.repeat(b);
} : function(a, b) {
  return Array(b + 1).join(a);
};
function Ba(a) {
  a = String(a);
  var b = a.indexOf(".");
  -1 == b && (b = a.length);
  return Aa("0", Math.max(0, 2 - b)) + a;
}
function Ca(a, b) {
  return a < b ? -1 : a > b ? 1 : 0;
}
;function Da(a, b) {
  for (var c in a) {
    b.call(void 0, a[c], c, a);
  }
}
function Ea(a, b) {
  for (var c in a) {
    if (b.call(void 0, a[c], c, a)) {
      return !0;
    }
  }
  return !1;
}
;function Fa(a, b) {
  null != a && this.append.apply(this, arguments);
}
h = Fa.prototype;
h.Bb = "";
h.set = function(a) {
  this.Bb = "" + a;
};
h.append = function(a, b, c) {
  this.Bb += a;
  if (null != b) {
    for (var d = 1;d < arguments.length;d++) {
      this.Bb += arguments[d];
    }
  }
  return this;
};
h.clear = function() {
  this.Bb = "";
};
h.toString = function() {
  return this.Bb;
};
var Ga = Array.prototype, Ha = Ga.indexOf ? function(a, b, c) {
  return Ga.indexOf.call(a, b, c);
} : function(a, b, c) {
  c = null == c ? 0 : 0 > c ? Math.max(0, a.length + c) : c;
  if (ga(a)) {
    return ga(b) && 1 == b.length ? a.indexOf(b, c) : -1;
  }
  for (;c < a.length;c++) {
    if (c in a && a[c] === b) {
      return c;
    }
  }
  return -1;
};
function Ja(a, b) {
  a.sort(b || Ka);
}
function La(a, b) {
  for (var c = 0;c < a.length;c++) {
    a[c] = {index:c, value:a[c]};
  }
  var d = b || Ka;
  Ja(a, function(a, b) {
    return d(a.value, b.value) || a.index - b.index;
  });
  for (c = 0;c < a.length;c++) {
    a[c] = a[c].value;
  }
}
function Ka(a, b) {
  return a > b ? 1 : a < b ? -1 : 0;
}
;var Ma, Na = null;
if ("undefined" === typeof Oa) {
  var Oa = function() {
    throw Error("No *print-fn* fn set for evaluation environment");
  }
}
if ("undefined" === typeof Pa) {
  var Pa = function() {
    throw Error("No *print-err-fn* fn set for evaluation environment");
  }
}
var Qa = !0, Ra = !0, Sa = null, Ta = null;
if ("undefined" === typeof Va) {
  var Va = null
}
function Wa() {
  return new l(null, 5, [Xa, !0, Ya, Ra, Za, !1, $a, !1, ab, Sa], null);
}
function m(a) {
  return null != a && !1 !== a;
}
function bb(a, b) {
  return a === b;
}
function cb(a) {
  return null == a;
}
function db(a) {
  return a instanceof Array;
}
function eb(a) {
  return null == a ? !0 : !1 === a ? !0 : !1;
}
function fb(a, b) {
  return a[da(null == b ? null : b)] ? !0 : a._ ? !0 : !1;
}
function gb(a) {
  return null == a ? null : a.constructor;
}
function ib(a, b) {
  var c = gb(b), c = m(m(c) ? c.vb : c) ? c.jb : da(b);
  return Error(["No protocol method ", a, " defined for type ", c, ": ", b].join(""));
}
function jb(a) {
  var b = a.jb;
  return m(b) ? b : "" + p(a);
}
var kb = "undefined" !== typeof Symbol && "function" === da(Symbol) ? Symbol.iterator : "@@iterator";
function mb(a) {
  for (var b = a.length, c = Array(b), d = 0;;) {
    if (d < b) {
      c[d] = a[d], d += 1;
    } else {
      break;
    }
  }
  return c;
}
function nb(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return ob(arguments[0]);
    case 2:
      return ob(arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function pb(a) {
  return ob(a);
}
function ob(a) {
  function b(a, b) {
    a.push(b);
    return a;
  }
  var c = [];
  return qb ? qb(b, c, a) : rb.call(null, b, c, a);
}
function sb() {
}
function tb() {
}
function ub() {
}
var vb = function vb(b) {
  if (null != b && null != b.ea) {
    return b.ea(b);
  }
  var c = vb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = vb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("ICounted.-count", b);
}, wb = function wb(b) {
  if (null != b && null != b.ka) {
    return b.ka(b);
  }
  var c = wb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = wb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEmptyableCollection.-empty", b);
};
function xb() {
}
var yb = function yb(b, c) {
  if (null != b && null != b.aa) {
    return b.aa(b, c);
  }
  var d = yb[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = yb._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("ICollection.-conj", b);
};
function zb() {
}
var Ab = function Ab(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Ab.h(arguments[0], arguments[1]);
    case 3:
      return Ab.l(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
Ab.h = function(a, b) {
  if (null != a && null != a.X) {
    return a.X(a, b);
  }
  var c = Ab[da(null == a ? null : a)];
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  c = Ab._;
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  throw ib("IIndexed.-nth", a);
};
Ab.l = function(a, b, c) {
  if (null != a && null != a.Ua) {
    return a.Ua(a, b, c);
  }
  var d = Ab[da(null == a ? null : a)];
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  d = Ab._;
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  throw ib("IIndexed.-nth", a);
};
Ab.D = 3;
function Bb() {
}
var Cb = function Cb(b) {
  if (null != b && null != b.la) {
    return b.la(b);
  }
  var c = Cb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Cb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("ISeq.-first", b);
}, Db = function Db(b) {
  if (null != b && null != b.Fa) {
    return b.Fa(b);
  }
  var c = Db[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Db._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("ISeq.-rest", b);
};
function Eb() {
}
function Fb() {
}
var Gb = function Gb(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Gb.h(arguments[0], arguments[1]);
    case 3:
      return Gb.l(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
Gb.h = function(a, b) {
  if (null != a && null != a.ba) {
    return a.ba(a, b);
  }
  var c = Gb[da(null == a ? null : a)];
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  c = Gb._;
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  throw ib("ILookup.-lookup", a);
};
Gb.l = function(a, b, c) {
  if (null != a && null != a.$) {
    return a.$(a, b, c);
  }
  var d = Gb[da(null == a ? null : a)];
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  d = Gb._;
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  throw ib("ILookup.-lookup", a);
};
Gb.D = 3;
var Ib = function Ib(b, c) {
  if (null != b && null != b.Ac) {
    return b.Ac(b, c);
  }
  var d = Ib[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = Ib._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IAssociative.-contains-key?", b);
}, Jb = function Jb(b, c, d) {
  if (null != b && null != b.Wa) {
    return b.Wa(b, c, d);
  }
  var e = Jb[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = Jb._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IAssociative.-assoc", b);
};
function Kb() {
}
var Lb = function Lb(b, c) {
  if (null != b && null != b.Ya) {
    return b.Ya(b, c);
  }
  var d = Lb[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = Lb._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IMap.-dissoc", b);
};
function Mb() {
}
var Ob = function Ob(b) {
  if (null != b && null != b.Fc) {
    return b.Fc();
  }
  var c = Ob[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Ob._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IMapEntry.-key", b);
}, Pb = function Pb(b) {
  if (null != b && null != b.Gc) {
    return b.Gc();
  }
  var c = Pb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Pb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IMapEntry.-val", b);
};
function Qb() {
}
var Rb = function Rb(b, c) {
  if (null != b && null != b.ad) {
    return b.ad(0, c);
  }
  var d = Rb[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = Rb._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("ISet.-disjoin", b);
}, Sb = function Sb(b) {
  if (null != b && null != b.Mb) {
    return b.Mb(b);
  }
  var c = Sb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Sb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IStack.-peek", b);
}, Ub = function Ub(b) {
  if (null != b && null != b.Nb) {
    return b.Nb(b);
  }
  var c = Ub[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Ub._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IStack.-pop", b);
};
function Vb() {
}
var Wb = function Wb(b, c, d) {
  if (null != b && null != b.Mc) {
    return b.Mc(b, c, d);
  }
  var e = Wb[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = Wb._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IVector.-assoc-n", b);
};
function Xb() {
}
var Yb = function Yb(b) {
  if (null != b && null != b.tb) {
    return b.tb(b);
  }
  var c = Yb[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Yb._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IDeref.-deref", b);
};
function Zb() {
}
var $b = function $b(b) {
  if (null != b && null != b.S) {
    return b.S(b);
  }
  var c = $b[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = $b._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IMeta.-meta", b);
}, ac = function ac(b, c) {
  if (null != b && null != b.U) {
    return b.U(b, c);
  }
  var d = ac[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = ac._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IWithMeta.-with-meta", b);
};
function bc() {
}
var cc = function cc(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return cc.h(arguments[0], arguments[1]);
    case 3:
      return cc.l(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
cc.h = function(a, b) {
  if (null != a && null != a.Ba) {
    return a.Ba(a, b);
  }
  var c = cc[da(null == a ? null : a)];
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  c = cc._;
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  throw ib("IReduce.-reduce", a);
};
cc.l = function(a, b, c) {
  if (null != a && null != a.Ca) {
    return a.Ca(a, b, c);
  }
  var d = cc[da(null == a ? null : a)];
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  d = cc._;
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  throw ib("IReduce.-reduce", a);
};
cc.D = 3;
var dc = function dc(b, c, d) {
  if (null != b && null != b.Yb) {
    return b.Yb(b, c, d);
  }
  var e = dc[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = dc._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IKVReduce.-kv-reduce", b);
}, ec = function ec(b, c) {
  if (null != b && null != b.K) {
    return b.K(b, c);
  }
  var d = ec[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = ec._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEquiv.-equiv", b);
}, fc = function fc(b) {
  if (null != b && null != b.W) {
    return b.W(b);
  }
  var c = fc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = fc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IHash.-hash", b);
};
function gc() {
}
var hc = function hc(b) {
  if (null != b && null != b.ca) {
    return b.ca(b);
  }
  var c = hc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = hc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("ISeqable.-seq", b);
};
function ic() {
}
function jc() {
}
function kc() {
}
function lc() {
}
var mc = function mc(b) {
  if (null != b && null != b.oc) {
    return b.oc(b);
  }
  var c = mc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = mc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IReversible.-rseq", b);
}, q = function q(b, c) {
  if (null != b && null != b.ub) {
    return b.ub(b, c);
  }
  var d = q[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = q._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IWriter.-write", b);
}, oc = function oc(b) {
  if (null != b && null != b.ib) {
    return b.ib(b);
  }
  var c = oc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = oc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IWriter.-flush", b);
};
function pc() {
}
function qc() {
}
var rc = function rc(b) {
  if (null != b && null != b.$c) {
    return b.$c();
  }
  var c = rc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = rc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IPending.-realized?", b);
}, sc = function sc(b, c, d) {
  if (null != b && null != b.qc) {
    return b.qc(b, c, d);
  }
  var e = sc[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = sc._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IWatchable.-notify-watches", b);
}, tc = function tc(b, c, d) {
  if (null != b && null != b.pc) {
    return b.pc(b, c, d);
  }
  var e = tc[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = tc._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IWatchable.-add-watch", b);
}, uc = function uc(b, c) {
  if (null != b && null != b.rc) {
    return b.rc(b, c);
  }
  var d = uc[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = uc._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IWatchable.-remove-watch", b);
}, vc = function vc(b) {
  if (null != b && null != b.Lb) {
    return b.Lb(b);
  }
  var c = vc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = vc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEditableCollection.-as-transient", b);
}, wc = function wc(b, c) {
  if (null != b && null != b.Cb) {
    return b.Cb(b, c);
  }
  var d = wc[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = wc._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("ITransientCollection.-conj!", b);
}, xc = function xc(b) {
  if (null != b && null != b.Ob) {
    return b.Ob(b);
  }
  var c = xc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = xc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("ITransientCollection.-persistent!", b);
}, yc = function yc(b, c, d) {
  if (null != b && null != b.ac) {
    return b.ac(b, c, d);
  }
  var e = yc[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = yc._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("ITransientAssociative.-assoc!", b);
}, zc = function zc(b, c, d) {
  if (null != b && null != b.bd) {
    return b.bd(0, c, d);
  }
  var e = zc[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = zc._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("ITransientVector.-assoc-n!", b);
};
function Ac() {
}
var Bc = function Bc(b, c) {
  if (null != b && null != b.Kb) {
    return b.Kb(b, c);
  }
  var d = Bc[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = Bc._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IComparable.-compare", b);
}, Cc = function Cc(b) {
  if (null != b && null != b.Wc) {
    return b.Wc();
  }
  var c = Cc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Cc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IChunk.-drop-first", b);
}, Ec = function Ec(b) {
  if (null != b && null != b.Cc) {
    return b.Cc(b);
  }
  var c = Ec[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Ec._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IChunkedSeq.-chunked-first", b);
}, Fc = function Fc(b) {
  if (null != b && null != b.Dc) {
    return b.Dc(b);
  }
  var c = Fc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Fc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IChunkedSeq.-chunked-rest", b);
}, Gc = function Gc(b) {
  if (null != b && null != b.Bc) {
    return b.Bc(b);
  }
  var c = Gc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Gc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IChunkedNext.-chunked-next", b);
}, Hc = function Hc(b) {
  if (null != b && null != b.Zb) {
    return b.Zb(b);
  }
  var c = Hc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Hc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("INamed.-name", b);
}, Ic = function Ic(b) {
  if (null != b && null != b.$b) {
    return b.$b(b);
  }
  var c = Ic[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Ic._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("INamed.-namespace", b);
}, Jc = function Jc(b, c) {
  if (null != b && null != b.Hc) {
    return b.Hc(b, c);
  }
  var d = Jc[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = Jc._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IReset.-reset!", b);
}, Kc = function Kc(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Kc.h(arguments[0], arguments[1]);
    case 3:
      return Kc.l(arguments[0], arguments[1], arguments[2]);
    case 4:
      return Kc.I(arguments[0], arguments[1], arguments[2], arguments[3]);
    case 5:
      return Kc.R(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
Kc.h = function(a, b) {
  if (null != a && null != a.Ic) {
    return a.Ic(a, b);
  }
  var c = Kc[da(null == a ? null : a)];
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  c = Kc._;
  if (null != c) {
    return c.h ? c.h(a, b) : c.call(null, a, b);
  }
  throw ib("ISwap.-swap!", a);
};
Kc.l = function(a, b, c) {
  if (null != a && null != a.Jc) {
    return a.Jc(a, b, c);
  }
  var d = Kc[da(null == a ? null : a)];
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  d = Kc._;
  if (null != d) {
    return d.l ? d.l(a, b, c) : d.call(null, a, b, c);
  }
  throw ib("ISwap.-swap!", a);
};
Kc.I = function(a, b, c, d) {
  if (null != a && null != a.Kc) {
    return a.Kc(a, b, c, d);
  }
  var e = Kc[da(null == a ? null : a)];
  if (null != e) {
    return e.I ? e.I(a, b, c, d) : e.call(null, a, b, c, d);
  }
  e = Kc._;
  if (null != e) {
    return e.I ? e.I(a, b, c, d) : e.call(null, a, b, c, d);
  }
  throw ib("ISwap.-swap!", a);
};
Kc.R = function(a, b, c, d, e) {
  if (null != a && null != a.Lc) {
    return a.Lc(a, b, c, d, e);
  }
  var f = Kc[da(null == a ? null : a)];
  if (null != f) {
    return f.R ? f.R(a, b, c, d, e) : f.call(null, a, b, c, d, e);
  }
  f = Kc._;
  if (null != f) {
    return f.R ? f.R(a, b, c, d, e) : f.call(null, a, b, c, d, e);
  }
  throw ib("ISwap.-swap!", a);
};
Kc.D = 5;
var Lc = function Lc(b) {
  if (null != b && null != b.Aa) {
    return b.Aa(b);
  }
  var c = Lc[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Lc._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IIterable.-iterator", b);
};
function Mc(a) {
  this.he = a;
  this.o = 1073741824;
  this.L = 0;
}
Mc.prototype.ub = function(a, b) {
  return this.he.append(b);
};
Mc.prototype.ib = function() {
  return null;
};
function Nc(a) {
  var b = new Fa, c = new Mc(b);
  a.Z(null, c, Wa());
  c.ib(null);
  return "" + p(b);
}
var Oc = "undefined" !== typeof Math.imul && 0 !== Math.imul(4294967295, 5) ? function(a, b) {
  return Math.imul(a, b);
} : function(a, b) {
  var c = a & 65535, d = b & 65535;
  return c * d + ((a >>> 16 & 65535) * d + c * (b >>> 16 & 65535) << 16 >>> 0) | 0;
};
function Pc(a) {
  a = Oc(a | 0, -862048943);
  return Oc(a << 15 | a >>> -15, 461845907);
}
function Rc(a, b) {
  var c = (a | 0) ^ (b | 0);
  return Oc(c << 13 | c >>> -13, 5) + -430675100 | 0;
}
function Sc(a, b) {
  var c = (a | 0) ^ b, c = Oc(c ^ c >>> 16, -2048144789), c = Oc(c ^ c >>> 13, -1028477387);
  return c ^ c >>> 16;
}
function Tc(a) {
  var b;
  a: {
    b = 1;
    for (var c = 0;;) {
      if (b < a.length) {
        var d = b + 2, c = Rc(c, Pc(a.charCodeAt(b - 1) | a.charCodeAt(b) << 16));
        b = d;
      } else {
        b = c;
        break a;
      }
    }
  }
  b = 1 === (a.length & 1) ? b ^ Pc(a.charCodeAt(a.length - 1)) : b;
  return Sc(b, Oc(2, a.length));
}
var Uc = {}, Vc = 0;
function Wc(a) {
  255 < Vc && (Uc = {}, Vc = 0);
  var b = Uc[a];
  if ("number" !== typeof b) {
    a: {
      if (null != a) {
        if (b = a.length, 0 < b) {
          for (var c = 0, d = 0;;) {
            if (c < b) {
              var e = c + 1, d = Oc(31, d) + a.charCodeAt(c), c = e
            } else {
              b = d;
              break a;
            }
          }
        } else {
          b = 0;
        }
      } else {
        b = 0;
      }
    }
    Uc[a] = b;
    Vc += 1;
  }
  return a = b;
}
function Xc(a) {
  if (null != a && (a.o & 4194304 || a.oe)) {
    return a.W(null);
  }
  if ("number" === typeof a) {
    if (m(isFinite(a))) {
      return Math.floor(a) % 2147483647;
    }
    switch(a) {
      case Infinity:
        return 2146435072;
      case -Infinity:
        return -1048576;
      default:
        return 2146959360;
    }
  } else {
    return !0 === a ? a = 1 : !1 === a ? a = 0 : "string" === typeof a ? (a = Wc(a), 0 !== a && (a = Pc(a), a = Rc(0, a), a = Sc(a, 4))) : a = a instanceof Date ? a.valueOf() : null == a ? 0 : fc(a), a;
  }
}
function Yc(a, b) {
  return a ^ b + 2654435769 + (a << 6) + (a >> 2);
}
function Zc(a, b) {
  if (a.lb === b.lb) {
    return 0;
  }
  var c = eb(a.Ia);
  if (m(c ? b.Ia : c)) {
    return -1;
  }
  if (m(a.Ia)) {
    if (eb(b.Ia)) {
      return 1;
    }
    c = Ka(a.Ia, b.Ia);
    return 0 === c ? Ka(a.name, b.name) : c;
  }
  return Ka(a.name, b.name);
}
function r(a, b, c, d, e) {
  this.Ia = a;
  this.name = b;
  this.lb = c;
  this.Jb = d;
  this.Ea = e;
  this.o = 2154168321;
  this.L = 4096;
}
h = r.prototype;
h.toString = function() {
  return this.lb;
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.K = function(a, b) {
  return b instanceof r ? this.lb === b.lb : !1;
};
h.call = function() {
  function a(a, b, c) {
    return t.l ? t.l(b, this, c) : t.call(null, b, this, c);
  }
  function b(a, b) {
    return t.h ? t.h(b, this) : t.call(null, b, this);
  }
  var c = null, c = function(c, e, f) {
    switch(arguments.length) {
      case 2:
        return b.call(this, 0, e);
      case 3:
        return a.call(this, 0, e, f);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  c.h = b;
  c.l = a;
  return c;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return t.h ? t.h(a, this) : t.call(null, a, this);
};
h.h = function(a, b) {
  return t.l ? t.l(a, this, b) : t.call(null, a, this, b);
};
h.S = function() {
  return this.Ea;
};
h.U = function(a, b) {
  return new r(this.Ia, this.name, this.lb, this.Jb, b);
};
h.W = function() {
  var a = this.Jb;
  return null != a ? a : this.Jb = a = Yc(Tc(this.name), Wc(this.Ia));
};
h.Zb = function() {
  return this.name;
};
h.$b = function() {
  return this.Ia;
};
h.Z = function(a, b) {
  return q(b, this.lb);
};
var $c = function $c(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return $c.c(arguments[0]);
    case 2:
      return $c.h(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
$c.c = function(a) {
  if (a instanceof r) {
    return a;
  }
  var b = a.indexOf("/");
  return 1 > b ? $c.h(null, a) : $c.h(a.substring(0, b), a.substring(b + 1, a.length));
};
$c.h = function(a, b) {
  var c = null != a ? [p(a), p("/"), p(b)].join("") : b;
  return new r(a, b, c, null, null);
};
$c.D = 2;
function ad(a, b, c) {
  this.w = a;
  this.vc = b;
  this.Ea = c;
  this.o = 2523137;
  this.L = 0;
}
h = ad.prototype;
h.tb = function() {
  return this.w.v ? this.w.v() : this.w.call(null);
};
h.S = function() {
  return this.Ea;
};
h.U = function(a, b) {
  return new ad(this.w, this.vc, b);
};
h.K = function(a, b) {
  if (b instanceof ad) {
    var c = this.vc, d = b.vc;
    return x.h ? x.h(c, d) : x.call(null, c, d);
  }
  return !1;
};
h.Vc = !0;
h.call = function() {
  function a(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W) {
    a = this;
    a = a.w.v ? a.w.v() : a.w.call(null);
    return bd.hb ? bd.hb(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W) : bd.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W);
  }
  function b(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K);
  }
  function c(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
  }
  function d(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
  }
  function e(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
  }
  function f(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
  }
  function g(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
  }
  function k(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C);
  }
  function n(a, b, c, d, e, f, g, k, n, u, v, w, y, A) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y, A);
  }
  function u(a, b, c, d, e, f, g, k, n, u, v, w, y) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w, y);
  }
  function v(a, b, c, d, e, f, g, k, n, u, v, w) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v, w);
  }
  function w(a, b, c, d, e, f, g, k, n, u, v) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u, v);
  }
  function y(a, b, c, d, e, f, g, k, n, u) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n, u);
  }
  function A(a, b, c, d, e, f, g, k, n) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k, n);
  }
  function C(a, b, c, d, e, f, g, k) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g, k);
  }
  function F(a, b, c, d, e, f, g) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f, g);
  }
  function G(a, b, c, d, e, f) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e, f);
  }
  function J(a, b, c, d, e) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d, e);
  }
  function P(a, b, c, d) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c, d);
  }
  function Q(a, b, c) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b, c);
  }
  function W(a, b) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null, b);
  }
  function la(a) {
    a = this;
    return (a.w.v ? a.w.v() : a.w.call(null)).call(null);
  }
  var K = null, K = function(fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc) {
    switch(arguments.length) {
      case 1:
        return la.call(this, fa);
      case 2:
        return W.call(this, fa, Y);
      case 3:
        return Q.call(this, fa, Y, Z);
      case 4:
        return P.call(this, fa, Y, Z, X);
      case 5:
        return J.call(this, fa, Y, Z, X, ea);
      case 6:
        return G.call(this, fa, Y, Z, X, ea, ba);
      case 7:
        return F.call(this, fa, Y, Z, X, ea, ba, va);
      case 8:
        return C.call(this, fa, Y, Z, X, ea, ba, va, ha);
      case 9:
        return A.call(this, fa, Y, Z, X, ea, ba, va, ha, pa);
      case 10:
        return y.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na);
      case 11:
        return w.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za);
      case 12:
        return v.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K);
      case 13:
        return u.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa);
      case 14:
        return n.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua);
      case 15:
        return k.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb);
      case 16:
        return g.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb);
      case 17:
        return f.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb);
      case 18:
        return e.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb);
      case 19:
        return d.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb, Tb);
      case 20:
        return c.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb, Tb, nc);
      case 21:
        return b.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc);
      case 22:
        return a.call(this, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, K, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  K.c = la;
  K.h = W;
  K.l = Q;
  K.I = P;
  K.R = J;
  K.ia = G;
  K.xa = F;
  K.ya = C;
  K.za = A;
  K.ma = y;
  K.na = w;
  K.oa = v;
  K.pa = u;
  K.qa = n;
  K.ra = k;
  K.sa = g;
  K.ta = f;
  K.ua = e;
  K.va = d;
  K.wa = c;
  K.Xb = b;
  K.hb = a;
  return K;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.v = function() {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null);
};
h.c = function(a) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a);
};
h.h = function(a, b) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b);
};
h.l = function(a, b, c) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c);
};
h.I = function(a, b, c, d) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d);
};
h.R = function(a, b, c, d, e) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e);
};
h.ia = function(a, b, c, d, e, f) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f);
};
h.xa = function(a, b, c, d, e, f, g) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g);
};
h.ya = function(a, b, c, d, e, f, g, k) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k);
};
h.za = function(a, b, c, d, e, f, g, k, n) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n);
};
h.ma = function(a, b, c, d, e, f, g, k, n, u) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u);
};
h.na = function(a, b, c, d, e, f, g, k, n, u, v) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v);
};
h.oa = function(a, b, c, d, e, f, g, k, n, u, v, w) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w);
};
h.pa = function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y);
};
h.qa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A);
};
h.ra = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C);
};
h.sa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
};
h.ta = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
};
h.ua = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
};
h.va = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
};
h.wa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) {
  return (this.w.v ? this.w.v() : this.w.call(null)).call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
};
h.Xb = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) {
  var la = this.w.v ? this.w.v() : this.w.call(null);
  return bd.hb ? bd.hb(la, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) : bd.call(null, la, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W);
};
function z(a) {
  if (null == a) {
    return null;
  }
  if (null != a && (a.o & 8388608 || a.Id)) {
    return a.ca(null);
  }
  if (db(a) || "string" === typeof a) {
    return 0 === a.length ? null : new B(a, 0, null);
  }
  if (fb(gc, a)) {
    return hc(a);
  }
  throw Error([p(a), p(" is not ISeqable")].join(""));
}
function D(a) {
  if (null == a) {
    return null;
  }
  if (null != a && (a.o & 64 || a.P)) {
    return a.la(null);
  }
  a = z(a);
  return null == a ? null : Cb(a);
}
function cd(a) {
  return null != a ? null != a && (a.o & 64 || a.P) ? a.Fa(null) : (a = z(a)) ? Db(a) : dd : dd;
}
function E(a) {
  return null == a ? null : null != a && (a.o & 128 || a.nc) ? a.La(null) : z(cd(a));
}
var x = function x(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return x.c(arguments[0]);
    case 2:
      return x.h(arguments[0], arguments[1]);
    default:
      return x.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
x.c = function() {
  return !0;
};
x.h = function(a, b) {
  return null == a ? null == b : a === b || ec(a, b);
};
x.j = function(a, b, c) {
  for (;;) {
    if (x.h(a, b)) {
      if (E(c)) {
        a = b, b = D(c), c = E(c);
      } else {
        return x.h(b, D(c));
      }
    } else {
      return !1;
    }
  }
};
x.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return x.j(b, a, c);
};
x.D = 2;
function ed(a) {
  this.s = a;
}
ed.prototype.next = function() {
  if (null != this.s) {
    var a = D(this.s);
    this.s = E(this.s);
    return {value:a, done:!1};
  }
  return {value:null, done:!0};
};
function fd(a) {
  return new ed(z(a));
}
function gd(a, b) {
  var c = Pc(a), c = Rc(0, c);
  return Sc(c, b);
}
function hd(a) {
  var b = 0, c = 1;
  for (a = z(a);;) {
    if (null != a) {
      b += 1, c = Oc(31, c) + Xc(D(a)) | 0, a = E(a);
    } else {
      return gd(c, b);
    }
  }
}
var id = gd(1, 0);
function jd(a) {
  var b = 0, c = 0;
  for (a = z(a);;) {
    if (null != a) {
      b += 1, c = c + Xc(D(a)) | 0, a = E(a);
    } else {
      return gd(c, b);
    }
  }
}
var kd = gd(0, 0);
ub["null"] = !0;
vb["null"] = function() {
  return 0;
};
Date.prototype.K = function(a, b) {
  return b instanceof Date && this.valueOf() === b.valueOf();
};
Date.prototype.Wb = !0;
Date.prototype.Kb = function(a, b) {
  if (b instanceof Date) {
    return Ka(this.valueOf(), b.valueOf());
  }
  throw Error([p("Cannot compare "), p(this), p(" to "), p(b)].join(""));
};
ec.number = function(a, b) {
  return a === b;
};
sb["function"] = !0;
Zb["function"] = !0;
$b["function"] = function() {
  return null;
};
fc._ = function(a) {
  return ka(a);
};
function ld(a) {
  return a + 1;
}
function H(a) {
  return Yb(a);
}
function md(a, b) {
  var c = vb(a);
  if (0 === c) {
    return b.v ? b.v() : b.call(null);
  }
  for (var d = Ab.h(a, 0), e = 1;;) {
    if (e < c) {
      var f = Ab.h(a, e), d = b.h ? b.h(d, f) : b.call(null, d, f), e = e + 1
    } else {
      return d;
    }
  }
}
function nd(a, b, c) {
  var d = vb(a), e = c;
  for (c = 0;;) {
    if (c < d) {
      var f = Ab.h(a, c), e = b.h ? b.h(e, f) : b.call(null, e, f);
      c += 1;
    } else {
      return e;
    }
  }
}
function od(a, b) {
  var c = a.length;
  if (0 === a.length) {
    return b.v ? b.v() : b.call(null);
  }
  for (var d = a[0], e = 1;;) {
    if (e < c) {
      var f = a[e], d = b.h ? b.h(d, f) : b.call(null, d, f), e = e + 1
    } else {
      return d;
    }
  }
}
function pd(a, b, c) {
  var d = a.length, e = c;
  for (c = 0;;) {
    if (c < d) {
      var f = a[c], e = b.h ? b.h(e, f) : b.call(null, e, f);
      c += 1;
    } else {
      return e;
    }
  }
}
function qd(a, b, c, d) {
  for (var e = a.length;;) {
    if (d < e) {
      var f = a[d];
      c = b.h ? b.h(c, f) : b.call(null, c, f);
      d += 1;
    } else {
      return c;
    }
  }
}
function rd(a) {
  return null != a ? a.o & 2 || a.zd ? !0 : a.o ? !1 : fb(ub, a) : fb(ub, a);
}
function sd(a) {
  return null != a ? a.o & 16 || a.Xc ? !0 : a.o ? !1 : fb(zb, a) : fb(zb, a);
}
function td(a, b, c) {
  var d = I.c ? I.c(a) : I.call(null, a);
  if (c >= d) {
    return -1;
  }
  !(0 < c) && 0 > c && (c += d, c = 0 > c ? 0 : c);
  for (;;) {
    if (c < d) {
      if (x.h(ud ? ud(a, c) : vd.call(null, a, c), b)) {
        return c;
      }
      c += 1;
    } else {
      return -1;
    }
  }
}
function wd(a, b, c) {
  var d = I.c ? I.c(a) : I.call(null, a);
  if (0 === d) {
    return -1;
  }
  0 < c ? (--d, c = d < c ? d : c) : c = 0 > c ? d + c : c;
  for (;;) {
    if (0 <= c) {
      if (x.h(ud ? ud(a, c) : vd.call(null, a, c), b)) {
        return c;
      }
      --c;
    } else {
      return -1;
    }
  }
}
function xd(a, b) {
  this.m = a;
  this.i = b;
}
xd.prototype.hasNext = function() {
  return this.i < this.m.length;
};
xd.prototype.next = function() {
  var a = this.m[this.i];
  this.i += 1;
  return a;
};
function B(a, b, c) {
  this.m = a;
  this.i = b;
  this.meta = c;
  this.o = 166592766;
  this.L = 8192;
}
h = B.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I.c ? I.c(this) : I.call(null, this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.X = function(a, b) {
  var c = b + this.i;
  return c < this.m.length ? this.m[c] : null;
};
h.Ua = function(a, b, c) {
  a = b + this.i;
  return a < this.m.length ? this.m[a] : c;
};
h.Aa = function() {
  return new xd(this.m, this.i);
};
h.S = function() {
  return this.meta;
};
h.La = function() {
  return this.i + 1 < this.m.length ? new B(this.m, this.i + 1, null) : null;
};
h.ea = function() {
  var a = this.m.length - this.i;
  return 0 > a ? 0 : a;
};
h.oc = function() {
  var a = vb(this);
  return 0 < a ? new yd(this, a - 1, null) : null;
};
h.W = function() {
  return hd(this);
};
h.K = function(a, b) {
  return zd.h ? zd.h(this, b) : zd.call(null, this, b);
};
h.ka = function() {
  return dd;
};
h.Ba = function(a, b) {
  return qd(this.m, b, this.m[this.i], this.i + 1);
};
h.Ca = function(a, b, c) {
  return qd(this.m, b, c, this.i);
};
h.la = function() {
  return this.m[this.i];
};
h.Fa = function() {
  return this.i + 1 < this.m.length ? new B(this.m, this.i + 1, null) : dd;
};
h.ca = function() {
  return this.i < this.m.length ? this : null;
};
h.U = function(a, b) {
  return new B(this.m, this.i, b);
};
h.aa = function(a, b) {
  return Ad.h ? Ad.h(b, this) : Ad.call(null, b, this);
};
B.prototype[kb] = function() {
  return fd(this);
};
function Bd(a, b) {
  return b < a.length ? new B(a, b, null) : null;
}
function L(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return Bd(arguments[0], 0);
    case 2:
      return Bd(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function yd(a, b, c) {
  this.mc = a;
  this.i = b;
  this.meta = c;
  this.o = 32374990;
  this.L = 8192;
}
h = yd.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I.c ? I.c(this) : I.call(null, this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  return 0 < this.i ? new yd(this.mc, this.i - 1, null) : null;
};
h.ea = function() {
  return this.i + 1;
};
h.W = function() {
  return hd(this);
};
h.K = function(a, b) {
  return zd.h ? zd.h(this, b) : zd.call(null, this, b);
};
h.ka = function() {
  var a = this.meta;
  return Cd.h ? Cd.h(dd, a) : Cd.call(null, dd, a);
};
h.Ba = function(a, b) {
  return Dd ? Dd(b, this) : Ed.call(null, b, this);
};
h.Ca = function(a, b, c) {
  return Fd ? Fd(b, c, this) : Ed.call(null, b, c, this);
};
h.la = function() {
  return Ab.h(this.mc, this.i);
};
h.Fa = function() {
  return 0 < this.i ? new yd(this.mc, this.i - 1, null) : dd;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new yd(this.mc, this.i, b);
};
h.aa = function(a, b) {
  return Ad.h ? Ad.h(b, this) : Ad.call(null, b, this);
};
yd.prototype[kb] = function() {
  return fd(this);
};
function Gd(a) {
  return D(E(a));
}
function Hd(a) {
  for (;;) {
    var b = E(a);
    if (null != b) {
      a = b;
    } else {
      return D(a);
    }
  }
}
ec._ = function(a, b) {
  return a === b;
};
var Id = function Id(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return Id.v();
    case 1:
      return Id.c(arguments[0]);
    case 2:
      return Id.h(arguments[0], arguments[1]);
    default:
      return Id.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
Id.v = function() {
  return Jd;
};
Id.c = function(a) {
  return a;
};
Id.h = function(a, b) {
  return null != a ? yb(a, b) : yb(dd, b);
};
Id.j = function(a, b, c) {
  for (;;) {
    if (m(c)) {
      a = Id.h(a, b), b = D(c), c = E(c);
    } else {
      return Id.h(a, b);
    }
  }
};
Id.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return Id.j(b, a, c);
};
Id.D = 2;
function I(a) {
  if (null != a) {
    if (null != a && (a.o & 2 || a.zd)) {
      a = a.ea(null);
    } else {
      if (db(a)) {
        a = a.length;
      } else {
        if ("string" === typeof a) {
          a = a.length;
        } else {
          if (null != a && (a.o & 8388608 || a.Id)) {
            a: {
              a = z(a);
              for (var b = 0;;) {
                if (rd(a)) {
                  a = b + vb(a);
                  break a;
                }
                a = E(a);
                b += 1;
              }
            }
          } else {
            a = vb(a);
          }
        }
      }
    }
  } else {
    a = 0;
  }
  return a;
}
function Kd(a, b, c) {
  for (;;) {
    if (null == a) {
      return c;
    }
    if (0 === b) {
      return z(a) ? D(a) : c;
    }
    if (sd(a)) {
      return Ab.l(a, b, c);
    }
    if (z(a)) {
      a = E(a), --b;
    } else {
      return c;
    }
  }
}
function vd(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 2:
      return ud(arguments[0], arguments[1]);
    case 3:
      return M(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function ud(a, b) {
  if ("number" !== typeof b) {
    throw Error("index argument to nth must be a number");
  }
  if (null == a) {
    return a;
  }
  if (null != a && (a.o & 16 || a.Xc)) {
    return a.X(null, b);
  }
  if (db(a)) {
    return b < a.length ? a[b] : null;
  }
  if ("string" === typeof a) {
    return b < a.length ? a.charAt(b) : null;
  }
  if (null != a && (a.o & 64 || a.P)) {
    var c;
    a: {
      c = a;
      for (var d = b;;) {
        if (null == c) {
          throw Error("Index out of bounds");
        }
        if (0 === d) {
          if (z(c)) {
            c = D(c);
            break a;
          }
          throw Error("Index out of bounds");
        }
        if (sd(c)) {
          c = Ab.h(c, d);
          break a;
        }
        if (z(c)) {
          c = E(c), --d;
        } else {
          throw Error("Index out of bounds");
        }
      }
    }
    return c;
  }
  if (fb(zb, a)) {
    return Ab.h(a, b);
  }
  throw Error([p("nth not supported on this type "), p(jb(gb(a)))].join(""));
}
function M(a, b, c) {
  if ("number" !== typeof b) {
    throw Error("index argument to nth must be a number.");
  }
  if (null == a) {
    return c;
  }
  if (null != a && (a.o & 16 || a.Xc)) {
    return a.Ua(null, b, c);
  }
  if (db(a)) {
    return b < a.length ? a[b] : c;
  }
  if ("string" === typeof a) {
    return b < a.length ? a.charAt(b) : c;
  }
  if (null != a && (a.o & 64 || a.P)) {
    return Kd(a, b, c);
  }
  if (fb(zb, a)) {
    return Ab.h(a, b);
  }
  throw Error([p("nth not supported on this type "), p(jb(gb(a)))].join(""));
}
var t = function t(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return t.h(arguments[0], arguments[1]);
    case 3:
      return t.l(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
t.h = function(a, b) {
  return null == a ? null : null != a && (a.o & 256 || a.Yc) ? a.ba(null, b) : db(a) ? b < a.length ? a[b | 0] : null : "string" === typeof a ? b < a.length ? a[b | 0] : null : fb(Fb, a) ? Gb.h(a, b) : null;
};
t.l = function(a, b, c) {
  return null != a ? null != a && (a.o & 256 || a.Yc) ? a.$(null, b, c) : db(a) ? b < a.length ? a[b] : c : "string" === typeof a ? b < a.length ? a[b] : c : fb(Fb, a) ? Gb.l(a, b, c) : c : c;
};
t.D = 3;
var Ld = function Ld(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 3:
      return Ld.l(arguments[0], arguments[1], arguments[2]);
    default:
      return Ld.j(arguments[0], arguments[1], arguments[2], new B(c.slice(3), 0, null));
  }
};
Ld.l = function(a, b, c) {
  return null != a ? Jb(a, b, c) : Md([b], [c]);
};
Ld.j = function(a, b, c, d) {
  for (;;) {
    if (a = Ld.l(a, b, c), m(d)) {
      b = D(d), c = Gd(d), d = E(E(d));
    } else {
      return a;
    }
  }
};
Ld.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), d = E(d);
  return Ld.j(b, a, c, d);
};
Ld.D = 3;
var Nd = function Nd(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Nd.c(arguments[0]);
    case 2:
      return Nd.h(arguments[0], arguments[1]);
    default:
      return Nd.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
Nd.c = function(a) {
  return a;
};
Nd.h = function(a, b) {
  return null == a ? null : Lb(a, b);
};
Nd.j = function(a, b, c) {
  for (;;) {
    if (null == a) {
      return null;
    }
    a = Nd.h(a, b);
    if (m(c)) {
      b = D(c), c = E(c);
    } else {
      return a;
    }
  }
};
Nd.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return Nd.j(b, a, c);
};
Nd.D = 2;
function Od(a) {
  var b = ja(a);
  return b ? b : null != a ? a.Vc ? !0 : a.sc ? !1 : fb(sb, a) : fb(sb, a);
}
function Pd(a, b) {
  this.A = a;
  this.meta = b;
  this.o = 393217;
  this.L = 0;
}
h = Pd.prototype;
h.S = function() {
  return this.meta;
};
h.U = function(a, b) {
  return new Pd(this.A, b);
};
h.Vc = !0;
h.call = function() {
  function a(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W) {
    a = this;
    return bd.hb ? bd.hb(a.A, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W) : bd.call(null, a.A, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K, W);
  }
  function b(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K) {
    a = this;
    return a.A.wa ? a.A.wa(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, K);
  }
  function c(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) {
    a = this;
    return a.A.va ? a.A.va(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
  }
  function d(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) {
    a = this;
    return a.A.ua ? a.A.ua(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
  }
  function e(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) {
    a = this;
    return a.A.ta ? a.A.ta(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
  }
  function f(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) {
    a = this;
    return a.A.sa ? a.A.sa(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
  }
  function g(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) {
    a = this;
    return a.A.ra ? a.A.ra(b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
  }
  function k(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) {
    a = this;
    return a.A.qa ? a.A.qa(b, c, d, e, f, g, k, n, u, v, w, y, A, C) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A, C);
  }
  function n(a, b, c, d, e, f, g, k, n, u, v, w, y, A) {
    a = this;
    return a.A.pa ? a.A.pa(b, c, d, e, f, g, k, n, u, v, w, y, A) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y, A);
  }
  function u(a, b, c, d, e, f, g, k, n, u, v, w, y) {
    a = this;
    return a.A.oa ? a.A.oa(b, c, d, e, f, g, k, n, u, v, w, y) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w, y);
  }
  function v(a, b, c, d, e, f, g, k, n, u, v, w) {
    a = this;
    return a.A.na ? a.A.na(b, c, d, e, f, g, k, n, u, v, w) : a.A.call(null, b, c, d, e, f, g, k, n, u, v, w);
  }
  function w(a, b, c, d, e, f, g, k, n, u, v) {
    a = this;
    return a.A.ma ? a.A.ma(b, c, d, e, f, g, k, n, u, v) : a.A.call(null, b, c, d, e, f, g, k, n, u, v);
  }
  function y(a, b, c, d, e, f, g, k, n, u) {
    a = this;
    return a.A.za ? a.A.za(b, c, d, e, f, g, k, n, u) : a.A.call(null, b, c, d, e, f, g, k, n, u);
  }
  function A(a, b, c, d, e, f, g, k, n) {
    a = this;
    return a.A.ya ? a.A.ya(b, c, d, e, f, g, k, n) : a.A.call(null, b, c, d, e, f, g, k, n);
  }
  function C(a, b, c, d, e, f, g, k) {
    a = this;
    return a.A.xa ? a.A.xa(b, c, d, e, f, g, k) : a.A.call(null, b, c, d, e, f, g, k);
  }
  function F(a, b, c, d, e, f, g) {
    a = this;
    return a.A.ia ? a.A.ia(b, c, d, e, f, g) : a.A.call(null, b, c, d, e, f, g);
  }
  function G(a, b, c, d, e, f) {
    a = this;
    return a.A.R ? a.A.R(b, c, d, e, f) : a.A.call(null, b, c, d, e, f);
  }
  function J(a, b, c, d, e) {
    a = this;
    return a.A.I ? a.A.I(b, c, d, e) : a.A.call(null, b, c, d, e);
  }
  function P(a, b, c, d) {
    a = this;
    return a.A.l ? a.A.l(b, c, d) : a.A.call(null, b, c, d);
  }
  function Q(a, b, c) {
    a = this;
    return a.A.h ? a.A.h(b, c) : a.A.call(null, b, c);
  }
  function W(a, b) {
    a = this;
    return a.A.c ? a.A.c(b) : a.A.call(null, b);
  }
  function la(a) {
    a = this;
    return a.A.v ? a.A.v() : a.A.call(null);
  }
  var K = null, K = function(fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc) {
    switch(arguments.length) {
      case 1:
        return la.call(this, fa);
      case 2:
        return W.call(this, fa, Y);
      case 3:
        return Q.call(this, fa, Y, Z);
      case 4:
        return P.call(this, fa, Y, Z, X);
      case 5:
        return J.call(this, fa, Y, Z, X, ea);
      case 6:
        return G.call(this, fa, Y, Z, X, ea, ba);
      case 7:
        return F.call(this, fa, Y, Z, X, ea, ba, K);
      case 8:
        return C.call(this, fa, Y, Z, X, ea, ba, K, ha);
      case 9:
        return A.call(this, fa, Y, Z, X, ea, ba, K, ha, pa);
      case 10:
        return y.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na);
      case 11:
        return w.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za);
      case 12:
        return v.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia);
      case 13:
        return u.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa);
      case 14:
        return n.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua);
      case 15:
        return k.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb);
      case 16:
        return g.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb);
      case 17:
        return f.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb);
      case 18:
        return e.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb);
      case 19:
        return d.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb);
      case 20:
        return c.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc);
      case 21:
        return b.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc);
      case 22:
        return a.call(this, fa, Y, Z, X, ea, ba, K, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  K.c = la;
  K.h = W;
  K.l = Q;
  K.I = P;
  K.R = J;
  K.ia = G;
  K.xa = F;
  K.ya = C;
  K.za = A;
  K.ma = y;
  K.na = w;
  K.oa = v;
  K.pa = u;
  K.qa = n;
  K.ra = k;
  K.sa = g;
  K.ta = f;
  K.ua = e;
  K.va = d;
  K.wa = c;
  K.Xb = b;
  K.hb = a;
  return K;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.v = function() {
  return this.A.v ? this.A.v() : this.A.call(null);
};
h.c = function(a) {
  return this.A.c ? this.A.c(a) : this.A.call(null, a);
};
h.h = function(a, b) {
  return this.A.h ? this.A.h(a, b) : this.A.call(null, a, b);
};
h.l = function(a, b, c) {
  return this.A.l ? this.A.l(a, b, c) : this.A.call(null, a, b, c);
};
h.I = function(a, b, c, d) {
  return this.A.I ? this.A.I(a, b, c, d) : this.A.call(null, a, b, c, d);
};
h.R = function(a, b, c, d, e) {
  return this.A.R ? this.A.R(a, b, c, d, e) : this.A.call(null, a, b, c, d, e);
};
h.ia = function(a, b, c, d, e, f) {
  return this.A.ia ? this.A.ia(a, b, c, d, e, f) : this.A.call(null, a, b, c, d, e, f);
};
h.xa = function(a, b, c, d, e, f, g) {
  return this.A.xa ? this.A.xa(a, b, c, d, e, f, g) : this.A.call(null, a, b, c, d, e, f, g);
};
h.ya = function(a, b, c, d, e, f, g, k) {
  return this.A.ya ? this.A.ya(a, b, c, d, e, f, g, k) : this.A.call(null, a, b, c, d, e, f, g, k);
};
h.za = function(a, b, c, d, e, f, g, k, n) {
  return this.A.za ? this.A.za(a, b, c, d, e, f, g, k, n) : this.A.call(null, a, b, c, d, e, f, g, k, n);
};
h.ma = function(a, b, c, d, e, f, g, k, n, u) {
  return this.A.ma ? this.A.ma(a, b, c, d, e, f, g, k, n, u) : this.A.call(null, a, b, c, d, e, f, g, k, n, u);
};
h.na = function(a, b, c, d, e, f, g, k, n, u, v) {
  return this.A.na ? this.A.na(a, b, c, d, e, f, g, k, n, u, v) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v);
};
h.oa = function(a, b, c, d, e, f, g, k, n, u, v, w) {
  return this.A.oa ? this.A.oa(a, b, c, d, e, f, g, k, n, u, v, w) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w);
};
h.pa = function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
  return this.A.pa ? this.A.pa(a, b, c, d, e, f, g, k, n, u, v, w, y) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y);
};
h.qa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A) {
  return this.A.qa ? this.A.qa(a, b, c, d, e, f, g, k, n, u, v, w, y, A) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A);
};
h.ra = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) {
  return this.A.ra ? this.A.ra(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C);
};
h.sa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) {
  return this.A.sa ? this.A.sa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
};
h.ta = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) {
  return this.A.ta ? this.A.ta(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
};
h.ua = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) {
  return this.A.ua ? this.A.ua(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
};
h.va = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) {
  return this.A.va ? this.A.va(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
};
h.wa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) {
  return this.A.wa ? this.A.wa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : this.A.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
};
h.Xb = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) {
  return bd.hb ? bd.hb(this.A, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) : bd.call(null, this.A, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W);
};
function Cd(a, b) {
  return ja(a) ? new Pd(a, b) : null == a ? null : ac(a, b);
}
function Qd(a) {
  var b = null != a;
  return (b ? null != a ? a.o & 131072 || a.Gd || (a.o ? 0 : fb(Zb, a)) : fb(Zb, a) : b) ? $b(a) : null;
}
function Rd(a) {
  return null == a ? null : Sb(a);
}
var Sd = function Sd(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Sd.c(arguments[0]);
    case 2:
      return Sd.h(arguments[0], arguments[1]);
    default:
      return Sd.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
Sd.c = function(a) {
  return a;
};
Sd.h = function(a, b) {
  return null == a ? null : Rb(a, b);
};
Sd.j = function(a, b, c) {
  for (;;) {
    if (null == a) {
      return null;
    }
    a = Sd.h(a, b);
    if (m(c)) {
      b = D(c), c = E(c);
    } else {
      return a;
    }
  }
};
Sd.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return Sd.j(b, a, c);
};
Sd.D = 2;
function Td(a) {
  return null == a || eb(z(a));
}
function Ud(a) {
  return null == a ? !1 : null != a ? a.o & 8 || a.le ? !0 : a.o ? !1 : fb(xb, a) : fb(xb, a);
}
function Vd(a) {
  return null == a ? !1 : null != a ? a.o & 4096 || a.ue ? !0 : a.o ? !1 : fb(Qb, a) : fb(Qb, a);
}
function Wd(a) {
  return null != a ? a.o & 16777216 || a.te ? !0 : a.o ? !1 : fb(ic, a) : fb(ic, a);
}
function Xd(a) {
  return null == a ? !1 : null != a ? a.o & 1024 || a.Ed ? !0 : a.o ? !1 : fb(Kb, a) : fb(Kb, a);
}
function Yd(a) {
  return null != a ? a.o & 67108864 || a.re ? !0 : a.o ? !1 : fb(kc, a) : fb(kc, a);
}
function Zd(a) {
  return null != a ? a.o & 16384 || a.ve ? !0 : a.o ? !1 : fb(Vb, a) : fb(Vb, a);
}
function $d(a) {
  return null != a ? a.L & 512 || a.ke ? !0 : !1 : !1;
}
function ae(a) {
  var b = [];
  Da(a, function(a, b) {
    return function(a, c) {
      return b.push(c);
    };
  }(a, b));
  return b;
}
function be(a, b, c, d, e) {
  for (;0 !== e;) {
    c[d] = a[b], d += 1, --e, b += 1;
  }
}
var ce = {};
function de(a) {
  return !1 === a;
}
function ee(a) {
  return null == a ? !1 : null != a ? a.o & 64 || a.P ? !0 : a.o ? !1 : fb(Bb, a) : fb(Bb, a);
}
function fe(a) {
  return null == a ? !1 : !1 === a ? !1 : !0;
}
function ge(a) {
  var b = Od(a);
  return b ? b : null != a ? a.o & 1 || a.ne ? !0 : a.o ? !1 : fb(tb, a) : fb(tb, a);
}
function he(a) {
  return "number" === typeof a && !isNaN(a) && Infinity !== a && parseFloat(a) === parseInt(a, 10);
}
function ie(a, b) {
  return t.l(a, b, ce) === ce ? !1 : !0;
}
function je(a, b) {
  if (a === b) {
    return 0;
  }
  if (null == a) {
    return -1;
  }
  if (null == b) {
    return 1;
  }
  if ("number" === typeof a) {
    if ("number" === typeof b) {
      return Ka(a, b);
    }
    throw Error([p("Cannot compare "), p(a), p(" to "), p(b)].join(""));
  }
  if (null != a ? a.L & 2048 || a.Wb || (a.L ? 0 : fb(Ac, a)) : fb(Ac, a)) {
    return Bc(a, b);
  }
  if ("string" !== typeof a && !db(a) && !0 !== a && !1 !== a || gb(a) !== gb(b)) {
    throw Error([p("Cannot compare "), p(a), p(" to "), p(b)].join(""));
  }
  return Ka(a, b);
}
function ke(a, b) {
  var c = I(a), d = I(b);
  if (c < d) {
    c = -1;
  } else {
    if (c > d) {
      c = 1;
    } else {
      if (0 === c) {
        c = 0;
      } else {
        a: {
          for (d = 0;;) {
            var e = je(ud(a, d), ud(b, d));
            if (0 === e && d + 1 < c) {
              d += 1;
            } else {
              c = e;
              break a;
            }
          }
        }
      }
    }
  }
  return c;
}
function le(a) {
  return x.h(a, je) ? je : function(b, c) {
    var d = a.h ? a.h(b, c) : a.call(null, b, c);
    return "number" === typeof d ? d : m(d) ? -1 : m(a.h ? a.h(c, b) : a.call(null, c, b)) ? 1 : 0;
  };
}
function me(a, b) {
  if (z(b)) {
    var c = ne.c ? ne.c(b) : ne.call(null, b), d = le(a);
    La(c, d);
    return z(c);
  }
  return dd;
}
function oe(a, b) {
  return me(function(b, d) {
    return le(je).call(null, a.c ? a.c(b) : a.call(null, b), a.c ? a.c(d) : a.call(null, d));
  }, b);
}
function Ed(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 2:
      return Dd(arguments[0], arguments[1]);
    case 3:
      return Fd(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function Dd(a, b) {
  var c = z(b);
  if (c) {
    var d = D(c), c = E(c);
    return qb ? qb(a, d, c) : rb.call(null, a, d, c);
  }
  return a.v ? a.v() : a.call(null);
}
function Fd(a, b, c) {
  for (c = z(c);;) {
    if (c) {
      var d = D(c);
      b = a.h ? a.h(b, d) : a.call(null, b, d);
      c = E(c);
    } else {
      return b;
    }
  }
}
function rb(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 2:
      return pe(arguments[0], arguments[1]);
    case 3:
      return qb(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function pe(a, b) {
  return null != b && (b.o & 524288 || b.Hd) ? b.Ba(null, a) : db(b) ? od(b, a) : "string" === typeof b ? od(b, a) : fb(bc, b) ? cc.h(b, a) : Dd(a, b);
}
function qb(a, b, c) {
  return null != c && (c.o & 524288 || c.Hd) ? c.Ca(null, a, b) : db(c) ? pd(c, a, b) : "string" === typeof c ? pd(c, a, b) : fb(bc, c) ? cc.l(c, a, b) : Fd(a, b, c);
}
function qe(a, b, c) {
  return null != c ? dc(c, a, b) : b;
}
function re(a) {
  return a;
}
function se(a, b, c, d) {
  a = a.c ? a.c(b) : a.call(null, b);
  c = qb(a, c, d);
  return a.c ? a.c(c) : a.call(null, c);
}
var te = function te(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return te.v();
    case 1:
      return te.c(arguments[0]);
    case 2:
      return te.h(arguments[0], arguments[1]);
    default:
      return te.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
te.v = function() {
  return 0;
};
te.c = function(a) {
  return a;
};
te.h = function(a, b) {
  return a + b;
};
te.j = function(a, b, c) {
  return qb(te, a + b, c);
};
te.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return te.j(b, a, c);
};
te.D = 2;
function ue(a) {
  if ("number" === typeof a) {
    return String.fromCharCode(a);
  }
  if ("string" === typeof a && 1 === a.length) {
    return a;
  }
  throw Error("Argument to char must be a character or number");
}
function ve(a, b) {
  return (a % b + b) % b;
}
function we(a, b) {
  var c = (a - a % b) / b;
  return 0 <= c ? Math.floor(c) : Math.ceil(c);
}
function xe(a, b) {
  return a - b * we(a, b);
}
function ye(a) {
  a -= a >> 1 & 1431655765;
  a = (a & 858993459) + (a >> 2 & 858993459);
  return 16843009 * (a + (a >> 4) & 252645135) >> 24;
}
function ze(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return !0;
    case 2:
      return ec(arguments[0], arguments[1]);
    default:
      a: {
        for (c = arguments[0], d = arguments[1], b = new B(b.slice(2), 0, null);;) {
          if (c === d) {
            if (E(b)) {
              c = d, d = D(b), b = E(b);
            } else {
              c = d === D(b);
              break a;
            }
          } else {
            c = !1;
            break a;
          }
        }
      }
      return c;
  }
}
function Ae(a, b) {
  return ec(a, b);
}
function Be(a, b) {
  for (var c = b, d = z(a);;) {
    if (d && 0 < c) {
      --c, d = E(d);
    } else {
      return d;
    }
  }
}
var p = function p(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return p.v();
    case 1:
      return p.c(arguments[0]);
    default:
      return p.j(arguments[0], new B(c.slice(1), 0, null));
  }
};
p.v = function() {
  return "";
};
p.c = function(a) {
  return null == a ? "" : "" + a;
};
p.j = function(a, b) {
  for (var c = new Fa("" + p(a)), d = b;;) {
    if (m(d)) {
      c = c.append("" + p(D(d))), d = E(d);
    } else {
      return c.toString();
    }
  }
};
p.C = function(a) {
  var b = D(a);
  a = E(a);
  return p.j(b, a);
};
p.D = 1;
function Ce(a, b) {
  return a.substring(b);
}
function zd(a, b) {
  var c;
  if (Wd(b)) {
    if (rd(a) && rd(b) && I(a) !== I(b)) {
      c = !1;
    } else {
      a: {
        c = z(a);
        for (var d = z(b);;) {
          if (null == c) {
            c = null == d;
            break a;
          }
          if (null != d && x.h(D(c), D(d))) {
            c = E(c), d = E(d);
          } else {
            c = !1;
            break a;
          }
        }
      }
    }
  } else {
    c = null;
  }
  return fe(c);
}
function De(a) {
  var b = 0;
  for (a = z(a);;) {
    if (a) {
      var c = D(a), b = (b + (Xc(Ee.c ? Ee.c(c) : Ee.call(null, c)) ^ Xc(Fe.c ? Fe.c(c) : Fe.call(null, c)))) % 4503599627370496;
      a = E(a);
    } else {
      return b;
    }
  }
}
function Ge(a, b, c, d, e) {
  this.meta = a;
  this.first = b;
  this.Ja = c;
  this.count = d;
  this.H = e;
  this.o = 65937646;
  this.L = 8192;
}
h = Ge.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, this.count);
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  return 1 === this.count ? null : this.Ja;
};
h.ea = function() {
  return this.count;
};
h.Mb = function() {
  return this.first;
};
h.Nb = function() {
  return Db(this);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return ac(dd, this.meta);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return this.first;
};
h.Fa = function() {
  return 1 === this.count ? dd : this.Ja;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new Ge(b, this.first, this.Ja, this.count, this.H);
};
h.aa = function(a, b) {
  return new Ge(this.meta, b, this, this.count + 1, null);
};
function He(a) {
  return null != a ? a.o & 33554432 || a.pe ? !0 : a.o ? !1 : fb(jc, a) : fb(jc, a);
}
Ge.prototype[kb] = function() {
  return fd(this);
};
function Ie(a) {
  this.meta = a;
  this.o = 65937614;
  this.L = 8192;
}
h = Ie.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  return null;
};
h.ea = function() {
  return 0;
};
h.Mb = function() {
  return null;
};
h.Nb = function() {
  throw Error("Can't pop empty list");
};
h.W = function() {
  return id;
};
h.K = function(a, b) {
  return He(b) || Wd(b) ? null == z(b) : !1;
};
h.ka = function() {
  return this;
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return null;
};
h.Fa = function() {
  return dd;
};
h.ca = function() {
  return null;
};
h.U = function(a, b) {
  return new Ie(b);
};
h.aa = function(a, b) {
  return new Ge(this.meta, b, null, 1, null);
};
var dd = new Ie(null);
Ie.prototype[kb] = function() {
  return fd(this);
};
function Je(a) {
  return (null != a ? a.o & 134217728 || a.se || (a.o ? 0 : fb(lc, a)) : fb(lc, a)) ? mc(a) : qb(Id, dd, a);
}
var Ke = function Ke(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return Ke.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
Ke.j = function(a) {
  var b;
  if (a instanceof B && 0 === a.i) {
    b = a.m;
  } else {
    a: {
      for (b = [];;) {
        if (null != a) {
          b.push(a.la(null)), a = a.La(null);
        } else {
          break a;
        }
      }
    }
  }
  a = b.length;
  for (var c = dd;;) {
    if (0 < a) {
      var d = a - 1, c = c.aa(null, b[a - 1]);
      a = d;
    } else {
      return c;
    }
  }
};
Ke.D = 0;
Ke.C = function(a) {
  return Ke.j(z(a));
};
function Le(a, b, c, d) {
  this.meta = a;
  this.first = b;
  this.Ja = c;
  this.H = d;
  this.o = 65929452;
  this.L = 8192;
}
h = Le.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  return null == this.Ja ? null : z(this.Ja);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return this.first;
};
h.Fa = function() {
  return null == this.Ja ? dd : this.Ja;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new Le(b, this.first, this.Ja, this.H);
};
h.aa = function(a, b) {
  return new Le(null, b, this, null);
};
Le.prototype[kb] = function() {
  return fd(this);
};
function Ad(a, b) {
  var c = null == b;
  return (c ? c : null != b && (b.o & 64 || b.P)) ? new Le(null, a, b, null) : new Le(null, a, z(b), null);
}
function Me(a, b) {
  if (a.V === b.V) {
    return 0;
  }
  var c = eb(a.Ia);
  if (m(c ? b.Ia : c)) {
    return -1;
  }
  if (m(a.Ia)) {
    if (eb(b.Ia)) {
      return 1;
    }
    c = Ka(a.Ia, b.Ia);
    return 0 === c ? Ka(a.name, b.name) : c;
  }
  return Ka(a.name, b.name);
}
function N(a, b, c, d) {
  this.Ia = a;
  this.name = b;
  this.V = c;
  this.Jb = d;
  this.o = 2153775105;
  this.L = 4096;
}
h = N.prototype;
h.toString = function() {
  return [p(":"), p(this.V)].join("");
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.K = function(a, b) {
  return b instanceof N ? this.V === b.V : !1;
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return t.h(c, this);
      case 3:
        return t.l(c, this, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return t.h(c, this);
  };
  a.l = function(a, c, d) {
    return t.l(c, this, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return t.h(a, this);
};
h.h = function(a, b) {
  return t.l(a, this, b);
};
h.W = function() {
  var a = this.Jb;
  return null != a ? a : this.Jb = a = Yc(Tc(this.name), Wc(this.Ia)) + 2654435769 | 0;
};
h.Zb = function() {
  return this.name;
};
h.$b = function() {
  return this.Ia;
};
h.Z = function(a, b) {
  return q(b, [p(":"), p(this.V)].join(""));
};
function O(a, b) {
  return a === b ? !0 : a instanceof N && b instanceof N ? a.V === b.V : !1;
}
function Ne(a) {
  if (null != a && (a.L & 4096 || a.Zc)) {
    return a.$b(null);
  }
  throw Error([p("Doesn't support namespace: "), p(a)].join(""));
}
var Oe = function Oe(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Oe.c(arguments[0]);
    case 2:
      return Oe.h(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
Oe.c = function(a) {
  if (a instanceof N) {
    return a;
  }
  if (a instanceof r) {
    return new N(Ne(a), Pe.c ? Pe.c(a) : Pe.call(null, a), a.lb, null);
  }
  if ("string" === typeof a) {
    var b = a.split("/");
    return 2 === b.length ? new N(b[0], b[1], a, null) : new N(null, b[0], a, null);
  }
  return null;
};
Oe.h = function(a, b) {
  return new N(a, b, [p(m(a) ? [p(a), p("/")].join("") : null), p(b)].join(""), null);
};
Oe.D = 2;
function Qe(a, b, c, d) {
  this.meta = a;
  this.fn = b;
  this.s = c;
  this.H = d;
  this.o = 32374988;
  this.L = 1;
}
h = Qe.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
function Re(a) {
  null != a.fn && (a.s = a.fn.v ? a.fn.v() : a.fn.call(null), a.fn = null);
  return a.s;
}
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  hc(this);
  return null == this.s ? null : E(this.s);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.$c = function() {
  return eb(this.fn);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  hc(this);
  return null == this.s ? null : D(this.s);
};
h.Fa = function() {
  hc(this);
  return null != this.s ? cd(this.s) : dd;
};
h.ca = function() {
  Re(this);
  if (null == this.s) {
    return null;
  }
  for (var a = this.s;;) {
    if (a instanceof Qe) {
      a = Re(a);
    } else {
      return this.s = a, z(this.s);
    }
  }
};
h.U = function(a, b) {
  return new Qe(b, this.fn, this.s, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
Qe.prototype[kb] = function() {
  return fd(this);
};
function Se(a, b) {
  this.xc = a;
  this.end = b;
  this.o = 2;
  this.L = 0;
}
Se.prototype.add = function(a) {
  this.xc[this.end] = a;
  return this.end += 1;
};
Se.prototype.da = function() {
  var a = new Te(this.xc, 0, this.end);
  this.xc = null;
  return a;
};
Se.prototype.ea = function() {
  return this.end;
};
function Ue(a) {
  return new Se(Array(a), 0);
}
function Te(a, b, c) {
  this.m = a;
  this.off = b;
  this.end = c;
  this.o = 524306;
  this.L = 0;
}
h = Te.prototype;
h.ea = function() {
  return this.end - this.off;
};
h.X = function(a, b) {
  return this.m[this.off + b];
};
h.Ua = function(a, b, c) {
  return 0 <= b && b < this.end - this.off ? this.m[this.off + b] : c;
};
h.Wc = function() {
  if (this.off === this.end) {
    throw Error("-drop-first of empty chunk");
  }
  return new Te(this.m, this.off + 1, this.end);
};
h.Ba = function(a, b) {
  return qd(this.m, b, this.m[this.off], this.off + 1);
};
h.Ca = function(a, b, c) {
  return qd(this.m, b, c, this.off);
};
function Ve(a, b, c, d) {
  this.da = a;
  this.kb = b;
  this.meta = c;
  this.H = d;
  this.o = 31850732;
  this.L = 1536;
}
h = Ve.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  if (1 < vb(this.da)) {
    return new Ve(Cc(this.da), this.kb, this.meta, null);
  }
  var a = hc(this.kb);
  return null == a ? null : a;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.la = function() {
  return Ab.h(this.da, 0);
};
h.Fa = function() {
  return 1 < vb(this.da) ? new Ve(Cc(this.da), this.kb, this.meta, null) : null == this.kb ? dd : this.kb;
};
h.ca = function() {
  return this;
};
h.Cc = function() {
  return this.da;
};
h.Dc = function() {
  return null == this.kb ? dd : this.kb;
};
h.U = function(a, b) {
  return new Ve(this.da, this.kb, b, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
h.Bc = function() {
  return null == this.kb ? null : this.kb;
};
Ve.prototype[kb] = function() {
  return fd(this);
};
function We(a, b) {
  return 0 === vb(a) ? b : new Ve(a, b, null, null);
}
function Xe(a, b) {
  a.add(b);
}
function ne(a) {
  for (var b = [];;) {
    if (z(a)) {
      b.push(D(a)), a = E(a);
    } else {
      return b;
    }
  }
}
function Ye(a, b) {
  if (rd(a)) {
    return I(a);
  }
  for (var c = a, d = b, e = 0;;) {
    if (0 < d && z(c)) {
      c = E(c), --d, e += 1;
    } else {
      return e;
    }
  }
}
var Ze = function Ze(b) {
  return null == b ? null : null == E(b) ? z(D(b)) : Ad(D(b), Ze(E(b)));
}, $e = function $e(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return $e.v();
    case 1:
      return $e.c(arguments[0]);
    case 2:
      return $e.h(arguments[0], arguments[1]);
    default:
      return $e.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
$e.v = function() {
  return new Qe(null, function() {
    return null;
  }, null, null);
};
$e.c = function(a) {
  return new Qe(null, function() {
    return a;
  }, null, null);
};
$e.h = function(a, b) {
  return new Qe(null, function() {
    var c = z(a);
    return c ? $d(c) ? We(Ec(c), $e.h(Fc(c), b)) : Ad(D(c), $e.h(cd(c), b)) : b;
  }, null, null);
};
$e.j = function(a, b, c) {
  return function e(a, b) {
    return new Qe(null, function() {
      var c = z(a);
      return c ? $d(c) ? We(Ec(c), e(Fc(c), b)) : Ad(D(c), e(cd(c), b)) : m(b) ? e(D(b), E(b)) : null;
    }, null, null);
  }($e.h(a, b), c);
};
$e.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return $e.j(b, a, c);
};
$e.D = 2;
var af = function af(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return af.v();
    case 1:
      return af.c(arguments[0]);
    case 2:
      return af.h(arguments[0], arguments[1]);
    default:
      return af.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
af.v = function() {
  return vc(Jd);
};
af.c = function(a) {
  return a;
};
af.h = function(a, b) {
  return wc(a, b);
};
af.j = function(a, b, c) {
  for (;;) {
    if (a = wc(a, b), m(c)) {
      b = D(c), c = E(c);
    } else {
      return a;
    }
  }
};
af.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return af.j(b, a, c);
};
af.D = 2;
function bf(a, b, c) {
  var d = z(c);
  if (0 === b) {
    return a.v ? a.v() : a.call(null);
  }
  c = Cb(d);
  var e = Db(d);
  if (1 === b) {
    return a.c ? a.c(c) : a.c ? a.c(c) : a.call(null, c);
  }
  var d = Cb(e), f = Db(e);
  if (2 === b) {
    return a.h ? a.h(c, d) : a.h ? a.h(c, d) : a.call(null, c, d);
  }
  var e = Cb(f), g = Db(f);
  if (3 === b) {
    return a.l ? a.l(c, d, e) : a.l ? a.l(c, d, e) : a.call(null, c, d, e);
  }
  var f = Cb(g), k = Db(g);
  if (4 === b) {
    return a.I ? a.I(c, d, e, f) : a.I ? a.I(c, d, e, f) : a.call(null, c, d, e, f);
  }
  var g = Cb(k), n = Db(k);
  if (5 === b) {
    return a.R ? a.R(c, d, e, f, g) : a.R ? a.R(c, d, e, f, g) : a.call(null, c, d, e, f, g);
  }
  var k = Cb(n), u = Db(n);
  if (6 === b) {
    return a.ia ? a.ia(c, d, e, f, g, k) : a.ia ? a.ia(c, d, e, f, g, k) : a.call(null, c, d, e, f, g, k);
  }
  var n = Cb(u), v = Db(u);
  if (7 === b) {
    return a.xa ? a.xa(c, d, e, f, g, k, n) : a.xa ? a.xa(c, d, e, f, g, k, n) : a.call(null, c, d, e, f, g, k, n);
  }
  var u = Cb(v), w = Db(v);
  if (8 === b) {
    return a.ya ? a.ya(c, d, e, f, g, k, n, u) : a.ya ? a.ya(c, d, e, f, g, k, n, u) : a.call(null, c, d, e, f, g, k, n, u);
  }
  var v = Cb(w), y = Db(w);
  if (9 === b) {
    return a.za ? a.za(c, d, e, f, g, k, n, u, v) : a.za ? a.za(c, d, e, f, g, k, n, u, v) : a.call(null, c, d, e, f, g, k, n, u, v);
  }
  var w = Cb(y), A = Db(y);
  if (10 === b) {
    return a.ma ? a.ma(c, d, e, f, g, k, n, u, v, w) : a.ma ? a.ma(c, d, e, f, g, k, n, u, v, w) : a.call(null, c, d, e, f, g, k, n, u, v, w);
  }
  var y = Cb(A), C = Db(A);
  if (11 === b) {
    return a.na ? a.na(c, d, e, f, g, k, n, u, v, w, y) : a.na ? a.na(c, d, e, f, g, k, n, u, v, w, y) : a.call(null, c, d, e, f, g, k, n, u, v, w, y);
  }
  var A = Cb(C), F = Db(C);
  if (12 === b) {
    return a.oa ? a.oa(c, d, e, f, g, k, n, u, v, w, y, A) : a.oa ? a.oa(c, d, e, f, g, k, n, u, v, w, y, A) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A);
  }
  var C = Cb(F), G = Db(F);
  if (13 === b) {
    return a.pa ? a.pa(c, d, e, f, g, k, n, u, v, w, y, A, C) : a.pa ? a.pa(c, d, e, f, g, k, n, u, v, w, y, A, C) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C);
  }
  var F = Cb(G), J = Db(G);
  if (14 === b) {
    return a.qa ? a.qa(c, d, e, f, g, k, n, u, v, w, y, A, C, F) : a.qa ? a.qa(c, d, e, f, g, k, n, u, v, w, y, A, C, F) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
  }
  var G = Cb(J), P = Db(J);
  if (15 === b) {
    return a.ra ? a.ra(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : a.ra ? a.ra(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
  }
  var J = Cb(P), Q = Db(P);
  if (16 === b) {
    return a.sa ? a.sa(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : a.sa ? a.sa(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
  }
  var P = Cb(Q), W = Db(Q);
  if (17 === b) {
    return a.ta ? a.ta(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : a.ta ? a.ta(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
  }
  var Q = Cb(W), la = Db(W);
  if (18 === b) {
    return a.ua ? a.ua(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : a.ua ? a.ua(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
  }
  W = Cb(la);
  la = Db(la);
  if (19 === b) {
    return a.va ? a.va(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) : a.va ? a.va(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W);
  }
  var K = Cb(la);
  Db(la);
  if (20 === b) {
    return a.wa ? a.wa(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W, K) : a.wa ? a.wa(c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W, K) : a.call(null, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W, K);
  }
  throw Error("Only up to 20 arguments supported on functions");
}
function bd(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 2:
      return cf(arguments[0], arguments[1]);
    case 3:
      return df(arguments[0], arguments[1], arguments[2]);
    case 4:
      return ff(arguments[0], arguments[1], arguments[2], arguments[3]);
    case 5:
      return gf(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
    default:
      return hf(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], new B(b.slice(5), 0, null));
  }
}
function cf(a, b) {
  var c = a.D;
  if (a.C) {
    var d = Ye(b, c + 1);
    return d <= c ? bf(a, d, b) : a.C(b);
  }
  return a.apply(a, ne(b));
}
function df(a, b, c) {
  b = Ad(b, c);
  c = a.D;
  if (a.C) {
    var d = Ye(b, c + 1);
    return d <= c ? bf(a, d, b) : a.C(b);
  }
  return a.apply(a, ne(b));
}
function ff(a, b, c, d) {
  b = Ad(b, Ad(c, d));
  c = a.D;
  return a.C ? (d = Ye(b, c + 1), d <= c ? bf(a, d, b) : a.C(b)) : a.apply(a, ne(b));
}
function gf(a, b, c, d, e) {
  b = Ad(b, Ad(c, Ad(d, e)));
  c = a.D;
  return a.C ? (d = Ye(b, c + 1), d <= c ? bf(a, d, b) : a.C(b)) : a.apply(a, ne(b));
}
function hf(a, b, c, d, e, f) {
  b = Ad(b, Ad(c, Ad(d, Ad(e, Ze(f)))));
  c = a.D;
  return a.C ? (d = Ye(b, c + 1), d <= c ? bf(a, d, b) : a.C(b)) : a.apply(a, ne(b));
}
function jf(a, b) {
  return !x.h(a, b);
}
function kf(a) {
  return z(a) ? a : null;
}
var lf = function lf() {
  "undefined" === typeof Ma && (Ma = function(b, c) {
    this.ce = b;
    this.ae = c;
    this.o = 393216;
    this.L = 0;
  }, Ma.prototype.U = function(b, c) {
    return new Ma(this.ce, c);
  }, Ma.prototype.S = function() {
    return this.ae;
  }, Ma.prototype.hasNext = function() {
    return !1;
  }, Ma.prototype.next = function() {
    return Error("No such element");
  }, Ma.prototype.remove = function() {
    return Error("Unsupported operation");
  }, Ma.Sb = function() {
    return new R(null, 2, 5, S, [Cd(mf, new l(null, 1, [nf, Ke(of, Ke(Jd))], null)), pf], null);
  }, Ma.vb = !0, Ma.jb = "cljs.core/t_cljs$core9988", Ma.Db = function(b, c) {
    return q(c, "cljs.core/t_cljs$core9988");
  });
  return new Ma(lf, T);
};
function qf(a, b) {
  for (;;) {
    if (null == z(b)) {
      return !0;
    }
    var c;
    c = D(b);
    c = a.c ? a.c(c) : a.call(null, c);
    if (m(c)) {
      c = a;
      var d = E(b);
      a = c;
      b = d;
    } else {
      return !1;
    }
  }
}
function rf(a, b) {
  for (;;) {
    if (z(b)) {
      var c;
      c = D(b);
      c = a.c ? a.c(c) : a.call(null, c);
      if (m(c)) {
        return c;
      }
      c = a;
      var d = E(b);
      a = c;
      b = d;
    } else {
      return null;
    }
  }
}
function sf(a) {
  return function() {
    function b(b, c) {
      return eb(a.h ? a.h(b, c) : a.call(null, b, c));
    }
    function c(b) {
      return eb(a.c ? a.c(b) : a.call(null, b));
    }
    function d() {
      return eb(a.v ? a.v() : a.call(null));
    }
    var e = null, f = function() {
      function b(a, d, e) {
        var f = null;
        if (2 < arguments.length) {
          for (var f = 0, g = Array(arguments.length - 2);f < g.length;) {
            g[f] = arguments[f + 2], ++f;
          }
          f = new B(g, 0);
        }
        return c.call(this, a, d, f);
      }
      function c(b, d, e) {
        return eb(ff(a, b, d, e));
      }
      b.D = 2;
      b.C = function(a) {
        var b = D(a);
        a = E(a);
        var d = D(a);
        a = cd(a);
        return c(b, d, a);
      };
      b.j = c;
      return b;
    }(), e = function(a, e, n) {
      switch(arguments.length) {
        case 0:
          return d.call(this);
        case 1:
          return c.call(this, a);
        case 2:
          return b.call(this, a, e);
        default:
          var u = null;
          if (2 < arguments.length) {
            for (var u = 0, v = Array(arguments.length - 2);u < v.length;) {
              v[u] = arguments[u + 2], ++u;
            }
            u = new B(v, 0);
          }
          return f.j(a, e, u);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    e.D = 2;
    e.C = f.C;
    e.v = d;
    e.c = c;
    e.h = b;
    e.j = f.j;
    return e;
  }();
}
var tf = function tf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 0:
      return tf.v();
    case 1:
      return tf.c(arguments[0]);
    case 2:
      return tf.h(arguments[0], arguments[1]);
    case 3:
      return tf.l(arguments[0], arguments[1], arguments[2]);
    default:
      return tf.j(arguments[0], arguments[1], arguments[2], new B(c.slice(3), 0, null));
  }
};
tf.v = function() {
  return re;
};
tf.c = function(a) {
  return a;
};
tf.h = function(a, b) {
  return function() {
    function c(c, d, e) {
      c = b.l ? b.l(c, d, e) : b.call(null, c, d, e);
      return a.c ? a.c(c) : a.call(null, c);
    }
    function d(c, d) {
      var e = b.h ? b.h(c, d) : b.call(null, c, d);
      return a.c ? a.c(e) : a.call(null, e);
    }
    function e(c) {
      c = b.c ? b.c(c) : b.call(null, c);
      return a.c ? a.c(c) : a.call(null, c);
    }
    function f() {
      var c = b.v ? b.v() : b.call(null);
      return a.c ? a.c(c) : a.call(null, c);
    }
    var g = null, k = function() {
      function c(a, b, e, f) {
        var g = null;
        if (3 < arguments.length) {
          for (var g = 0, k = Array(arguments.length - 3);g < k.length;) {
            k[g] = arguments[g + 3], ++g;
          }
          g = new B(k, 0);
        }
        return d.call(this, a, b, e, g);
      }
      function d(c, e, f, g) {
        c = gf(b, c, e, f, g);
        return a.c ? a.c(c) : a.call(null, c);
      }
      c.D = 3;
      c.C = function(a) {
        var b = D(a);
        a = E(a);
        var c = D(a);
        a = E(a);
        var e = D(a);
        a = cd(a);
        return d(b, c, e, a);
      };
      c.j = d;
      return c;
    }(), g = function(a, b, g, w) {
      switch(arguments.length) {
        case 0:
          return f.call(this);
        case 1:
          return e.call(this, a);
        case 2:
          return d.call(this, a, b);
        case 3:
          return c.call(this, a, b, g);
        default:
          var y = null;
          if (3 < arguments.length) {
            for (var y = 0, A = Array(arguments.length - 3);y < A.length;) {
              A[y] = arguments[y + 3], ++y;
            }
            y = new B(A, 0);
          }
          return k.j(a, b, g, y);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    g.D = 3;
    g.C = k.C;
    g.v = f;
    g.c = e;
    g.h = d;
    g.l = c;
    g.j = k.j;
    return g;
  }();
};
tf.l = function(a, b, c) {
  return function() {
    function d(d, e, f) {
      d = c.l ? c.l(d, e, f) : c.call(null, d, e, f);
      d = b.c ? b.c(d) : b.call(null, d);
      return a.c ? a.c(d) : a.call(null, d);
    }
    function e(d, e) {
      var f;
      f = c.h ? c.h(d, e) : c.call(null, d, e);
      f = b.c ? b.c(f) : b.call(null, f);
      return a.c ? a.c(f) : a.call(null, f);
    }
    function f(d) {
      d = c.c ? c.c(d) : c.call(null, d);
      d = b.c ? b.c(d) : b.call(null, d);
      return a.c ? a.c(d) : a.call(null, d);
    }
    function g() {
      var d;
      d = c.v ? c.v() : c.call(null);
      d = b.c ? b.c(d) : b.call(null, d);
      return a.c ? a.c(d) : a.call(null, d);
    }
    var k = null, n = function() {
      function d(a, b, c, f) {
        var g = null;
        if (3 < arguments.length) {
          for (var g = 0, k = Array(arguments.length - 3);g < k.length;) {
            k[g] = arguments[g + 3], ++g;
          }
          g = new B(k, 0);
        }
        return e.call(this, a, b, c, g);
      }
      function e(d, f, g, k) {
        d = gf(c, d, f, g, k);
        d = b.c ? b.c(d) : b.call(null, d);
        return a.c ? a.c(d) : a.call(null, d);
      }
      d.D = 3;
      d.C = function(a) {
        var b = D(a);
        a = E(a);
        var c = D(a);
        a = E(a);
        var d = D(a);
        a = cd(a);
        return e(b, c, d, a);
      };
      d.j = e;
      return d;
    }(), k = function(a, b, c, k) {
      switch(arguments.length) {
        case 0:
          return g.call(this);
        case 1:
          return f.call(this, a);
        case 2:
          return e.call(this, a, b);
        case 3:
          return d.call(this, a, b, c);
        default:
          var A = null;
          if (3 < arguments.length) {
            for (var A = 0, C = Array(arguments.length - 3);A < C.length;) {
              C[A] = arguments[A + 3], ++A;
            }
            A = new B(C, 0);
          }
          return n.j(a, b, c, A);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    k.D = 3;
    k.C = n.C;
    k.v = g;
    k.c = f;
    k.h = e;
    k.l = d;
    k.j = n.j;
    return k;
  }();
};
tf.j = function(a, b, c, d) {
  return function(a) {
    return function() {
      function b(a) {
        var d = null;
        if (0 < arguments.length) {
          for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
            e[d] = arguments[d + 0], ++d;
          }
          d = new B(e, 0);
        }
        return c.call(this, d);
      }
      function c(b) {
        b = cf(D(a), b);
        for (var d = E(a);;) {
          if (d) {
            b = D(d).call(null, b), d = E(d);
          } else {
            return b;
          }
        }
      }
      b.D = 0;
      b.C = function(a) {
        a = z(a);
        return c(a);
      };
      b.j = c;
      return b;
    }();
  }(Je(Ad(a, Ad(b, Ad(c, d)))));
};
tf.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), d = E(d);
  return tf.j(b, a, c, d);
};
tf.D = 3;
var uf = function uf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return uf.c(arguments[0]);
    case 2:
      return uf.h(arguments[0], arguments[1]);
    case 3:
      return uf.l(arguments[0], arguments[1], arguments[2]);
    case 4:
      return uf.I(arguments[0], arguments[1], arguments[2], arguments[3]);
    default:
      return uf.j(arguments[0], arguments[1], arguments[2], arguments[3], new B(c.slice(4), 0, null));
  }
};
uf.c = function(a) {
  return a;
};
uf.h = function(a, b) {
  return function() {
    function c(c, d, e) {
      return a.I ? a.I(b, c, d, e) : a.call(null, b, c, d, e);
    }
    function d(c, d) {
      return a.l ? a.l(b, c, d) : a.call(null, b, c, d);
    }
    function e(c) {
      return a.h ? a.h(b, c) : a.call(null, b, c);
    }
    function f() {
      return a.c ? a.c(b) : a.call(null, b);
    }
    var g = null, k = function() {
      function c(a, b, e, f) {
        var g = null;
        if (3 < arguments.length) {
          for (var g = 0, k = Array(arguments.length - 3);g < k.length;) {
            k[g] = arguments[g + 3], ++g;
          }
          g = new B(k, 0);
        }
        return d.call(this, a, b, e, g);
      }
      function d(c, e, f, g) {
        return hf(a, b, c, e, f, L([g], 0));
      }
      c.D = 3;
      c.C = function(a) {
        var b = D(a);
        a = E(a);
        var c = D(a);
        a = E(a);
        var e = D(a);
        a = cd(a);
        return d(b, c, e, a);
      };
      c.j = d;
      return c;
    }(), g = function(a, b, g, w) {
      switch(arguments.length) {
        case 0:
          return f.call(this);
        case 1:
          return e.call(this, a);
        case 2:
          return d.call(this, a, b);
        case 3:
          return c.call(this, a, b, g);
        default:
          var y = null;
          if (3 < arguments.length) {
            for (var y = 0, A = Array(arguments.length - 3);y < A.length;) {
              A[y] = arguments[y + 3], ++y;
            }
            y = new B(A, 0);
          }
          return k.j(a, b, g, y);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    g.D = 3;
    g.C = k.C;
    g.v = f;
    g.c = e;
    g.h = d;
    g.l = c;
    g.j = k.j;
    return g;
  }();
};
uf.l = function(a, b, c) {
  return function() {
    function d(d, e, f) {
      return a.R ? a.R(b, c, d, e, f) : a.call(null, b, c, d, e, f);
    }
    function e(d, e) {
      return a.I ? a.I(b, c, d, e) : a.call(null, b, c, d, e);
    }
    function f(d) {
      return a.l ? a.l(b, c, d) : a.call(null, b, c, d);
    }
    function g() {
      return a.h ? a.h(b, c) : a.call(null, b, c);
    }
    var k = null, n = function() {
      function d(a, b, c, f) {
        var g = null;
        if (3 < arguments.length) {
          for (var g = 0, k = Array(arguments.length - 3);g < k.length;) {
            k[g] = arguments[g + 3], ++g;
          }
          g = new B(k, 0);
        }
        return e.call(this, a, b, c, g);
      }
      function e(d, f, g, k) {
        return hf(a, b, c, d, f, L([g, k], 0));
      }
      d.D = 3;
      d.C = function(a) {
        var b = D(a);
        a = E(a);
        var c = D(a);
        a = E(a);
        var d = D(a);
        a = cd(a);
        return e(b, c, d, a);
      };
      d.j = e;
      return d;
    }(), k = function(a, b, c, k) {
      switch(arguments.length) {
        case 0:
          return g.call(this);
        case 1:
          return f.call(this, a);
        case 2:
          return e.call(this, a, b);
        case 3:
          return d.call(this, a, b, c);
        default:
          var A = null;
          if (3 < arguments.length) {
            for (var A = 0, C = Array(arguments.length - 3);A < C.length;) {
              C[A] = arguments[A + 3], ++A;
            }
            A = new B(C, 0);
          }
          return n.j(a, b, c, A);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    k.D = 3;
    k.C = n.C;
    k.v = g;
    k.c = f;
    k.h = e;
    k.l = d;
    k.j = n.j;
    return k;
  }();
};
uf.I = function(a, b, c, d) {
  return function() {
    function e(e, f, g) {
      return a.ia ? a.ia(b, c, d, e, f, g) : a.call(null, b, c, d, e, f, g);
    }
    function f(e, f) {
      return a.R ? a.R(b, c, d, e, f) : a.call(null, b, c, d, e, f);
    }
    function g(e) {
      return a.I ? a.I(b, c, d, e) : a.call(null, b, c, d, e);
    }
    function k() {
      return a.l ? a.l(b, c, d) : a.call(null, b, c, d);
    }
    var n = null, u = function() {
      function e(a, b, c, d) {
        var g = null;
        if (3 < arguments.length) {
          for (var g = 0, k = Array(arguments.length - 3);g < k.length;) {
            k[g] = arguments[g + 3], ++g;
          }
          g = new B(k, 0);
        }
        return f.call(this, a, b, c, g);
      }
      function f(e, g, k, n) {
        return hf(a, b, c, d, e, L([g, k, n], 0));
      }
      e.D = 3;
      e.C = function(a) {
        var b = D(a);
        a = E(a);
        var c = D(a);
        a = E(a);
        var d = D(a);
        a = cd(a);
        return f(b, c, d, a);
      };
      e.j = f;
      return e;
    }(), n = function(a, b, c, d) {
      switch(arguments.length) {
        case 0:
          return k.call(this);
        case 1:
          return g.call(this, a);
        case 2:
          return f.call(this, a, b);
        case 3:
          return e.call(this, a, b, c);
        default:
          var n = null;
          if (3 < arguments.length) {
            for (var n = 0, F = Array(arguments.length - 3);n < F.length;) {
              F[n] = arguments[n + 3], ++n;
            }
            n = new B(F, 0);
          }
          return u.j(a, b, c, n);
      }
      throw Error("Invalid arity: " + arguments.length);
    };
    n.D = 3;
    n.C = u.C;
    n.v = k;
    n.c = g;
    n.h = f;
    n.l = e;
    n.j = u.j;
    return n;
  }();
};
uf.j = function(a, b, c, d, e) {
  return function() {
    function f(a) {
      var b = null;
      if (0 < arguments.length) {
        for (var b = 0, c = Array(arguments.length - 0);b < c.length;) {
          c[b] = arguments[b + 0], ++b;
        }
        b = new B(c, 0);
      }
      return g.call(this, b);
    }
    function g(f) {
      return gf(a, b, c, d, $e.h(e, f));
    }
    f.D = 0;
    f.C = function(a) {
      a = z(a);
      return g(a);
    };
    f.j = g;
    return f;
  }();
};
uf.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), e = E(d), d = D(e), e = E(e);
  return uf.j(b, a, c, d, e);
};
uf.D = 4;
function vf(a, b, c, d) {
  this.state = a;
  this.meta = b;
  this.Ub = c;
  this.Ka = d;
  this.L = 16386;
  this.o = 6455296;
}
h = vf.prototype;
h.equiv = function(a) {
  return this.K(null, a);
};
h.K = function(a, b) {
  return this === b;
};
h.tb = function() {
  return this.state;
};
h.S = function() {
  return this.meta;
};
h.qc = function(a, b, c) {
  a = z(this.Ka);
  for (var d = null, e = 0, f = 0;;) {
    if (f < e) {
      var g = d.X(null, f), k = M(g, 0, null), g = M(g, 1, null);
      g.I ? g.I(k, this, b, c) : g.call(null, k, this, b, c);
      f += 1;
    } else {
      if (a = z(a)) {
        $d(a) ? (d = Ec(a), a = Fc(a), k = d, e = I(d), d = k) : (d = D(a), k = M(d, 0, null), g = M(d, 1, null), g.I ? g.I(k, this, b, c) : g.call(null, k, this, b, c), a = E(a), d = null, e = 0), f = 0;
      } else {
        return null;
      }
    }
  }
};
h.pc = function(a, b, c) {
  this.Ka = Ld.l(this.Ka, b, c);
  return this;
};
h.rc = function(a, b) {
  return this.Ka = Nd.h(this.Ka, b);
};
h.W = function() {
  return ka(this);
};
function wf(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return xf(arguments[0]);
    default:
      return c = arguments[0], b = new B(b.slice(1), 0, null), d = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, b = t.h(d, Za), d = t.h(d, zf), new vf(c, b, d, null);
  }
}
function xf(a) {
  return new vf(a, null, null, null);
}
function U(a, b) {
  if (a instanceof vf) {
    var c = a.Ub;
    if (null != c && !m(c.c ? c.c(b) : c.call(null, b))) {
      throw Error([p("Assert failed: "), p("Validator rejected reference state"), p("\n"), p("(validate new-value)")].join(""));
    }
    c = a.state;
    a.state = b;
    null != a.Ka && sc(a, c, b);
    return b;
  }
  return Jc(a, b);
}
var Af = function Af(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Af.h(arguments[0], arguments[1]);
    case 3:
      return Af.l(arguments[0], arguments[1], arguments[2]);
    case 4:
      return Af.I(arguments[0], arguments[1], arguments[2], arguments[3]);
    default:
      return Af.j(arguments[0], arguments[1], arguments[2], arguments[3], new B(c.slice(4), 0, null));
  }
};
Af.h = function(a, b) {
  var c;
  a instanceof vf ? (c = a.state, c = b.c ? b.c(c) : b.call(null, c), c = U(a, c)) : c = Kc.h(a, b);
  return c;
};
Af.l = function(a, b, c) {
  if (a instanceof vf) {
    var d = a.state;
    b = b.h ? b.h(d, c) : b.call(null, d, c);
    a = U(a, b);
  } else {
    a = Kc.l(a, b, c);
  }
  return a;
};
Af.I = function(a, b, c, d) {
  if (a instanceof vf) {
    var e = a.state;
    b = b.l ? b.l(e, c, d) : b.call(null, e, c, d);
    a = U(a, b);
  } else {
    a = Kc.I(a, b, c, d);
  }
  return a;
};
Af.j = function(a, b, c, d, e) {
  return a instanceof vf ? U(a, gf(b, a.state, c, d, e)) : Kc.R(a, b, c, d, e);
};
Af.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), e = E(d), d = D(e), e = E(e);
  return Af.j(b, a, c, d, e);
};
Af.D = 4;
function Bf(a, b) {
  return function d(b, f) {
    return new Qe(null, function() {
      var g = z(f);
      if (g) {
        if ($d(g)) {
          for (var k = Ec(g), n = I(k), u = Ue(n), v = 0;;) {
            if (v < n) {
              var w = function() {
                var d = b + v, f = Ab.h(k, v);
                return a.h ? a.h(d, f) : a.call(null, d, f);
              }();
              null != w && u.add(w);
              v += 1;
            } else {
              break;
            }
          }
          return We(u.da(), d(b + n, Fc(g)));
        }
        n = function() {
          var d = D(g);
          return a.h ? a.h(b, d) : a.call(null, b, d);
        }();
        return null == n ? d(b + 1, cd(g)) : Ad(n, d(b + 1, cd(g)));
      }
      return null;
    }, null, null);
  }(0, b);
}
var Cf = function Cf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Cf.c(arguments[0]);
    case 2:
      return Cf.h(arguments[0], arguments[1]);
    case 3:
      return Cf.l(arguments[0], arguments[1], arguments[2]);
    case 4:
      return Cf.I(arguments[0], arguments[1], arguments[2], arguments[3]);
    default:
      return Cf.j(arguments[0], arguments[1], arguments[2], arguments[3], new B(c.slice(4), 0, null));
  }
};
Cf.c = function(a) {
  return function(b) {
    return function() {
      function c(c, d) {
        var e = a.c ? a.c(d) : a.call(null, d);
        return b.h ? b.h(c, e) : b.call(null, c, e);
      }
      function d(a) {
        return b.c ? b.c(a) : b.call(null, a);
      }
      function e() {
        return b.v ? b.v() : b.call(null);
      }
      var f = null, g = function() {
        function c(a, b, e) {
          var f = null;
          if (2 < arguments.length) {
            for (var f = 0, g = Array(arguments.length - 2);f < g.length;) {
              g[f] = arguments[f + 2], ++f;
            }
            f = new B(g, 0);
          }
          return d.call(this, a, b, f);
        }
        function d(c, e, f) {
          e = df(a, e, f);
          return b.h ? b.h(c, e) : b.call(null, c, e);
        }
        c.D = 2;
        c.C = function(a) {
          var b = D(a);
          a = E(a);
          var c = D(a);
          a = cd(a);
          return d(b, c, a);
        };
        c.j = d;
        return c;
      }(), f = function(a, b, f) {
        switch(arguments.length) {
          case 0:
            return e.call(this);
          case 1:
            return d.call(this, a);
          case 2:
            return c.call(this, a, b);
          default:
            var v = null;
            if (2 < arguments.length) {
              for (var v = 0, w = Array(arguments.length - 2);v < w.length;) {
                w[v] = arguments[v + 2], ++v;
              }
              v = new B(w, 0);
            }
            return g.j(a, b, v);
        }
        throw Error("Invalid arity: " + arguments.length);
      };
      f.D = 2;
      f.C = g.C;
      f.v = e;
      f.c = d;
      f.h = c;
      f.j = g.j;
      return f;
    }();
  };
};
Cf.h = function(a, b) {
  return new Qe(null, function() {
    var c = z(b);
    if (c) {
      if ($d(c)) {
        for (var d = Ec(c), e = I(d), f = Ue(e), g = 0;;) {
          if (g < e) {
            Xe(f, function() {
              var b = Ab.h(d, g);
              return a.c ? a.c(b) : a.call(null, b);
            }()), g += 1;
          } else {
            break;
          }
        }
        return We(f.da(), Cf.h(a, Fc(c)));
      }
      return Ad(function() {
        var b = D(c);
        return a.c ? a.c(b) : a.call(null, b);
      }(), Cf.h(a, cd(c)));
    }
    return null;
  }, null, null);
};
Cf.l = function(a, b, c) {
  return new Qe(null, function() {
    var d = z(b), e = z(c);
    if (d && e) {
      var f = Ad, g;
      g = D(d);
      var k = D(e);
      g = a.h ? a.h(g, k) : a.call(null, g, k);
      d = f(g, Cf.l(a, cd(d), cd(e)));
    } else {
      d = null;
    }
    return d;
  }, null, null);
};
Cf.I = function(a, b, c, d) {
  return new Qe(null, function() {
    var e = z(b), f = z(c), g = z(d);
    if (e && f && g) {
      var k = Ad, n;
      n = D(e);
      var u = D(f), v = D(g);
      n = a.l ? a.l(n, u, v) : a.call(null, n, u, v);
      e = k(n, Cf.I(a, cd(e), cd(f), cd(g)));
    } else {
      e = null;
    }
    return e;
  }, null, null);
};
Cf.j = function(a, b, c, d, e) {
  var f = function k(a) {
    return new Qe(null, function() {
      var b = Cf.h(z, a);
      return qf(re, b) ? Ad(Cf.h(D, b), k(Cf.h(cd, b))) : null;
    }, null, null);
  };
  return Cf.h(function() {
    return function(b) {
      return cf(a, b);
    };
  }(f), f(Id.j(e, d, L([c, b], 0))));
};
Cf.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), e = E(d), d = D(e), e = E(e);
  return Cf.j(b, a, c, d, e);
};
Cf.D = 4;
function Df(a, b) {
  if ("number" !== typeof a) {
    throw Error("Assert failed: (number? n)");
  }
  return new Qe(null, function() {
    if (0 < a) {
      var c = z(b);
      return c ? Ad(D(c), Df(a - 1, cd(c))) : null;
    }
    return null;
  }, null, null);
}
function Ef(a, b) {
  if ("number" !== typeof a) {
    throw Error("Assert failed: (number? n)");
  }
  return new Qe(null, function(c) {
    return function() {
      return c(a, b);
    };
  }(function(a, b) {
    for (;;) {
      var e = z(b);
      if (0 < a && e) {
        var f = a - 1, e = cd(e);
        a = f;
        b = e;
      } else {
        return e;
      }
    }
  }), null, null);
}
function Ff(a, b) {
  return Cf.l(function(a) {
    return a;
  }, b, Ef(a, b));
}
function Gf(a, b) {
  for (var c = z(b), d = z(Ef(a, b));;) {
    if (d) {
      c = E(c), d = E(d);
    } else {
      return c;
    }
  }
}
function Hf(a) {
  return new Qe(null, function() {
    return Ad(a, Hf(a));
  }, null, null);
}
function If(a, b) {
  return Df(a, Hf(b));
}
var Jf = function Jf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Jf.h(arguments[0], arguments[1]);
    default:
      return Jf.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
Jf.h = function(a, b) {
  return new Qe(null, function() {
    var c = z(a), d = z(b);
    return c && d ? Ad(D(c), Ad(D(d), Jf.h(cd(c), cd(d)))) : null;
  }, null, null);
};
Jf.j = function(a, b, c) {
  return new Qe(null, function() {
    var d = Cf.h(z, Id.j(c, b, L([a], 0)));
    return qf(re, d) ? $e.h(Cf.h(D, d), cf(Jf, Cf.h(cd, d))) : null;
  }, null, null);
};
Jf.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return Jf.j(b, a, c);
};
Jf.D = 2;
function Kf(a, b) {
  return Ef(1, Jf.h(Hf(a), b));
}
function Lf(a, b) {
  return cf($e, df(Cf, a, b));
}
function Mf(a, b) {
  return new Qe(null, function() {
    var c = z(b);
    if (c) {
      if ($d(c)) {
        for (var d = Ec(c), e = I(d), f = Ue(e), g = 0;;) {
          if (g < e) {
            var k;
            k = Ab.h(d, g);
            k = a.c ? a.c(k) : a.call(null, k);
            m(k) && (k = Ab.h(d, g), f.add(k));
            g += 1;
          } else {
            break;
          }
        }
        return We(f.da(), Mf(a, Fc(c)));
      }
      d = D(c);
      c = cd(c);
      return m(a.c ? a.c(d) : a.call(null, d)) ? Ad(d, Mf(a, c)) : Mf(a, c);
    }
    return null;
  }, null, null);
}
function Nf(a, b) {
  return Mf(sf(a), b);
}
function Of(a) {
  return function c(a) {
    return new Qe(null, function() {
      return Ad(a, m(Wd.c ? Wd.c(a) : Wd.call(null, a)) ? Lf(c, L([z.c ? z.c(a) : z.call(null, a)], 0)) : null);
    }, null, null);
  }(a);
}
function Pf(a) {
  return Mf(function(a) {
    return !Wd(a);
  }, cd(Of(a)));
}
var Qf = function Qf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 2:
      return Qf.h(arguments[0], arguments[1]);
    case 3:
      return Qf.l(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
Qf.h = function(a, b) {
  return null != a ? null != a && (a.L & 4 || a.Ad) ? Cd(xc(qb(wc, vc(a), b)), Qd(a)) : qb(yb, a, b) : qb(Id, dd, b);
};
Qf.l = function(a, b, c) {
  return null != a && (a.L & 4 || a.Ad) ? Cd(xc(se(b, af, vc(a), c)), Qd(a)) : se(b, Id, a, c);
};
Qf.D = 3;
function Rf(a, b) {
  return xc(qb(function(b, d) {
    return af.h(b, a.c ? a.c(d) : a.call(null, d));
  }, vc(Jd), b));
}
function Sf(a, b) {
  return qb(t, a, b);
}
function Tf(a, b, c) {
  var d = ce;
  for (b = z(b);;) {
    if (b) {
      if (null != a ? a.o & 256 || a.Yc || (a.o ? 0 : fb(Fb, a)) : fb(Fb, a)) {
        a = t.l(a, D(b), d);
        if (d === a) {
          return c;
        }
        b = E(b);
      } else {
        return c;
      }
    } else {
      return a;
    }
  }
}
var Uf = function Uf(b, c, d) {
  var e = M(c, 0, null);
  c = Be(c, 1);
  return m(c) ? Ld.l(b, e, Uf(t.h(b, e), c, d)) : Ld.l(b, e, d);
}, Vf = function Vf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 3:
      return Vf.l(arguments[0], arguments[1], arguments[2]);
    case 4:
      return Vf.I(arguments[0], arguments[1], arguments[2], arguments[3]);
    case 5:
      return Vf.R(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
    case 6:
      return Vf.ia(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
    default:
      return Vf.j(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], new B(c.slice(6), 0, null));
  }
};
Vf.l = function(a, b, c) {
  var d = M(b, 0, null);
  b = Be(b, 1);
  return m(b) ? Ld.l(a, d, Vf.l(t.h(a, d), b, c)) : Ld.l(a, d, function() {
    var b = t.h(a, d);
    return c.c ? c.c(b) : c.call(null, b);
  }());
};
Vf.I = function(a, b, c, d) {
  var e = M(b, 0, null);
  b = Be(b, 1);
  return m(b) ? Ld.l(a, e, Vf.I(t.h(a, e), b, c, d)) : Ld.l(a, e, function() {
    var b = t.h(a, e);
    return c.h ? c.h(b, d) : c.call(null, b, d);
  }());
};
Vf.R = function(a, b, c, d, e) {
  var f = M(b, 0, null);
  b = Be(b, 1);
  return m(b) ? Ld.l(a, f, Vf.R(t.h(a, f), b, c, d, e)) : Ld.l(a, f, function() {
    var b = t.h(a, f);
    return c.l ? c.l(b, d, e) : c.call(null, b, d, e);
  }());
};
Vf.ia = function(a, b, c, d, e, f) {
  var g = M(b, 0, null);
  b = Be(b, 1);
  return m(b) ? Ld.l(a, g, Vf.ia(t.h(a, g), b, c, d, e, f)) : Ld.l(a, g, function() {
    var b = t.h(a, g);
    return c.I ? c.I(b, d, e, f) : c.call(null, b, d, e, f);
  }());
};
Vf.j = function(a, b, c, d, e, f, g) {
  var k = M(b, 0, null);
  b = Be(b, 1);
  return m(b) ? Ld.l(a, k, hf(Vf, t.h(a, k), b, c, d, L([e, f, g], 0))) : Ld.l(a, k, hf(c, t.h(a, k), d, e, f, L([g], 0)));
};
Vf.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  var d = E(c), c = D(d), e = E(d), d = D(e), f = E(e), e = D(f), g = E(f), f = D(g), g = E(g);
  return Vf.j(b, a, c, d, e, f, g);
};
Vf.D = 6;
function Wf(a, b) {
  this.fa = a;
  this.m = b;
}
function Xf(a) {
  return new Wf(a, [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]);
}
function Yf(a) {
  return new Wf(a.fa, mb(a.m));
}
function Zf(a) {
  a = a.G;
  return 32 > a ? 0 : a - 1 >>> 5 << 5;
}
function $f(a, b, c) {
  for (;;) {
    if (0 === b) {
      return c;
    }
    var d = Xf(a);
    d.m[0] = c;
    c = d;
    b -= 5;
  }
}
var ag = function ag(b, c, d, e) {
  var f = Yf(d), g = b.G - 1 >>> c & 31;
  5 === c ? f.m[g] = e : (d = d.m[g], b = null != d ? ag(b, c - 5, d, e) : $f(null, c - 5, e), f.m[g] = b);
  return f;
};
function bg(a, b) {
  throw Error([p("No item "), p(a), p(" in vector of length "), p(b)].join(""));
}
function cg(a, b) {
  if (b >= Zf(a)) {
    return a.Da;
  }
  for (var c = a.root, d = a.shift;;) {
    if (0 < d) {
      var e = d - 5, c = c.m[b >>> d & 31], d = e
    } else {
      return c.m;
    }
  }
}
function dg(a, b) {
  return 0 <= b && b < a.G ? cg(a, b) : bg(b, a.G);
}
var eg = function eg(b, c, d, e, f) {
  var g = Yf(d);
  if (0 === c) {
    g.m[e & 31] = f;
  } else {
    var k = e >>> c & 31;
    b = eg(b, c - 5, d.m[k], e, f);
    g.m[k] = b;
  }
  return g;
}, fg = function fg(b, c, d) {
  var e = b.G - 2 >>> c & 31;
  if (5 < c) {
    b = fg(b, c - 5, d.m[e]);
    if (null == b && 0 === e) {
      return null;
    }
    d = Yf(d);
    d.m[e] = b;
    return d;
  }
  if (0 === e) {
    return null;
  }
  d = Yf(d);
  d.m[e] = null;
  return d;
};
function gg(a, b, c, d, e, f) {
  this.i = a;
  this.base = b;
  this.m = c;
  this.Xa = d;
  this.start = e;
  this.end = f;
}
gg.prototype.hasNext = function() {
  return this.i < this.end;
};
gg.prototype.next = function() {
  32 === this.i - this.base && (this.m = cg(this.Xa, this.i), this.base += 32);
  var a = this.m[this.i & 31];
  this.i += 1;
  return a;
};
function R(a, b, c, d, e, f) {
  this.meta = a;
  this.G = b;
  this.shift = c;
  this.root = d;
  this.Da = e;
  this.H = f;
  this.o = 167668511;
  this.L = 8196;
}
h = R.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return "number" === typeof b ? Ab.l(this, b, c) : c;
};
h.Yb = function(a, b, c) {
  a = 0;
  for (var d = c;;) {
    if (a < this.G) {
      var e = cg(this, a);
      c = e.length;
      a: {
        for (var f = 0;;) {
          if (f < c) {
            var g = f + a, k = e[f], d = b.l ? b.l(d, g, k) : b.call(null, d, g, k), f = f + 1
          } else {
            e = d;
            break a;
          }
        }
      }
      a += c;
      d = e;
    } else {
      return d;
    }
  }
};
h.X = function(a, b) {
  return dg(this, b)[b & 31];
};
h.Ua = function(a, b, c) {
  return 0 <= b && b < this.G ? cg(this, b)[b & 31] : c;
};
h.Mc = function(a, b, c) {
  if (0 <= b && b < this.G) {
    return Zf(this) <= b ? (a = mb(this.Da), a[b & 31] = c, new R(this.meta, this.G, this.shift, this.root, a, null)) : new R(this.meta, this.G, this.shift, eg(this, this.shift, this.root, b, c), this.Da, null);
  }
  if (b === this.G) {
    return yb(this, c);
  }
  throw Error([p("Index "), p(b), p(" out of bounds  [0,"), p(this.G), p("]")].join(""));
};
h.Aa = function() {
  var a = this.G;
  return new gg(0, 0, 0 < I(this) ? cg(this, 0) : null, this, 0, a);
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return this.G;
};
h.Fc = function() {
  return Ab.h(this, 0);
};
h.Gc = function() {
  return Ab.h(this, 1);
};
h.Mb = function() {
  return 0 < this.G ? Ab.h(this, this.G - 1) : null;
};
h.Nb = function() {
  if (0 === this.G) {
    throw Error("Can't pop empty vector");
  }
  if (1 === this.G) {
    return ac(Jd, this.meta);
  }
  if (1 < this.G - Zf(this)) {
    return new R(this.meta, this.G - 1, this.shift, this.root, this.Da.slice(0, -1), null);
  }
  var a = cg(this, this.G - 2), b = fg(this, this.shift, this.root), b = null == b ? S : b, c = this.G - 1;
  return 5 < this.shift && null == b.m[1] ? new R(this.meta, c, this.shift - 5, b.m[0], a, null) : new R(this.meta, c, this.shift, b, a, null);
};
h.oc = function() {
  return 0 < this.G ? new yd(this, this.G - 1, null) : null;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  if (b instanceof R) {
    if (this.G === I(b)) {
      for (var c = Lc(this), d = Lc(b);;) {
        if (m(c.hasNext())) {
          var e = c.next(), f = d.next();
          if (!x.h(e, f)) {
            return !1;
          }
        } else {
          return !0;
        }
      }
    } else {
      return !1;
    }
  } else {
    return zd(this, b);
  }
};
h.Lb = function() {
  return new hg(this.G, this.shift, ig.c ? ig.c(this.root) : ig.call(null, this.root), jg.c ? jg.c(this.Da) : jg.call(null, this.Da));
};
h.ka = function() {
  return Cd(Jd, this.meta);
};
h.Ba = function(a, b) {
  return md(this, b);
};
h.Ca = function(a, b, c) {
  a = 0;
  for (var d = c;;) {
    if (a < this.G) {
      var e = cg(this, a);
      c = e.length;
      a: {
        for (var f = 0;;) {
          if (f < c) {
            var g = e[f], d = b.h ? b.h(d, g) : b.call(null, d, g), f = f + 1
          } else {
            e = d;
            break a;
          }
        }
      }
      a += c;
      d = e;
    } else {
      return d;
    }
  }
};
h.Wa = function(a, b, c) {
  if ("number" === typeof b) {
    return Wb(this, b, c);
  }
  throw Error("Vector's key for assoc must be a number.");
};
h.ca = function() {
  if (0 === this.G) {
    return null;
  }
  if (32 >= this.G) {
    return new B(this.Da, 0, null);
  }
  var a;
  a: {
    a = this.root;
    for (var b = this.shift;;) {
      if (0 < b) {
        b -= 5, a = a.m[0];
      } else {
        a = a.m;
        break a;
      }
    }
  }
  return kg ? kg(this, a, 0, 0) : lg.call(null, this, a, 0, 0);
};
h.U = function(a, b) {
  return new R(b, this.G, this.shift, this.root, this.Da, this.H);
};
h.aa = function(a, b) {
  if (32 > this.G - Zf(this)) {
    for (var c = this.Da.length, d = Array(c + 1), e = 0;;) {
      if (e < c) {
        d[e] = this.Da[e], e += 1;
      } else {
        break;
      }
    }
    d[c] = b;
    return new R(this.meta, this.G + 1, this.shift, this.root, d, null);
  }
  c = (d = this.G >>> 5 > 1 << this.shift) ? this.shift + 5 : this.shift;
  d ? (d = Xf(null), d.m[0] = this.root, e = $f(null, this.shift, new Wf(null, this.Da)), d.m[1] = e) : d = ag(this, this.shift, this.root, new Wf(null, this.Da));
  return new R(this.meta, this.G + 1, c, d, [b], null);
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.X(null, c);
      case 3:
        return this.Ua(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.X(null, c);
  };
  a.l = function(a, c, d) {
    return this.Ua(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.X(null, a);
};
h.h = function(a, b) {
  return this.Ua(null, a, b);
};
var S = new Wf(null, [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null]), Jd = new R(null, 0, 5, S, [], id);
function mg(a) {
  var b = a.length;
  if (32 > b) {
    return new R(null, b, 5, S, a, null);
  }
  for (var c = 32, d = (new R(null, 32, 5, S, a.slice(0, 32), null)).Lb(null);;) {
    if (c < b) {
      var e = c + 1, d = af.h(d, a[c]), c = e
    } else {
      return xc(d);
    }
  }
}
R.prototype[kb] = function() {
  return fd(this);
};
function ng(a) {
  return db(a) ? mg(a) : xc(qb(wc, vc(Jd), a));
}
var og = function og(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return og.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
og.j = function(a) {
  return a instanceof B && 0 === a.i ? mg(a.m) : ng(a);
};
og.D = 0;
og.C = function(a) {
  return og.j(z(a));
};
function pg(a, b, c, d, e, f) {
  this.Va = a;
  this.node = b;
  this.i = c;
  this.off = d;
  this.meta = e;
  this.H = f;
  this.o = 32375020;
  this.L = 1536;
}
h = pg.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.La = function() {
  if (this.off + 1 < this.node.length) {
    var a;
    a = this.Va;
    var b = this.node, c = this.i, d = this.off + 1;
    a = kg ? kg(a, b, c, d) : lg.call(null, a, b, c, d);
    return null == a ? null : a;
  }
  return Gc(this);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(Jd, this.meta);
};
h.Ba = function(a, b) {
  var c;
  c = this.Va;
  var d = this.i + this.off, e = I(this.Va);
  c = qg ? qg(c, d, e) : rg.call(null, c, d, e);
  return md(c, b);
};
h.Ca = function(a, b, c) {
  a = this.Va;
  var d = this.i + this.off, e = I(this.Va);
  a = qg ? qg(a, d, e) : rg.call(null, a, d, e);
  return nd(a, b, c);
};
h.la = function() {
  return this.node[this.off];
};
h.Fa = function() {
  if (this.off + 1 < this.node.length) {
    var a;
    a = this.Va;
    var b = this.node, c = this.i, d = this.off + 1;
    a = kg ? kg(a, b, c, d) : lg.call(null, a, b, c, d);
    return null == a ? dd : a;
  }
  return Fc(this);
};
h.ca = function() {
  return this;
};
h.Cc = function() {
  var a = this.node;
  return new Te(a, this.off, a.length);
};
h.Dc = function() {
  var a = this.i + this.node.length;
  if (a < vb(this.Va)) {
    var b = this.Va, c = cg(this.Va, a);
    return kg ? kg(b, c, a, 0) : lg.call(null, b, c, a, 0);
  }
  return dd;
};
h.U = function(a, b) {
  return sg ? sg(this.Va, this.node, this.i, this.off, b) : lg.call(null, this.Va, this.node, this.i, this.off, b);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
h.Bc = function() {
  var a = this.i + this.node.length;
  if (a < vb(this.Va)) {
    var b = this.Va, c = cg(this.Va, a);
    return kg ? kg(b, c, a, 0) : lg.call(null, b, c, a, 0);
  }
  return null;
};
pg.prototype[kb] = function() {
  return fd(this);
};
function lg(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 3:
      return b = arguments[0], c = arguments[1], d = arguments[2], new pg(b, dg(b, c), c, d, null, null);
    case 4:
      return kg(arguments[0], arguments[1], arguments[2], arguments[3]);
    case 5:
      return sg(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function kg(a, b, c, d) {
  return new pg(a, b, c, d, null, null);
}
function sg(a, b, c, d, e) {
  return new pg(a, b, c, d, e, null);
}
function tg(a, b, c, d, e) {
  this.meta = a;
  this.Xa = b;
  this.start = c;
  this.end = d;
  this.H = e;
  this.o = 167666463;
  this.L = 8192;
}
h = tg.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return "number" === typeof b ? Ab.l(this, b, c) : c;
};
h.Yb = function(a, b, c) {
  a = this.start;
  for (var d = 0;;) {
    if (a < this.end) {
      var e = d, f = Ab.h(this.Xa, a);
      c = b.l ? b.l(c, e, f) : b.call(null, c, e, f);
      d += 1;
      a += 1;
    } else {
      return c;
    }
  }
};
h.X = function(a, b) {
  return 0 > b || this.end <= this.start + b ? bg(b, this.end - this.start) : Ab.h(this.Xa, this.start + b);
};
h.Ua = function(a, b, c) {
  return 0 > b || this.end <= this.start + b ? c : Ab.l(this.Xa, this.start + b, c);
};
h.Mc = function(a, b, c) {
  var d = this.start + b;
  a = this.meta;
  c = Ld.l(this.Xa, d, c);
  b = this.start;
  var e = this.end, d = d + 1, d = e > d ? e : d;
  return ug.R ? ug.R(a, c, b, d, null) : ug.call(null, a, c, b, d, null);
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return this.end - this.start;
};
h.Mb = function() {
  return Ab.h(this.Xa, this.end - 1);
};
h.Nb = function() {
  if (this.start === this.end) {
    throw Error("Can't pop empty vector");
  }
  var a = this.meta, b = this.Xa, c = this.start, d = this.end - 1;
  return ug.R ? ug.R(a, b, c, d, null) : ug.call(null, a, b, c, d, null);
};
h.oc = function() {
  return this.start !== this.end ? new yd(this, this.end - this.start - 1, null) : null;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(Jd, this.meta);
};
h.Ba = function(a, b) {
  return md(this, b);
};
h.Ca = function(a, b, c) {
  return nd(this, b, c);
};
h.Wa = function(a, b, c) {
  if ("number" === typeof b) {
    return Wb(this, b, c);
  }
  throw Error("Subvec's key for assoc must be a number.");
};
h.ca = function() {
  var a = this;
  return function(b) {
    return function d(e) {
      return e === a.end ? null : Ad(Ab.h(a.Xa, e), new Qe(null, function() {
        return function() {
          return d(e + 1);
        };
      }(b), null, null));
    };
  }(this)(a.start);
};
h.U = function(a, b) {
  return ug.R ? ug.R(b, this.Xa, this.start, this.end, this.H) : ug.call(null, b, this.Xa, this.start, this.end, this.H);
};
h.aa = function(a, b) {
  var c = this.meta, d = Wb(this.Xa, this.end, b), e = this.start, f = this.end + 1;
  return ug.R ? ug.R(c, d, e, f, null) : ug.call(null, c, d, e, f, null);
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.X(null, c);
      case 3:
        return this.Ua(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.X(null, c);
  };
  a.l = function(a, c, d) {
    return this.Ua(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.X(null, a);
};
h.h = function(a, b) {
  return this.Ua(null, a, b);
};
tg.prototype[kb] = function() {
  return fd(this);
};
function ug(a, b, c, d, e) {
  for (;;) {
    if (b instanceof tg) {
      c = b.start + c, d = b.start + d, b = b.Xa;
    } else {
      var f = I(b);
      if (0 > c || 0 > d || c > f || d > f) {
        throw Error("Index out of bounds");
      }
      return new tg(a, b, c, d, e);
    }
  }
}
function rg(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 2:
      return b = arguments[0], qg(b, arguments[1], I(b));
    case 3:
      return qg(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function qg(a, b, c) {
  return ug(null, a, b, c, null);
}
function wg(a, b) {
  return a === b.fa ? b : new Wf(a, mb(b.m));
}
function ig(a) {
  return new Wf({}, mb(a.m));
}
function jg(a) {
  var b = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
  be(a, 0, b, 0, a.length);
  return b;
}
var xg = function xg(b, c, d, e) {
  d = wg(b.root.fa, d);
  var f = b.G - 1 >>> c & 31;
  if (5 === c) {
    b = e;
  } else {
    var g = d.m[f];
    b = null != g ? xg(b, c - 5, g, e) : $f(b.root.fa, c - 5, e);
  }
  d.m[f] = b;
  return d;
};
function hg(a, b, c, d) {
  this.G = a;
  this.shift = b;
  this.root = c;
  this.Da = d;
  this.L = 88;
  this.o = 275;
}
h = hg.prototype;
h.Cb = function(a, b) {
  if (this.root.fa) {
    if (32 > this.G - Zf(this)) {
      this.Da[this.G & 31] = b;
    } else {
      var c = new Wf(this.root.fa, this.Da), d = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
      d[0] = b;
      this.Da = d;
      if (this.G >>> 5 > 1 << this.shift) {
        var d = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null], e = this.shift + 5;
        d[0] = this.root;
        d[1] = $f(this.root.fa, this.shift, c);
        this.root = new Wf(this.root.fa, d);
        this.shift = e;
      } else {
        this.root = xg(this, this.shift, this.root, c);
      }
    }
    this.G += 1;
    return this;
  }
  throw Error("conj! after persistent!");
};
h.Ob = function() {
  if (this.root.fa) {
    this.root.fa = null;
    var a = this.G - Zf(this), b = Array(a);
    be(this.Da, 0, b, 0, a);
    return new R(null, this.G, this.shift, this.root, b, null);
  }
  throw Error("persistent! called twice");
};
h.ac = function(a, b, c) {
  if ("number" === typeof b) {
    return zc(this, b, c);
  }
  throw Error("TransientVector's key for assoc! must be a number.");
};
h.bd = function(a, b, c) {
  var d = this;
  if (d.root.fa) {
    if (0 <= b && b < d.G) {
      return Zf(this) <= b ? d.Da[b & 31] = c : (a = function() {
        return function f(a, k) {
          var n = wg(d.root.fa, k);
          if (0 === a) {
            n.m[b & 31] = c;
          } else {
            var u = b >>> a & 31, v = f(a - 5, n.m[u]);
            n.m[u] = v;
          }
          return n;
        };
      }(this).call(null, d.shift, d.root), d.root = a), this;
    }
    if (b === d.G) {
      return wc(this, c);
    }
    throw Error([p("Index "), p(b), p(" out of bounds for TransientVector of length"), p(d.G)].join(""));
  }
  throw Error("assoc! after persistent!");
};
h.ea = function() {
  if (this.root.fa) {
    return this.G;
  }
  throw Error("count after persistent!");
};
h.X = function(a, b) {
  if (this.root.fa) {
    return dg(this, b)[b & 31];
  }
  throw Error("nth after persistent!");
};
h.Ua = function(a, b, c) {
  return 0 <= b && b < this.G ? Ab.h(this, b) : c;
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return "number" === typeof b ? Ab.l(this, b, c) : c;
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.ba(null, c);
      case 3:
        return this.$(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.ba(null, c);
  };
  a.l = function(a, c, d) {
    return this.$(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.ba(null, a);
};
h.h = function(a, b) {
  return this.$(null, a, b);
};
function yg(a, b) {
  this.Rb = a;
  this.jc = b;
}
yg.prototype.hasNext = function() {
  var a = null != this.Rb && z(this.Rb);
  return a ? a : (a = null != this.jc) ? this.jc.hasNext() : a;
};
yg.prototype.next = function() {
  if (null != this.Rb) {
    var a = D(this.Rb);
    this.Rb = E(this.Rb);
    return a;
  }
  if (null != this.jc && this.jc.hasNext()) {
    return this.jc.next();
  }
  throw Error("No such element");
};
yg.prototype.remove = function() {
  return Error("Unsupported operation");
};
function zg(a, b, c, d) {
  this.meta = a;
  this.Na = b;
  this.eb = c;
  this.H = d;
  this.o = 31850572;
  this.L = 0;
}
h = zg.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.la = function() {
  return D(this.Na);
};
h.Fa = function() {
  var a = E(this.Na);
  return a ? new zg(this.meta, a, this.eb, null) : null == this.eb ? wb(this) : new zg(this.meta, this.eb, null, null);
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new zg(b, this.Na, this.eb, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
zg.prototype[kb] = function() {
  return fd(this);
};
function Ag(a, b, c, d, e) {
  this.meta = a;
  this.count = b;
  this.Na = c;
  this.eb = d;
  this.H = e;
  this.o = 31858766;
  this.L = 8192;
}
h = Ag.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, this.count.c ? this.count.c(this) : this.count.call(null, this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.Aa = function() {
  return new yg(this.Na, Lc(this.eb));
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return this.count;
};
h.Mb = function() {
  return D(this.Na);
};
h.Nb = function() {
  if (m(this.Na)) {
    var a = E(this.Na);
    return a ? new Ag(this.meta, this.count - 1, a, this.eb, null) : new Ag(this.meta, this.count - 1, z(this.eb), Jd, null);
  }
  return this;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(Bg, this.meta);
};
h.la = function() {
  return D(this.Na);
};
h.Fa = function() {
  return cd(z(this));
};
h.ca = function() {
  var a = z(this.eb), b = this.Na;
  return m(m(b) ? b : a) ? new zg(null, this.Na, z(a), null) : null;
};
h.U = function(a, b) {
  return new Ag(b, this.count, this.Na, this.eb, this.H);
};
h.aa = function(a, b) {
  var c;
  m(this.Na) ? (c = this.eb, c = new Ag(this.meta, this.count + 1, this.Na, Id.h(m(c) ? c : Jd, b), null)) : c = new Ag(this.meta, this.count + 1, Id.h(this.Na, b), Jd, null);
  return c;
};
var Bg = new Ag(null, 0, null, Jd, id);
Ag.prototype[kb] = function() {
  return fd(this);
};
function Cg() {
  this.o = 2097152;
  this.L = 0;
}
Cg.prototype.equiv = function(a) {
  return this.K(null, a);
};
Cg.prototype.K = function() {
  return !1;
};
var Dg = new Cg;
function Eg(a, b) {
  return fe(Xd(b) ? I(a) === I(b) ? qf(re, Cf.h(function(a) {
    return x.h(t.l(b, D(a), Dg), Gd(a));
  }, a)) : null : null);
}
function Fg(a, b, c, d, e) {
  this.i = a;
  this.ge = b;
  this.Tc = c;
  this.Fb = d;
  this.ed = e;
}
Fg.prototype.hasNext = function() {
  var a = this.i < this.Tc;
  return a ? a : this.ed.hasNext();
};
Fg.prototype.next = function() {
  if (this.i < this.Tc) {
    var a = ud(this.Fb, this.i);
    this.i += 1;
    return new R(null, 2, 5, S, [a, Gb.h(this.ge, a)], null);
  }
  return this.ed.next();
};
Fg.prototype.remove = function() {
  return Error("Unsupported operation");
};
function Gg(a) {
  this.s = a;
}
Gg.prototype.next = function() {
  if (null != this.s) {
    var a = D(this.s), b = M(a, 0, null), a = M(a, 1, null);
    this.s = E(this.s);
    return {value:[b, a], done:!1};
  }
  return {value:null, done:!0};
};
function Hg(a) {
  this.s = a;
}
Hg.prototype.next = function() {
  if (null != this.s) {
    var a = D(this.s);
    this.s = E(this.s);
    return {value:[a, a], done:!1};
  }
  return {value:null, done:!0};
};
function Ig(a, b) {
  var c;
  if (b instanceof N) {
    a: {
      c = a.length;
      for (var d = b.V, e = 0;;) {
        if (c <= e) {
          c = -1;
          break a;
        }
        if (a[e] instanceof N && d === a[e].V) {
          c = e;
          break a;
        }
        e += 2;
      }
    }
  } else {
    if (ga(b) || "number" === typeof b) {
      a: {
        for (c = a.length, d = 0;;) {
          if (c <= d) {
            c = -1;
            break a;
          }
          if (b === a[d]) {
            c = d;
            break a;
          }
          d += 2;
        }
      }
    } else {
      if (b instanceof r) {
        a: {
          for (c = a.length, d = b.lb, e = 0;;) {
            if (c <= e) {
              c = -1;
              break a;
            }
            if (a[e] instanceof r && d === a[e].lb) {
              c = e;
              break a;
            }
            e += 2;
          }
        }
      } else {
        if (null == b) {
          a: {
            for (c = a.length, d = 0;;) {
              if (c <= d) {
                c = -1;
                break a;
              }
              if (null == a[d]) {
                c = d;
                break a;
              }
              d += 2;
            }
          }
        } else {
          a: {
            for (c = a.length, d = 0;;) {
              if (c <= d) {
                c = -1;
                break a;
              }
              if (x.h(b, a[d])) {
                c = d;
                break a;
              }
              d += 2;
            }
          }
        }
      }
    }
  }
  return c;
}
function Jg(a, b, c) {
  this.m = a;
  this.i = b;
  this.Ea = c;
  this.o = 32374990;
  this.L = 0;
}
h = Jg.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.Ea;
};
h.La = function() {
  return this.i < this.m.length - 2 ? new Jg(this.m, this.i + 2, this.Ea) : null;
};
h.ea = function() {
  return (this.m.length - this.i) / 2;
};
h.W = function() {
  return hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.Ea);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return new R(null, 2, 5, S, [this.m[this.i], this.m[this.i + 1]], null);
};
h.Fa = function() {
  return this.i < this.m.length - 2 ? new Jg(this.m, this.i + 2, this.Ea) : dd;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new Jg(this.m, this.i, b);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
Jg.prototype[kb] = function() {
  return fd(this);
};
function Kg(a, b, c) {
  this.m = a;
  this.i = b;
  this.G = c;
}
Kg.prototype.hasNext = function() {
  return this.i < this.G;
};
Kg.prototype.next = function() {
  var a = new R(null, 2, 5, S, [this.m[this.i], this.m[this.i + 1]], null);
  this.i += 2;
  return a;
};
function l(a, b, c, d) {
  this.meta = a;
  this.G = b;
  this.m = c;
  this.H = d;
  this.o = 16647951;
  this.L = 8196;
}
h = l.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.keys = function() {
  return fd(Lg.c ? Lg.c(this) : Lg.call(null, this));
};
h.entries = function() {
  return new Gg(z(z(this)));
};
h.values = function() {
  return fd(Mg.c ? Mg.c(this) : Mg.call(null, this));
};
h.has = function(a) {
  return ie(this, a);
};
h.get = function(a, b) {
  return this.$(null, a, b);
};
h.forEach = function(a) {
  for (var b = z(this), c = null, d = 0, e = 0;;) {
    if (e < d) {
      var f = c.X(null, e), g = M(f, 0, null), f = M(f, 1, null);
      a.h ? a.h(f, g) : a.call(null, f, g);
      e += 1;
    } else {
      if (b = z(b)) {
        $d(b) ? (c = Ec(b), b = Fc(b), g = c, d = I(c), c = g) : (c = D(b), g = M(c, 0, null), f = M(c, 1, null), a.h ? a.h(f, g) : a.call(null, f, g), b = E(b), c = null, d = 0), e = 0;
      } else {
        return null;
      }
    }
  }
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  a = Ig(this.m, b);
  return -1 === a ? c : this.m[a + 1];
};
h.Yb = function(a, b, c) {
  a = this.m.length;
  for (var d = 0;;) {
    if (d < a) {
      var e = this.m[d], f = this.m[d + 1];
      c = b.l ? b.l(c, e, f) : b.call(null, c, e, f);
      d += 2;
    } else {
      return c;
    }
  }
};
h.Aa = function() {
  return new Kg(this.m, 0, 2 * this.G);
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return this.G;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = jd(this);
};
h.K = function(a, b) {
  if (null != b && (b.o & 1024 || b.Ed)) {
    var c = this.m.length;
    if (this.G === b.ea(null)) {
      for (var d = 0;;) {
        if (d < c) {
          var e = b.$(null, this.m[d], ce);
          if (e !== ce) {
            if (x.h(this.m[d + 1], e)) {
              d += 2;
            } else {
              return !1;
            }
          } else {
            return !1;
          }
        } else {
          return !0;
        }
      }
    } else {
      return !1;
    }
  } else {
    return Eg(this, b);
  }
};
h.Lb = function() {
  return new Ng({}, this.m.length, mb(this.m));
};
h.ka = function() {
  return ac(T, this.meta);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.Ya = function(a, b) {
  if (0 <= Ig(this.m, b)) {
    var c = this.m.length, d = c - 2;
    if (0 === d) {
      return wb(this);
    }
    for (var d = Array(d), e = 0, f = 0;;) {
      if (e >= c) {
        return new l(this.meta, this.G - 1, d, null);
      }
      x.h(b, this.m[e]) || (d[f] = this.m[e], d[f + 1] = this.m[e + 1], f += 2);
      e += 2;
    }
  } else {
    return this;
  }
};
h.Wa = function(a, b, c) {
  a = Ig(this.m, b);
  if (-1 === a) {
    if (this.G < Og) {
      a = this.m;
      for (var d = a.length, e = Array(d + 2), f = 0;;) {
        if (f < d) {
          e[f] = a[f], f += 1;
        } else {
          break;
        }
      }
      e[d] = b;
      e[d + 1] = c;
      return new l(this.meta, this.G + 1, e, null);
    }
    return ac(Jb(Qf.h(Pg, this), b, c), this.meta);
  }
  if (c === this.m[a + 1]) {
    return this;
  }
  b = mb(this.m);
  b[a + 1] = c;
  return new l(this.meta, this.G, b, null);
};
h.Ac = function(a, b) {
  return -1 !== Ig(this.m, b);
};
h.ca = function() {
  var a = this.m;
  return 0 <= a.length - 2 ? new Jg(a, 0, null) : null;
};
h.U = function(a, b) {
  return new l(b, this.G, this.m, this.H);
};
h.aa = function(a, b) {
  if (Zd(b)) {
    return Jb(this, Ab.h(b, 0), Ab.h(b, 1));
  }
  for (var c = this, d = z(b);;) {
    if (null == d) {
      return c;
    }
    var e = D(d);
    if (Zd(e)) {
      c = Jb(c, Ab.h(e, 0), Ab.h(e, 1)), d = E(d);
    } else {
      throw Error("conj on a map takes map entries or seqables of map entries");
    }
  }
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.ba(null, c);
      case 3:
        return this.$(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.ba(null, c);
  };
  a.l = function(a, c, d) {
    return this.$(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.ba(null, a);
};
h.h = function(a, b) {
  return this.$(null, a, b);
};
var T = new l(null, 0, [], kd), Og = 8;
function Qg(a) {
  for (var b = [], c = 0;;) {
    if (c < a.length) {
      var d = a[c], e = a[c + 1];
      -1 === Ig(b, d) && (b.push(d), b.push(e));
      c += 2;
    } else {
      break;
    }
  }
  return new l(null, b.length / 2, b, null);
}
l.prototype[kb] = function() {
  return fd(this);
};
function Ng(a, b, c) {
  this.Pb = a;
  this.Hb = b;
  this.m = c;
  this.o = 258;
  this.L = 56;
}
h = Ng.prototype;
h.ea = function() {
  if (m(this.Pb)) {
    return we(this.Hb, 2);
  }
  throw Error("count after persistent!");
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  if (m(this.Pb)) {
    return a = Ig(this.m, b), -1 === a ? c : this.m[a + 1];
  }
  throw Error("lookup after persistent!");
};
h.Cb = function(a, b) {
  if (m(this.Pb)) {
    if (null != b ? b.o & 2048 || b.Fd || (b.o ? 0 : fb(Mb, b)) : fb(Mb, b)) {
      return yc(this, Ee.c ? Ee.c(b) : Ee.call(null, b), Fe.c ? Fe.c(b) : Fe.call(null, b));
    }
    for (var c = z(b), d = this;;) {
      var e = D(c);
      if (m(e)) {
        c = E(c), d = yc(d, Ee.c ? Ee.c(e) : Ee.call(null, e), Fe.c ? Fe.c(e) : Fe.call(null, e));
      } else {
        return d;
      }
    }
  } else {
    throw Error("conj! after persistent!");
  }
};
h.Ob = function() {
  if (m(this.Pb)) {
    return this.Pb = !1, new l(null, we(this.Hb, 2), this.m, null);
  }
  throw Error("persistent! called twice");
};
h.ac = function(a, b, c) {
  if (m(this.Pb)) {
    a = Ig(this.m, b);
    if (-1 === a) {
      if (this.Hb + 2 <= 2 * Og) {
        return this.Hb += 2, this.m.push(b), this.m.push(c), this;
      }
      a = Rg.h ? Rg.h(this.Hb, this.m) : Rg.call(null, this.Hb, this.m);
      return yc(a, b, c);
    }
    c !== this.m[a + 1] && (this.m[a + 1] = c);
    return this;
  }
  throw Error("assoc! after persistent!");
};
function Rg(a, b) {
  for (var c = vc(Pg), d = 0;;) {
    if (d < a) {
      c = yc(c, b[d], b[d + 1]), d += 2;
    } else {
      return c;
    }
  }
}
function Sg() {
  this.w = !1;
}
function Tg(a, b) {
  return a === b ? !0 : O(a, b) ? !0 : x.h(a, b);
}
function Ug(a, b, c) {
  a = mb(a);
  a[b] = c;
  return a;
}
function Vg(a, b) {
  var c = Array(a.length - 2);
  be(a, 0, c, 0, 2 * b);
  be(a, 2 * (b + 1), c, 2 * b, c.length - 2 * b);
  return c;
}
function Wg(a, b, c, d) {
  a = a.Eb(b);
  a.m[c] = d;
  return a;
}
function Xg(a, b, c) {
  for (var d = a.length, e = 0, f = c;;) {
    if (e < d) {
      c = a[e];
      if (null != c) {
        var g = a[e + 1];
        c = b.l ? b.l(f, c, g) : b.call(null, f, c, g);
      } else {
        c = a[e + 1], c = null != c ? c.fc(b, f) : f;
      }
      e += 2;
      f = c;
    } else {
      return f;
    }
  }
}
function Yg(a, b, c, d) {
  this.m = a;
  this.i = b;
  this.hc = c;
  this.cb = d;
}
Yg.prototype.advance = function() {
  for (var a = this.m.length;;) {
    if (this.i < a) {
      var b = this.m[this.i], c = this.m[this.i + 1];
      null != b ? b = this.hc = new R(null, 2, 5, S, [b, c], null) : null != c ? (b = Lc(c), b = b.hasNext() ? this.cb = b : !1) : b = !1;
      this.i += 2;
      if (b) {
        return !0;
      }
    } else {
      return !1;
    }
  }
};
Yg.prototype.hasNext = function() {
  var a = null != this.hc;
  return a ? a : (a = null != this.cb) ? a : this.advance();
};
Yg.prototype.next = function() {
  if (null != this.hc) {
    var a = this.hc;
    this.hc = null;
    return a;
  }
  if (null != this.cb) {
    return a = this.cb.next(), this.cb.hasNext() || (this.cb = null), a;
  }
  if (this.advance()) {
    return this.next();
  }
  throw Error("No such element");
};
Yg.prototype.remove = function() {
  return Error("Unsupported operation");
};
function Zg(a, b, c) {
  this.fa = a;
  this.ha = b;
  this.m = c;
}
h = Zg.prototype;
h.Eb = function(a) {
  if (a === this.fa) {
    return this;
  }
  var b = ye(this.ha), c = Array(0 > b ? 4 : 2 * (b + 1));
  be(this.m, 0, c, 0, 2 * b);
  return new Zg(a, this.ha, c);
};
h.dc = function() {
  return $g ? $g(this.m) : ah.call(null, this.m);
};
h.fc = function(a, b) {
  return Xg(this.m, a, b);
};
h.yb = function(a, b, c, d) {
  var e = 1 << (b >>> a & 31);
  if (0 === (this.ha & e)) {
    return d;
  }
  var f = ye(this.ha & e - 1), e = this.m[2 * f], f = this.m[2 * f + 1];
  return null == e ? f.yb(a + 5, b, c, d) : Tg(c, e) ? f : d;
};
h.bb = function(a, b, c, d, e, f) {
  var g = 1 << (c >>> b & 31), k = ye(this.ha & g - 1);
  if (0 === (this.ha & g)) {
    var n = ye(this.ha);
    if (2 * n < this.m.length) {
      a = this.Eb(a);
      b = a.m;
      f.w = !0;
      a: {
        for (c = 2 * (n - k), f = 2 * k + (c - 1), n = 2 * (k + 1) + (c - 1);;) {
          if (0 === c) {
            break a;
          }
          b[n] = b[f];
          --n;
          --c;
          --f;
        }
      }
      b[2 * k] = d;
      b[2 * k + 1] = e;
      a.ha |= g;
      return a;
    }
    if (16 <= n) {
      k = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
      k[c >>> b & 31] = bh.bb(a, b + 5, c, d, e, f);
      for (e = d = 0;;) {
        if (32 > d) {
          0 !== (this.ha >>> d & 1) && (k[d] = null != this.m[e] ? bh.bb(a, b + 5, Xc(this.m[e]), this.m[e], this.m[e + 1], f) : this.m[e + 1], e += 2), d += 1;
        } else {
          break;
        }
      }
      return new ch(a, n + 1, k);
    }
    b = Array(2 * (n + 4));
    be(this.m, 0, b, 0, 2 * k);
    b[2 * k] = d;
    b[2 * k + 1] = e;
    be(this.m, 2 * k, b, 2 * (k + 1), 2 * (n - k));
    f.w = !0;
    a = this.Eb(a);
    a.m = b;
    a.ha |= g;
    return a;
  }
  n = this.m[2 * k];
  g = this.m[2 * k + 1];
  if (null == n) {
    return n = g.bb(a, b + 5, c, d, e, f), n === g ? this : Wg(this, a, 2 * k + 1, n);
  }
  if (Tg(d, n)) {
    return e === g ? this : Wg(this, a, 2 * k + 1, e);
  }
  f.w = !0;
  f = b + 5;
  d = dh ? dh(a, f, n, g, c, d, e) : eh.call(null, a, f, n, g, c, d, e);
  e = 2 * k;
  k = 2 * k + 1;
  a = this.Eb(a);
  a.m[e] = null;
  a.m[k] = d;
  return a;
};
h.ab = function(a, b, c, d, e) {
  var f = 1 << (b >>> a & 31), g = ye(this.ha & f - 1);
  if (0 === (this.ha & f)) {
    var k = ye(this.ha);
    if (16 <= k) {
      g = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];
      g[b >>> a & 31] = bh.ab(a + 5, b, c, d, e);
      for (d = c = 0;;) {
        if (32 > c) {
          0 !== (this.ha >>> c & 1) && (g[c] = null != this.m[d] ? bh.ab(a + 5, Xc(this.m[d]), this.m[d], this.m[d + 1], e) : this.m[d + 1], d += 2), c += 1;
        } else {
          break;
        }
      }
      return new ch(null, k + 1, g);
    }
    a = Array(2 * (k + 1));
    be(this.m, 0, a, 0, 2 * g);
    a[2 * g] = c;
    a[2 * g + 1] = d;
    be(this.m, 2 * g, a, 2 * (g + 1), 2 * (k - g));
    e.w = !0;
    return new Zg(null, this.ha | f, a);
  }
  var n = this.m[2 * g], f = this.m[2 * g + 1];
  if (null == n) {
    return k = f.ab(a + 5, b, c, d, e), k === f ? this : new Zg(null, this.ha, Ug(this.m, 2 * g + 1, k));
  }
  if (Tg(c, n)) {
    return d === f ? this : new Zg(null, this.ha, Ug(this.m, 2 * g + 1, d));
  }
  e.w = !0;
  e = this.ha;
  k = this.m;
  a += 5;
  a = fh ? fh(a, n, f, b, c, d) : eh.call(null, a, n, f, b, c, d);
  c = 2 * g;
  g = 2 * g + 1;
  d = mb(k);
  d[c] = null;
  d[g] = a;
  return new Zg(null, e, d);
};
h.ec = function(a, b, c) {
  var d = 1 << (b >>> a & 31);
  if (0 === (this.ha & d)) {
    return this;
  }
  var e = ye(this.ha & d - 1), f = this.m[2 * e], g = this.m[2 * e + 1];
  return null == f ? (a = g.ec(a + 5, b, c), a === g ? this : null != a ? new Zg(null, this.ha, Ug(this.m, 2 * e + 1, a)) : this.ha === d ? null : new Zg(null, this.ha ^ d, Vg(this.m, e))) : Tg(c, f) ? new Zg(null, this.ha ^ d, Vg(this.m, e)) : this;
};
h.Aa = function() {
  return new Yg(this.m, 0, null, null);
};
var bh = new Zg(null, 0, []);
function gh(a, b, c) {
  this.m = a;
  this.i = b;
  this.cb = c;
}
gh.prototype.hasNext = function() {
  for (var a = this.m.length;;) {
    if (null != this.cb && this.cb.hasNext()) {
      return !0;
    }
    if (this.i < a) {
      var b = this.m[this.i];
      this.i += 1;
      null != b && (this.cb = Lc(b));
    } else {
      return !1;
    }
  }
};
gh.prototype.next = function() {
  if (this.hasNext()) {
    return this.cb.next();
  }
  throw Error("No such element");
};
gh.prototype.remove = function() {
  return Error("Unsupported operation");
};
function ch(a, b, c) {
  this.fa = a;
  this.G = b;
  this.m = c;
}
h = ch.prototype;
h.Eb = function(a) {
  return a === this.fa ? this : new ch(a, this.G, mb(this.m));
};
h.dc = function() {
  return hh ? hh(this.m) : ih.call(null, this.m);
};
h.fc = function(a, b) {
  for (var c = this.m.length, d = 0, e = b;;) {
    if (d < c) {
      var f = this.m[d];
      null != f && (e = f.fc(a, e));
      d += 1;
    } else {
      return e;
    }
  }
};
h.yb = function(a, b, c, d) {
  var e = this.m[b >>> a & 31];
  return null != e ? e.yb(a + 5, b, c, d) : d;
};
h.bb = function(a, b, c, d, e, f) {
  var g = c >>> b & 31, k = this.m[g];
  if (null == k) {
    return a = Wg(this, a, g, bh.bb(a, b + 5, c, d, e, f)), a.G += 1, a;
  }
  b = k.bb(a, b + 5, c, d, e, f);
  return b === k ? this : Wg(this, a, g, b);
};
h.ab = function(a, b, c, d, e) {
  var f = b >>> a & 31, g = this.m[f];
  if (null == g) {
    return new ch(null, this.G + 1, Ug(this.m, f, bh.ab(a + 5, b, c, d, e)));
  }
  a = g.ab(a + 5, b, c, d, e);
  return a === g ? this : new ch(null, this.G, Ug(this.m, f, a));
};
h.ec = function(a, b, c) {
  var d = b >>> a & 31, e = this.m[d];
  if (null != e) {
    a = e.ec(a + 5, b, c);
    if (a === e) {
      d = this;
    } else {
      if (null == a) {
        if (8 >= this.G) {
          a: {
            e = this.m;
            a = e.length;
            b = Array(2 * (this.G - 1));
            c = 0;
            for (var f = 1, g = 0;;) {
              if (c < a) {
                c !== d && null != e[c] && (b[f] = e[c], f += 2, g |= 1 << c), c += 1;
              } else {
                d = new Zg(null, g, b);
                break a;
              }
            }
          }
        } else {
          d = new ch(null, this.G - 1, Ug(this.m, d, a));
        }
      } else {
        d = new ch(null, this.G, Ug(this.m, d, a));
      }
    }
    return d;
  }
  return this;
};
h.Aa = function() {
  return new gh(this.m, 0, null);
};
function jh(a, b, c) {
  b *= 2;
  for (var d = 0;;) {
    if (d < b) {
      if (Tg(c, a[d])) {
        return d;
      }
      d += 2;
    } else {
      return -1;
    }
  }
}
function kh(a, b, c, d) {
  this.fa = a;
  this.ob = b;
  this.G = c;
  this.m = d;
}
h = kh.prototype;
h.Eb = function(a) {
  if (a === this.fa) {
    return this;
  }
  var b = Array(2 * (this.G + 1));
  be(this.m, 0, b, 0, 2 * this.G);
  return new kh(a, this.ob, this.G, b);
};
h.dc = function() {
  return $g ? $g(this.m) : ah.call(null, this.m);
};
h.fc = function(a, b) {
  return Xg(this.m, a, b);
};
h.yb = function(a, b, c, d) {
  a = jh(this.m, this.G, c);
  return 0 > a ? d : Tg(c, this.m[a]) ? this.m[a + 1] : d;
};
h.bb = function(a, b, c, d, e, f) {
  if (c === this.ob) {
    b = jh(this.m, this.G, d);
    if (-1 === b) {
      if (this.m.length > 2 * this.G) {
        return b = 2 * this.G, c = 2 * this.G + 1, a = this.Eb(a), a.m[b] = d, a.m[c] = e, f.w = !0, a.G += 1, a;
      }
      c = this.m.length;
      b = Array(c + 2);
      be(this.m, 0, b, 0, c);
      b[c] = d;
      b[c + 1] = e;
      f.w = !0;
      d = this.G + 1;
      a === this.fa ? (this.m = b, this.G = d, a = this) : a = new kh(this.fa, this.ob, d, b);
      return a;
    }
    return this.m[b + 1] === e ? this : Wg(this, a, b + 1, e);
  }
  return (new Zg(a, 1 << (this.ob >>> b & 31), [null, this, null, null])).bb(a, b, c, d, e, f);
};
h.ab = function(a, b, c, d, e) {
  return b === this.ob ? (a = jh(this.m, this.G, c), -1 === a ? (a = 2 * this.G, b = Array(a + 2), be(this.m, 0, b, 0, a), b[a] = c, b[a + 1] = d, e.w = !0, new kh(null, this.ob, this.G + 1, b)) : x.h(this.m[a], d) ? this : new kh(null, this.ob, this.G, Ug(this.m, a + 1, d))) : (new Zg(null, 1 << (this.ob >>> a & 31), [null, this])).ab(a, b, c, d, e);
};
h.ec = function(a, b, c) {
  a = jh(this.m, this.G, c);
  return -1 === a ? this : 1 === this.G ? null : new kh(null, this.ob, this.G - 1, Vg(this.m, we(a, 2)));
};
h.Aa = function() {
  return new Yg(this.m, 0, null, null);
};
function eh(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 6:
      return fh(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5]);
    case 7:
      return dh(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function fh(a, b, c, d, e, f) {
  var g = Xc(b);
  if (g === d) {
    return new kh(null, g, 2, [b, c, e, f]);
  }
  var k = new Sg;
  return bh.ab(a, g, b, c, k).ab(a, d, e, f, k);
}
function dh(a, b, c, d, e, f, g) {
  var k = Xc(c);
  if (k === e) {
    return new kh(null, k, 2, [c, d, f, g]);
  }
  var n = new Sg;
  return bh.bb(a, b, k, c, d, n).bb(a, b, e, f, g, n);
}
function lh(a, b, c, d, e) {
  this.meta = a;
  this.nodes = b;
  this.i = c;
  this.s = d;
  this.H = e;
  this.o = 32374860;
  this.L = 0;
}
h = lh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return null == this.s ? new R(null, 2, 5, S, [this.nodes[this.i], this.nodes[this.i + 1]], null) : D(this.s);
};
h.Fa = function() {
  if (null == this.s) {
    var a = this.nodes, b = this.i + 2;
    return mh ? mh(a, b, null) : ah.call(null, a, b, null);
  }
  var a = this.nodes, b = this.i, c = E(this.s);
  return mh ? mh(a, b, c) : ah.call(null, a, b, c);
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new lh(b, this.nodes, this.i, this.s, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
lh.prototype[kb] = function() {
  return fd(this);
};
function ah(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return $g(arguments[0]);
    case 3:
      return mh(arguments[0], arguments[1], arguments[2]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function $g(a) {
  return mh(a, 0, null);
}
function mh(a, b, c) {
  if (null == c) {
    for (c = a.length;;) {
      if (b < c) {
        if (null != a[b]) {
          return new lh(null, a, b, null, null);
        }
        var d = a[b + 1];
        if (m(d) && (d = d.dc(), m(d))) {
          return new lh(null, a, b + 2, d, null);
        }
        b += 2;
      } else {
        return null;
      }
    }
  } else {
    return new lh(null, a, b, c, null);
  }
}
function nh(a, b, c, d, e) {
  this.meta = a;
  this.nodes = b;
  this.i = c;
  this.s = d;
  this.H = e;
  this.o = 32374860;
  this.L = 0;
}
h = nh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.meta;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return D(this.s);
};
h.Fa = function() {
  var a = this.nodes, b = this.i, c = E(this.s);
  return oh ? oh(null, a, b, c) : ih.call(null, null, a, b, c);
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new nh(b, this.nodes, this.i, this.s, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
nh.prototype[kb] = function() {
  return fd(this);
};
function ih(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return hh(arguments[0]);
    case 4:
      return oh(arguments[0], arguments[1], arguments[2], arguments[3]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function hh(a) {
  return oh(null, a, 0, null);
}
function oh(a, b, c, d) {
  if (null == d) {
    for (d = b.length;;) {
      if (c < d) {
        var e = b[c];
        if (m(e) && (e = e.dc(), m(e))) {
          return new nh(a, b, c + 1, e, null);
        }
        c += 1;
      } else {
        return null;
      }
    }
  } else {
    return new nh(a, b, c, d, null);
  }
}
function ph(a, b, c) {
  this.Ha = a;
  this.vd = b;
  this.Rc = c;
}
ph.prototype.hasNext = function() {
  return this.Rc && this.vd.hasNext();
};
ph.prototype.next = function() {
  if (this.Rc) {
    return this.vd.next();
  }
  this.Rc = !0;
  return this.Ha;
};
ph.prototype.remove = function() {
  return Error("Unsupported operation");
};
function qh(a, b, c, d, e, f) {
  this.meta = a;
  this.G = b;
  this.root = c;
  this.Ga = d;
  this.Ha = e;
  this.H = f;
  this.o = 16123663;
  this.L = 8196;
}
h = qh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.keys = function() {
  return fd(Lg.c ? Lg.c(this) : Lg.call(null, this));
};
h.entries = function() {
  return new Gg(z(z(this)));
};
h.values = function() {
  return fd(Mg.c ? Mg.c(this) : Mg.call(null, this));
};
h.has = function(a) {
  return ie(this, a);
};
h.get = function(a, b) {
  return this.$(null, a, b);
};
h.forEach = function(a) {
  for (var b = z(this), c = null, d = 0, e = 0;;) {
    if (e < d) {
      var f = c.X(null, e), g = M(f, 0, null), f = M(f, 1, null);
      a.h ? a.h(f, g) : a.call(null, f, g);
      e += 1;
    } else {
      if (b = z(b)) {
        $d(b) ? (c = Ec(b), b = Fc(b), g = c, d = I(c), c = g) : (c = D(b), g = M(c, 0, null), f = M(c, 1, null), a.h ? a.h(f, g) : a.call(null, f, g), b = E(b), c = null, d = 0), e = 0;
      } else {
        return null;
      }
    }
  }
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return null == b ? this.Ga ? this.Ha : c : null == this.root ? c : this.root.yb(0, Xc(b), b, c);
};
h.Yb = function(a, b, c) {
  a = this.Ga ? b.l ? b.l(c, null, this.Ha) : b.call(null, c, null, this.Ha) : c;
  return null != this.root ? this.root.fc(b, a) : a;
};
h.Aa = function() {
  var a = this.root ? Lc(this.root) : lf;
  return this.Ga ? new ph(this.Ha, a, !1) : a;
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return this.G;
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = jd(this);
};
h.K = function(a, b) {
  return Eg(this, b);
};
h.Lb = function() {
  return new rh({}, this.root, this.G, this.Ga, this.Ha);
};
h.ka = function() {
  return ac(Pg, this.meta);
};
h.Ya = function(a, b) {
  if (null == b) {
    return this.Ga ? new qh(this.meta, this.G - 1, this.root, !1, null, null) : this;
  }
  if (null == this.root) {
    return this;
  }
  var c = this.root.ec(0, Xc(b), b);
  return c === this.root ? this : new qh(this.meta, this.G - 1, c, this.Ga, this.Ha, null);
};
h.Wa = function(a, b, c) {
  if (null == b) {
    return this.Ga && c === this.Ha ? this : new qh(this.meta, this.Ga ? this.G : this.G + 1, this.root, !0, c, null);
  }
  a = new Sg;
  b = (null == this.root ? bh : this.root).ab(0, Xc(b), b, c, a);
  return b === this.root ? this : new qh(this.meta, a.w ? this.G + 1 : this.G, b, this.Ga, this.Ha, null);
};
h.Ac = function(a, b) {
  return null == b ? this.Ga : null == this.root ? !1 : this.root.yb(0, Xc(b), b, ce) !== ce;
};
h.ca = function() {
  if (0 < this.G) {
    var a = null != this.root ? this.root.dc() : null;
    return this.Ga ? Ad(new R(null, 2, 5, S, [null, this.Ha], null), a) : a;
  }
  return null;
};
h.U = function(a, b) {
  return new qh(b, this.G, this.root, this.Ga, this.Ha, this.H);
};
h.aa = function(a, b) {
  if (Zd(b)) {
    return Jb(this, Ab.h(b, 0), Ab.h(b, 1));
  }
  for (var c = this, d = z(b);;) {
    if (null == d) {
      return c;
    }
    var e = D(d);
    if (Zd(e)) {
      c = Jb(c, Ab.h(e, 0), Ab.h(e, 1)), d = E(d);
    } else {
      throw Error("conj on a map takes map entries or seqables of map entries");
    }
  }
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.ba(null, c);
      case 3:
        return this.$(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.ba(null, c);
  };
  a.l = function(a, c, d) {
    return this.$(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.ba(null, a);
};
h.h = function(a, b) {
  return this.$(null, a, b);
};
var Pg = new qh(null, 0, null, !1, null, kd);
function Md(a, b) {
  for (var c = a.length, d = 0, e = vc(Pg);;) {
    if (d < c) {
      var f = d + 1, e = e.ac(null, a[d], b[d]), d = f
    } else {
      return xc(e);
    }
  }
}
qh.prototype[kb] = function() {
  return fd(this);
};
function rh(a, b, c, d, e) {
  this.fa = a;
  this.root = b;
  this.count = c;
  this.Ga = d;
  this.Ha = e;
  this.o = 258;
  this.L = 56;
}
function sh(a, b, c) {
  if (a.fa) {
    if (null == b) {
      a.Ha !== c && (a.Ha = c), a.Ga || (a.count += 1, a.Ga = !0);
    } else {
      var d = new Sg;
      b = (null == a.root ? bh : a.root).bb(a.fa, 0, Xc(b), b, c, d);
      b !== a.root && (a.root = b);
      d.w && (a.count += 1);
    }
    return a;
  }
  throw Error("assoc! after persistent!");
}
h = rh.prototype;
h.ea = function() {
  if (this.fa) {
    return this.count;
  }
  throw Error("count after persistent!");
};
h.ba = function(a, b) {
  return null == b ? this.Ga ? this.Ha : null : null == this.root ? null : this.root.yb(0, Xc(b), b);
};
h.$ = function(a, b, c) {
  return null == b ? this.Ga ? this.Ha : c : null == this.root ? c : this.root.yb(0, Xc(b), b, c);
};
h.Cb = function(a, b) {
  var c;
  a: {
    if (this.fa) {
      if (null != b ? b.o & 2048 || b.Fd || (b.o ? 0 : fb(Mb, b)) : fb(Mb, b)) {
        c = sh(this, Ee.c ? Ee.c(b) : Ee.call(null, b), Fe.c ? Fe.c(b) : Fe.call(null, b));
      } else {
        c = z(b);
        for (var d = this;;) {
          var e = D(c);
          if (m(e)) {
            c = E(c), d = sh(d, Ee.c ? Ee.c(e) : Ee.call(null, e), Fe.c ? Fe.c(e) : Fe.call(null, e));
          } else {
            c = d;
            break a;
          }
        }
      }
    } else {
      throw Error("conj! after persistent");
    }
  }
  return c;
};
h.Ob = function() {
  var a;
  if (this.fa) {
    this.fa = null, a = new qh(null, this.count, this.root, this.Ga, this.Ha, null);
  } else {
    throw Error("persistent! called twice");
  }
  return a;
};
h.ac = function(a, b, c) {
  return sh(this, b, c);
};
var yf = function yf(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return yf.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
yf.j = function(a) {
  for (var b = z(a), c = vc(Pg);;) {
    if (b) {
      a = E(E(b));
      var d = D(b), b = Gd(b), c = yc(c, d, b), b = a;
    } else {
      return xc(c);
    }
  }
};
yf.D = 0;
yf.C = function(a) {
  return yf.j(z(a));
};
var th = function th(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return th.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
th.j = function(a) {
  a = a instanceof B && 0 === a.i ? a.m : ob(a);
  return Qg(a);
};
th.D = 0;
th.C = function(a) {
  return th.j(z(a));
};
function uh(a, b) {
  this.Y = a;
  this.Ea = b;
  this.o = 32374988;
  this.L = 0;
}
h = uh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.Ea;
};
h.La = function() {
  var a = (null != this.Y ? this.Y.o & 128 || this.Y.nc || (this.Y.o ? 0 : fb(Eb, this.Y)) : fb(Eb, this.Y)) ? this.Y.La(null) : E(this.Y);
  return null == a ? null : new uh(a, this.Ea);
};
h.W = function() {
  return hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.Ea);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return this.Y.la(null).Fc();
};
h.Fa = function() {
  var a = (null != this.Y ? this.Y.o & 128 || this.Y.nc || (this.Y.o ? 0 : fb(Eb, this.Y)) : fb(Eb, this.Y)) ? this.Y.La(null) : E(this.Y);
  return null != a ? new uh(a, this.Ea) : dd;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new uh(this.Y, b);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
uh.prototype[kb] = function() {
  return fd(this);
};
function Lg(a) {
  return (a = z(a)) ? new uh(a, null) : null;
}
function Ee(a) {
  return Ob(a);
}
function vh(a, b) {
  this.Y = a;
  this.Ea = b;
  this.o = 32374988;
  this.L = 0;
}
h = vh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.S = function() {
  return this.Ea;
};
h.La = function() {
  var a = (null != this.Y ? this.Y.o & 128 || this.Y.nc || (this.Y.o ? 0 : fb(Eb, this.Y)) : fb(Eb, this.Y)) ? this.Y.La(null) : E(this.Y);
  return null == a ? null : new vh(a, this.Ea);
};
h.W = function() {
  return hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.Ea);
};
h.Ba = function(a, b) {
  return Dd(b, this);
};
h.Ca = function(a, b, c) {
  return Fd(b, c, this);
};
h.la = function() {
  return this.Y.la(null).Gc();
};
h.Fa = function() {
  var a = (null != this.Y ? this.Y.o & 128 || this.Y.nc || (this.Y.o ? 0 : fb(Eb, this.Y)) : fb(Eb, this.Y)) ? this.Y.La(null) : E(this.Y);
  return null != a ? new vh(a, this.Ea) : dd;
};
h.ca = function() {
  return this;
};
h.U = function(a, b) {
  return new vh(this.Y, b);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
vh.prototype[kb] = function() {
  return fd(this);
};
function Mg(a) {
  return (a = z(a)) ? new vh(a, null) : null;
}
function Fe(a) {
  return Pb(a);
}
var wh = function wh(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return wh.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
wh.j = function(a) {
  return m(rf(re, a)) ? pe(function(a, c) {
    return Id.h(m(a) ? a : T, c);
  }, a) : null;
};
wh.D = 0;
wh.C = function(a) {
  return wh.j(z(a));
};
var xh = function xh(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return xh.j(arguments[0], 1 < c.length ? new B(c.slice(1), 0, null) : null);
};
xh.j = function(a, b) {
  return m(rf(re, b)) ? pe(function(a) {
    return function(b, e) {
      return qb(a, m(b) ? b : T, z(e));
    };
  }(function(b, d) {
    var e = D(d), f = Gd(d);
    return ie(b, e) ? Ld.l(b, e, function() {
      var d = t.h(b, e);
      return a.h ? a.h(d, f) : a.call(null, d, f);
    }()) : Ld.l(b, e, f);
  }), b) : null;
};
xh.D = 1;
xh.C = function(a) {
  var b = D(a);
  a = E(a);
  return xh.j(b, a);
};
function yh(a) {
  for (var b = T, c = z(new R(null, 3, 5, S, [zh, Ah, Bh], null));;) {
    if (c) {
      var d = D(c), e = t.l(a, d, Ch), b = jf(e, Ch) ? Ld.l(b, d, e) : b, c = E(c)
    } else {
      return Cd(b, Qd(a));
    }
  }
}
function Dh(a) {
  this.Oc = a;
}
Dh.prototype.hasNext = function() {
  return this.Oc.hasNext();
};
Dh.prototype.next = function() {
  if (this.Oc.hasNext()) {
    return this.Oc.next().Da[0];
  }
  throw Error("No such element");
};
Dh.prototype.remove = function() {
  return Error("Unsupported operation");
};
function Eh(a, b, c) {
  this.meta = a;
  this.xb = b;
  this.H = c;
  this.o = 15077647;
  this.L = 8196;
}
h = Eh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.keys = function() {
  return fd(z(this));
};
h.entries = function() {
  return new Hg(z(z(this)));
};
h.values = function() {
  return fd(z(this));
};
h.has = function(a) {
  return ie(this, a);
};
h.forEach = function(a) {
  for (var b = z(this), c = null, d = 0, e = 0;;) {
    if (e < d) {
      var f = c.X(null, e), g = M(f, 0, null), f = M(f, 1, null);
      a.h ? a.h(f, g) : a.call(null, f, g);
      e += 1;
    } else {
      if (b = z(b)) {
        $d(b) ? (c = Ec(b), b = Fc(b), g = c, d = I(c), c = g) : (c = D(b), g = M(c, 0, null), f = M(c, 1, null), a.h ? a.h(f, g) : a.call(null, f, g), b = E(b), c = null, d = 0), e = 0;
      } else {
        return null;
      }
    }
  }
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return Ib(this.xb, b) ? b : c;
};
h.Aa = function() {
  return new Dh(Lc(this.xb));
};
h.S = function() {
  return this.meta;
};
h.ea = function() {
  return vb(this.xb);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = jd(this);
};
h.K = function(a, b) {
  return Vd(b) && I(this) === I(b) && qf(function(a) {
    return function(b) {
      return ie(a, b);
    };
  }(this), b);
};
h.Lb = function() {
  return new Fh(vc(this.xb));
};
h.ka = function() {
  return Cd(Gh, this.meta);
};
h.ad = function(a, b) {
  return new Eh(this.meta, Lb(this.xb, b), null);
};
h.ca = function() {
  return Lg(this.xb);
};
h.U = function(a, b) {
  return new Eh(b, this.xb, this.H);
};
h.aa = function(a, b) {
  return new Eh(this.meta, Ld.l(this.xb, b, null), null);
};
h.call = function() {
  var a = null, a = function(a, c, d) {
    switch(arguments.length) {
      case 2:
        return this.ba(null, c);
      case 3:
        return this.$(null, c, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.h = function(a, c) {
    return this.ba(null, c);
  };
  a.l = function(a, c, d) {
    return this.$(null, c, d);
  };
  return a;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return this.ba(null, a);
};
h.h = function(a, b) {
  return this.$(null, a, b);
};
var Gh = new Eh(null, T, kd);
function Hh(a) {
  var b = a.length;
  if (b <= Og) {
    for (var c = 0, d = vc(T);;) {
      if (c < b) {
        var e = c + 1, d = yc(d, a[c], null), c = e
      } else {
        return new Eh(null, xc(d), null);
      }
    }
  } else {
    for (c = 0, d = vc(Gh);;) {
      if (c < b) {
        e = c + 1, d = wc(d, a[c]), c = e;
      } else {
        return xc(d);
      }
    }
  }
}
Eh.prototype[kb] = function() {
  return fd(this);
};
function Fh(a) {
  this.sb = a;
  this.L = 136;
  this.o = 259;
}
h = Fh.prototype;
h.Cb = function(a, b) {
  this.sb = yc(this.sb, b, null);
  return this;
};
h.Ob = function() {
  return new Eh(null, xc(this.sb), null);
};
h.ea = function() {
  return I(this.sb);
};
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  return Gb.l(this.sb, b, ce) === ce ? c : b;
};
h.call = function() {
  function a(a, b, c) {
    return Gb.l(this.sb, b, ce) === ce ? c : b;
  }
  function b(a, b) {
    return Gb.l(this.sb, b, ce) === ce ? null : b;
  }
  var c = null, c = function(c, e, f) {
    switch(arguments.length) {
      case 2:
        return b.call(this, 0, e);
      case 3:
        return a.call(this, 0, e, f);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  c.h = b;
  c.l = a;
  return c;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.c = function(a) {
  return Gb.l(this.sb, a, ce) === ce ? null : a;
};
h.h = function(a, b) {
  return Gb.l(this.sb, a, ce) === ce ? b : a;
};
function Ih(a) {
  a = z(a);
  if (null == a) {
    return Gh;
  }
  if (a instanceof B && 0 === a.i) {
    a = a.m;
    a: {
      for (var b = 0, c = vc(Gh);;) {
        if (b < a.length) {
          var d = b + 1, c = c.Cb(null, a[b]), b = d
        } else {
          break a;
        }
      }
    }
    return c.Ob(null);
  }
  for (d = vc(Gh);;) {
    if (null != a) {
      b = E(a), d = d.Cb(null, a.la(null)), a = b;
    } else {
      return xc(d);
    }
  }
}
function Jh(a) {
  for (var b = Jd;;) {
    if (E(a)) {
      b = Id.h(b, D(a)), a = E(a);
    } else {
      return z(b);
    }
  }
}
function Pe(a) {
  if (null != a && (a.L & 4096 || a.Zc)) {
    return a.Zb(null);
  }
  if ("string" === typeof a) {
    return a;
  }
  throw Error([p("Doesn't support name: "), p(a)].join(""));
}
function Kh(a, b) {
  for (var c = vc(T), d = z(a), e = z(b);;) {
    if (d && e) {
      var f = D(d), g = D(e), c = yc(c, f, g), d = E(d), e = E(e)
    } else {
      return xc(c);
    }
  }
}
function Lh(a, b) {
  return new Qe(null, function() {
    var c = z(b);
    if (c) {
      var d;
      d = D(c);
      d = a.c ? a.c(d) : a.call(null, d);
      c = m(d) ? Ad(D(c), Lh(a, cd(c))) : null;
    } else {
      c = null;
    }
    return c;
  }, null, null);
}
function Mh(a, b, c) {
  this.i = a;
  this.end = b;
  this.step = c;
}
Mh.prototype.hasNext = function() {
  return 0 < this.step ? this.i < this.end : this.i > this.end;
};
Mh.prototype.next = function() {
  var a = this.i;
  this.i += this.step;
  return a;
};
function Nh(a, b, c, d, e) {
  this.meta = a;
  this.start = b;
  this.end = c;
  this.step = d;
  this.H = e;
  this.o = 32375006;
  this.L = 8192;
}
h = Nh.prototype;
h.toString = function() {
  return Nc(this);
};
h.equiv = function(a) {
  return this.K(null, a);
};
h.indexOf = function() {
  var a = null, a = function(a, c) {
    switch(arguments.length) {
      case 1:
        return td(this, a, 0);
      case 2:
        return td(this, a, c);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  a.c = function(a) {
    return td(this, a, 0);
  };
  a.h = function(a, c) {
    return td(this, a, c);
  };
  return a;
}();
h.lastIndexOf = function() {
  function a(a) {
    return wd(this, a, I(this));
  }
  var b = null, b = function(b, d) {
    switch(arguments.length) {
      case 1:
        return a.call(this, b);
      case 2:
        return wd(this, b, d);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  b.c = a;
  b.h = function(a, b) {
    return wd(this, a, b);
  };
  return b;
}();
h.X = function(a, b) {
  if (b < vb(this)) {
    return this.start + b * this.step;
  }
  if (this.start > this.end && 0 === this.step) {
    return this.start;
  }
  throw Error("Index out of bounds");
};
h.Ua = function(a, b, c) {
  return b < vb(this) ? this.start + b * this.step : this.start > this.end && 0 === this.step ? this.start : c;
};
h.Aa = function() {
  return new Mh(this.start, this.end, this.step);
};
h.S = function() {
  return this.meta;
};
h.La = function() {
  return 0 < this.step ? this.start + this.step < this.end ? new Nh(this.meta, this.start + this.step, this.end, this.step, null) : null : this.start + this.step > this.end ? new Nh(this.meta, this.start + this.step, this.end, this.step, null) : null;
};
h.ea = function() {
  return eb(hc(this)) ? 0 : Math.ceil((this.end - this.start) / this.step);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = hd(this);
};
h.K = function(a, b) {
  return zd(this, b);
};
h.ka = function() {
  return Cd(dd, this.meta);
};
h.Ba = function(a, b) {
  return md(this, b);
};
h.Ca = function(a, b, c) {
  for (a = this.start;;) {
    if (0 < this.step ? a < this.end : a > this.end) {
      c = b.h ? b.h(c, a) : b.call(null, c, a), a += this.step;
    } else {
      return c;
    }
  }
};
h.la = function() {
  return null == hc(this) ? null : this.start;
};
h.Fa = function() {
  return null != hc(this) ? new Nh(this.meta, this.start + this.step, this.end, this.step, null) : dd;
};
h.ca = function() {
  return 0 < this.step ? this.start < this.end ? this : null : 0 > this.step ? this.start > this.end ? this : null : this.start === this.end ? null : this;
};
h.U = function(a, b) {
  return new Nh(b, this.start, this.end, this.step, this.H);
};
h.aa = function(a, b) {
  return Ad(b, this);
};
Nh.prototype[kb] = function() {
  return fd(this);
};
function Oh(a, b) {
  return new Qe(null, function() {
    var c = z(b);
    if (c) {
      var d = D(c), e = a.c ? a.c(d) : a.call(null, d), d = Ad(d, Lh(function(b, c) {
        return function(b) {
          return x.h(c, a.c ? a.c(b) : a.call(null, b));
        };
      }(d, e, c, c), E(c)));
      return Ad(d, Oh(a, z(Ef(I(d), c))));
    }
    return null;
  }, null, null);
}
function Ph(a) {
  a: {
    for (var b = a;;) {
      if (z(b)) {
        b = E(b);
      } else {
        break a;
      }
    }
  }
  return a;
}
function Qh(a, b) {
  if ("string" === typeof b) {
    var c = a.exec(b);
    return null == c ? null : 1 === I(c) ? D(c) : ng(c);
  }
  throw new TypeError("re-find must match against a string.");
}
var Rh = function Rh(b, c) {
  var d = Qh(b, c), e = c.search(b), f = Ud(d) ? D(d) : d, g = Ce(c, e + I(f));
  return m(d) ? new Qe(null, function(c, d, e, f) {
    return function() {
      return Ad(c, z(f) ? Rh(b, f) : null);
    };
  }(d, e, f, g), null, null) : null;
};
function Sh(a) {
  if (a instanceof RegExp) {
    return a;
  }
  var b = Qh(/^\(\?([idmsux]*)\)/, a), c = M(b, 0, null), b = M(b, 1, null);
  a = Ce(a, I(c));
  return new RegExp(a, m(b) ? b : "");
}
function Th(a, b, c, d, e, f, g) {
  var k = Ta;
  Ta = null == Ta ? null : Ta - 1;
  try {
    if (null != Ta && 0 > Ta) {
      return q(a, "#");
    }
    q(a, c);
    if (0 === ab.c(f)) {
      z(g) && q(a, function() {
        var a = Uh.c(f);
        return m(a) ? a : "...";
      }());
    } else {
      if (z(g)) {
        var n = D(g);
        b.l ? b.l(n, a, f) : b.call(null, n, a, f);
      }
      for (var u = E(g), v = ab.c(f) - 1;;) {
        if (!u || null != v && 0 === v) {
          z(u) && 0 === v && (q(a, d), q(a, function() {
            var a = Uh.c(f);
            return m(a) ? a : "...";
          }()));
          break;
        } else {
          q(a, d);
          var w = D(u);
          c = a;
          g = f;
          b.l ? b.l(w, c, g) : b.call(null, w, c, g);
          var y = E(u);
          c = v - 1;
          u = y;
          v = c;
        }
      }
    }
    return q(a, e);
  } finally {
    Ta = k;
  }
}
function Vh(a, b) {
  for (var c = z(b), d = null, e = 0, f = 0;;) {
    if (f < e) {
      var g = d.X(null, f);
      q(a, g);
      f += 1;
    } else {
      if (c = z(c)) {
        d = c, $d(d) ? (c = Ec(d), e = Fc(d), d = c, g = I(c), c = e, e = g) : (g = D(d), q(a, g), c = E(d), d = null, e = 0), f = 0;
      } else {
        return null;
      }
    }
  }
}
var Wh = {'"':'\\"', "\\":"\\\\", "\b":"\\b", "\f":"\\f", "\n":"\\n", "\r":"\\r", "\t":"\\t"};
function Xh(a) {
  return [p('"'), p(a.replace(RegExp('[\\\\"\b\f\n\r\t]', "g"), function(a) {
    return Wh[a];
  })), p('"')].join("");
}
function Yh(a, b) {
  var c = fe(t.h(a, Za));
  return c ? (c = null != b ? b.o & 131072 || b.Gd ? !0 : !1 : !1) ? null != Qd(b) : c : c;
}
function Zh(a, b, c) {
  if (null == a) {
    return q(b, "nil");
  }
  if (Yh(c, a)) {
    q(b, "^");
    var d = Qd(a);
    $h.l ? $h.l(d, b, c) : $h.call(null, d, b, c);
    q(b, " ");
  }
  if (a.vb) {
    return a.Db(a, b, c);
  }
  if (null != a && (a.o & 2147483648 || a.ja)) {
    return a.Z(null, b, c);
  }
  if (!0 === a || !1 === a || "number" === typeof a) {
    return q(b, "" + p(a));
  }
  if (null != a && a.constructor === Object) {
    return q(b, "#js "), d = Cf.h(function(b) {
      return new R(null, 2, 5, S, [Oe.c(b), a[b]], null);
    }, ae(a)), ai.I ? ai.I(d, $h, b, c) : ai.call(null, d, $h, b, c);
  }
  if (db(a)) {
    return Th(b, $h, "#js [", " ", "]", c, a);
  }
  if (ga(a)) {
    return m(Ya.c(c)) ? q(b, Xh(a)) : q(b, a);
  }
  if (ja(a)) {
    var e = a.name;
    c = m(function() {
      var a = null == e;
      return a ? a : ua(e);
    }()) ? "Function" : e;
    return Vh(b, L(["#object[", c, ' "', "" + p(a), '"]'], 0));
  }
  if (a instanceof Date) {
    return c = function(a, b) {
      for (var c = "" + p(a);;) {
        if (I(c) < b) {
          c = [p("0"), p(c)].join("");
        } else {
          return c;
        }
      }
    }, Vh(b, L(['#inst "', "" + p(a.getUTCFullYear()), "-", c(a.getUTCMonth() + 1, 2), "-", c(a.getUTCDate(), 2), "T", c(a.getUTCHours(), 2), ":", c(a.getUTCMinutes(), 2), ":", c(a.getUTCSeconds(), 2), ".", c(a.getUTCMilliseconds(), 3), "-", '00:00"'], 0));
  }
  if (a instanceof RegExp) {
    return Vh(b, L(['#"', a.source, '"'], 0));
  }
  if (m(a.constructor.jb)) {
    return Vh(b, L(["#object[", a.constructor.jb.replace(RegExp("/", "g"), "."), "]"], 0));
  }
  e = a.constructor.name;
  c = m(function() {
    var a = null == e;
    return a ? a : ua(e);
  }()) ? "Object" : e;
  return Vh(b, L(["#object[", c, " ", "" + p(a), "]"], 0));
}
function $h(a, b, c) {
  var d = bi.c(c);
  return m(d) ? (c = Ld.l(c, ci, Zh), d.l ? d.l(a, b, c) : d.call(null, a, b, c)) : Zh(a, b, c);
}
function di(a, b) {
  var c;
  if (Td(a)) {
    c = "";
  } else {
    c = p;
    var d = new Fa, e = new Mc(d);
    a: {
      $h(D(a), e, b);
      for (var f = z(E(a)), g = null, k = 0, n = 0;;) {
        if (n < k) {
          var u = g.X(null, n);
          q(e, " ");
          $h(u, e, b);
          n += 1;
        } else {
          if (f = z(f)) {
            g = f, $d(g) ? (f = Ec(g), k = Fc(g), g = f, u = I(f), f = k, k = u) : (u = D(g), q(e, " "), $h(u, e, b), f = E(g), g = null, k = 0), n = 0;
          } else {
            break a;
          }
        }
      }
    }
    e.ib(null);
    c = "" + c(d);
  }
  return c;
}
var ei = function ei(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return ei.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
ei.j = function(a) {
  return di(a, Wa());
};
ei.D = 0;
ei.C = function(a) {
  return ei.j(z(a));
};
var fi = function fi(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return fi.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
fi.j = function(a) {
  return di(a, Ld.l(Wa(), Ya, !1));
};
fi.D = 0;
fi.C = function(a) {
  return fi.j(z(a));
};
function gi(a) {
  var b = Ld.l(Wa(), Ya, !1);
  a = di(a, b);
  Oa.c ? Oa.c(a) : Oa.call(null, a);
  m(Qa) && (a = Wa(), Oa.c ? Oa.c("\n") : Oa.call(null, "\n"), t.h(a, Xa));
}
function ai(a, b, c, d) {
  return Th(c, function(a, c, d) {
    var k = Ob(a);
    b.l ? b.l(k, c, d) : b.call(null, k, c, d);
    q(c, " ");
    a = Pb(a);
    return b.l ? b.l(a, c, d) : b.call(null, a, c, d);
  }, "{", ", ", "}", d, z(a));
}
ad.prototype.ja = !0;
ad.prototype.Z = function(a, b, c) {
  q(b, "#'");
  return $h(this.vc, b, c);
};
B.prototype.ja = !0;
B.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
Qe.prototype.ja = !0;
Qe.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
lh.prototype.ja = !0;
lh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
Jg.prototype.ja = !0;
Jg.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
pg.prototype.ja = !0;
pg.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
Le.prototype.ja = !0;
Le.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
yd.prototype.ja = !0;
yd.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
qh.prototype.ja = !0;
qh.prototype.Z = function(a, b, c) {
  return ai(this, $h, b, c);
};
nh.prototype.ja = !0;
nh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
tg.prototype.ja = !0;
tg.prototype.Z = function(a, b, c) {
  return Th(b, $h, "[", " ", "]", c, this);
};
Eh.prototype.ja = !0;
Eh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "#{", " ", "}", c, this);
};
Ve.prototype.ja = !0;
Ve.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
vf.prototype.ja = !0;
vf.prototype.Z = function(a, b, c) {
  q(b, "#object [cljs.core.Atom ");
  $h(new l(null, 1, [hi, this.state], null), b, c);
  return q(b, "]");
};
vh.prototype.ja = !0;
vh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
R.prototype.ja = !0;
R.prototype.Z = function(a, b, c) {
  return Th(b, $h, "[", " ", "]", c, this);
};
zg.prototype.ja = !0;
zg.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
Ie.prototype.ja = !0;
Ie.prototype.Z = function(a, b) {
  return q(b, "()");
};
Ag.prototype.ja = !0;
Ag.prototype.Z = function(a, b, c) {
  return Th(b, $h, "#queue [", " ", "]", c, z(this));
};
l.prototype.ja = !0;
l.prototype.Z = function(a, b, c) {
  return ai(this, $h, b, c);
};
Nh.prototype.ja = !0;
Nh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
uh.prototype.ja = !0;
uh.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
Ge.prototype.ja = !0;
Ge.prototype.Z = function(a, b, c) {
  return Th(b, $h, "(", " ", ")", c, this);
};
r.prototype.Wb = !0;
r.prototype.Kb = function(a, b) {
  if (b instanceof r) {
    return Zc(this, b);
  }
  throw Error([p("Cannot compare "), p(this), p(" to "), p(b)].join(""));
};
N.prototype.Wb = !0;
N.prototype.Kb = function(a, b) {
  if (b instanceof N) {
    return Me(this, b);
  }
  throw Error([p("Cannot compare "), p(this), p(" to "), p(b)].join(""));
};
tg.prototype.Wb = !0;
tg.prototype.Kb = function(a, b) {
  if (Zd(b)) {
    return ke(this, b);
  }
  throw Error([p("Cannot compare "), p(this), p(" to "), p(b)].join(""));
};
R.prototype.Wb = !0;
R.prototype.Kb = function(a, b) {
  if (Zd(b)) {
    return ke(this, b);
  }
  throw Error([p("Cannot compare "), p(this), p(" to "), p(b)].join(""));
};
var ii = null;
function ji(a) {
  null == ii && (ii = xf ? xf(0) : wf.call(null, 0));
  return $c.c([p(a), p(Af.h(ii, ld))].join(""));
}
function ki() {
}
var li = function li(b) {
  if (null != b && null != b.Dd) {
    return b.Dd(b);
  }
  var c = li[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = li._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEncodeJS.-clj-\x3ejs", b);
};
function mi(a) {
  return (null != a ? a.Cd || (a.sc ? 0 : fb(ki, a)) : fb(ki, a)) ? li(a) : "string" === typeof a || "number" === typeof a || a instanceof N || a instanceof r ? ni.c ? ni.c(a) : ni.call(null, a) : ei.j(L([a], 0));
}
var ni = function ni(b) {
  if (null == b) {
    return null;
  }
  if (null != b ? b.Cd || (b.sc ? 0 : fb(ki, b)) : fb(ki, b)) {
    return li(b);
  }
  if (b instanceof N) {
    return Pe(b);
  }
  if (b instanceof r) {
    return "" + p(b);
  }
  if (Xd(b)) {
    var c = {};
    b = z(b);
    for (var d = null, e = 0, f = 0;;) {
      if (f < e) {
        var g = d.X(null, f), k = M(g, 0, null), g = M(g, 1, null);
        c[mi(k)] = ni(g);
        f += 1;
      } else {
        if (b = z(b)) {
          $d(b) ? (e = Ec(b), b = Fc(b), d = e, e = I(e)) : (e = D(b), d = M(e, 0, null), e = M(e, 1, null), c[mi(d)] = ni(e), b = E(b), d = null, e = 0), f = 0;
        } else {
          break;
        }
      }
    }
    return c;
  }
  if (Ud(b)) {
    c = [];
    b = z(Cf.h(ni, b));
    d = null;
    for (f = e = 0;;) {
      if (f < e) {
        k = d.X(null, f), c.push(k), f += 1;
      } else {
        if (b = z(b)) {
          d = b, $d(d) ? (b = Ec(d), f = Fc(d), d = b, e = I(b), b = f) : (b = D(d), c.push(b), b = E(d), d = null, e = 0), f = 0;
        } else {
          break;
        }
      }
    }
    return c;
  }
  return b;
};
function oi() {
}
var pi = function pi(b, c) {
  if (null != b && null != b.Bd) {
    return b.Bd(b, c);
  }
  var d = pi[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = pi._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEncodeClojure.-js-\x3eclj", b);
};
function qi(a, b) {
  var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, d = t.h(c, ri);
  return function(a, c, d, k) {
    return function u(v) {
      return (null != v ? v.me || (v.sc ? 0 : fb(oi, v)) : fb(oi, v)) ? pi(v, cf(th, b)) : ee(v) ? Ph(Cf.h(u, v)) : Ud(v) ? Qf.h(null == v ? null : wb(v), Cf.h(u, v)) : db(v) ? ng(Cf.h(u, v)) : gb(v) === Object ? Qf.h(T, function() {
        return function(a, b, c, d) {
          return function G(e) {
            return new Qe(null, function(a, b, c, d) {
              return function() {
                for (;;) {
                  var a = z(e);
                  if (a) {
                    if ($d(a)) {
                      var b = Ec(a), c = I(b), f = Ue(c);
                      a: {
                        for (var g = 0;;) {
                          if (g < c) {
                            var k = Ab.h(b, g), k = new R(null, 2, 5, S, [d.c ? d.c(k) : d.call(null, k), u(v[k])], null);
                            f.add(k);
                            g += 1;
                          } else {
                            b = !0;
                            break a;
                          }
                        }
                      }
                      return b ? We(f.da(), G(Fc(a))) : We(f.da(), null);
                    }
                    f = D(a);
                    return Ad(new R(null, 2, 5, S, [d.c ? d.c(f) : d.call(null, f), u(v[f])], null), G(cd(a)));
                  }
                  return null;
                }
              };
            }(a, b, c, d), null, null);
          };
        }(a, c, d, k)(ae(v));
      }()) : v;
    };
  }(b, c, d, m(d) ? Oe : p)(a);
}
var si = null;
function ti() {
  if (null == si) {
    var a = new l(null, 3, [ui, T, vi, T, wi, T], null);
    si = xf ? xf(a) : wf.call(null, a);
  }
  return si;
}
function xi(a, b, c) {
  var d = x.h(b, c);
  if (!d && !(d = ie(wi.c(a).call(null, b), c)) && (d = Zd(c)) && (d = Zd(b))) {
    if (d = I(c) === I(b)) {
      for (var d = !0, e = 0;;) {
        if (d && e !== I(c)) {
          d = xi(a, b.c ? b.c(e) : b.call(null, e), c.c ? c.c(e) : c.call(null, e)), e += 1;
        } else {
          return d;
        }
      }
    } else {
      return d;
    }
  } else {
    return d;
  }
}
function yi(a) {
  var b;
  b = ti();
  b = H.c ? H.c(b) : H.call(null, b);
  return kf(t.h(ui.c(b), a));
}
function zi(a, b, c, d) {
  Af.h(a, function() {
    return H.c ? H.c(b) : H.call(null, b);
  });
  Af.h(c, function() {
    return H.c ? H.c(d) : H.call(null, d);
  });
}
var Ai = function Ai(b, c, d) {
  var e = (H.c ? H.c(d) : H.call(null, d)).call(null, b), e = m(m(e) ? e.c ? e.c(c) : e.call(null, c) : e) ? !0 : null;
  if (m(e)) {
    return e;
  }
  e = function() {
    for (var e = yi(c);;) {
      if (0 < I(e)) {
        Ai(b, D(e), d), e = cd(e);
      } else {
        return null;
      }
    }
  }();
  if (m(e)) {
    return e;
  }
  e = function() {
    for (var e = yi(b);;) {
      if (0 < I(e)) {
        Ai(D(e), c, d), e = cd(e);
      } else {
        return null;
      }
    }
  }();
  return m(e) ? e : !1;
};
function Bi(a, b, c) {
  c = Ai(a, b, c);
  if (m(c)) {
    a = c;
  } else {
    c = xi;
    var d;
    d = ti();
    d = H.c ? H.c(d) : H.call(null, d);
    a = c(d, a, b);
  }
  return a;
}
var Ci = function Ci(b, c, d, e, f, g, k) {
  var n = qb(function(e, g) {
    var k = M(g, 0, null);
    M(g, 1, null);
    if (xi(H.c ? H.c(d) : H.call(null, d), c, k)) {
      var n;
      n = (n = null == e) ? n : Bi(k, D(e), f);
      n = m(n) ? g : e;
      if (!m(Bi(D(n), k, f))) {
        throw Error([p("Multiple methods in multimethod '"), p(b), p("' match dispatch value: "), p(c), p(" -\x3e "), p(k), p(" and "), p(D(n)), p(", and neither is preferred")].join(""));
      }
      return n;
    }
    return e;
  }, null, H.c ? H.c(e) : H.call(null, e));
  if (m(n)) {
    if (x.h(H.c ? H.c(k) : H.call(null, k), H.c ? H.c(d) : H.call(null, d))) {
      return Af.I(g, Ld, c, Gd(n)), Gd(n);
    }
    zi(g, e, k, d);
    return Ci(b, c, d, e, f, g, k);
  }
  return null;
}, Di = function Di(b, c, d) {
  if (null != b && null != b.Za) {
    return b.Za(0, c, d);
  }
  var e = Di[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = Di._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IMultiFn.-add-method", b);
};
function Fi(a, b) {
  throw Error([p("No method in multimethod '"), p(a), p("' for dispatch value: "), p(b)].join(""));
}
function Gi(a, b, c, d, e, f, g, k) {
  this.name = a;
  this.B = b;
  this.Qd = c;
  this.cc = d;
  this.Tb = e;
  this.ee = f;
  this.gc = g;
  this.Vb = k;
  this.o = 4194305;
  this.L = 4352;
}
h = Gi.prototype;
h.call = function() {
  function a(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K, W) {
    a = this;
    var la = hf(a.B, b, c, d, e, L([f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K, W], 0)), ef = Hi(this, la);
    m(ef) || Fi(a.name, la);
    return hf(ef, b, c, d, e, L([f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K, W], 0));
  }
  function b(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K) {
    a = this;
    var W = a.B.wa ? a.B.wa(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K), la = Hi(this, W);
    m(la) || Fi(a.name, W);
    return la.wa ? la.wa(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K) : la.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q, K);
  }
  function c(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q) {
    a = this;
    var K = a.B.va ? a.B.va(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q), W = Hi(this, K);
    m(W) || Fi(a.name, K);
    return W.va ? W.va(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q) : W.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P, Q);
  }
  function d(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P) {
    a = this;
    var Q = a.B.ua ? a.B.ua(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P), K = Hi(this, Q);
    m(K) || Fi(a.name, Q);
    return K.ua ? K.ua(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P) : K.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J, P);
  }
  function e(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J) {
    a = this;
    var P = a.B.ta ? a.B.ta(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J), Q = Hi(this, P);
    m(Q) || Fi(a.name, P);
    return Q.ta ? Q.ta(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J) : Q.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J);
  }
  function f(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G) {
    a = this;
    var J = a.B.sa ? a.B.sa(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G), P = Hi(this, J);
    m(P) || Fi(a.name, J);
    return P.sa ? P.sa(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G) : P.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G);
  }
  function g(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F) {
    a = this;
    var G = a.B.ra ? a.B.ra(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F), J = Hi(this, G);
    m(J) || Fi(a.name, G);
    return J.ra ? J.ra(b, c, d, e, f, g, k, n, u, v, A, w, y, C, F) : J.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F);
  }
  function k(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C) {
    a = this;
    var F = a.B.qa ? a.B.qa(b, c, d, e, f, g, k, n, u, v, A, w, y, C) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C), G = Hi(this, F);
    m(G) || Fi(a.name, F);
    return G.qa ? G.qa(b, c, d, e, f, g, k, n, u, v, A, w, y, C) : G.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y, C);
  }
  function n(a, b, c, d, e, f, g, k, n, u, v, A, w, y) {
    a = this;
    var C = a.B.pa ? a.B.pa(b, c, d, e, f, g, k, n, u, v, A, w, y) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y), F = Hi(this, C);
    m(F) || Fi(a.name, C);
    return F.pa ? F.pa(b, c, d, e, f, g, k, n, u, v, A, w, y) : F.call(null, b, c, d, e, f, g, k, n, u, v, A, w, y);
  }
  function u(a, b, c, d, e, f, g, k, n, u, v, A, w) {
    a = this;
    var y = a.B.oa ? a.B.oa(b, c, d, e, f, g, k, n, u, v, A, w) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A, w), C = Hi(this, y);
    m(C) || Fi(a.name, y);
    return C.oa ? C.oa(b, c, d, e, f, g, k, n, u, v, A, w) : C.call(null, b, c, d, e, f, g, k, n, u, v, A, w);
  }
  function v(a, b, c, d, e, f, g, k, n, u, v, A) {
    a = this;
    var w = a.B.na ? a.B.na(b, c, d, e, f, g, k, n, u, v, A) : a.B.call(null, b, c, d, e, f, g, k, n, u, v, A), y = Hi(this, w);
    m(y) || Fi(a.name, w);
    return y.na ? y.na(b, c, d, e, f, g, k, n, u, v, A) : y.call(null, b, c, d, e, f, g, k, n, u, v, A);
  }
  function w(a, b, c, d, e, f, g, k, n, u, v) {
    a = this;
    var A = a.B.ma ? a.B.ma(b, c, d, e, f, g, k, n, u, v) : a.B.call(null, b, c, d, e, f, g, k, n, u, v), w = Hi(this, A);
    m(w) || Fi(a.name, A);
    return w.ma ? w.ma(b, c, d, e, f, g, k, n, u, v) : w.call(null, b, c, d, e, f, g, k, n, u, v);
  }
  function y(a, b, c, d, e, f, g, k, n, u) {
    a = this;
    var v = a.B.za ? a.B.za(b, c, d, e, f, g, k, n, u) : a.B.call(null, b, c, d, e, f, g, k, n, u), A = Hi(this, v);
    m(A) || Fi(a.name, v);
    return A.za ? A.za(b, c, d, e, f, g, k, n, u) : A.call(null, b, c, d, e, f, g, k, n, u);
  }
  function A(a, b, c, d, e, f, g, k, n) {
    a = this;
    var u = a.B.ya ? a.B.ya(b, c, d, e, f, g, k, n) : a.B.call(null, b, c, d, e, f, g, k, n), v = Hi(this, u);
    m(v) || Fi(a.name, u);
    return v.ya ? v.ya(b, c, d, e, f, g, k, n) : v.call(null, b, c, d, e, f, g, k, n);
  }
  function C(a, b, c, d, e, f, g, k) {
    a = this;
    var n = a.B.xa ? a.B.xa(b, c, d, e, f, g, k) : a.B.call(null, b, c, d, e, f, g, k), u = Hi(this, n);
    m(u) || Fi(a.name, n);
    return u.xa ? u.xa(b, c, d, e, f, g, k) : u.call(null, b, c, d, e, f, g, k);
  }
  function F(a, b, c, d, e, f, g) {
    a = this;
    var k = a.B.ia ? a.B.ia(b, c, d, e, f, g) : a.B.call(null, b, c, d, e, f, g), n = Hi(this, k);
    m(n) || Fi(a.name, k);
    return n.ia ? n.ia(b, c, d, e, f, g) : n.call(null, b, c, d, e, f, g);
  }
  function G(a, b, c, d, e, f) {
    a = this;
    var g = a.B.R ? a.B.R(b, c, d, e, f) : a.B.call(null, b, c, d, e, f), k = Hi(this, g);
    m(k) || Fi(a.name, g);
    return k.R ? k.R(b, c, d, e, f) : k.call(null, b, c, d, e, f);
  }
  function J(a, b, c, d, e) {
    a = this;
    var f = a.B.I ? a.B.I(b, c, d, e) : a.B.call(null, b, c, d, e), g = Hi(this, f);
    m(g) || Fi(a.name, f);
    return g.I ? g.I(b, c, d, e) : g.call(null, b, c, d, e);
  }
  function P(a, b, c, d) {
    a = this;
    var e = a.B.l ? a.B.l(b, c, d) : a.B.call(null, b, c, d), f = Hi(this, e);
    m(f) || Fi(a.name, e);
    return f.l ? f.l(b, c, d) : f.call(null, b, c, d);
  }
  function Q(a, b, c) {
    a = this;
    var d = a.B.h ? a.B.h(b, c) : a.B.call(null, b, c), e = Hi(this, d);
    m(e) || Fi(a.name, d);
    return e.h ? e.h(b, c) : e.call(null, b, c);
  }
  function W(a, b) {
    a = this;
    var c = a.B.c ? a.B.c(b) : a.B.call(null, b), d = Hi(this, c);
    m(d) || Fi(a.name, c);
    return d.c ? d.c(b) : d.call(null, b);
  }
  function la(a) {
    a = this;
    var b = a.B.v ? a.B.v() : a.B.call(null), c = Hi(this, b);
    m(c) || Fi(a.name, b);
    return c.v ? c.v() : c.call(null);
  }
  var K = null, K = function(K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc) {
    switch(arguments.length) {
      case 1:
        return la.call(this, K);
      case 2:
        return W.call(this, K, Y);
      case 3:
        return Q.call(this, K, Y, Z);
      case 4:
        return P.call(this, K, Y, Z, X);
      case 5:
        return J.call(this, K, Y, Z, X, ea);
      case 6:
        return G.call(this, K, Y, Z, X, ea, ba);
      case 7:
        return F.call(this, K, Y, Z, X, ea, ba, va);
      case 8:
        return C.call(this, K, Y, Z, X, ea, ba, va, ha);
      case 9:
        return A.call(this, K, Y, Z, X, ea, ba, va, ha, pa);
      case 10:
        return y.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na);
      case 11:
        return w.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za);
      case 12:
        return v.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia);
      case 13:
        return u.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa);
      case 14:
        return n.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua);
      case 15:
        return k.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb);
      case 16:
        return g.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb);
      case 17:
        return f.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb);
      case 18:
        return e.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb);
      case 19:
        return d.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb);
      case 20:
        return c.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc);
      case 21:
        return b.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc);
      case 22:
        return a.call(this, K, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc);
    }
    throw Error("Invalid arity: " + arguments.length);
  };
  K.c = la;
  K.h = W;
  K.l = Q;
  K.I = P;
  K.R = J;
  K.ia = G;
  K.xa = F;
  K.ya = C;
  K.za = A;
  K.ma = y;
  K.na = w;
  K.oa = v;
  K.pa = u;
  K.qa = n;
  K.ra = k;
  K.sa = g;
  K.ta = f;
  K.ua = e;
  K.va = d;
  K.wa = c;
  K.Xb = b;
  K.hb = a;
  return K;
}();
h.apply = function(a, b) {
  return this.call.apply(this, [this].concat(mb(b)));
};
h.v = function() {
  var a = this.B.v ? this.B.v() : this.B.call(null), b = Hi(this, a);
  m(b) || Fi(this.name, a);
  return b.v ? b.v() : b.call(null);
};
h.c = function(a) {
  var b = this.B.c ? this.B.c(a) : this.B.call(null, a), c = Hi(this, b);
  m(c) || Fi(this.name, b);
  return c.c ? c.c(a) : c.call(null, a);
};
h.h = function(a, b) {
  var c = this.B.h ? this.B.h(a, b) : this.B.call(null, a, b), d = Hi(this, c);
  m(d) || Fi(this.name, c);
  return d.h ? d.h(a, b) : d.call(null, a, b);
};
h.l = function(a, b, c) {
  var d = this.B.l ? this.B.l(a, b, c) : this.B.call(null, a, b, c), e = Hi(this, d);
  m(e) || Fi(this.name, d);
  return e.l ? e.l(a, b, c) : e.call(null, a, b, c);
};
h.I = function(a, b, c, d) {
  var e = this.B.I ? this.B.I(a, b, c, d) : this.B.call(null, a, b, c, d), f = Hi(this, e);
  m(f) || Fi(this.name, e);
  return f.I ? f.I(a, b, c, d) : f.call(null, a, b, c, d);
};
h.R = function(a, b, c, d, e) {
  var f = this.B.R ? this.B.R(a, b, c, d, e) : this.B.call(null, a, b, c, d, e), g = Hi(this, f);
  m(g) || Fi(this.name, f);
  return g.R ? g.R(a, b, c, d, e) : g.call(null, a, b, c, d, e);
};
h.ia = function(a, b, c, d, e, f) {
  var g = this.B.ia ? this.B.ia(a, b, c, d, e, f) : this.B.call(null, a, b, c, d, e, f), k = Hi(this, g);
  m(k) || Fi(this.name, g);
  return k.ia ? k.ia(a, b, c, d, e, f) : k.call(null, a, b, c, d, e, f);
};
h.xa = function(a, b, c, d, e, f, g) {
  var k = this.B.xa ? this.B.xa(a, b, c, d, e, f, g) : this.B.call(null, a, b, c, d, e, f, g), n = Hi(this, k);
  m(n) || Fi(this.name, k);
  return n.xa ? n.xa(a, b, c, d, e, f, g) : n.call(null, a, b, c, d, e, f, g);
};
h.ya = function(a, b, c, d, e, f, g, k) {
  var n = this.B.ya ? this.B.ya(a, b, c, d, e, f, g, k) : this.B.call(null, a, b, c, d, e, f, g, k), u = Hi(this, n);
  m(u) || Fi(this.name, n);
  return u.ya ? u.ya(a, b, c, d, e, f, g, k) : u.call(null, a, b, c, d, e, f, g, k);
};
h.za = function(a, b, c, d, e, f, g, k, n) {
  var u = this.B.za ? this.B.za(a, b, c, d, e, f, g, k, n) : this.B.call(null, a, b, c, d, e, f, g, k, n), v = Hi(this, u);
  m(v) || Fi(this.name, u);
  return v.za ? v.za(a, b, c, d, e, f, g, k, n) : v.call(null, a, b, c, d, e, f, g, k, n);
};
h.ma = function(a, b, c, d, e, f, g, k, n, u) {
  var v = this.B.ma ? this.B.ma(a, b, c, d, e, f, g, k, n, u) : this.B.call(null, a, b, c, d, e, f, g, k, n, u), w = Hi(this, v);
  m(w) || Fi(this.name, v);
  return w.ma ? w.ma(a, b, c, d, e, f, g, k, n, u) : w.call(null, a, b, c, d, e, f, g, k, n, u);
};
h.na = function(a, b, c, d, e, f, g, k, n, u, v) {
  var w = this.B.na ? this.B.na(a, b, c, d, e, f, g, k, n, u, v) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v), y = Hi(this, w);
  m(y) || Fi(this.name, w);
  return y.na ? y.na(a, b, c, d, e, f, g, k, n, u, v) : y.call(null, a, b, c, d, e, f, g, k, n, u, v);
};
h.oa = function(a, b, c, d, e, f, g, k, n, u, v, w) {
  var y = this.B.oa ? this.B.oa(a, b, c, d, e, f, g, k, n, u, v, w) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w), A = Hi(this, y);
  m(A) || Fi(this.name, y);
  return A.oa ? A.oa(a, b, c, d, e, f, g, k, n, u, v, w) : A.call(null, a, b, c, d, e, f, g, k, n, u, v, w);
};
h.pa = function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
  var A = this.B.pa ? this.B.pa(a, b, c, d, e, f, g, k, n, u, v, w, y) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y), C = Hi(this, A);
  m(C) || Fi(this.name, A);
  return C.pa ? C.pa(a, b, c, d, e, f, g, k, n, u, v, w, y) : C.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y);
};
h.qa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A) {
  var C = this.B.qa ? this.B.qa(a, b, c, d, e, f, g, k, n, u, v, w, y, A) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A), F = Hi(this, C);
  m(F) || Fi(this.name, C);
  return F.qa ? F.qa(a, b, c, d, e, f, g, k, n, u, v, w, y, A) : F.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A);
};
h.ra = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) {
  var F = this.B.ra ? this.B.ra(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C), G = Hi(this, F);
  m(G) || Fi(this.name, F);
  return G.ra ? G.ra(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C) : G.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C);
};
h.sa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) {
  var G = this.B.sa ? this.B.sa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F), J = Hi(this, G);
  m(J) || Fi(this.name, G);
  return J.sa ? J.sa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F) : J.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F);
};
h.ta = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) {
  var J = this.B.ta ? this.B.ta(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G), P = Hi(this, J);
  m(P) || Fi(this.name, J);
  return P.ta ? P.ta(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G) : P.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G);
};
h.ua = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) {
  var P = this.B.ua ? this.B.ua(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J), Q = Hi(this, P);
  m(Q) || Fi(this.name, P);
  return Q.ua ? Q.ua(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J) : Q.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J);
};
h.va = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) {
  var Q = this.B.va ? this.B.va(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P), W = Hi(this, Q);
  m(W) || Fi(this.name, Q);
  return W.va ? W.va(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P) : W.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P);
};
h.wa = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) {
  var W = this.B.wa ? this.B.wa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : this.B.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q), la = Hi(this, W);
  m(la) || Fi(this.name, W);
  return la.wa ? la.wa(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q) : la.call(null, a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q);
};
h.Xb = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W) {
  var la = hf(this.B, a, b, c, d, L([e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W], 0)), K = Hi(this, la);
  m(K) || Fi(this.name, la);
  return hf(K, a, b, c, d, L([e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q, W], 0));
};
h.Za = function(a, b, c) {
  Af.I(this.Tb, Ld, b, c);
  zi(this.gc, this.Tb, this.Vb, this.cc);
  return this;
};
function Hi(a, b) {
  x.h(H.c ? H.c(a.Vb) : H.call(null, a.Vb), H.c ? H.c(a.cc) : H.call(null, a.cc)) || zi(a.gc, a.Tb, a.Vb, a.cc);
  var c = (H.c ? H.c(a.gc) : H.call(null, a.gc)).call(null, b);
  if (m(c)) {
    return c;
  }
  c = Ci(a.name, b, a.cc, a.Tb, a.ee, a.gc, a.Vb);
  return m(c) ? c : (H.c ? H.c(a.Tb) : H.call(null, a.Tb)).call(null, a.Qd);
}
h.Zb = function() {
  return Hc(this.name);
};
h.$b = function() {
  return Ic(this.name);
};
h.W = function() {
  return ka(this);
};
var Ii = new N(null, "y", "y", -1757859776), Ji = new N(null, "above-left", "above-left", -1593975744), Ki = new N(null, "above-center", "above-center", 1960103104), Li = new r(null, "localTimeParser", "localTimeParser", -1738135328, null), Mi = new N(null, "keyMap", "keyMap", 945500512), Ni = new N(null, "description", "description", -1428560544), Oi = new N(null, "mandatory", "mandatory", 542802336), Pi = new r(null, "\x26", "\x26", -2144855648, null), Qi = new N(null, "initialize-db", "initialize-db", 
230998432), Ri = new r(null, "meta15917", "meta15917", -938287712, null), Si = new r(null, "init-cap-writer", "init-cap-writer", -861558336, null), Ti = new N(null, "large", "large", -196820544), Ui = new N(null, "line-height", "line-height", 1870784992), Vi = new N(null, "min-width", "min-width", 1926193728), Wi = new N(null, "logical-blocks", "logical-blocks", -1466339776), Xi = new r("cljs.core", "unquote", "cljs.core/unquote", 1013085760, null), Yi = new r(null, "when-first", "when-first", 821699168, 
null), Zi = new N(null, "date-element-parser", "date-element-parser", 2072167040), $i = new N(null, "auto-complete", "auto-complete", 244958848), aj = new N(null, "add-event", "add-event", 938429088), bj = new N("ui", "fullscreen?", "ui/fullscreen?", -1171714336), cj = new N("ui", "fullscreen-enter", "ui/fullscreen-enter", 716883712), dj = new N(null, "wrap-nicely?", "wrap-nicely?", 85012288), ej = new N(null, "hour-minute", "hour-minute", -1164421312), fj = new N("modals", "export-graph", "modals/export-graph", 
142485344), gj = new N(null, "arg3", "arg3", -1486822496), hj = new N(null, "baseline", "baseline", 1151033280), ij = new N(null, "yield", "yield", 177875009), jj = new N(null, "additionalContext", "additionalContext", -2105343871), kj = new N(null, "tab-index", "tab-index", 895755393), lj = new N(null, "smooth", "smooth", -809843519), mj = new N(null, "async", "async", 1050769601), nj = new N(null, "li.no-results", "li.no-results", -717682399), oj = new N(null, "popover-color", "popover-color", 
-2019049119), pj = new N("ui", "graph-width", "ui/graph-width", -266181279), qj = new r(null, "defrecord*", "defrecord*", -1936366207, null), rj = new N(null, "label-fn", "label-fn", -860923263), sj = new N(null, "suffix", "suffix", 367373057), tj = new N("graph-ui", "graph-mode", "graph-ui/graph-mode", 883112705), uj = new N(null, "paused", "paused", -1710376127), vj = new r(null, "try", "try", -1273693247, null), wj = new N(null, "selector", "selector", 762528866), xj = new N(null, "formatters", 
"formatters", -1875637118), yj = new N(null, "on-set", "on-set", -140953470), zj = new r("cljs.core", "*print-level*", "cljs.core/*print-level*", 65848482, null), Aj = new r(null, "*print-circle*", "*print-circle*", 1148404994, null), Bj = new N(null, "re-frame-factory-name", "re-frame-factory-name", -1205706462), Cj = new N(null, "format", "format", -1306924766), Dj = new N(null, "else-params", "else-params", -832171646), Ej = new N(null, "useDefaultGroups", "useDefaultGroups", -1146347102), Fj = 
new N(null, "children", "children", -940561982), Gj = new N(null, "t-time", "t-time", -42016318), Hj = new r(null, "timeParser", "timeParser", 1585048034, null), Ij = new N(null, "arrows", "arrows", -1209622014), Jj = new N(null, "align-items", "align-items", -267946462), Kj = new N(null, "align", "align", 1964212802), Lj = new N(null, "block", "block", 664686210), Mj = new N(null, "regular", "regular", -1153375582), Nj = new N(null, "basic-ordinal-date", "basic-ordinal-date", 243220162), Oj = new N(null, 
"inherit", "inherit", -1840815422), Pj = new N(null, "left-center", "left-center", 374119202), Sj = new N(null, "date", "date", -1463434462), Tj = new N(null, "hour", "hour", -555989214), Uj = new N(null, "allows-separator", "allows-separator", -818967742), Vj = new N("flow-runtime", "add-process-port", "flow-runtime/add-process-port", -1791302782), Wj = new N("modals", "add-process", "modals/add-process", -366975006), Xj = new N("ui", "update-main-frame-size", "ui/update-main-frame-size", 1778707426), 
Yj = new N(null, "position-offset", "position-offset", 1257061411), Zj = new r(null, "last-was-whitespace?", "last-was-whitespace?", -1073928093, null), ak = new N(null, "indent", "indent", -148200125), bk = new N(null, "cljsLegacyRender", "cljsLegacyRender", -1527295613), ck = new r("cljs.pprint", "*print-pretty*", "cljs.pprint/*print-pretty*", -762636861, null), dk = new N(null, "right-below", "right-below", 586981827), ek = new r("cljs.pprint", "*print-pprint-dispatch*", "cljs.pprint/*print-pprint-dispatch*", 
-1820734013, null), fk = new N(null, "bk-color", "bk-color", 2004848163), gk = new N(null, "stroke", "stroke", 1741823555), hk = new N(null, "arrow-length", "arrow-length", 934916707), ik = new r(null, "*print-suppress-namespaces*", "*print-suppress-namespaces*", 1795828355, null), pf = new r(null, "meta9989", "meta9989", 1655878275, null), jk = new N(null, "time-no-ms", "time-no-ms", 870271683), kk = new N(null, "weekyear-week-day", "weekyear-week-day", -740233533), lk = new N(null, "autoRefresh", 
"autoRefresh", 1336262435), mk = new N(null, "miser-width", "miser-width", -1310049437), nk = new N(null, "idle", "idle", -2007156861), ok = new N(null, "box-shadow", "box-shadow", 1600206755), pk = new r(null, "struct", "struct", 325972931, null), qk = new N(null, "indentWithTabs", "indentWithTabs", 520478820), rk = new N(null, "max-height", "max-height", -612563804), sk = new N(null, "week-date-time", "week-date-time", 540228836), tk = new N(null, "border-right", "border-right", -668932860), uk = 
new N(null, "date-hour-minute-second-fraction", "date-hour-minute-second-fraction", 1937143076), vk = new N(null, "fullscreen?", "fullscreen?", -1171717820), wk = new N(null, "group", "group", 582596132), Za = new N(null, "meta", "meta", 1499536964), xk = new N("flow-runtime-ui", "close-node", "flow-runtime-ui/close-node", 1662030500), yk = new N("flow-runtime", "remove-entity", "flow-runtime/remove-entity", 827810500), zk = new r(null, "..", "..", -300507420, null), Ak = new N(null, "basic-date-time", 
"basic-date-time", 1525413604), Bk = new N(null, "date-time", "date-time", 177938180), Ck = new N(null, "basic-time-no-ms", "basic-time-no-ms", -1720654076), Dk = new r(null, "*print-pretty*", "*print-pretty*", 726795140, null), Ek = new r(null, "*print-pprint-dispatch*", "*print-pprint-dispatch*", -1709114492, null), Fk = new N(null, "buffer-block", "buffer-block", -10937307), Gk = new N(null, "color", "color", 1011675173), Hk = new r(null, "max-columns", "max-columns", -912112507, null), Ik = new N(null, 
"date-parser", "date-parser", -981534587), Jk = new r(null, "upcase-writer", "upcase-writer", 51077317, null), $a = new N(null, "dup", "dup", 556298533), Kk = new N(null, "text-align", "text-align", 1786091845), Lk = new N(null, "basic-week-date", "basic-week-date", 1775847845), Mk = new N(null, "min-height", "min-height", 398480837), Nk = new N(null, "pre", "pre", 2118456869), Ok = new N(null, "backdrop-opacity", "backdrop-opacity", 1467395653), Pk = new N(null, "arg2", "arg2", 1729550917), Qk = 
new N(null, "commainterval", "commainterval", -1980061083), Rk = new N(null, "key", "key", -1516042587), Sk = new N(null, "placeholder", "placeholder", -104873083), Tk = new N(null, "pretty-writer", "pretty-writer", -1222834267), Uk = new N(null, "div.cm-container", "div.cm-container", -23484507), Vk = new N(null, "parent", "parent", -878878779), Wk = new N(null, "bottom", "bottom", -1550509018), Xk = new N(null, "disabled", "disabled", -1529784218), Yk = new N(null, "sections", "sections", -886710106), 
Zk = new N(null, "private", "private", -558947994), $k = new r(null, "dateOptionalTimeParser", "dateOptionalTimeParser", 1783230854, null), al = new N(null, "tooltipDelay", "tooltipDelay", -2060868154), bl = new N(null, "else", "else", -1508377146), cl = new N(null, "miser", "miser", -556060186), dl = new N(null, "stabilization", "stabilization", -1209068026), el = new N("flow-runtime-ui", "open-node", "flow-runtime-ui/open-node", 1929617926), fl = new N(null, "tabs", "tabs", -779855354), gl = new N(null, 
"smaller", "smaller", -1619801498), hl = new N(null, "basic-t-time-no-ms", "basic-t-time-no-ms", -424650106), il = new N(null, "a.chosen-single.chosen-default", "a.chosen-single.chosen-default", -2089562458), jl = new N(null, "local-time", "local-time", -1873195290), ml = new N(null, "on-close", "on-close", -761178394), nl = new N(null, "right-margin", "right-margin", -810413306), ol = new N(null, "font-size", "font-size", -1847940346), pl = new r("cljs.pprint", "*print-base*", "cljs.pprint/*print-base*", 
1887526790, null), ql = new r(null, "if-not", "if-not", -265415609, null), rl = new r("cljs.core", "deref", "cljs.core/deref", 1901963335, null), sl = new N(null, "offset", "offset", 296498311), tl = new N("flow-runtime", "rename-entity", "flow-runtime/rename-entity", -1446944537), ul = new N(null, "date-time-no-ms", "date-time-no-ms", 1655953671), vl = new N(null, "year-month-day", "year-month-day", -415594169), wl = new r(null, "*print-level*", "*print-level*", -634488505, null), xl = new N(null, 
"button", "button", 1456579943), yl = new N(null, "top", "top", -1856271961), zl = new N(null, "level3", "level3", 1192475079), Al = new N(null, "window-size", "window-size", 923834855), Bl = new N(null, "emphasise?", "emphasise?", 1618294247), Cl = new N(null, "r-border", "r-border", 610773511), Dl = new N(null, "md-icon-name", "md-icon-name", 681785863), El = new N("flow-runtime", "all-entities", "flow-runtime/all-entities", 1123732999), Fl = new N(null, "font-weight", "font-weight", 2085804583), 
Gl = new r(null, "doseq", "doseq", 221164135, null), Hl = new N(null, "date-opt-time", "date-opt-time", -1507102105), Il = new N(null, "layout", "layout", -2120940921), Jl = new N(null, "cur", "cur", 1153190599), Kl = new N(null, "queue", "queue", 1455835879), Ll = new N(null, "displayName", "displayName", -809144601), Ml = new N(null, "li.group-result", "li.group-result", 1074686727), Nl = new N(null, "rfc822", "rfc822", -404628697), Ol = new N(null, "on-mouse-out", "on-mouse-out", 643448647), zf = 
new N(null, "validator", "validator", -1966190681), Pl = new N(null, "highlight", "highlight", -800930873), Ql = new N(null, "redo", "redo", 501190664), Rl = new r(null, "finally", "finally", -1065347064, null), Sl = new N("flow-runtime", "stop-process", "flow-runtime/stop-process", 1382500424), Tl = new N(null, "justify", "justify", -722524056), Ul = new N(null, "default", "default", -1987822328), Vl = new N("flow-runtime", "update-process-code", "flow-runtime/update-process-code", 2060537288), 
Wl = new N(null, "added", "added", 2057651688), Xl = new r(null, "meta15256", "meta15256", 1341450792, null), Yl = new N("cljs-time.format", "formatter", "cljs-time.format/formatter", 1104417384), Zl = new r(null, "when-let", "when-let", -1383043480, null), $l = new N(null, "func", "func", -238706040), am = new N("flow-runtime", "port-types", "flow-runtime/port-types", 104069768), bm = new r(null, "loop*", "loop*", 615029416, null), cm = new N(null, "overflow", "overflow", 2058931880), dm = new N(null, 
"ns", "ns", 441598760), em = new N(null, "symbol", "symbol", -1038572696), fm = new N(null, "warn", "warn", -436710552), gm = new N(null, "generator-fn", "generator-fn", 811851656), hm = new N(null, "matchBrackets", "matchBrackets", 1256448936), im = new N(null, "popover", "popover", -1809582136), jm = new N(null, "div.chosen-drop", "div.chosen-drop", -1110109208), km = new N(null, "alert-type", "alert-type", 405751817), lm = new N(null, "date-hour-minute-second-ms", "date-hour-minute-second-ms", 
-425334775), mm = new N(null, "name", "name", 1843675177), nm = new N(null, "no-clip?", "no-clip?", -188884951), om = new r("cljs.pprint", "*print-radix*", "cljs.pprint/*print-radix*", 1558253641, null), pm = new N(null, "n", "n", 562130025), qm = new N(null, "close-button?", "close-button?", -1030817687), rm = new N(null, "w", "w", 354169001), sm = new N(null, "basic-ordinal-date-time", "basic-ordinal-date-time", 1054564521), tm = new r(null, "timeElementParser", "timeElementParser", 302132553, 
null), um = new N(null, "ordinal-date", "ordinal-date", -77899447), vm = new N("flow-runtime", "connect-output", "flow-runtime/connect-output", -708562583), wm = new N("ui", "fullscreen-exit", "ui/fullscreen-exit", -1207257751), xm = new N(null, "arrow-width", "arrow-width", 1926673833), ym = new N(null, "not-delivered", "not-delivered", 1599158697), zm = new N(null, "remaining-arg-count", "remaining-arg-count", -1216589335), Am = new N(null, "li", "li", 723558921), Bm = new N(null, "hour-minute-second-fraction", 
"hour-minute-second-fraction", -1253038551), Cm = new N(null, "showCursorWhenSelecting", "showCursorWhenSelecting", 169880137), Dm = new N(null, "fill", "fill", 883462889), Em = new N(null, "margin-left", "margin-left", 2015598377), Fm = new N("ui", "minimized?", "ui/minimized?", 1807888201), Gm = new N(null, "value", "value", 305978217), Hm = new N(null, "left-above", "left-above", 1205957481), Im = new N("flow-runtime", "rename-process", "flow-runtime/rename-process", 1997430665), Jm = new N(null, 
"main-frame-dimensions", "main-frame-dimensions", -2091415639), Km = new N(null, "section", "section", -300141526), Lm = new N(null, "date-hour-minute", "date-hour-minute", 1629918346), Mm = new N("flow-runtime", "edit-entity-value", "flow-runtime/edit-entity-value", 1399893130), Nm = new N(null, "time", "time", 1385887882), Om = new N(null, "level2", "level2", -2044031830), Pm = new r(null, "*print-length*", "*print-length*", -687693654, null), Qm = new N(null, "-webkit-flex-flow", "-webkit-flex-flow", 
667076810), Rm = new N("ui", "window-resize", "ui/window-resize", -2050648854), Sm = new r("cljs.pprint", "*print-miser-width*", "cljs.pprint/*print-miser-width*", 1588913450, null), Tm = new N(null, "local-storage-key", "local-storage-key", -1983909558), Um = new r(null, "cljs.core", "cljs.core", 770546058, null), Vm = new N(null, "maximum", "maximum", 573880714), Wm = new r(null, "miser-width", "miser-width", 330482090, null), Xm = new r(null, "let", "let", 358118826, null), Ym = new N(null, "component-did-mount", 
"component-did-mount", -1126910518), Zm = new N(null, "file", "file", -1269645878), $m = new N(null, "background-color", "background-color", 570434026), an = new N(null, "negative", "negative", -1562068438), bn = new N("flow-runtime", "set-process-autostart", "flow-runtime/set-process-autostart", 1104166442), cn = new N(null, "hide-border?", "hide-border?", 1792698922), dn = new r(null, "-\x3e", "-\x3e", -2139605430, null), en = new N(null, "process", "process", 1643192938), fn = new N(null, "end-pos", 
"end-pos", -1643883926), gn = new N(null, "circle", "circle", 1903212362), hn = new N(null, "basic-week-date-time", "basic-week-date-time", -502077622), jn = new N(null, "h-scroll", "h-scroll", -1200000150), kn = new N(null, "end-column", "end-column", 1425389514), ln = new N(null, "margin-top", "margin-top", 392161226), mn = new N(null, "-webkit-flex", "-webkit-flex", -1736517621), nn = new N("ui", "window-size", "ui/window-size", 923832395), on = new N(null, "entity-values", "entity-values", 384163947), 
pn = new N(null, "mode", "mode", 654403691), qn = new N("flow-runtime", "watch-entity", "flow-runtime/watch-entity", 73991307), rn = new N(null, "-webkit-justify-content", "-webkit-justify-content", 205818059), sn = new N(null, "width", "width", -384071477), tn = new N(null, "start", "start", -355208981), un = new N(null, "background", "background", -863952629), vn = new N(null, "lines", "lines", -700165781), wn = new N(null, "months", "months", -45571637), xn = new N(null, "below-center", "below-center", 
-2126885397), yn = new N("flow-runtime", "start-process", "flow-runtime/start-process", 343540235), zn = new N(null, "params", "params", 710516235), An = new N(null, "on-blur", "on-blur", 814300747), Bn = new N("ui", "update-main-frame-pos", "ui/update-main-frame-pos", -1959856501), Cn = new r(null, "fn", "fn", 465265323, null), Dn = new N(null, "ul.chosen-results", "ul.chosen-results", -932618517), En = new N(null, "show-weeks?", "show-weeks?", -1563135221), Fn = new N(null, "arcs", "arcs", -33755349), 
Gn = new N(null, "max-iterations", "max-iterations", 2021275563), Hn = new N(null, "component-did-update", "component-did-update", -1468549173), In = new N("ui", "layout", "ui/layout", -2120937493), Jn = new N(null, "entities", "entities", 1940967403), Kn = new N("ui", "close-modal", "ui/close-modal", -1882193941), Ln = new N(null, "pos", "pos", -864607220), Qn = new N(null, "days", "days", -1394072564), Rn = new N(null, "graph-ui", "graph-ui", -934647764), Sn = new N(null, "between", "between", 
1131099276), hi = new N(null, "val", "val", 128701612), Tn = new N(null, "cursor", "cursor", 1011937484), Un = new N(null, "format-str", "format-str", 695206156), Vn = new N("flow-runtime", "output-port", "flow-runtime/output-port", 184676620), Wn = new N(null, "writing", "writing", -1486865108), Xn = new r("cljs.pprint", "*print-suppress-namespaces*", "cljs.pprint/*print-suppress-namespaces*", 1649488204, null), Yn = new N(null, "below-left", "below-left", 1233934732), Zn = new N(null, "weekyear", 
"weekyear", -74064500), $n = new N(null, "type", "type", 1174270348), ao = new r(null, "pretty-writer", "pretty-writer", 417697260, null), bo = new N(null, "interaction", "interaction", -2143888916), co = new N(null, "procedure", "procedure", 176722572), eo = new N(null, "flex", "flex", -1425124628), fo = new N(null, "regex-filter?", "regex-filter?", -824895668), go = new N(null, "parameter-from-args", "parameter-from-args", -758446196), ho = new r(null, "do", "do", 1686842252, null), io = new N(null, 
"done-nl", "done-nl", -381024340), jo = new r(null, "when-not", "when-not", -1223136340, null), ko = new N(null, "suppress-namespaces", "suppress-namespaces", 2130686956), lo = new r(null, "when", "when", 1064114221, null), mo = new N(null, "basic-time", "basic-time", -923134899), no = new r(null, "localDateParser", "localDateParser", 477820077, null), oo = new N("context", "add-node", "context/add-node", 2013361357), po = new N(null, "points", "points", -1486596883), qo = new N(null, "tabSize", 
"tabSize", 1424875757), ro = new N(null, "h3.popover-title", "h3.popover-title", 126205197), so = new N(null, "choices", "choices", 1385611597), ci = new N(null, "fallback-impl", "fallback-impl", -1501286995), to = new r(null, "meta15553", "meta15553", -1411819091, null), uo = new N(null, "underline?", "underline?", -1123247603), vo = new N(null, "backdrop-color", "backdrop-color", 1921200717), wo = new N(null, "b-border", "b-border", -1277965683), xo = new N(null, "initialize-flow-runtime", "initialize-flow-runtime", 
1443691341), Xa = new N(null, "flush-on-newline", "flush-on-newline", -151457939), yo = new N(null, "max-width", "max-width", -1939924051), zo = new N(null, "relative-to", "relative-to", -470100051), Ao = new N(null, "componentWillUnmount", "componentWillUnmount", 1573788814), Bo = new N(null, "port", "port", 1534937262), Co = new N(null, "string", "string", -1989541586), Do = new N(null, "id-fn", "id-fn", 316222798), Eo = new N(null, "vector", "vector", 1902966158), Fo = new N(null, "hour-minute-second", 
"hour-minute-second", -1906654770), Go = new N(null, "extraKeys", "extraKeys", 1380834830), Ho = new N(null, "radius", "radius", -2073122258), Io = new r(null, "defn", "defn", -126010802, null), Jo = new N(null, "ordinal-date-time", "ordinal-date-time", -1386753458), Ko = new r(null, "letfn*", "letfn*", -110097810, null), Lo = new r(null, "capped", "capped", -1650988402, null), Mo = new N(null, "e", "e", 1381269198), No = new N(null, "borderWidth", "borderWidth", 1775770350), Oo = new N(null, "seconds", 
"seconds", -445266194), Po = new N(null, "close-callback", "close-callback", 651188974), Qo = new r(null, "if", "if", 1181717262, null), Ro = new N(null, "border-left", "border-left", -1150760178), So = new N(null, "modal", "modal", -1031880850), To = new r(null, "dateParser", "dateParser", -1248418930, null), Uo = new N(null, "randomSeed", "randomSeed", 504056750), Vo = new N(null, "hint-ctx", "hint-ctx", 1388403630), Wo = new N(null, "ordinal-date-time-no-ms", "ordinal-date-time-no-ms", -1539005490), 
Xo = new N(null, "on-mouse-down", "on-mouse-down", 1147755470), Yo = new N("flow-runtime", "change-port-type", "flow-runtime/change-port-type", 1156119502), Zo = new N(null, "char-format", "char-format", -1016499218), $o = new N(null, "start-col", "start-col", 668080143), ap = new N(null, "spill", "spill", -1725816817), bp = new N(null, "padding-right", "padding-right", -1250249681), cp = new N("flow-runtime", "add-entity", "flow-runtime/add-entity", 51829839), dp = new N(null, "radix", "radix", 
857016463), ep = new r(null, "new", "new", -444906321, null), fp = new N(null, "on-click", "on-click", 1632826543), vi = new N(null, "descendants", "descendants", 1824886031), gp = new N(null, "colon-up-arrow", "colon-up-arrow", 244853007), hp = new N(null, "hour-minute-second-ms", "hour-minute-second-ms", 1209749775), ip = new N(null, "canvas", "canvas", -1798817489), jp = new r(null, "ns", "ns", 2082130287, null), kp = new N(null, "font", "font", -1506159249), lp = new N(null, "size", "size", 1098693007), 
mp = new N(null, "physics", "physics", -1254209137), np = new N(null, "k", "k", -2146297393), op = new N(null, "title", "title", 636505583), pp = new N(null, "running", "running", 1554969103), qp = new N(null, "level4", "level4", 1467985519), rp = new r(null, "meta15905", "meta15905", -1749454161, null), sp = new N(null, "prefix", "prefix", -265908465), tp = new N(null, "column", "column", 2078222095), up = new N(null, "colon", "colon", -965200945), vp = new N(null, "center", "center", -748944368), 
wp = new N(null, "shouldComponentUpdate", "shouldComponentUpdate", 1795750960), wi = new N(null, "ancestors", "ancestors", -776045424), xp = new N(null, "div.popover.fade.in", "div.popover.fade.in", -106226512), yp = new N(null, "time-parser", "time-parser", -1636511536), zp = new N(null, "flush-dom", "flush-dom", -933676816), Ap = new N(null, "small", "small", 2133478704), Bp = new N(null, "style", "style", -496642736), Cp = new N(null, "theme", "theme", -1247880880), Dp = new N(null, "textarea", 
"textarea", -650375824), Ep = new N(null, "stream", "stream", 1534941648), Fp = new N(null, "input-type", "input-type", 856973840), Gp = new N(null, "level", "level", 1290497552), Hp = new N("flow-runtime", "remove-process-port", "flow-runtime/remove-process-port", -1940341200), Ip = new r(null, "*print-radix*", "*print-radix*", 1168517744, null), Jp = new N(null, "rows", "rows", 850049680), Kp = new N("ui", "code-mirror-defaults", "ui/code-mirror-defaults", 1645094576), Lp = new N(null, "on-key-up", 
"on-key-up", 884441808), Mp = new N(null, "div", "div", 1057191632), Ya = new N(null, "readably", "readably", 1129599760), Np = new N(null, "showing?", "showing?", 2094921488), Op = new N(null, "date-time-parser", "date-time-parser", -656147568), Pp = new N(null, "right-bracket", "right-bracket", 951856080), Qp = new N("flow-runtime", "graph", "flow-runtime/graph", 1960894448), Rp = new N(null, "h4", "h4", 2004862993), Uh = new N(null, "more-marker", "more-marker", -14717935), Sp = new N(null, "dispatch", 
"dispatch", 1319337009), Tp = new r(null, "fields", "fields", -291534703, null), Up = new N("flow-editor.views.entity", "initial", "flow-editor.views.entity/initial", 1927379121), Vp = new N(null, "year", "year", 335913393), Ah = new N(null, "reagentRender", "reagentRender", -358306383), Wp = new N("ui", "update-graph-width", "ui/update-graph-width", 944241073), Xp = new N("flow-runtime-ui", "set-node-positions", "flow-runtime-ui/set-node-positions", -1013534223), Yp = new N(null, "arrow-gap", "arrow-gap", 
1490206257), Zp = new N("flow-runtime", "process-port-connection", "flow-runtime/process-port-connection", 1127766609), $p = new N(null, "t-time-no-ms", "t-time-no-ms", 990689905), aq = new r("cljs.pprint", "*print-right-margin*", "cljs.pprint/*print-right-margin*", -56183119, null), bq = new r(null, "dateElementParser", "dateElementParser", 984800945, null), cq = new N(null, "warning", "warning", -1685650671), dq = new N(null, "basic-week-date-time-no-ms", "basic-week-date-time-no-ms", -2043113679), 
eq = new r("cljs.core", "*print-length*", "cljs.core/*print-length*", -20766927, null), fq = new N(null, "viewportMargin", "viewportMargin", 948056881), gq = new r(null, "localDateOptionalTimeParser", "localDateOptionalTimeParser", 435955537, null), hq = new r(null, "cljs.pprint", "cljs.pprint", -966900911, null), iq = new N(null, "ports", "ports", -1014790862), jq = new N(null, "no-cache", "no-cache", 1588056370), zh = new N(null, "render", "render", -1408033454), kq = new N(null, "basic-date", 
"basic-date", 1566551506), lq = new N("flow-runtime", "set-current-value", "flow-runtime/set-current-value", 1775741426), mq = new r(null, "deftype*", "deftype*", 962659890, null), nq = new r(null, "let*", "let*", 1920721458, null), oq = new N("flow-editor.views.entity", "current", "flow-editor.views.entity/current", -889581998), pq = new r(null, "struct-map", "struct-map", -1387540878, null), qq = new N("ui", "modal", "ui/modal", -1031876974), rq = new N(null, "right-center", "right-center", 2147253074), 
sq = new N(null, "danger", "danger", -624338030), tq = new N(null, "undo", "undo", -1818036302), uq = new N(null, "padchar", "padchar", 2018584530), vq = new N("flow-runtime", "unwatch-entity", "flow-runtime/unwatch-entity", 572207058), wq = new N(null, "z-index", "z-index", 1892827090), xq = new r(null, "js*", "js*", -1134233646, null), yq = new r(null, "dotimes", "dotimes", -818708397, null), zq = new N(null, "buffer-blob", "buffer-blob", -1830112173), Aq = new N(null, "reagent-render", "reagent-render", 
-985383853), Bq = new N(null, "nodes", "nodes", -2099585805), Cq = new r(null, "*print-lines*", "*print-lines*", 75920659, null), Dq = new N(null, "pointer", "pointer", 85071187), Eq = new N(null, "dynamic", "dynamic", 704819571), Fq = new N(null, "buffering", "buffering", -876713613), Gq = new N(null, "line", "line", 212345235), Hq = new N(null, "evaled-JSON", "evaled-JSON", -599277037), Iq = new N(null, "stroke-width", "stroke-width", 716836435), Jq = new r(null, "with-open", "with-open", 172119667, 
null), Kq = new N(null, "list", "list", 765357683), Lq = new r(null, "fn*", "fn*", -752876845, null), Mq = new N(null, "right-params", "right-params", -1790676237), Nq = new r(null, "defonce", "defonce", -1681484013, null), Oq = new N(null, "initialize-local-storage-key", "initialize-local-storage-key", -309940461), Qq = new N(null, "ui", "ui", -469653645), Rq = new r(null, "recur", "recur", 1202958259, null), Sq = new N(null, "weekyear-week", "weekyear-week", 795291571), Tq = new r(null, "*print-miser-width*", 
"*print-miser-width*", 1206624211, null), Uq = new N(null, "status", "status", -1997798413), Vq = new N(null, "scroll", "scroll", 971553779), Wq = new N("ui", "minimized-exit", "ui/minimized-exit", -2047586317), Xq = new N(null, "larger", "larger", 1304935444), Yq = new N(null, "from", "from", 1815293044), Zq = new N(null, "l-border", "l-border", 383143028), $q = new r(null, "defn-", "defn-", 1097765044, null), ar = new N(null, "vertical?", "vertical?", -1522630444), ab = new N(null, "print-length", 
"print-length", 1931866356), br = new N("flow-runtime", "remove-process", "flow-runtime/remove-process", -1256217324), cr = new N(null, "max", "max", 61366548), dr = new N(null, "trailing-white-space", "trailing-white-space", 1496006996), er = new N(null, "local-date", "local-date", 1829761428), fr = new N(null, "strokeWidth", "strokeWidth", -2130848332), gr = new N(null, "opacity", "opacity", 397153780), hr = new N(null, "basic-ordinal-date-time-no-ms", "basic-ordinal-date-time-no-ms", -395135436), 
ir = new N(null, "label", "label", 1718410804), jr = new N(null, "id", "id", -1388402092), kr = new N(null, "div.chosen-search", "div.chosen-search", -210987404), lr = new N(null, "class", "class", -2030961996), mr = new N(null, "runtime", "runtime", -1331573996), nr = new N(null, "mincol", "mincol", 1230695445), or = new r("clojure.core", "deref", "clojure.core/deref", 188719157, null), pr = new N("ui", "main-frame-dimensions", "ui/main-frame-dimensions", -2091412395), qr = new N(null, "opts", "opts", 
155075701), rr = new N(null, "year-month", "year-month", 735283381), sr = new N(null, "minpad", "minpad", 323570901), tr = new N("graph-ui", "set-mode", "graph-ui/set-mode", 1017107733), ur = new N(null, "minimum", "minimum", -1621006059), vr = new N(null, "padding", "padding", 1660304693), wr = new N(null, "current", "current", -1088038603), xr = new N(null, "at", "at", 1476951349), yr = new N(null, "off", "off", 606440789), zr = new N(null, "deref", "deref", -145586795), Ar = new N(null, "auto-run", 
"auto-run", 1958400437), ui = new N(null, "parents", "parents", -2027538891), Br = new N(null, "graph", "graph", 1558099509), Cr = new N(null, "count", "count", 2139924085), Dr = new N(null, "per-line-prefix", "per-line-prefix", 846941813), Er = new N(null, "context-menu", "context-menu", -1002713451), Fr = new N(null, "change-on-blur?", "change-on-blur?", 854283925), Gr = new N(null, "right-above", "right-above", 832458485), Hr = new N("flow-runtime", "add-process", "flow-runtime/add-process", 1345989397), 
Ir = new N(null, "run-queue", "run-queue", -1701798027), Jr = new N(null, "tooltip-position", "tooltip-position", 936197013), Kr = new N(null, "div.popover-content", "div.popover-content", 1045719989), Lr = new N(null, "justify-content", "justify-content", -1990475787), Mr = new N(null, "component-will-unmount", "component-will-unmount", -2058314698), Nr = new N(null, "shape", "shape", 1190694006), Or = new N(null, "colnum", "colnum", 2023796854), Pr = new N(null, "svg", "svg", 856789142), Qr = new N("ui", 
"minimized-enter", "ui/minimized-enter", -2010796906), Rr = new N(null, "iterations", "iterations", -1402710890), Sr = new N("graph-ui", "close-context-menu", "graph-ui/close-context-menu", -760853290), Tr = new N(null, "gap", "gap", 80255254), Ur = new N(null, "info", "info", -317069002), Vr = new r("cljs.core", "*print-readably*", "cljs.core/*print-readably*", -354670250, null), Wr = new N(null, "t-border", "t-border", 1110748502), Xr = new N("graph-ui", "open-context-menu", "graph-ui/open-context-menu", 
162360662), Yr = new N(null, "code", "code", 1586293142), Zr = new N(null, "strokeColor", "strokeColor", -1017463338), $r = new N(null, "length", "length", 588987862), as = new N(null, "overflow-x", "overflow-x", -26547754), bs = new r(null, "loop", "loop", 1244978678, null), cs = new N(null, "selectable-fn", "selectable-fn", -1997365738), ds = new N(null, "multiselect", "multiselect", -846082506), es = new r("clojure.core", "unquote", "clojure.core/unquote", 843087510, null), fs = new N(null, "overflowchar", 
"overflowchar", -1620088106), gs = new r(null, "dateTimeParser", "dateTimeParser", -1493718282, null), hs = new N(null, "b", "b", 1482224470), is = new N(null, "backdrop-on-click", "backdrop-on-click", -1460240426), js = new r(null, "meta15953", "meta15953", -630755338, null), ks = new N(null, "local-date-opt-time", "local-date-opt-time", 1178432599), ls = new N(null, "end-line", "end-line", 1837326455), ms = new N(null, "validation-regex", "validation-regex", -197064361), ns = new N(null, "left-below", 
"left-below", 1290111351), os = new r(null, "condp", "condp", 1054325175, null), ps = new N(null, "display-name", "display-name", 694513143), qs = new N(null, "right", "right", -452581833), rs = new N(null, "scheduled", "scheduled", 553898551), ss = new N(null, "hours", "hours", 58380855), ts = new N(null, "colinc", "colinc", -584873385), us = new N(null, "undos?", "undos?", -1094259081), vs = new N(null, "text-shadow", "text-shadow", 116733623), ws = new N(null, "years", "years", -1298579689), xs = 
new N(null, "week-date", "week-date", -1176745129), ys = new r(null, "cond", "cond", 1606708055, null), zs = new N(null, "display", "display", 242065432), As = new N("ui", "open-modal", "ui/open-modal", 947789880), Bs = new N(null, "position", "position", -2011731912), Cs = new N(null, "changes", "changes", 1492088), Ds = new N(null, "filter-box?", "filter-box?", -1157583688), Es = new N(null, "on-dispose", "on-dispose", 2105306360), Fs = new N(null, "both", "both", -393648840), Gs = new N(null, 
"d", "d", 1972142424), Hs = new N(null, "validate-fn", "validate-fn", 1430169944), Is = new r(null, "binding", "binding", -2114503176, null), Js = new N(null, "pause", "pause", -2095325672), Ks = new N(null, "error", "error", -978969032), Ls = new N("flow-runtime", "entity-value-changed", "flow-runtime/entity-value-changed", -1396105672), Ms = new N(null, "DOM", "DOM", 256811640), Ns = new N(null, "purge-redos", "purge-redos", 1815721624), Os = new N(null, "br", "br", 934104792), Ps = new N(null, 
"on", "on", 173873944), Qs = new N(null, "class-name", "class-name", 945142584), Rs = new r(null, "with-local-vars", "with-local-vars", 837642072, null), Ss = new N(null, "def", "def", -1043430536), Bh = new N(null, "componentFunction", "componentFunction", 825866104), Ts = new N(null, "on-mouse-over", "on-mouse-over", -858472552), Us = new N(null, "exception", "exception", -335277064), Vs = new r(null, "defmacro", "defmacro", 2054157304, null), Ws = new N(null, "closeable?", "closeable?", 1490064409), 
Xs = new N(null, "scrollbarStyle", "scrollbarStyle", -963515367), Ys = new N(null, "showTrailingSpace", "showTrailingSpace", 1619882009), Zs = new N("flow-runtime", "connect-port", "flow-runtime/connect-port", 1953356025), $s = new N(null, "x", "x", 2099068185), at = new N(null, "child", "child", 623967545), bt = new N(null, "middle", "middle", -701029031), ct = new r(null, "set!", "set!", 250714521, null), dt = new N(null, "clauses", "clauses", 1454841241), et = new N(null, "indent-t", "indent-t", 
528318969), ft = new N(null, "date-hour", "date-hour", -344234471), gt = new N("flow-runtime", "log-entity", "flow-runtime/log-entity", -1780735239), ht = new N("flow-runtime", "rename-port", "flow-runtime/rename-port", -441238791), it = new N(null, "anchor", "anchor", 1549638489), jt = new N(null, "input", "input", 556931961), kt = new r("cljs.pprint", "*print-circle*", "cljs.pprint/*print-circle*", 1606185849, null), lt = new N(null, "linear", "linear", 872268697), mt = new N(null, "seq", "seq", 
-1817803783), nt = new r(null, "locking", "locking", 1542862874, null), ot = new r(null, ".", ".", 1975675962, null), pt = new r(null, "*print-right-margin*", "*print-right-margin*", -437272454, null), qt = new N(null, "first", "first", -644103046), rt = new r(null, "var", "var", 870848730, null), st = new N(null, "json", "json", 1279968570), of = new r(null, "quote", "quote", 1377916282, null), tt = new N(null, "bracket-info", "bracket-info", -1600092774), ut = new N(null, "groups", "groups", -136896102), 
vt = new N(null, "set", "set", 304602554), wt = new N(null, "minutes", "minutes", 1319166394), xt = new N(null, "above", "above", -1286866470), yt = new N(null, "base-args", "base-args", -1268706822), zt = new N(null, "pretty", "pretty", -1916372486), At = new N(null, "align-self", "align-self", 1475936794), Bt = new N(null, "margin-right", "margin-right", 809689658), Ct = new r(null, "lb", "lb", 950310490, null), Dt = new N(null, "end", "end", -268185958), Et = new N(null, "not-implemented", "not-implemented", 
1918806714), Ft = new N(null, "component-function", "component-function", 654728922), Gt = new N(null, "logical-block-callback", "logical-block-callback", 1612691194), Ht = new N("graph-ui", "context-menu", "graph-ui/context-menu", -700744934), It = new N(null, "base", "base", 185279322), nf = new N(null, "arglists", "arglists", 1661989754), Jt = new N("graph-ui", "set-new-node-position", "graph-ui/set-new-node-position", -1407779942), Kt = new r(null, "if-let", "if-let", 1803593690, null), Lt = 
new N(null, "groupEnd", "groupEnd", -337721382), mf = new r(null, "nil-iter", "nil-iter", 1101030523, null), Mt = new r(null, "*print-readably*", "*print-readably*", -761361221, null), Nt = new r(null, "capitalize-word-writer", "capitalize-word-writer", 196688059, null), Ot = new N(null, "on-change", "on-change", -732046149), Pt = new N(null, "undo-explanations", "undo-explanations", 942251259), Qt = new N(null, "autobind", "autobind", -570650245), Rt = new N(null, "hierarchy", "hierarchy", -1053470341), 
St = new N(null, "iter", "iter", 1308240283), Tt = new r(null, "catch", "catch", -1616370245, null), Ut = new N(null, "border", "border", 1444987323), Vt = new N(null, "shadow", "shadow", 873231803), Wt = new N(null, "redo-explanations", "redo-explanations", -1933832741), Xt = new N(null, "buffer-level", "buffer-level", 928864731), Yt = new N(null, "intra-block-nl", "intra-block-nl", 1808826875), Zt = new N(null, "group-fn", "group-fn", 129203707), $t = new N(null, "on-key-down", "on-key-down", -1374733765), 
au = new N(null, "body", "body", -2049205669), bu = new N(null, "border-top", "border-top", -158897573), cu = new N(null, "disabled?", "disabled?", -1523234181), du = new N(null, "autostart", "autostart", -2028194117), eu = new N(null, "separator", "separator", -1628749125), fu = new N(null, "flags", "flags", 1775418075), bi = new N(null, "alt-impl", "alt-impl", 670969595), gu = new N(null, "new-node-position", "new-node-position", 3727099), hu = new N(null, "resume", "resume", -118572261), iu = 
new N(null, "overflow-y", "overflow-y", -1436589285), ju = new N(null, "border-radius", "border-radius", 419594011), ku = new r(null, "writer", "writer", 1362963291, null), lu = new N(null, "time-element-parser", "time-element-parser", -2042883205), mu = new N(null, "doc", "doc", 1913296891), nu = new N(null, "globalVars", "globalVars", 2016506875), ou = new N(null, "on-cancel", "on-cancel", -2071892932), pu = new N(null, "directive", "directive", 793559132), qu = new N(null, "date-hour-minute-second", 
"date-hour-minute-second", -1565419364), ru = new N(null, "logical-block", "logical-block", -581022564), su = new N(null, "polyline", "polyline", -1731551044), tu = new N("flow-runtime", "set-process-async", "flow-runtime/set-process-async", 662306012), uu = new N(null, "stretch", "stretch", -1888837380), vu = new N(null, "code-mirror-defaults", "code-mirror-defaults", 1645092124), wu = new N(null, "week-date-time-no-ms", "week-date-time-no-ms", -1226853060), xu = new N(null, "entity", "entity", 
-450970276), yu = new N(null, "last", "last", 1105735132), zu = new N(null, "v-scroll", "v-scroll", -1842185668), Au = new N(null, "enabled", "enabled", 1195909756), Bu = new N(null, "below-right", "below-right", 1598040732), Cu = new N(null, "status-icon?", "status-icon?", 1328423612), Du = new N(null, "auto", "auto", -566279492), ri = new N(null, "keywordize-keys", "keywordize-keys", 1310784252), Eu = new N(null, "processes", "processes", -546984164), Fu = new N(null, "jsdoc", "jsdoc", 1745183516), 
Gu = new r("cljs.pprint", "*print-lines*", "cljs.pprint/*print-lines*", 534683484, null), Hu = new N("modals", "add-entity", "modals/add-entity", 716223356), Iu = new N(null, "log", "log", -1595516004), Ju = new N(null, "up-arrow", "up-arrow", 1705310333), Ku = new N("flow-runtime", "runtime", "flow-runtime/runtime", 1756587197), Lu = new N(null, "margin-bottom", "margin-bottom", 388334941), Mu = new N(null, "below", "below", -926774883), Nu = new N(null, "type-tag", "type-tag", -1873863267), Ou = 
new N(null, "weeks", "weeks", 1844596125), Pu = new N(null, "minimized?", "minimized?", 1807883709), Qu = new N(null, "level1", "level1", 813811133), Ru = new N(null, "graph-width", "graph-width", -266177091), Su = new N(null, "map", "map", 1371690461), Tu = new N(null, "borderWidthSelected", "borderWidthSelected", 1665059357), Uu = new N(null, "finish-run", "finish-run", 753148477), Vu = new N(null, "basic-date-time-no-ms", "basic-date-time-no-ms", -899402179), Wu = new N(null, "min-remaining", 
"min-remaining", 962687677), Xu = new N(null, "componentWillMount", "componentWillMount", -285327619), Yu = new N(null, "millis", "millis", -1338288387), Zu = new N(null, "edges", "edges", -694791395), $u = new N(null, "i", "i", -1386841315), av = new N(null, "test", "test", 577538877), bv = new N(null, "rest", "rest", -1241696419), cv = new N(null, "lineNumbers", "lineNumbers", 1374890941), dv = new N("flow-runtime", "entity-value", "flow-runtime/entity-value", 958355389), ev = new N(null, "dashes", 
"dashes", 1651255293), fv = new N(null, "href", "href", -793805698), gv = new r(null, "throw", "throw", 595905694, null), hv = new N(null, "arg1", "arg1", 951899358), iv = new N(null, "tooltip", "tooltip", -1809677058), jv = new N(null, "required", "required", 1807647006), kv = new N(null, "none", "none", 1333468478), lv = new N(null, "nl-t", "nl-t", -1608382114), mv = new N(null, "buffer", "buffer", 617295198), nv = new N(null, "start-pos", "start-pos", 668789086), ov = new N(null, "redos?", "redos?", 
1340247550), pv = new N(null, "max-columns", "max-columns", 1742323262), qv = new N(null, "above-right", "above-right", 791010942), rv = new N(null, "mysql", "mysql", -1431590210), sv = new N(null, "start-block-t", "start-block-t", -373430594), tv = new N(null, "exponentchar", "exponentchar", 1986664222), uv = new N(null, "message", "message", -406056002), vv = new N(null, "time-zone", "time-zone", -1838760002), wv = new N(null, "old", "old", -1825222690), xv = new N(null, "height", "height", 1025178622), 
yv = new N(null, "end-block-t", "end-block-t", 1544648735), zv = new N(null, "border-bottom", "border-bottom", 2110948415), Av = new N(null, "heading", "heading", -1312171873), Bv = new N("flow-runtime", "all-processes", "flow-runtime/all-processes", 852752575), Cv = new N(null, "around", "around", -265975553), Dv = new N(null, "basic-t-time", "basic-t-time", 191791391), Ev = new N(null, "left", "left", -399115937), Fv = new r(null, "meta15935", "meta15935", 2112799103, null), Ch = new N("cljs.core", 
"not-found", "cljs.core/not-found", -1572889185), Gv = new r(null, "def", "def", 597100991, null), Hv = new N(null, "autoCloseBrackets", "autoCloseBrackets", 1157493311), Iv = new r(null, "*print-base*", "*print-base*", 2037937791, null), Jv = new N(null, "span", "span", 1394872991), Kv = new N(null, "show-today?", "show-today?", 513056415), Lv = new N(null, "to", "to", 192099007), Mv = new N(null, "status-tooltip", "status-tooltip", 1912159007), Nv = new N("ui", "init-main-frame-dimensions", "ui/init-main-frame-dimensions", 
-849249505), Ov = new N(null, "flex-flow", "flex-flow", 544537375), Pv = new N(null, "margin", "margin", -995903681), Qv = new N(null, "data", "data", -232669377), Rv = new N(null, "model", "model", 331153215), Sv = new N("flow-runtime", "edit-entity-json", "flow-runtime/edit-entity-json", -325927041), Tv = new N(null, "commachar", "commachar", 652859327), Uv = new N(null, "tooltip-style?", "tooltip-style?", 1188162527), Vv = new N(null, "attr", "attr", -604132353), Wv = new r(null, "downcase-writer", 
"downcase-writer", 37286911, null);
var Xv = "undefined" !== typeof console;
if ("undefined" === typeof Yv) {
  var Yv = xf ? xf(null) : wf.call(null, null)
}
if ("undefined" === typeof Zv) {
  var Zv = function() {
    var a = {};
    a.warn = function() {
      return function() {
        function a(b) {
          var e = null;
          if (0 < arguments.length) {
            for (var e = 0, f = Array(arguments.length - 0);e < f.length;) {
              f[e] = arguments[e + 0], ++e;
            }
            e = new B(f, 0);
          }
          return c.call(this, e);
        }
        function c(a) {
          return Af.j(Yv, Vf, new R(null, 1, 5, S, [fm], null), Id, L([cf(p, a)], 0));
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return c(a);
        };
        a.j = c;
        return a;
      }();
    }(a);
    a.error = function() {
      return function() {
        function a(b) {
          var e = null;
          if (0 < arguments.length) {
            for (var e = 0, f = Array(arguments.length - 0);e < f.length;) {
              f[e] = arguments[e + 0], ++e;
            }
            e = new B(f, 0);
          }
          return c.call(this, e);
        }
        function c(a) {
          return Af.j(Yv, Vf, new R(null, 1, 5, S, [Ks], null), Id, L([cf(p, a)], 0));
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return c(a);
        };
        a.j = c;
        return a;
      }();
    }(a);
    return a;
  }()
}
;function $v(a) {
  return function() {
    function b(a) {
      var b = null;
      if (0 < arguments.length) {
        for (var b = 0, f = Array(arguments.length - 0);b < f.length;) {
          f[b] = arguments[b + 0], ++b;
        }
        b = new B(f, 0);
      }
      return c.call(this, b);
    }
    function c(b) {
      b = Ff(2, b);
      if (x.h(I(b), 1)) {
        return b = D(b), a.c ? a.c(b) : a.call(null, b);
      }
      b = ng(b);
      return a.c ? a.c(b) : a.call(null, b);
    }
    b.D = 0;
    b.C = function(a) {
      a = z(a);
      return c(a);
    };
    b.j = c;
    return b;
  }();
}
function aw(a, b, c) {
  if ("string" === typeof b) {
    return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08"), "g"), c);
  }
  if (b instanceof RegExp) {
    return "string" === typeof c ? a.replace(new RegExp(b.source, "g"), c) : a.replace(new RegExp(b.source, "g"), $v(c));
  }
  throw [p("Invalid match arg: "), p(b)].join("");
}
function bw(a) {
  var b = new Fa;
  for (a = z(a);;) {
    if (null != a) {
      b = b.append("" + p(D(a))), a = E(a);
    } else {
      return b.toString();
    }
  }
}
function cw(a, b) {
  for (var c = new Fa, d = z(b);;) {
    if (null != d) {
      c.append("" + p(D(d))), d = E(d), null != d && c.append(a);
    } else {
      return c.toString();
    }
  }
}
function ew(a, b) {
  if (0 >= b || b >= 2 + I(a)) {
    return Id.h(ng(Ad("", Cf.h(p, z(a)))), "");
  }
  if (m(Ae ? ec(1, b) : ze.call(null, 1, b))) {
    return new R(null, 1, 5, S, [a], null);
  }
  if (m(Ae ? ec(2, b) : ze.call(null, 2, b))) {
    return new R(null, 2, 5, S, ["", a], null);
  }
  var c = b - 2;
  return Id.h(ng(Ad("", qg(ng(Cf.h(p, z(a))), 0, c))), a.substring(c));
}
function fw(a, b) {
  return gw(a, b, 0);
}
function gw(a, b, c) {
  if ("/(?:)/" === "" + p(b)) {
    b = ew(a, c);
  } else {
    if (1 > c) {
      b = ng(("" + p(a)).split(b));
    } else {
      a: {
        for (var d = c, e = Jd;;) {
          if (1 === d) {
            b = Id.h(e, a);
            break a;
          }
          var f = Qh(b, a);
          if (null != f) {
            var g = a.indexOf(f), f = a.substring(g + I(f)), d = d - 1, e = Id.h(e, a.substring(0, g));
            a = f;
          } else {
            b = Id.h(e, a);
            break a;
          }
        }
      }
    }
  }
  if (0 === c && 1 < I(b)) {
    a: {
      for (c = b;;) {
        if ("" === Rd(c)) {
          c = null == c ? null : Ub(c);
        } else {
          break a;
        }
      }
    }
  } else {
    c = b;
  }
  return c;
}
;if ("undefined" === typeof hw) {
  var iw;
  if ("undefined" !== typeof React) {
    iw = React;
  } else {
    var jw;
    if ("undefined" !== typeof require) {
      var kw = require("react");
      if (m(kw)) {
        jw = kw;
      } else {
        throw Error("require('react') failed");
      }
    } else {
      throw Error("js/React is missing");
    }
    iw = jw;
  }
  var hw = iw;
}
var lw = new Eh(null, new l(null, 2, ["aria", null, "data", null], null), null);
function mw(a) {
  return 2 > I(a) ? a.toUpperCase() : [p(a.substring(0, 1).toUpperCase()), p(a.substring(1))].join("");
}
function nw(a) {
  if ("string" === typeof a) {
    return a;
  }
  a = Pe(a);
  var b = fw(a, /-/), c = M(b, 0, null), b = Be(b, 1);
  return m(lw.c ? lw.c(c) : lw.call(null, c)) ? a : df(p, c, Cf.h(mw, b));
}
function ow(a) {
  var b = function() {
    var b = function() {
      var b = Od(a);
      return b ? (b = a.displayName, m(b) ? b : a.name) : b;
    }();
    if (m(b)) {
      return b;
    }
    b = function() {
      var b = null != a ? a.L & 4096 || a.Zc ? !0 : !1 : !1;
      return b ? Pe(a) : b;
    }();
    if (m(b)) {
      return b;
    }
    b = Qd(a);
    return Xd(b) ? mm.c(b) : null;
  }();
  return aw("" + p(b), "$", ".");
}
var pw = !1;
var qw = {};
if ("undefined" === typeof rw) {
  var rw = 0
}
function sw(a) {
  return setTimeout(a, 16);
}
var tw = eb("undefined" !== typeof window && null != window.document) ? sw : function() {
  var a = window, b = a.requestAnimationFrame;
  if (m(b)) {
    return b;
  }
  b = a.webkitRequestAnimationFrame;
  if (m(b)) {
    return b;
  }
  b = a.mozRequestAnimationFrame;
  if (m(b)) {
    return b;
  }
  a = a.msRequestAnimationFrame;
  return m(a) ? a : sw;
}();
function uw(a, b) {
  return a.cljsMountOrder - b.cljsMountOrder;
}
if ("undefined" === typeof vw) {
  var vw = function() {
    return null;
  }
}
function ww(a) {
  this.uc = a;
}
ww.prototype.enqueue = function(a, b) {
  if (null == b) {
    throw Error("Assert failed: (some? f)");
  }
  null == this[a] && (this[a] = []);
  this[a].push(b);
  return xw(this);
};
function yw(a, b) {
  var c = a[b];
  if (null == c) {
    return null;
  }
  a[b] = null;
  for (var d = c.length, e = 0;;) {
    if (e < d) {
      c[e].call(null), e += 1;
    } else {
      return null;
    }
  }
}
function xw(a) {
  if (a.uc) {
    return null;
  }
  a.uc = !0;
  a = function(a) {
    return function() {
      a.uc = !1;
      yw(a, "beforeFlush");
      vw();
      var c = a.componentQueue;
      if (null != c) {
        a: {
          a.componentQueue = null, c.sort(uw);
          for (var d = c.length, e = 0;;) {
            if (e < d) {
              var f = c[e];
              !0 === f.cljsIsDirty && f.forceUpdate();
              e += 1;
            } else {
              break a;
            }
          }
        }
      }
      return yw(a, "afterRender");
    };
  }(a);
  return tw.c ? tw.c(a) : tw.call(null, a);
}
if ("undefined" === typeof zw) {
  var zw = new ww(!1)
}
function Aw(a) {
  if (m(a.cljsIsDirty)) {
    return null;
  }
  a.cljsIsDirty = !0;
  return zw.enqueue("componentQueue", a);
}
;function Bw(a, b) {
  return I(a) < I(b) ? qb(Id, b, a) : qb(Id, a, b);
}
var Cw = function Cw(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Cw.c(arguments[0]);
    case 2:
      return Cw.h(arguments[0], arguments[1]);
    default:
      return Cw.j(arguments[0], arguments[1], new B(c.slice(2), 0, null));
  }
};
Cw.c = function(a) {
  return a;
};
Cw.h = function(a, b) {
  return I(a) < I(b) ? qb(function(a, d) {
    return ie(b, d) ? Sd.h(a, d) : a;
  }, a, a) : qb(Sd, a, b);
};
Cw.j = function(a, b, c) {
  return qb(Cw, a, Id.h(c, b));
};
Cw.C = function(a) {
  var b = D(a), c = E(a);
  a = D(c);
  c = E(c);
  return Cw.j(b, a, c);
};
Cw.D = 2;
var Dw;
if ("undefined" === typeof Ew) {
  var Ew = !1
}
if ("undefined" === typeof Fw) {
  var Fw = 0
}
if ("undefined" === typeof Gw) {
  var Gw = xf ? xf(0) : wf.call(null, 0)
}
function Hw(a, b) {
  var c = Dw;
  Dw = a;
  try {
    return b.v ? b.v() : b.call(null);
  } finally {
    Dw = c;
  }
}
function Iw(a, b) {
  b.lc = null;
  b.Ae = Fw += 1;
  var c = Hw(b, a), d = b.lc;
  b.wb = !1;
  var e;
  a: {
    e = b.Ib;
    var f = null == d ? 0 : d.length, g = f === (null == e ? 0 : e.length);
    if (g) {
      for (g = 0;;) {
        var k = g === f;
        if (k) {
          e = k;
          break a;
        }
        if (d[g] === e[g]) {
          g += 1;
        } else {
          e = !1;
          break a;
        }
      }
    } else {
      e = g;
    }
  }
  if (!e) {
    a: {
      e = Ih(d);
      f = Ih(b.Ib);
      b.Ib = d;
      for (var d = z(Cw.h(e, f)), g = null, n = k = 0;;) {
        if (n < k) {
          var u = g.X(null, n);
          tc(u, b, Jw);
          n += 1;
        } else {
          if (d = z(d)) {
            g = d, $d(g) ? (d = Ec(g), n = Fc(g), g = d, k = I(d), d = n) : (d = D(g), tc(d, b, Jw), d = E(g), g = null, k = 0), n = 0;
          } else {
            break;
          }
        }
      }
      e = z(Cw.h(f, e));
      f = null;
      for (k = g = 0;;) {
        if (k < g) {
          d = f.X(null, k), uc(d, b), k += 1;
        } else {
          if (e = z(e)) {
            f = e, $d(f) ? (e = Ec(f), g = Fc(f), f = e, d = I(e), e = g, g = d) : (d = D(f), uc(d, b), e = E(f), f = null, g = 0), k = 0;
          } else {
            break a;
          }
        }
      }
    }
  }
  return c;
}
function Kw(a) {
  var b = Dw;
  if (null != b) {
    var c = b.lc;
    null == c ? b.lc = [a] : c.push(a);
  }
}
function Lw(a, b) {
  Ew && Af.l(Gw, te, I(b) - I(a));
  return b;
}
function Mw(a, b, c) {
  var d = a.Ka;
  a.Ka = Lw(d, Ld.l(d, b, c));
  return a.Sc = null;
}
function Nw(a, b) {
  var c = a.Ka;
  a.Ka = Lw(c, Nd.h(c, b));
  return a.Sc = null;
}
function Ow(a, b, c) {
  for (var d = a.Sc, d = null == d ? a.Sc = qe(function() {
    return function(a, b, c) {
      a.push(b);
      a.push(c);
      return a;
    };
  }(d), [], a.Ka) : d, e = d.length, f = 0;;) {
    if (f < e) {
      var g = d[f], k = d[f + 1];
      k.I ? k.I(g, a, b, c) : k.call(null, g, a, b, c);
      f = 2 + f;
    } else {
      return null;
    }
  }
}
function Pw(a, b, c, d) {
  q(b, [p("#\x3c"), p(d), p(" ")].join(""));
  var e;
  a: {
    d = Dw;
    Dw = null;
    try {
      e = Yb(a);
      break a;
    } finally {
      Dw = d;
    }
    e = void 0;
  }
  $h(e, b, c);
  return q(b, "\x3e");
}
if ("undefined" === typeof Qw) {
  var Qw = null
}
function Rw() {
  for (;;) {
    var a = Qw;
    if (null == a) {
      return null;
    }
    Qw = null;
    for (var b = a.length, c = 0;;) {
      if (c < b) {
        var d = a[c];
        d.wb && null != d.Ib && Sw(d, !0);
        c += 1;
      } else {
        break;
      }
    }
  }
}
vw = Rw;
function Tw() {
}
function Uw(a, b, c, d) {
  this.state = a;
  this.meta = b;
  this.Ub = c;
  this.Ka = d;
  this.o = 2153938944;
  this.L = 114690;
}
h = Uw.prototype;
h.ud = !0;
h.Z = function(a, b, c) {
  return Pw(this, b, c, "Atom:");
};
h.S = function() {
  return this.meta;
};
h.W = function() {
  return ka(this);
};
h.K = function(a, b) {
  return this === b;
};
h.Hc = function(a, b) {
  if (null != this.Ub && !m(this.Ub.c ? this.Ub.c(b) : this.Ub.call(null, b))) {
    throw Error([p("Assert failed: "), p("Validator rejected reference state"), p("\n"), p("(validator new-value)")].join(""));
  }
  var c = this.state;
  this.state = b;
  null != this.Ka && Ow(this, c, b);
  return b;
};
h.Ic = function(a, b) {
  return Jc(this, b.c ? b.c(this.state) : b.call(null, this.state));
};
h.Jc = function(a, b, c) {
  return Jc(this, b.h ? b.h(this.state, c) : b.call(null, this.state, c));
};
h.Kc = function(a, b, c, d) {
  return Jc(this, b.l ? b.l(this.state, c, d) : b.call(null, this.state, c, d));
};
h.Lc = function(a, b, c, d, e) {
  return Jc(this, gf(b, this.state, c, d, e));
};
h.qc = function(a, b, c) {
  return Ow(this, b, c);
};
h.pc = function(a, b, c) {
  return Mw(this, b, c);
};
h.rc = function(a, b) {
  return Nw(this, b);
};
h.tb = function() {
  Kw(this);
  return this.state;
};
var Vw = function Vw(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return Vw.c(arguments[0]);
    default:
      return Vw.j(arguments[0], new B(c.slice(1), 0, null));
  }
};
Vw.c = function(a) {
  return new Uw(a, null, null, null);
};
Vw.j = function(a, b) {
  var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, d = t.h(c, Za), c = t.h(c, zf);
  return new Uw(a, d, c, null);
};
Vw.C = function(a) {
  var b = D(a);
  a = E(a);
  return Vw.j(b, a);
};
Vw.D = 1;
var Ww = function Ww(b) {
  if (null != b && null != b.sd) {
    return b.sd();
  }
  var c = Ww[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Ww._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IDisposable.dispose!", b);
};
function Jw(a, b, c, d) {
  c === d || a.wb ? a = null : null == a.gb ? (a.wb = !0, null == Qw && (Qw = [], !1 === zw.uc && xw(zw)), a = Qw.push(a)) : a = !0 === a.gb ? Sw(a, !1) : a.gb.c ? a.gb.c(a) : a.gb.call(null, a);
  return a;
}
function Xw(a, b, c, d, e, f, g, k) {
  this.Qb = a;
  this.state = b;
  this.wb = c;
  this.fd = d;
  this.Ib = e;
  this.Ka = f;
  this.gb = g;
  this.zc = k;
  this.o = 2153807872;
  this.L = 114690;
}
function Yw(a) {
  var b = Dw;
  Dw = null;
  try {
    return a.tb(null);
  } finally {
    Dw = b;
  }
}
function Sw(a, b) {
  var c = a.state, d;
  if (m(b)) {
    var e = a.Qb;
    try {
      a.zc = null, d = Iw(e, a);
    } catch (f) {
      a.state = f, a.zc = f, d = a.wb = !1;
    }
  } else {
    d = Iw(a.Qb, a);
  }
  a.fd || (a.state = d, null == a.Ka || x.h(c, d) || Ow(a, c, d));
  return d;
}
function Zw(a, b) {
  var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, d = t.h(c, Ar), e = t.h(c, yj), f = t.h(c, Es), c = t.h(c, jq);
  null != d && (a.gb = d);
  null != e && (a.hd = e);
  null != f && (a.gd = f);
  null != c && (a.fd = c);
}
h = Xw.prototype;
h.ud = !0;
h.Z = function(a, b, c) {
  return Pw(this, b, c, [p("Reaction "), p(Xc(this)), p(":")].join(""));
};
h.W = function() {
  return ka(this);
};
h.K = function(a, b) {
  return this === b;
};
h.sd = function() {
  var a = this.state, b = this.Ib;
  this.gb = this.state = this.Ib = null;
  this.wb = !0;
  for (var b = z(Ih(b)), c = null, d = 0, e = 0;;) {
    if (e < d) {
      var f = c.X(null, e);
      uc(f, this);
      e += 1;
    } else {
      if (b = z(b)) {
        c = b, $d(c) ? (b = Ec(c), e = Fc(c), c = b, d = I(b), b = e) : (b = D(c), uc(b, this), b = E(c), c = null, d = 0), e = 0;
      } else {
        break;
      }
    }
  }
  return null != this.gd ? this.gd(a) : null;
};
h.Hc = function(a, b) {
  if (!Od(this.hd)) {
    throw Error([p("Assert failed: "), p("Reaction is read only."), p("\n"), p("(fn? (.-on-set a))")].join(""));
  }
  var c = this.state;
  this.state = b;
  this.hd(c, b);
  Ow(this, c, b);
  return b;
};
h.Ic = function(a, b) {
  var c;
  c = Yw(this);
  c = b.c ? b.c(c) : b.call(null, c);
  return Jc(this, c);
};
h.Jc = function(a, b, c) {
  a = Yw(this);
  b = b.h ? b.h(a, c) : b.call(null, a, c);
  return Jc(this, b);
};
h.Kc = function(a, b, c, d) {
  a = Yw(this);
  b = b.l ? b.l(a, c, d) : b.call(null, a, c, d);
  return Jc(this, b);
};
h.Lc = function(a, b, c, d, e) {
  return Jc(this, gf(b, Yw(this), c, d, e));
};
h.qc = function(a, b, c) {
  return Ow(this, b, c);
};
h.pc = function(a, b, c) {
  return Mw(this, b, c);
};
h.rc = function(a, b) {
  var c = Td(this.Ka);
  Nw(this, b);
  return !c && Td(this.Ka) && null == this.gb ? Ww(this) : null;
};
h.tb = function() {
  var a = this.zc;
  if (null != a) {
    throw a;
  }
  (a = null == Dw) && Rw();
  a && null == this.gb ? this.wb && (a = this.state, this.state = this.Qb.v ? this.Qb.v() : this.Qb.call(null), null == this.Ka || x.h(a, this.state) || Ow(this, a, this.state)) : (Kw(this), this.wb && Sw(this, !1));
  return this.state;
};
function $w(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  return ax(arguments[0], 1 < b.length ? new B(b.slice(1), 0, null) : null);
}
function ax(a, b) {
  var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, d = t.h(c, Ar), e = t.h(c, yj), c = t.h(c, Es), f = new Xw(a, null, !0, !1, null, null, null, null);
  Zw(f, new l(null, 3, [Ar, d, yj, e, Es, c], null));
  return f;
}
var bx = $w(null);
function cx(a, b) {
  var c = dx, d = bx, e = Iw(a, d);
  null != d.Ib && (bx = $w(null), Zw(d, c), d.Qb = a, d.gb = function() {
    return function() {
      return Aw.c ? Aw.c(b) : Aw.call(null, b);
    };
  }(d, e), b.cljsRatom = d);
  return e;
}
function ex(a) {
  var b = {};
  a = Hw(b, a);
  return new R(null, 2, 5, S, [a, null != b.lc], null);
}
;var fx;
function gx(a) {
  for (var b = ae(a), c = b.length, d = T, e = 0;;) {
    if (e < c) {
      var f = b[e], d = Ld.l(d, Oe.c(f), a[f]), e = e + 1
    } else {
      return d;
    }
  }
}
function hx(a, b) {
  var c = b.argv;
  return null == c ? new R(null, 2, 5, S, [a.constructor, gx(b)], null) : c;
}
function ix(a) {
  var b;
  if (b = Od(a)) {
    a = null == a ? null : a.prototype, b = null != (null == a ? null : a.reagentRender);
  }
  return b;
}
function jx(a) {
  var b;
  if (b = Od(a)) {
    a = null == a ? null : a.prototype, b = null != (null == a ? null : a.render);
  }
  return b;
}
function kx(a) {
  return null != a.reagentRender;
}
function lx(a) {
  var b = a.cljsState;
  return null != b ? b : a.cljsState = Vw.c(null);
}
function mx(a) {
  for (;;) {
    var b = a.reagentRender, c;
    if (ge(b)) {
      c = null;
    } else {
      throw Error("Assert failed: (ifn? f)");
    }
    var d = !0 === a.cljsLegacyRender ? b.call(a, a) : function() {
      var c = hx(a, a.props);
      switch(I(c)) {
        case 1:
          return b.call(a);
        case 2:
          return b.call(a, ud(c, 1));
        case 3:
          return b.call(a, ud(c, 1), ud(c, 2));
        case 4:
          return b.call(a, ud(c, 1), ud(c, 2), ud(c, 3));
        case 5:
          return b.call(a, ud(c, 1), ud(c, 2), ud(c, 3), ud(c, 4));
        default:
          return b.apply(a, ob(c).slice(1));
      }
    }();
    if (Zd(d)) {
      return nx(d);
    }
    if (ge(d)) {
      c = ix(d) ? function(a, b, c, d) {
        return function() {
          function a(c) {
            var d = null;
            if (0 < arguments.length) {
              for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                e[d] = arguments[d + 0], ++d;
              }
              d = new B(e, 0);
            }
            return b.call(this, d);
          }
          function b(a) {
            return nx(df(og, d, a));
          }
          a.D = 0;
          a.C = function(a) {
            a = z(a);
            return b(a);
          };
          a.j = b;
          return a;
        }();
      }(a, b, c, d) : d, a.reagentRender = c;
    } else {
      return d;
    }
  }
}
var dx = new l(null, 1, [jq, !0], null), px = new l(null, 1, [zh, function() {
  var a = this.cljsRatom;
  this.cljsIsDirty = !1;
  return null == a ? cx(function(a, c) {
    return function() {
      var a;
      a: {
        var b = fx;
        fx = c;
        try {
          var f = [!1];
          try {
            var g = mx(c);
            f[0] = !0;
            a = g;
            break a;
          } finally {
            m(f[0]) || m(Xv) && (m(!1) ? Zv : console).error("" + p([p("Error rendering component"), p(ox.v ? ox.v() : ox.call(null))].join("")));
          }
        } finally {
          fx = b;
        }
        a = void 0;
      }
      return a;
    };
  }(a, this), this) : Sw(a, !1);
}], null);
function qx(a, b) {
  var c = a instanceof N ? a.V : null;
  switch(c) {
    case "getDefaultProps":
      throw Error([p("Assert failed: "), p("getDefaultProps not supported"), p("\n"), p("false")].join(""));;
    case "getInitialState":
      return function() {
        return function() {
          var a = lx(this), c = b.call(this, this);
          return U.h ? U.h(a, c) : U.call(null, a, c);
        };
      }(c);
    case "componentWillReceiveProps":
      return function() {
        return function(a) {
          return b.call(this, this, hx(this, a));
        };
      }(c);
    case "shouldComponentUpdate":
      return function() {
        return function(a) {
          var c = pw;
          if (m(c)) {
            return c;
          }
          var c = this.props.argv, f = a.argv, g = null == c || null == f;
          return null == b ? g || jf(c, f) : g ? b.call(this, this, hx(this, this.props), hx(this, a)) : b.call(this, this, c, f);
        };
      }(c);
    case "componentWillUpdate":
      return function() {
        return function(a) {
          return b.call(this, this, hx(this, a));
        };
      }(c);
    case "componentDidUpdate":
      return function() {
        return function(a) {
          return b.call(this, this, hx(this, a));
        };
      }(c);
    case "componentWillMount":
      return function() {
        return function() {
          this.cljsMountOrder = rw += 1;
          return null == b ? null : b.call(this, this);
        };
      }(c);
    case "componentDidMount":
      return function() {
        return function() {
          return b.call(this, this);
        };
      }(c);
    case "componentWillUnmount":
      return function() {
        return function() {
          var a = this.cljsRatom;
          null != a && Ww(a);
          this.cljsIsDirty = !1;
          return null == b ? null : b.call(this, this);
        };
      }(c);
    default:
      return null;
  }
}
function rx(a, b, c) {
  var d = qx(a, b);
  if (m(m(d) ? b : d) && !ge(b)) {
    throw Error([p("Assert failed: "), p([p("Expected function in "), p(c), p(a), p(" but got "), p(b)].join("")), p("\n"), p("(ifn? f)")].join(""));
  }
  return m(d) ? d : b;
}
var sx = new l(null, 3, [wp, null, Xu, null, Ao, null], null), tx = function(a) {
  return function(b) {
    return function(c) {
      var d = t.h(H.c ? H.c(b) : H.call(null, b), c);
      if (null != d) {
        return d;
      }
      d = a.c ? a.c(c) : a.call(null, c);
      Af.I(b, Ld, c, d);
      return d;
    };
  }(xf ? xf(T) : wf.call(null, T));
}(nw);
function ux(a) {
  return qe(function(a, c, d) {
    return Ld.l(a, Oe.c(tx.c ? tx.c(c) : tx.call(null, c)), d);
  }, T, a);
}
function vx(a) {
  var b = yh(a), c = D(Mg(b));
  if (!(0 < I(b))) {
    throw Error([p("Assert failed: "), p("Missing reagent-render"), p("\n"), p("(pos? (count renders))")].join(""));
  }
  if (1 !== I(b)) {
    throw Error([p("Assert failed: "), p("Too many render functions supplied"), p("\n"), p("(\x3d\x3d 1 (count renders))")].join(""));
  }
  if (!ge(c)) {
    throw Error([p("Assert failed: "), p([p("Render must be a function, not "), p(ei.j(L([c], 0)))].join("")), p("\n"), p("(ifn? render-fun)")].join(""));
  }
  var d = function() {
    var b = Ah.c(a);
    return m(b) ? b : Bh.c(a);
  }(), b = null == d, e = m(d) ? d : zh.c(a), f = "" + p(function() {
    var b = Ll.c(a);
    return m(b) ? b : ow(e);
  }());
  a: {
    switch(f) {
      case "":
        c = "" + p(ji("reagent"));
        break a;
      default:
        c = f;
    }
  }
  d = qe(function(a, b, c, d, e) {
    return function(a, b, c) {
      return Ld.l(a, b, rx(b, c, e));
    };
  }(d, b, e, f, c), T, a);
  return Ld.j(d, Ll, c, L([Qt, !1, bk, b, Ah, e, zh, zh.c(px)], 0));
}
function wx(a) {
  return qe(function(a, c, d) {
    a[Pe(c)] = d;
    return a;
  }, {}, a);
}
function xx(a) {
  if (!Xd(a)) {
    throw Error("Assert failed: (map? body)");
  }
  return hw.createClass(wx(vx(wh.j(L([sx, ux(a)], 0)))));
}
var yx = function yx(b) {
  var c = function() {
    var c;
    c = null == b ? null : b._reactInternalInstance;
    c = m(c) ? c : b;
    return null == c ? null : c._currentElement;
  }(), d = function() {
    var b = null == c ? null : c.type;
    return null == b ? null : b.displayName;
  }(), e = function() {
    var b = null == c ? null : c._owner, b = null == b ? null : yx(b);
    return null == b ? null : [p(b), p(" \x3e ")].join("");
  }(), d = [p(e), p(d)].join("");
  return Td(d) ? null : d;
};
function ox() {
  var a = fx;
  var b = yx(a);
  m(b) ? a = b : (a = null == a ? null : a.constructor, a = null == a ? null : ow(a));
  return Td(a) ? "" : [p(" (in "), p(a), p(")")].join("");
}
function zx(a) {
  if (!ge(a)) {
    throw Error([p("Assert failed: "), p([p("Expected a function, not "), p(ei.j(L([a], 0)))].join("")), p("\n"), p("(ifn? f)")].join(""));
  }
  jx(a) && !ix(a) && m(Xv) && (m(!1) ? Zv : console).warn([p("Warning: "), p("Using native React classes directly in Hiccup forms "), p("is not supported. Use create-element or "), p("adapt-react-class instead: "), p(function() {
    var b = ow(a);
    return Td(b) ? a : b;
  }()), p(ox())].join(""));
  if (ix(a)) {
    return a.cljsReactClass = a;
  }
  var b = Qd(a), b = Ld.l(b, Aq, a), b = xx(b);
  return a.cljsReactClass = b;
}
;function Ax(a, b, c) {
  if (He(c)) {
    return c = cf(Ke, Cf.h(a, c)), b.c ? b.c(c) : b.call(null, c);
  }
  if (ee(c)) {
    return c = Ph(Cf.h(a, c)), b.c ? b.c(c) : b.call(null, c);
  }
  if (Yd(c)) {
    return c = qb(function(b, c) {
      return Id.h(b, a.c ? a.c(c) : a.call(null, c));
    }, c, c), b.c ? b.c(c) : b.call(null, c);
  }
  Ud(c) && (c = Qf.h(null == c ? null : wb(c), Cf.h(a, c)));
  return b.c ? b.c(c) : b.call(null, c);
}
var Bx = function Bx(b, c) {
  return Ax(uf.h(Bx, b), re, b.c ? b.c(c) : b.call(null, c));
};
var Cx = /([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/;
function Dx(a) {
  return a instanceof N || a instanceof r;
}
var Ex = {"class":"className", "for":"htmlFor", charset:"charSet"};
function Fx(a, b, c) {
  if (Dx(b)) {
    var d;
    d = Pe(b);
    d = Ex.hasOwnProperty(d) ? Ex[d] : null;
    b = null == d ? Ex[Pe(b)] = nw(b) : d;
  }
  a[b] = Gx.c ? Gx.c(c) : Gx.call(null, c);
  return a;
}
function Gx(a) {
  return "object" !== da(a) ? a : Dx(a) ? Pe(a) : Xd(a) ? qe(Fx, {}, a) : Ud(a) ? ni(a) : ge(a) ? function() {
    function b(a) {
      var b = null;
      if (0 < arguments.length) {
        for (var b = 0, f = Array(arguments.length - 0);b < f.length;) {
          f[b] = arguments[b + 0], ++b;
        }
        b = new B(f, 0);
      }
      return c.call(this, b);
    }
    function c(b) {
      return cf(a, b);
    }
    b.D = 0;
    b.C = function(a) {
      a = z(a);
      return c(a);
    };
    b.j = c;
    return b;
  }() : ni(a);
}
function Hx(a, b, c) {
  a = null == a ? {} : a;
  a[b] = c;
  return a;
}
var Ix = null, Jx = new Eh(null, new l(null, 6, ["url", null, "tel", null, "text", null, "textarea", null, "password", null, "search", null], null), null);
function Kx(a) {
  var b = a.cljsInputValue;
  if (null == b) {
    return null;
  }
  a.cljsInputDirty = !1;
  a = Ix.c ? Ix.c(a) : Ix.call(null, a);
  var c = a.value;
  return jf(b, c) ? a === document.activeElement && ie(Jx, a.type) && "string" === typeof b && "string" === typeof c ? (c = I(c) - a.selectionStart, c = I(b) - c, a.value = b, a.selectionStart = c, a.selectionEnd = c) : a.value = b : null;
}
function Lx(a, b, c) {
  b = b.c ? b.c(c) : b.call(null, c);
  m(a.cljsInputDirty) || (a.cljsInputDirty = !0, zw.enqueue("afterRender", function() {
    return function() {
      return Kx(a);
    };
  }(b)));
  return b;
}
function Mx(a) {
  var b = fx;
  if (m(function() {
    var b = null != Ix;
    return b && (b = null != a) ? (b = a.hasOwnProperty("onChange"), m(b) ? a.hasOwnProperty("value") : b) : b;
  }())) {
    var c = a.value, d = null == c ? "" : c, e = a.onChange;
    b.cljsInputValue = d;
    delete a.value;
    a.defaultValue = d;
    a.onChange = function(a, c, d, e) {
      return function(a) {
        return Lx(b, e, a);
      };
    }(a, c, d, e);
  } else {
    b.cljsInputValue = null;
  }
}
var Nx = null, Px = new l(null, 4, [ps, "ReagentInput", Hn, Kx, Mr, function(a) {
  return a.cljsInputValue = null;
}, Aq, function(a, b, c, d) {
  Mx(c);
  return Ox.I ? Ox.I(a, b, c, d) : Ox.call(null, a, b, c, d);
}], null);
function Qx(a) {
  var b;
  if (Xd(a)) {
    try {
      b = t.h(a, Rk);
    } catch (c) {
      b = null;
    }
  } else {
    b = null;
  }
  return b;
}
function Rx(a) {
  var b = Qx(Qd(a));
  return null == b ? Qx(M(a, 1, null)) : b;
}
var Sx = {};
function Tx(a, b, c) {
  var d = a.name, e = M(b, c, null), f = null == e || Xd(e);
  var e = Gx(f ? e : null), g = a.id, e = null != g && null == (null == e ? null : e.id) ? Hx(e, "id", g) : e;
  a = a.className;
  null == a ? a = e : (g = null == e ? null : e.className, a = Hx(e, "className", null == g ? a : [p(a), p(" "), p(g)].join("")));
  c += f ? 1 : 0;
  a: {
    switch(d) {
      case "input":
      ;
      case "textarea":
        f = !0;
        break a;
      default:
        f = !1;
    }
  }
  if (f) {
    return f = S, null == Nx && (Nx = xx(Px)), b = Cd(new R(null, 5, 5, f, [Nx, b, d, a, c], null), Qd(b)), nx.c ? nx.c(b) : nx.call(null, b);
  }
  f = Qx(Qd(b));
  f = null == f ? a : Hx(a, "key", f);
  return Ox.I ? Ox.I(b, d, f, c) : Ox.call(null, b, d, f, c);
}
function Ux(a) {
  return "" + p(Bx(function(a) {
    if (Od(a)) {
      var c = ow(a);
      switch(c) {
        case "":
          return a;
        default:
          return $c.c(c);
      }
    } else {
      return a;
    }
  }, a));
}
function Vx(a, b) {
  return [p(cf(p, b)), p(": "), p(Ux(a)), p("\n"), p(ox())].join("");
}
function Wx(a) {
  for (;;) {
    if (!(0 < I(a))) {
      throw Error([p("Assert failed: "), p(Vx(a, L(["Hiccup form should not be empty"], 0))), p("\n"), p("(pos? (count v))")].join(""));
    }
    var b = M(a, 0, null);
    if (!Dx(b) && "string" !== typeof b && !ge(b)) {
      throw Error([p("Assert failed: "), p(Vx(a, L(["Invalid Hiccup form"], 0))), p("\n"), p("(valid-tag? tag)")].join(""));
    }
    if (Dx(b) || "string" === typeof b) {
      var c = Pe(b), b = c.indexOf("\x3e");
      switch(b) {
        case -1:
          b = Sx.hasOwnProperty(c) ? Sx[c] : null;
          if (null == b) {
            var b = c, d;
            d = Pe(c);
            if ("string" === typeof d) {
              var e = Cx.exec(d);
              d = x.h(D(e), d) ? 1 === I(e) ? D(e) : ng(e) : null;
            } else {
              throw new TypeError("re-matches must match against a string.");
            }
            var f = E(d);
            d = M(f, 0, null);
            e = M(f, 1, null);
            f = M(f, 2, null);
            f = null == f ? null : aw(f, /\./, " ");
            if (!m(d)) {
              throw Error([p("Assert failed: "), p([p("Invalid tag: '"), p(c), p("'"), p(ox())].join("")), p("\n"), p("tag")].join(""));
            }
            b = Sx[b] = {name:d, id:e, className:f};
          }
          return Tx(b, a, 1);
        case 0:
          b = M(a, 1, null);
          if (!x.h("\x3e", c)) {
            throw Error([p("Assert failed: "), p(Vx(a, L(["Invalid Hiccup tag"], 0))), p("\n"), p('(\x3d "\x3e" n)')].join(""));
          }
          if ("string" !== typeof b && !Od(b)) {
            throw Error([p("Assert failed: "), p(Vx(a, L(["Expected React component in"], 0))), p("\n"), p("(or (string? comp) (fn? comp))")].join(""));
          }
          return Tx({name:b}, a, 2);
        default:
          a = new R(null, 2, 5, S, [c.substring(0, b), Ld.l(a, 0, c.substring(b + 1))], null);
      }
    } else {
      return c = b.cljsReactClass, b = null == c ? zx(b) : c, c = {argv:a}, a = Rx(a), null != a && (c.key = a), hw.createElement(b, c);
    }
  }
}
function nx(a) {
  return "object" !== da(a) ? a : Zd(a) ? Wx(a) : ee(a) ? Xx.c ? Xx.c(a) : Xx.call(null, a) : Dx(a) ? Pe(a) : (null != a ? a.o & 2147483648 || a.ja || (a.o ? 0 : fb(pc, a)) : fb(pc, a)) ? ei.j(L([a], 0)) : a;
}
function Xx(a) {
  var b = {}, c = ex(function(b) {
    return function() {
      for (var c = ob(a), d = c.length, k = 0;;) {
        if (k < d) {
          var n = c[k];
          Zd(n) && null == Rx(n) && (b["no-key"] = !0);
          c[k] = nx(n);
          k += 1;
        } else {
          break;
        }
      }
      return c;
    };
  }(b)), d = M(c, 0, null), c = M(c, 1, null);
  m(c) && m(Xv) && (m(!1) ? Zv : console).warn([p("Warning: "), p(Vx(a, L(["Reactive deref not supported in lazy seq, ", "it should be wrapped in doall"], 0)))].join(""));
  m(b["no-key"]) && m(Xv) && (m(!1) ? Zv : console).warn([p("Warning: "), p(Vx(a, L(["Every element in a seq should have a unique :key"], 0)))].join(""));
  return d;
}
function Ox(a, b, c, d) {
  var e = I(a) - d;
  switch(e) {
    case 0:
      return hw.createElement(b, c);
    case 1:
      return hw.createElement(b, c, nx(M(a, d, null)));
    default:
      return hw.createElement.apply(null, qe(function() {
        return function(a, b, c) {
          b >= d && a.push(nx(c));
          return a;
        };
      }(e), [b, c], a));
  }
}
;if ("undefined" === typeof Yx) {
  var Yx = null
}
;if ("undefined" === typeof Zx) {
  var Zx = null
}
function $x() {
  if (null != Zx) {
    return Zx;
  }
  if ("undefined" !== typeof ReactDOM) {
    return Zx = ReactDOM;
  }
  if ("undefined" !== typeof require) {
    var a = Zx = require("react-dom");
    if (m(a)) {
      return a;
    }
    throw Error("require('react-dom') failed");
  }
  throw Error("js/ReactDOM is missing");
}
if ("undefined" === typeof ay) {
  var ay = xf ? xf(T) : wf.call(null, T)
}
function by(a, b) {
  var c = pw;
  pw = !0;
  try {
    return $x().render(a.v ? a.v() : a.call(null), b, function() {
      return function() {
        var c = pw;
        pw = !1;
        try {
          return Af.I(ay, Ld, b, new R(null, 2, 5, S, [a, b], null)), null;
        } finally {
          pw = c;
        }
      };
    }(c));
  } finally {
    pw = c;
  }
}
function cy(a, b) {
  return by(a, b);
}
function dy() {
  var a = new R(null, 1, 5, S, [ey], null), b = fy;
  Rw();
  by(function() {
    return nx(Od(a) ? a.v ? a.v() : a.call(null) : a);
  }, b);
}
function gy(a) {
  return $x().findDOMNode(a);
}
Ix = gy;
ca("reagent.core.force_update_all", function() {
  Rw();
  for (var a = z(Mg(H.c ? H.c(ay) : H.call(null, ay))), b = null, c = 0, d = 0;;) {
    if (d < c) {
      var e = b.X(null, d);
      cf(cy, e);
      d += 1;
    } else {
      if (a = z(a)) {
        b = a, $d(b) ? (a = Ec(b), d = Fc(b), b = a, c = I(a), a = d) : (a = D(b), cf(cy, a), a = E(b), b = null, c = 0), d = 0;
      } else {
        break;
      }
    }
  }
  return "Updated";
});
function hy(a) {
  if (!kx(a)) {
    throw Error("Assert failed: (comp/reagent-component? this)");
  }
  return lx(a);
}
function iy(a) {
  var b = fx;
  if (!kx(b)) {
    throw Error("Assert failed: (comp/reagent-component? this)");
  }
  if (null != a && !Xd(a)) {
    throw Error("Assert failed: (or (nil? new-state) (map? new-state))");
  }
  return Af.l(hy(b), wh, a);
}
function jy(a) {
  if (!kx(a)) {
    throw Error("Assert failed: (comp/reagent-component? this)");
  }
  a = a.props;
  var b = a.argv;
  null == b ? a = gx(a) : (a = M(b, 1, null), a = Xd(a) ? a : null);
  return a;
}
function ky(a) {
  return Vw.c(a);
}
function ly(a) {
  return zw.enqueue("afterRender", a);
}
;Qa = !1;
Oa = function() {
  function a(a) {
    var d = null;
    if (0 < arguments.length) {
      for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
        e[d] = arguments[d + 0], ++d;
      }
      d = new B(e, 0);
    }
    return b.call(this, d);
  }
  function b(a) {
    return console.log.apply(console, pb ? ob(a) : nb.call(null, a));
  }
  a.D = 0;
  a.C = function(a) {
    a = z(a);
    return b(a);
  };
  a.j = b;
  return a;
}();
Pa = function() {
  function a(a) {
    var d = null;
    if (0 < arguments.length) {
      for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
        e[d] = arguments[d + 0], ++d;
      }
      d = new B(e, 0);
    }
    return b.call(this, d);
  }
  function b(a) {
    return console.error.apply(console, pb ? ob(a) : nb.call(null, a));
  }
  a.D = 0;
  a.C = function(a) {
    a = z(a);
    return b(a);
  };
  a.j = b;
  return a;
}();
var my;
a: {
  var ny = aa.navigator;
  if (ny) {
    var oy = ny.userAgent;
    if (oy) {
      my = oy;
      break a;
    }
  }
  my = "";
}
function py(a) {
  return -1 != my.indexOf(a);
}
;var qy = py("Opera") || py("OPR"), ry = py("Trident") || py("MSIE"), sy = py("Edge"), ty = py("Gecko") && !(-1 != my.toLowerCase().indexOf("webkit") && !py("Edge")) && !(py("Trident") || py("MSIE")) && !py("Edge"), uy = -1 != my.toLowerCase().indexOf("webkit") && !py("Edge");
uy && py("Mobile");
py("Macintosh");
py("Windows");
py("Linux") || py("CrOS");
var vy = aa.navigator || null;
vy && (vy.appVersion || "").indexOf("X11");
py("Android");
!py("iPhone") || py("iPod") || py("iPad");
py("iPad");
function wy() {
  var a = my;
  if (ty) {
    return /rv\:([^\);]+)(\)|;)/.exec(a);
  }
  if (sy) {
    return /Edge\/([\d\.]+)/.exec(a);
  }
  if (ry) {
    return /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);
  }
  if (uy) {
    return /WebKit\/(\S+)/.exec(a);
  }
}
function xy() {
  var a = aa.document;
  return a ? a.documentMode : void 0;
}
var yy = function() {
  if (qy && aa.opera) {
    var a;
    var b = aa.opera.version;
    try {
      a = b();
    } catch (c) {
      a = b;
    }
    return a;
  }
  a = "";
  (b = wy()) && (a = b ? b[1] : "");
  return ry && (b = xy(), b > parseFloat(a)) ? String(b) : a;
}(), zy = {};
function Ay(a) {
  var b;
  if (!(b = zy[a])) {
    b = 0;
    for (var c = ya(String(yy)).split("."), d = ya(String(a)).split("."), e = Math.max(c.length, d.length), f = 0;0 == b && f < e;f++) {
      var g = c[f] || "", k = d[f] || "", n = RegExp("(\\d*)(\\D*)", "g"), u = RegExp("(\\d*)(\\D*)", "g");
      do {
        var v = n.exec(g) || ["", "", ""], w = u.exec(k) || ["", "", ""];
        if (0 == v[0].length && 0 == w[0].length) {
          break;
        }
        b = Ca(0 == v[1].length ? 0 : parseInt(v[1], 10), 0 == w[1].length ? 0 : parseInt(w[1], 10)) || Ca(0 == v[2].length, 0 == w[2].length) || Ca(v[2], w[2]);
      } while (0 == b);
    }
    b = zy[a] = 0 <= b;
  }
  return b;
}
var By = aa.document, Cy = By && ry ? xy() || ("CSS1Compat" == By.compatMode ? parseInt(yy, 10) : 5) : void 0;
var Dy;
(Dy = !ry) || (Dy = 9 <= Cy);
var Ey = Dy, Fy = ry && !Ay("9");
!uy || Ay("528");
ty && Ay("1.9b") || ry && Ay("8") || qy && Ay("9.5") || uy && Ay("528");
ty && !Ay("8") || ry && Ay("9");
function Gy(a, b) {
  this.type = a;
  this.currentTarget = this.target = b;
  this.defaultPrevented = this.Qc = !1;
}
Gy.prototype.stopPropagation = function() {
  this.Qc = !0;
};
Gy.prototype.preventDefault = function() {
  this.defaultPrevented = !0;
};
function Hy(a) {
  Hy[" "](a);
  return a;
}
Hy[" "] = function() {
};
function Iy(a, b) {
  Gy.call(this, a ? a.type : "");
  this.relatedTarget = this.currentTarget = this.target = null;
  this.charCode = this.keyCode = this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;
  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;
  this.bc = this.state = null;
  a && this.init(a, b);
}
ta(Iy, Gy);
Iy.prototype.init = function(a, b) {
  var c = this.type = a.type, d = a.changedTouches ? a.changedTouches[0] : null;
  this.target = a.target || a.srcElement;
  this.currentTarget = b;
  var e = a.relatedTarget;
  if (e) {
    if (ty) {
      var f;
      a: {
        try {
          Hy(e.nodeName);
          f = !0;
          break a;
        } catch (g) {
        }
        f = !1;
      }
      f || (e = null);
    }
  } else {
    "mouseover" == c ? e = a.fromElement : "mouseout" == c && (e = a.toElement);
  }
  this.relatedTarget = e;
  null === d ? (this.offsetX = uy || void 0 !== a.offsetX ? a.offsetX : a.layerX, this.offsetY = uy || void 0 !== a.offsetY ? a.offsetY : a.layerY, this.clientX = void 0 !== a.clientX ? a.clientX : a.pageX, this.clientY = void 0 !== a.clientY ? a.clientY : a.pageY, this.screenX = a.screenX || 0, this.screenY = a.screenY || 0) : (this.clientX = void 0 !== d.clientX ? d.clientX : d.pageX, this.clientY = void 0 !== d.clientY ? d.clientY : d.pageY, this.screenX = d.screenX || 0, this.screenY = d.screenY || 
  0);
  this.button = a.button;
  this.keyCode = a.keyCode || 0;
  this.charCode = a.charCode || ("keypress" == c ? a.keyCode : 0);
  this.ctrlKey = a.ctrlKey;
  this.altKey = a.altKey;
  this.shiftKey = a.shiftKey;
  this.metaKey = a.metaKey;
  this.state = a.state;
  this.bc = a;
  a.defaultPrevented && this.preventDefault();
};
Iy.prototype.stopPropagation = function() {
  Iy.xd.stopPropagation.call(this);
  this.bc.stopPropagation ? this.bc.stopPropagation() : this.bc.cancelBubble = !0;
};
Iy.prototype.preventDefault = function() {
  Iy.xd.preventDefault.call(this);
  var a = this.bc;
  if (a.preventDefault) {
    a.preventDefault();
  } else {
    if (a.returnValue = !1, Fy) {
      try {
        if (a.ctrlKey || 112 <= a.keyCode && 123 >= a.keyCode) {
          a.keyCode = -1;
        }
      } catch (b) {
      }
    }
  }
};
var Jy = "closure_listenable_" + (1E6 * Math.random() | 0), Ky = 0;
function Ly(a, b, c, d, e) {
  this.listener = a;
  this.tc = null;
  this.src = b;
  this.type = c;
  this.kc = !!d;
  this.handler = e;
  this.key = ++Ky;
  this.ic = this.yc = !1;
}
function My(a) {
  a.ic = !0;
  a.listener = null;
  a.tc = null;
  a.src = null;
  a.handler = null;
}
;function Ny(a) {
  this.src = a;
  this.listeners = {};
  this.wc = 0;
}
Ny.prototype.add = function(a, b, c, d, e) {
  var f = a.toString();
  a = this.listeners[f];
  a || (a = this.listeners[f] = [], this.wc++);
  var g = Oy(a, b, d, e);
  -1 < g ? (b = a[g], c || (b.yc = !1)) : (b = new Ly(b, this.src, f, !!d, e), b.yc = c, a.push(b));
  return b;
};
Ny.prototype.remove = function(a, b, c, d) {
  a = a.toString();
  if (!(a in this.listeners)) {
    return !1;
  }
  var e = this.listeners[a];
  b = Oy(e, b, c, d);
  return -1 < b ? (My(e[b]), Ga.splice.call(e, b, 1), 0 == e.length && (delete this.listeners[a], this.wc--), !0) : !1;
};
Ny.prototype.hasListener = function(a, b) {
  var c = void 0 !== a, d = c ? a.toString() : "", e = void 0 !== b;
  return Ea(this.listeners, function(a) {
    for (var g = 0;g < a.length;++g) {
      if (!(c && a[g].type != d || e && a[g].kc != b)) {
        return !0;
      }
    }
    return !1;
  });
};
function Oy(a, b, c, d) {
  for (var e = 0;e < a.length;++e) {
    var f = a[e];
    if (!f.ic && f.listener == b && f.kc == !!c && f.handler == d) {
      return e;
    }
  }
  return -1;
}
;var Py = "closure_lm_" + (1E6 * Math.random() | 0), Qy = {}, Ry = 0;
function Sy(a, b, c, d, e) {
  if ("array" == da(b)) {
    for (var f = 0;f < b.length;f++) {
      Sy(a, b[f], c, d, e);
    }
    return null;
  }
  c = Ty(c);
  if (a && a[Jy]) {
    a = a.ze(b, c, d, e);
  } else {
    if (!b) {
      throw Error("Invalid event type");
    }
    var f = !!d, g = Uy(a);
    g || (a[Py] = g = new Ny(a));
    c = g.add(b, c, !1, d, e);
    if (!c.tc) {
      d = Vy();
      c.tc = d;
      d.src = a;
      d.listener = c;
      if (a.addEventListener) {
        a.addEventListener(b.toString(), d, f);
      } else {
        if (a.attachEvent) {
          a.attachEvent(Wy(b.toString()), d);
        } else {
          throw Error("addEventListener and attachEvent are unavailable.");
        }
      }
      Ry++;
    }
    a = c;
  }
  return a;
}
function Vy() {
  var a = Xy, b = Ey ? function(c) {
    return a.call(b.src, b.listener, c);
  } : function(c) {
    c = a.call(b.src, b.listener, c);
    if (!c) {
      return c;
    }
  };
  return b;
}
function Yy(a, b, c, d, e) {
  if ("array" == da(b)) {
    for (var f = 0;f < b.length;f++) {
      Yy(a, b[f], c, d, e);
    }
    return null;
  }
  c = Ty(c);
  if (a && a[Jy]) {
    return a.Ce(b, c, d, e);
  }
  if (!a) {
    return !1;
  }
  if (a = Uy(a)) {
    if (b = a.listeners[b.toString()], a = -1, b && (a = Oy(b, c, !!d, e)), c = -1 < a ? b[a] : null) {
      return Zy(c);
    }
  }
  return !1;
}
function Zy(a) {
  if (ia(a) || !a || a.ic) {
    return !1;
  }
  var b = a.src;
  if (b && b[Jy]) {
    return b.De(a);
  }
  var c = a.type, d = a.tc;
  b.removeEventListener ? b.removeEventListener(c, d, a.kc) : b.detachEvent && b.detachEvent(Wy(c), d);
  Ry--;
  if (c = Uy(b)) {
    var d = a.type, e;
    if (e = d in c.listeners) {
      e = c.listeners[d];
      var f = Ha(e, a), g;
      (g = 0 <= f) && Ga.splice.call(e, f, 1);
      e = g;
    }
    e && (My(a), 0 == c.listeners[d].length && (delete c.listeners[d], c.wc--));
    0 == c.wc && (c.src = null, b[Py] = null);
  } else {
    My(a);
  }
  return !0;
}
function Wy(a) {
  return a in Qy ? Qy[a] : Qy[a] = "on" + a;
}
function $y(a, b, c, d) {
  var e = !0;
  if (a = Uy(a)) {
    if (b = a.listeners[b.toString()]) {
      for (b = b.concat(), a = 0;a < b.length;a++) {
        var f = b[a];
        f && f.kc == c && !f.ic && (f = az(f, d), e = e && !1 !== f);
      }
    }
  }
  return e;
}
function az(a, b) {
  var c = a.listener, d = a.handler || a.src;
  a.yc && Zy(a);
  return c.call(d, b);
}
function Xy(a, b) {
  if (a.ic) {
    return !0;
  }
  if (!Ey) {
    var c;
    if (!(c = b)) {
      a: {
        c = ["window", "event"];
        for (var d = aa, e;e = c.shift();) {
          if (null != d[e]) {
            d = d[e];
          } else {
            c = null;
            break a;
          }
        }
        c = d;
      }
    }
    e = c;
    c = new Iy(e, this);
    d = !0;
    if (!(0 > e.keyCode || void 0 != e.returnValue)) {
      a: {
        var f = !1;
        if (0 == e.keyCode) {
          try {
            e.keyCode = -1;
            break a;
          } catch (n) {
            f = !0;
          }
        }
        if (f || void 0 == e.returnValue) {
          e.returnValue = !0;
        }
      }
      e = [];
      for (f = c.currentTarget;f;f = f.parentNode) {
        e.push(f);
      }
      for (var f = a.type, g = e.length - 1;!c.Qc && 0 <= g;g--) {
        c.currentTarget = e[g];
        var k = $y(e[g], f, !0, c), d = d && k;
      }
      for (g = 0;!c.Qc && g < e.length;g++) {
        c.currentTarget = e[g], k = $y(e[g], f, !1, c), d = d && k;
      }
    }
    return d;
  }
  return az(a, new Iy(b, this));
}
function Uy(a) {
  a = a[Py];
  return a instanceof Ny ? a : null;
}
var bz = "__closure_events_fn_" + (1E9 * Math.random() >>> 0);
function Ty(a) {
  if (ja(a)) {
    return a;
  }
  a[bz] || (a[bz] = function(b) {
    return a.handleEvent(b);
  });
  return a[bz];
}
;var cz = new l(null, 5, [Iu, function(a) {
  return console.log(a);
}, fm, function(a) {
  return console.warn(a);
}, Ks, function(a) {
  return console.error(a);
}, wk, function(a) {
  return m(console.groupCollapsed) ? console.groupCollapsed(a) : console.log(a);
}, Lt, function() {
  return m(console.groupEnd) ? console.groupEnd() : null;
}], null), dz = xf ? xf(cz) : wf.call(null, cz);
function ez(a) {
  return fm.c(H.c ? H.c(dz) : H.call(null, dz)).call(null, cf(p, a));
}
function fz(a) {
  return Ks.c(H.c ? H.c(dz) : H.call(null, dz)).call(null, cf(p, a));
}
function gz(a) {
  return Zd(a) ? D(a) : fz(L(["re-frame: expected a vector event, but got: ", a], 0));
}
;var hz = ky(T);
function iz(a) {
  a = z(Nf(cb, Cf.h(function(a) {
    return Bj.c(Qd(a));
  }, a)));
  for (var b = null, c = 0, d = 0;;) {
    if (d < c) {
      var e = b.X(null, d);
      fz(L(['re-frame: "', e, '" used incorrectly. Must be used like this "(', e, ' ...)", whereas you just used "', e, '".'], 0));
      d += 1;
    } else {
      if (a = z(a)) {
        b = a, $d(b) ? (a = Ec(b), c = Fc(b), b = a, e = I(a), a = c, c = e) : (e = D(b), fz(L(['re-frame: "', e, '" used incorrectly. Must be used like this "(', e, ' ...)", whereas you just used "', e, '".'], 0)), a = E(b), b = null, c = 0), d = 0;
      } else {
        break;
      }
    }
  }
}
function jz() {
  var a = kz;
  return Od(a) ? a : Ud(a) ? (a = Nf(cb, Pf(a)), iz(a), cf(tf, a)) : ez(L(["re-frame: comp-middleware expects a vector, got: ", a], 0));
}
var lz = xf ? xf(T) : wf.call(null, T);
function mz(a, b) {
  ie(H.c ? H.c(lz) : H.call(null, lz), a) && ez(L(["re-frame: overwriting an event-handler for: ", a], 0));
  Af.I(lz, Ld, a, b);
}
var nz = null;
function oz(a) {
  var b = gz(a), c;
  c = t.h(H.c ? H.c(lz) : H.call(null, lz), b);
  if (null == c) {
    fz(L(['re-frame: no event handler registered for: "', b, '". Ignoring.'], 0));
  } else {
    if (m(nz)) {
      fz(L(['re-frame: while handling "', nz, '"  dispatch-sync was called for "', a, "\". You can't call dispatch-sync in an event handler."], 0));
    } else {
      b = nz;
      nz = a;
      try {
        c.h ? c.h(hz, a) : c.call(null, hz, a);
      } finally {
        nz = b;
      }
    }
  }
}
;function pz(a, b, c) {
  var d = a;
  b && (d = sa(a, b));
  d = pz.je(d);
  !ja(aa.setImmediate) || !c && aa.Window && aa.Window.prototype && aa.Window.prototype.setImmediate == aa.setImmediate ? (pz.wd || (pz.wd = pz.Sd()), pz.wd(d)) : aa.setImmediate(d);
}
pz.Sd = function() {
  var a = aa.MessageChannel;
  "undefined" === typeof a && "undefined" !== typeof window && window.postMessage && window.addEventListener && !py("Presto") && (a = function() {
    var a = document.createElement("IFRAME");
    a.style.display = "none";
    a.src = "";
    document.documentElement.appendChild(a);
    var b = a.contentWindow, a = b.document;
    a.open();
    a.write("");
    a.close();
    var c = "callImmediate" + Math.random(), d = "file:" == b.location.protocol ? "*" : b.location.protocol + "//" + b.location.host, a = sa(function(a) {
      if (("*" == d || a.origin == d) && a.data == c) {
        this.port1.onmessage();
      }
    }, this);
    b.addEventListener("message", a, !1);
    this.port1 = {};
    this.port2 = {postMessage:function() {
      b.postMessage(c, d);
    }};
  });
  if ("undefined" !== typeof a && !py("Trident") && !py("MSIE")) {
    var b = new a, c = {}, d = c;
    b.port1.onmessage = function() {
      if (void 0 !== c.next) {
        c = c.next;
        var a = c.Uc;
        c.Uc = null;
        a();
      }
    };
    return function(a) {
      d.next = {Uc:a};
      d = d.next;
      b.port2.postMessage(0);
    };
  }
  return "undefined" !== typeof document && "onreadystatechange" in document.createElement("SCRIPT") ? function(a) {
    var b = document.createElement("SCRIPT");
    b.onreadystatechange = function() {
      b.onreadystatechange = null;
      b.parentNode.removeChild(b);
      b = null;
      a();
      a = null;
    };
    document.documentElement.appendChild(b);
  } : function(a) {
    aa.setTimeout(a, 0);
  };
};
pz.je = function(a) {
  return a;
};
var qz = "undefined" !== typeof ly ? ly : qw.we, rz = new l(null, 2, [zp, function(a) {
  function b() {
    return pz(a);
  }
  return qz.c ? qz.c(b) : qz.call(null, b);
}, ij, pz], null), sz = function sz(b, c) {
  if (null != b && null != b.rd) {
    return b.rd(0, c);
  }
  var d = sz[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = sz._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEventQueue.enqueue", b);
}, tz = function tz(b, c, d) {
  if (null != b && null != b.ld) {
    return b.ld(0, c, d);
  }
  var e = tz[da(null == b ? null : b)];
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  e = tz._;
  if (null != e) {
    return e.l ? e.l(b, c, d) : e.call(null, b, c, d);
  }
  throw ib("IEventQueue.-fsm-trigger", b);
}, uz = function uz(b, c) {
  if (null != b && null != b.jd) {
    return b.jd(0, c);
  }
  var d = uz[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = uz._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEventQueue.-add-event", b);
}, vz = function vz(b) {
  if (null != b && null != b.nd) {
    return b.nd();
  }
  var c = vz[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = vz._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEventQueue.-process-1st-event", b);
}, wz = function wz(b) {
  if (null != b && null != b.pd) {
    return b.pd();
  }
  var c = wz[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = wz._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEventQueue.-run-next-tick", b);
}, xz = function xz(b) {
  if (null != b && null != b.qd) {
    return b.qd();
  }
  var c = xz[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = xz._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEventQueue.-run-queue", b);
}, yz = function yz(b, c) {
  if (null != b && null != b.kd) {
    return b.kd(0, c);
  }
  var d = yz[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = yz._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEventQueue.-exception", b);
}, zz = function zz(b, c) {
  if (null != b && null != b.md) {
    return b.md(0, c);
  }
  var d = zz[da(null == b ? null : b)];
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  d = zz._;
  if (null != d) {
    return d.h ? d.h(b, c) : d.call(null, b, c);
  }
  throw ib("IEventQueue.-pause", b);
}, Az = function Az(b) {
  if (null != b && null != b.od) {
    return b.od();
  }
  var c = Az[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = Az._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IEventQueue.-resume", b);
};
function Bz(a, b, c) {
  this.Nc = a;
  this.queue = b;
  this.de = c;
}
h = Bz.prototype;
h.qd = function() {
  for (var a = I(this.queue);;) {
    if (0 === a) {
      return tz(this, Uu, null);
    }
    var b = rf(rz, Lg(Qd(Rd(this.queue))));
    if (m(b)) {
      return tz(this, Js, b);
    }
    vz(this);
    --a;
  }
};
h.jd = function(a, b) {
  return this.queue = Id.h(this.queue, b);
};
h.od = function() {
  vz(this);
  return xz(this);
};
h.pd = function() {
  return pz(function(a) {
    return function() {
      return tz(a, Ir, null);
    };
  }(this));
};
h.nd = function() {
  var a = Rd(this.queue);
  try {
    oz(a);
  } catch (g) {
    tz(this, Us, g);
  }
  var b = this.queue;
  this.queue = null == b ? null : Ub(b);
  for (var b = z(this.de), c = null, d = 0, e = 0;;) {
    if (e < d) {
      var f = c.X(null, e);
      f.h ? f.h(a, this.queue) : f.call(null, a, this.queue);
      e += 1;
    } else {
      if (b = z(b)) {
        c = b, $d(c) ? (b = Ec(c), d = Fc(c), c = b, f = I(b), b = d, d = f) : (f = D(c), f.h ? f.h(a, this.queue) : f.call(null, a, this.queue), b = E(c), c = null, d = 0), e = 0;
      } else {
        return null;
      }
    }
  }
};
h.rd = function(a, b) {
  return tz(this, aj, b);
};
h.ld = function(a, b, c) {
  var d = this, e = this, f = function() {
    var a = new R(null, 2, 5, S, [d.Nc, b], null);
    if (x.h(new R(null, 2, 5, S, [nk, aj], null), a)) {
      return new R(null, 2, 5, S, [rs, function(a, b) {
        return function() {
          uz(b, c);
          return wz(b);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [rs, aj], null), a)) {
      return new R(null, 2, 5, S, [rs, function(a, b) {
        return function() {
          return uz(b, c);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [rs, Ir], null), a)) {
      return new R(null, 2, 5, S, [pp, function(a, b) {
        return function() {
          return xz(b);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [pp, aj], null), a)) {
      return new R(null, 2, 5, S, [pp, function(a, b) {
        return function() {
          return uz(b, c);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [pp, Js], null), a)) {
      return new R(null, 2, 5, S, [uj, function(a, b) {
        return function() {
          return zz(b, c);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [pp, Us], null), a)) {
      return new R(null, 2, 5, S, [nk, function(a, b) {
        return function() {
          return yz(b, c);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [pp, Uu], null), a)) {
      return Td(d.queue) ? new R(null, 1, 5, S, [nk], null) : new R(null, 2, 5, S, [rs, function(a, b) {
        return function() {
          return wz(b);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [uj, aj], null), a)) {
      return new R(null, 2, 5, S, [uj, function(a, b) {
        return function() {
          return uz(b, c);
        };
      }(a, e)], null);
    }
    if (x.h(new R(null, 2, 5, S, [uj, hu], null), a)) {
      return new R(null, 2, 5, S, [pp, function(a, b) {
        return function() {
          return Az(b);
        };
      }(a, e)], null);
    }
    throw [p("re-frame: state transition not found. "), p(d.Nc), p(" "), p(b)].join("");
  }();
  a = M(f, 0, null);
  f = M(f, 1, null);
  d.Nc = a;
  return m(f) ? f.v ? f.v() : f.call(null) : null;
};
h.md = function(a, b) {
  var c = function(a) {
    return function() {
      return tz(a, hu, null);
    };
  }(this);
  return b.c ? b.c(c) : b.call(null, c);
};
h.kd = function(a, b) {
  this.queue = Qf.h(Bg, Jd);
  throw b;
};
var Cz, Dz = Qf.h(Bg, Jd);
Cz = new Bz(nk, Dz, Jd);
function V(a) {
  null == a ? fz(L(['re-frame: "dispatch" is ignoring a nil event.'], 0)) : sz(Cz, a);
  return null;
}
function Ez(a) {
  oz(a);
  return null;
}
;var Fz = xf ? xf(T) : wf.call(null, T);
function Gz(a, b) {
  ie(H.c ? H.c(Fz) : H.call(null, Fz), a) && ez(L(["re-frame: overwriting subscription-handler for: ", a], 0));
  return Af.I(Fz, Ld, a, b);
}
function Hz(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 1:
      return Iz(arguments[0]);
    case 2:
      return Jz(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function Iz(a) {
  var b = gz(a), c = t.h(H.c ? H.c(Fz) : H.call(null, Fz), b);
  return null == c ? fz(L(['re-frame: no subscription handler registered for: "', b, '". Returning a nil subscription.'], 0)) : c.h ? c.h(hz, a) : c.call(null, hz, a);
}
function Jz(a, b) {
  var c = gz(a), d = t.h(H.c ? H.c(Fz) : H.call(null, Fz), c);
  if (null == d) {
    return fz(L(['re-frame: no subscription handler registered for: "', c, '". Returning a nil subscription.'], 0));
  }
  var e = $w(function() {
    return function() {
      return Rf(H, b);
    };
  }(c, d)), f = $w(function(b, c, d) {
    return function() {
      var c = H.c ? H.c(b) : H.call(null, b);
      return d.l ? d.l(hz, a, c) : d.call(null, hz, a, c);
    };
  }(e, c, d));
  return $w(function(a, b) {
    return function() {
      var a = H.c ? H.c(b) : H.call(null, b);
      return H.c ? H.c(a) : H.call(null, a);
    };
  }(e, f, c, d));
}
;var Kz = xf ? xf(50) : wf.call(null, 50), Lz = ky(Jd), Mz = ky(Jd), Nz = ky(""), Oz = ky(Jd), Pz = ky(Jd);
function Qz() {
  U.h ? U.h(Mz, Jd) : U.call(null, Mz, Jd);
  return U.h ? U.h(Pz, Jd) : U.call(null, Pz, Jd);
}
function Rz() {
  return 0 < I(H.c ? H.c(Lz) : H.call(null, Lz));
}
function Sz() {
  return 0 < I(H.c ? H.c(Mz) : H.call(null, Mz));
}
Gz(us, function() {
  return $w(function() {
    return Rz();
  });
});
Gz(ov, function() {
  return $w(function() {
    return Sz();
  });
});
Gz(Pt, function() {
  return $w(function() {
    return m(Rz()) ? Id.h(H.c ? H.c(Oz) : H.call(null, Oz), H.c ? H.c(Nz) : H.call(null, Nz)) : Jd;
  });
});
Gz(Wt, function() {
  return $w(function() {
    return H.c ? H.c(Pz) : H.call(null, Pz);
  });
});
function Tz(a, b, c) {
  var d = H.c ? H.c(a) : H.call(null, a), e = Ad(H.c ? H.c(b) : H.call(null, b), H.c ? H.c(c) : H.call(null, c)), f = Hd(d);
  U.h ? U.h(b, f) : U.call(null, b, f);
  U.h ? U.h(c, e) : U.call(null, c, e);
  b = null == d ? null : Ub(d);
  U.h ? U.h(a, b) : U.call(null, a, b);
}
mz(tq, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  if (eb(Rz())) {
    c = ez(L(["re-frame: you did a (dispatch [:undo]), but there is nothing to undo."], 0));
  } else {
    a: {
      for (c = m(c) ? c : 1;;) {
        var d;
        d = (d = 0 < c) ? Rz() : d;
        if (m(d)) {
          Tz(Lz, hz, Mz), Tz(Oz, Nz, Pz), --c;
        } else {
          c = null;
          break a;
        }
      }
    }
  }
  return c;
});
function Uz(a, b, c) {
  var d = Id.h(H.c ? H.c(a) : H.call(null, a), H.c ? H.c(b) : H.call(null, b)), e = H.c ? H.c(c) : H.call(null, c), f = D(e);
  U.h ? U.h(b, f) : U.call(null, b, f);
  b = cd(e);
  U.h ? U.h(c, b) : U.call(null, c, b);
  U.h ? U.h(a, d) : U.call(null, a, d);
}
mz(Ql, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  if (eb(Sz())) {
    c = ez(L(["re-frame: you did a (dispatch [:redo]), but there is nothing to redo."], 0));
  } else {
    a: {
      for (c = m(c) ? c : 1;;) {
        var d;
        d = (d = 0 < c) ? Sz() : d;
        if (m(d)) {
          Uz(Lz, hz, Mz), Uz(Oz, Nz, Pz), --c;
        } else {
          c = null;
          break a;
        }
      }
    }
  }
  return c;
});
mz(Ns, function() {
  return eb(Sz()) ? ez(L(["re-frame: you did a (dispatch [:purge-redos]), but there is nothing to redo."], 0)) : Qz();
});
function kz(a) {
  return function(b, c) {
    if (null != b ? b.ud || (b.sc ? 0 : fb(Tw, b)) : fb(Tw, b)) {
      var d = H.c ? H.c(b) : H.call(null, b), e = a.h ? a.h(d, c) : a.call(null, d, c);
      return null == e ? fz(L(["re-frame: your pure handler returned nil. It should return the new db state."], 0)) : d !== e ? U.h ? U.h(b, e) : U.call(null, b, e) : null;
    }
    Xd(b) ? ez(L(['re-frame: Looks like "pure" is in the middleware pipeline twice. Ignoring.'], 0)) : ez(L(['re-frame: "pure" middleware not given a Ratom.  Got: ', b], 0));
    return a;
  };
}
Cd(function() {
  function a(a) {
    var d = null;
    if (0 < arguments.length) {
      for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
        e[d] = arguments[d + 0], ++d;
      }
      d = new B(e, 0);
    }
    return b.call(this, d);
  }
  function b(a) {
    a = Pf(a);
    Td(a) && fz(L(['re-frame: "path" middleware given no params.'], 0));
    return function(a) {
      return function(b) {
        return function(a) {
          return function(c, d) {
            return Vf.I(c, a, b, d);
          };
        }(a);
      };
    }(a);
  }
  a.D = 0;
  a.C = function(a) {
    a = z(a);
    return b(a);
  };
  a.j = b;
  return a;
}(), new l(null, 1, [Bj, "path"], null));
Cd(function(a) {
  return function(b) {
    return function(c, d) {
      var e = Od(a) ? a.h ? a.h(c, d) : a.call(null, c, d) : "string" === typeof a ? a : null == a ? "" : fz(L(['re-frame: "undoable" middleware given a bad parameter. Got: ', a], 0));
      Qz();
      var f = ng(Gf(H.c ? H.c(Kz) : H.call(null, Kz), Id.h(H.c ? H.c(Lz) : H.call(null, Lz), H.c ? H.c(hz) : H.call(null, hz))));
      U.h ? U.h(Lz, f) : U.call(null, Lz, f);
      f = ng(Gf(H.c ? H.c(Kz) : H.call(null, Kz), Id.h(H.c ? H.c(Oz) : H.call(null, Oz), H.c ? H.c(Nz) : H.call(null, Nz))));
      U.h ? U.h(Oz, f) : U.call(null, Oz, f);
      U.h ? U.h(Nz, e) : U.call(null, Nz, e);
      return b.h ? b.h(c, d) : b.call(null, c, d);
    };
  };
}, new l(null, 1, [Bj, "undoable"], null));
Cd(function(a) {
  return function(b) {
    return function(c, d) {
      var e = b.h ? b.h(c, d) : b.call(null, c, d);
      return a.h ? a.h(e, d) : a.call(null, e, d);
    };
  };
}, new l(null, 1, [Bj, "enrich"], null));
Cd(function(a) {
  return function(b) {
    return function(c, d) {
      var e = b.h ? b.h(c, d) : b.call(null, c, d);
      a.h ? a.h(e, d) : a.call(null, e, d);
      return e;
    };
  };
}, new l(null, 1, [Bj, "after"], null));
Cd(function() {
  function a(a, d, e) {
    var f = null;
    if (2 < arguments.length) {
      for (var f = 0, g = Array(arguments.length - 2);f < g.length;) {
        g[f] = arguments[f + 2], ++f;
      }
      f = new B(g, 0);
    }
    return b.call(this, a, d, f);
  }
  function b(a, b, e) {
    return function(f) {
      return function(g, k) {
        var n = f.h ? f.h(g, k) : f.call(null, g, k), u = Cf.h(function(a) {
          return function(b) {
            return Sf(a, b);
          };
        }(n), e), v = Cf.h(function() {
          return function(a) {
            return Sf(g, a);
          };
        }(n, u), e), v = rf(de, Cf.l(bb, u, v));
        return m(v) ? Uf(n, b, cf(a, u)) : n;
      };
    };
  }
  a.D = 2;
  a.C = function(a) {
    var d = D(a);
    a = E(a);
    var e = D(a);
    a = cd(a);
    return b(d, e, a);
  };
  a.j = b;
  return a;
}(), new l(null, 1, [Bj, "on-changes"], null));
function Vz(a, b) {
  var c = jz(), c = c.c ? c.c(b) : c.call(null, b);
  mz(a, c);
}
;function Wz() {
  var a = fy;
  a.style.width = "70%";
  a.style.height = "70%";
  var b = window.innerWidth, c = window.innerHeight, d = a.getBoundingClientRect(), e = (b - d.width) / 2, f = (c - d.height) / 2, g = new R(null, 2, 5, S, [Rm, new l(null, 2, [sn, b, xv, c], null)], null);
  Ez.c ? Ez.c(g) : Ez.call(null, g);
  g = window;
  Sy(g, "resize", function() {
    return function() {
      var a = new R(null, 2, 5, S, [Rm, new l(null, 2, [sn, window.innerWidth, xv, window.innerHeight], null)], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(g, "resize", b, c, d, e, f));
  g = new R(null, 2, 5, S, [Nv, new l(null, 4, [yl, f, Ev, e, sn, d.width, xv, d.height], null)], null);
  V.c ? V.c(g) : V.call(null, g);
  var g = function() {
    var a = new R(null, 1, 5, S, [pr], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), k = $w(function(a) {
    return function() {
      return Ev.c(H.c ? H.c(a) : H.call(null, a));
    };
  }(g, b, c, d, e, f)), n = $w(function(a) {
    return function() {
      return yl.c(H.c ? H.c(a) : H.call(null, a));
    };
  }(g, k, b, c, d, e, f)), u = $w(function(a) {
    return function() {
      return sn.c(H.c ? H.c(a) : H.call(null, a));
    };
  }(g, k, n, b, c, d, e, f)), v = $w(function(a) {
    return function() {
      return xv.c(H.c ? H.c(a) : H.call(null, a));
    };
  }(g, k, n, u, b, c, d, e, f)), w = ax(function(b, c, d) {
    return function() {
      return a.style.top = [p(H.c ? H.c(d) : H.call(null, d)), p("px")].join("");
    };
  }(g, k, n, u, v, b, c, d, e, f), L([Ar, !0], 0));
  H.c ? H.c(w) : H.call(null, w);
  w = ax(function(b, c) {
    return function() {
      return a.style.left = [p(H.c ? H.c(c) : H.call(null, c)), p("px")].join("");
    };
  }(g, k, n, u, v, b, c, d, e, f), L([Ar, !0], 0));
  H.c ? H.c(w) : H.call(null, w);
  w = ax(function(b, c, d, e) {
    return function() {
      return a.style.width = [p(H.c ? H.c(e) : H.call(null, e)), p("px")].join("");
    };
  }(g, k, n, u, v, b, c, d, e, f), L([Ar, !0], 0));
  H.c ? H.c(w) : H.call(null, w);
  b = ax(function(b, c, d, e, f) {
    return function() {
      return a.style.height = [p(H.c ? H.c(f) : H.call(null, f)), p("px")].join("");
    };
  }(g, k, n, u, v, b, c, d, e, f), L([Ar, !0], 0));
  H.c ? H.c(b) : H.call(null, b);
  return b;
}
;function Xz(a, b) {
  switch(b) {
    case 1:
      return 0 != a % 4 || 0 == a % 100 && 0 != a % 400 ? 28 : 29;
    case 5:
    ;
    case 8:
    ;
    case 10:
    ;
    case 3:
      return 30;
  }
  return 31;
}
function Yz(a, b, c, d, e, f) {
  ga(a) ? (this.years = a == Zz ? b : 0, this.months = a == $z ? b : 0, this.days = a == aA ? b : 0, this.hours = a == bA ? b : 0, this.minutes = a == cA ? b : 0, this.seconds = a == dA ? b : 0) : (this.years = a || 0, this.months = b || 0, this.days = c || 0, this.hours = d || 0, this.minutes = e || 0, this.seconds = f || 0);
}
Yz.prototype.Be = function(a) {
  var b = Math.min(this.years, this.months, this.days, this.hours, this.minutes, this.seconds), c = Math.max(this.years, this.months, this.days, this.hours, this.minutes, this.seconds);
  if (0 > b && 0 < c) {
    return null;
  }
  if (!a && 0 == b && 0 == c) {
    return "PT0S";
  }
  c = [];
  0 > b && c.push("-");
  c.push("P");
  (this.years || a) && c.push(Math.abs(this.years) + "Y");
  (this.months || a) && c.push(Math.abs(this.months) + "M");
  (this.days || a) && c.push(Math.abs(this.days) + "D");
  if (this.hours || this.minutes || this.seconds || a) {
    c.push("T"), (this.hours || a) && c.push(Math.abs(this.hours) + "H"), (this.minutes || a) && c.push(Math.abs(this.minutes) + "M"), (this.seconds || a) && c.push(Math.abs(this.seconds) + "S");
  }
  return c.join("");
};
Yz.prototype.clone = function() {
  return new Yz(this.years, this.months, this.days, this.hours, this.minutes, this.seconds);
};
var Zz = "y", $z = "m", aA = "d", bA = "h", cA = "n", dA = "s";
Yz.prototype.add = function(a) {
  this.years += a.years;
  this.months += a.months;
  this.days += a.days;
  this.hours += a.hours;
  this.minutes += a.minutes;
  this.seconds += a.seconds;
};
function eA(a) {
  a = a.getTimezoneOffset();
  if (0 == a) {
    a = "Z";
  } else {
    var b = Math.abs(a) / 60, c = Math.floor(b), b = 60 * (b - c);
    a = (0 < a ? "-" : "+") + Ba(c) + ":" + Ba(b);
  }
  return a;
}
;function fA(a) {
  return (null != a ? a.o & 32768 || a.Ec || (a.o ? 0 : fb(Xb, a)) : fb(Xb, a)) ? H.c ? H.c(a) : H.call(null, a) : a;
}
function gA(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  return hA(arguments[0], 1 < b.length ? new B(b.slice(1), 0, null) : null);
}
function hA(a, b) {
  return [p(m(b) ? -a : a), p("px")].join("");
}
function iA(a, b, c) {
  var d = null != c && (c.o & 64 || c.P) ? cf(yf, c) : c, e = t.l(d, Do, jr);
  return D(Bf(function(b, c, d) {
    return function(b, c) {
      return x.h(d.c ? d.c(c) : d.call(null, c), a) ? b : null;
    };
  }(c, d, e), b));
}
function jA(a, b, c) {
  var d = null != c && (c.o & 64 || c.P) ? cf(yf, c) : c, e = t.l(d, Do, jr);
  return D(Mf(function(b, c, d) {
    return function(b) {
      return x.h(d.c ? d.c(b) : d.call(null, b), a);
    };
  }(c, d, e), b));
}
;var kA = new R(null, 5, 5, S, [tn, Dt, vp, hj, uu], null), lA = new R(null, 4, 5, S, [Du, yr, Ps, ap], null), mA = new R(null, 4, 5, S, [kv, Ur, cq, sq], null), nA = new R(null, 3, 5, S, [Mj, gl, Xq], null), oA = new R(null, 3, 5, S, [Mj, Ap, Ti], null), pA = new R(null, 2, 5, S, [cq, Ks], null), qA = new R(null, 3, 5, S, [cq, Ks, Ur], null), rA = new R(null, 4, 5, S, [Qu, Om, zl, qp], null), sA = new R(null, 12, 5, S, [Ji, Ki, qv, Yn, xn, Bu, Hm, Pj, ns, Gr, rq, dk], null);
function tA(a) {
  Qf.h(new R(null, 1, 5, S, [Jv], null), Kf(", ", Cf.h(function(a) {
    return new R(null, 2, 5, S, [Yr, "" + p(a)], null);
  }, a)));
}
tA(new R(null, 5, 5, S, [tn, Dt, vp, Sn, Cv], null));
tA(kA);
tA(lA);
tA(mA);
tA(nA);
tA(oA);
tA(pA);
tA(qA);
tA(rA);
tA(sA);
function uA(a) {
  return !1;
}
;function vA(a) {
  var b = fw(ya(a), /\s+/), c = I(b);
  if (!ie(new Eh(null, new l(null, 2, [1, null, 3, null], null), null), c)) {
    throw Error([p("Assert failed: "), p("Must pass either 1 or 3 words to flex-child-style"), p("\n"), p("(contains? #{1 3} split-count)")].join(""));
  }
  var b = x.h(c, 1) ? D(b) : null, c = m(b) ? fw(b, /(\d+)(.*)/) : null, d = m(b) ? c : null;
  M(d, 0, null);
  var c = M(d, 1, null), e = M(d, 2, null), d = null == c, f = (e = x.h(e, "%") || x.h(e, "") || null == e) ? "1" : "0", g = e ? "0px" : a;
  a = m(m(b) ? !d : b) ? [p(e ? c : "0"), p(" "), p(f), p(" "), p(g)].join("") : a;
  return new l(null, 2, [mn, a, eo, a], null);
}
function wA(a) {
  return new l(null, 2, [Qm, a, Ov, a], null);
}
function xA(a) {
  var b = function() {
    switch(a instanceof N ? a.V : null) {
      case "start":
        return "flex-start";
      case "end":
        return "flex-end";
      case "center":
        return "center";
      case "between":
        return "space-between";
      case "around":
        return "space-around";
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }();
  return new l(null, 2, [rn, b, Lr, b], null);
}
function yA(a, b) {
  var c = Oe.c([p("-webkit-"), p(Pe(a))].join("")), d = function() {
    switch(b instanceof N ? b.V : null) {
      case "start":
        return "flex-start";
      case "end":
        return "flex-end";
      case "center":
        return "center";
      case "baseline":
        return "baseline";
      case "stretch":
        return "stretch";
      default:
        throw Error([p("No matching clause: "), p(b)].join(""));;
    }
  }();
  return Qg([c, d, a, d]);
}
function zA(a, b) {
  return Qg([a, function() {
    switch(b instanceof N ? b.V : null) {
      case "auto":
        return "auto";
      case "off":
        return "hidden";
      case "on":
        return "scroll";
      case "spill":
        return "visible";
      default:
        throw Error([p("No matching clause: "), p(b)].join(""));;
    }
  }()]);
}
function AA(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, at);
  var c = t.h(b, At), d = t.h(b, Ut), e = t.h(b, zu), f = t.h(b, xv), g = t.h(b, Pv), k = t.h(b, Vv), n = t.h(b, Vi), u = t.h(b, Kj), v = t.h(b, fk), w = t.h(b, rk), y = t.h(b, Mk), A = t.h(b, Cl), C = t.h(b, Tl), F = t.h(b, jn), G = t.h(b, sn), J = t.h(b, wo), P = t.h(b, yo), Q = t.h(b, Ho), W = t.h(b, lp), la = t.h(b, Bp), K = t.h(b, Vq), fa = t.h(b, lr), Y = t.h(b, Zq), Z = t.h(b, vr), X = t.h(b, Wr), b = t.h(b, Qs), c = wh.j(L([wA("inherit"), vA(W), m(K) ? zA(cm, K) : null, m(F) ? zA(as, F) : 
  null, m(e) ? zA(iu, e) : null, m(G) ? new l(null, 1, [sn, G], null) : null, m(f) ? new l(null, 1, [xv, f], null) : null, m(n) ? new l(null, 1, [Vi, n], null) : null, m(y) ? new l(null, 1, [Mk, y], null) : null, m(P) ? new l(null, 1, [yo, P], null) : null, m(w) ? new l(null, 1, [rk, w], null) : null, m(C) ? xA(C) : null, m(u) ? yA(Jj, u) : null, m(c) ? yA(At, c) : null, m(g) ? new l(null, 1, [Pv, g], null) : null, m(Z) ? new l(null, 1, [vr, Z], null) : null, m(d) ? new l(null, 1, [Ut, d], null) : 
  null, m(Y) ? new l(null, 1, [Ro, Y], null) : null, m(A) ? new l(null, 1, [tk, A], null) : null, m(X) ? new l(null, 1, [bu, X], null) : null, m(J) ? new l(null, 1, [zv, J], null) : null, m(Q) ? new l(null, 1, [ju, Q], null) : null, m(v) ? new l(null, 1, [$m, v], null) : m(!1) ? new l(null, 1, [$m, "lightblue"], null) : T, la], 0));
  return new R(null, 3, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p(b), p("display-flex "), p(fa)].join(""), Bp, c], null), k], 0)), a], null);
}
var BA = function BA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return BA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
BA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, lp), d = t.h(b, sn), e = t.h(b, xv);
  a = t.h(b, lr);
  var f = t.h(b, Bp), b = t.h(b, Vv);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro gap-args-desc args "gap")');
  }
  c = wh.j(L([m(c) ? vA(c) : null, m(d) ? new l(null, 1, [sn, d], null) : null, m(e) ? new l(null, 1, [xv, e], null) : null, m(!1) ? new l(null, 1, [$m, "chocolate"], null) : null, f], 0));
  return new R(null, 2, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-gap "), p(a)].join(""), Bp, c], null), b], 0))], null);
};
BA.D = 0;
BA.C = function(a) {
  return BA.j(z(a));
};
var CA = function CA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return CA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
CA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.l(b, lp, "1px"), d = t.l(b, Gk, "lightgray");
  a = t.h(b, lr);
  var e = t.h(b, Bp), b = t.h(b, Vv);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro line-args-desc args "line")');
  }
  c = wh.j(L([vA([p("0 0 "), p(c)].join("")), new l(null, 1, [$m, d], null), e], 0));
  return new R(null, 2, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-line "), p(a)].join(""), Bp, c], null), b], 0))], null);
};
CA.D = 0;
CA.C = function(a) {
  return CA.j(z(a));
};
var DA = function DA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return DA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
DA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, At), d = t.h(b, xv), e = t.h(b, Pv);
  a = t.h(b, Vv);
  var f = t.h(b, Vi), g = t.h(b, Fj), k = t.l(b, Kj, uu), n = t.h(b, rk), u = t.h(b, Mk), v = t.l(b, Tl, tn), w = t.h(b, sn), y = t.h(b, yo), A = t.l(b, lp, "none"), C = t.h(b, Bp), F = t.h(b, lr), G = t.h(b, vr), b = t.h(b, Tr);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro h-box-args-desc args "h-box")');
  }
  c = wh.j(L([wA("row nowrap"), vA(A), m(w) ? new l(null, 1, [sn, w], null) : null, m(d) ? new l(null, 1, [xv, d], null) : null, m(f) ? new l(null, 1, [Vi, f], null) : null, m(u) ? new l(null, 1, [Mk, u], null) : null, m(y) ? new l(null, 1, [yo, y], null) : null, m(n) ? new l(null, 1, [rk, n], null) : null, xA(v), yA(Jj, k), m(c) ? yA(At, c) : null, m(e) ? new l(null, 1, [Pv, e], null) : null, m(G) ? new l(null, 1, [vr, G], null) : null, m(!1) ? new l(null, 1, [$m, "gold"], null) : null, C], 0));
  d = m(b) ? new R(null, 5, 5, S, [BA, lp, b, sn, b], null) : null;
  g = m(b) ? Kf(d, Mf(re, g)) : g;
  return Qf.h(new R(null, 2, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-h-box display-flex "), p(F)].join(""), Bp, c], null), a], 0))], null), g);
};
DA.D = 0;
DA.C = function(a) {
  return DA.j(z(a));
};
var EA = function EA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return EA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
EA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, At), d = t.h(b, xv), e = t.h(b, Pv);
  a = t.h(b, Vv);
  var f = t.h(b, Vi), g = t.h(b, Fj), k = t.l(b, Kj, uu), n = t.h(b, rk), u = t.h(b, Mk), v = t.l(b, Tl, tn), w = t.h(b, sn), y = t.h(b, yo), A = t.l(b, lp, "none"), C = t.h(b, Bp), F = t.h(b, lr), G = t.h(b, vr), b = t.h(b, Tr);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro v-box-args-desc args "v-box")');
  }
  c = wh.j(L([wA("column nowrap"), vA(A), m(w) ? new l(null, 1, [sn, w], null) : null, m(d) ? new l(null, 1, [xv, d], null) : null, m(f) ? new l(null, 1, [Vi, f], null) : null, m(u) ? new l(null, 1, [Mk, u], null) : null, m(y) ? new l(null, 1, [yo, y], null) : null, m(n) ? new l(null, 1, [rk, n], null) : null, xA(v), yA(Jj, k), m(c) ? yA(At, c) : null, m(e) ? new l(null, 1, [Pv, e], null) : null, m(G) ? new l(null, 1, [vr, G], null) : null, m(!1) ? new l(null, 1, [$m, "antiquewhite"], null) : null, 
  C], 0));
  d = m(b) ? new R(null, 5, 5, S, [BA, lp, b, xv, b], null) : null;
  g = m(b) ? Kf(d, Mf(re, g)) : g;
  return Qf.h(new R(null, 2, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-v-box display-flex "), p(F)].join(""), Bp, c], null), a], 0))], null), g);
};
EA.D = 0;
EA.C = function(a) {
  return EA.j(z(a));
};
var FA = function FA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return FA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
FA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, at);
  var c = t.h(b, At), d = t.h(b, xv), e = t.h(b, Pv), f = t.h(b, Vv), g = t.h(b, Vi), k = t.h(b, Kj), n = t.h(b, rk), u = t.h(b, Mk), v = t.h(b, Tl), w = t.h(b, sn), y = t.h(b, yo), A = t.l(b, lp, "none"), C = t.h(b, Bp), F = t.h(b, lr), b = t.h(b, vr);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro box-args-desc args "box")');
  }
  return AA(L([lp, A, sn, w, xv, d, Vi, g, Mk, u, yo, y, rk, n, Tl, v, Kj, k, At, c, Pv, e, vr, b, at, a, Qs, "rc-box ", lr, F, Bp, C, Vv, f], 0));
};
FA.D = 0;
FA.C = function(a) {
  return FA.j(z(a));
};
var GA = function GA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return GA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
GA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, at);
  var c = t.h(b, At), d = t.h(b, zu), e = t.h(b, xv), f = t.h(b, Pv), g = t.h(b, Vv), k = t.h(b, Vi), n = t.h(b, Kj), u = t.h(b, rk), v = t.h(b, Mk), w = t.h(b, Tl), y = t.h(b, jn), A = t.h(b, sn), C = t.h(b, yo), F = t.l(b, lp, "auto"), G = t.h(b, Bp), J = t.h(b, Vq), P = t.h(b, lr), b = t.h(b, vr);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro scroller-args-desc args "scroller")');
  }
  return AA(L([lp, F, Vq, null == J && null == d && null == y ? Du : J, jn, y, zu, d, sn, A, xv, e, Vi, k, Mk, v, yo, C, rk, u, Tl, w, Kj, n, At, c, Pv, f, vr, b, at, a, Qs, "rc-scroller ", lr, P, Bp, G, Vv, g], 0));
};
GA.D = 0;
GA.C = function(a) {
  return GA.j(z(a));
};
function HA(a, b) {
  return [p(a), p(","), p(b), p(" ")].join("");
}
function IA(a) {
  a = fw("" + p(a), Sh([p("["), p("-"), p(":]")].join("")));
  return new R(null, 2, 5, S, [Oe.c(a.c ? a.c(1) : a.call(null, 1)), Oe.c(a.c ? a.c(2) : a.call(null, 2))], null);
}
function JA(a, b, c) {
  return new R(null, 3, 5, S, [xl, new l(null, 3, [fp, function() {
    m(b) ? b.v ? b.v() : b.call(null) : U.h ? U.h(a, !1) : U.call(null, a, !1);
    return null;
  }, lr, "close", Bp, wh.j(L([new l(null, 5, [sn, "34px", ol, "26px", Bs, "absolute", yl, "4px", qs, "2px"], null), c], 0))], null), new R(null, 2, 5, S, [$u, new l(null, 1, [lr, "zmdi zmdi-hc-fw-rc zmdi-close"], null)], null)], null);
}
function KA(a, b, c, d, e, f) {
  var g = e + f;
  e = function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return "initial";
      case "right":
        return gA(g);
      case "above":
        return hA(m(d) ? d : b / 2, L([an], 0));
      case "below":
        return hA(m(d) ? d : b / 2, L([an], 0));
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }();
  f = function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return hA(m(d) ? d : c / 2, L([an], 0));
      case "right":
        return hA(m(d) ? d : c / 2, L([an], 0));
      case "above":
        return "initial";
      case "below":
        return gA(g);
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }();
  var k = function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return gA(g);
      case "right":
        return null;
      case "above":
        return null;
      case "below":
        return null;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }(), n = function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return null;
      case "right":
        return null;
      case "above":
        return gA(g);
      case "below":
        return null;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }();
  return new l(null, 4, [Ev, e, yl, f, qs, k, Wk, n], null);
}
function LA(a, b, c, d, e, f, g) {
  var k = d / 2, n = new l(null, 4, [Ev, [p(HA(0, 0)), p(HA(c, k)), p(HA(0, d))].join(""), qs, [p(HA(c, 0)), p(HA(0, k)), p(HA(c, d))].join(""), xt, [p(HA(0, 0)), p(HA(k, c)), p(HA(d, 0))].join(""), Mu, [p(HA(0, c)), p(HA(k, 0)), p(HA(d, c))].join("")], null);
  return new R(null, 3, 5, S, [Pr, new l(null, 2, [lr, "popover-arrow", Bp, Qg([Bs, "absolute", function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return qs;
      case "right":
        return Ev;
      case "above":
        return Wk;
      case "below":
        return yl;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }(), hA(c, L([an], 0)), function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return yl;
      case "right":
        return yl;
      case "above":
        return Ev;
      case "below":
        return Ev;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }(), null == (H.c ? H.c(b) : H.call(null, b)) ? "50%" : gA(H.c ? H.c(b) : H.call(null, b)), function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return ln;
      case "right":
        return ln;
      case "above":
        return Em;
      case "below":
        return Em;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }(), hA(k, L([an], 0)), sn, gA(function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return c;
      case "right":
        return c;
      case "above":
        return d;
      case "below":
        return d;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }()), xv, gA(function() {
    switch(a instanceof N ? a.V : null) {
      case "left":
        return d;
      case "right":
        return d;
      case "above":
        return c;
      case "below":
        return c;
      default:
        throw Error([p("No matching clause: "), p(a)].join(""));;
    }
  }())])], null), new R(null, 2, 5, S, [su, new l(null, 2, [po, n.c ? n.c(a) : n.call(null, a), Bp, new l(null, 3, [Dm, m(g) ? g : m(e) ? "#f7f7f7" : "white", gk, m(f) ? null : "rgba(0, 0, 0, .2)", Iq, "1"], null)], null)], null)], null);
}
var MA = function MA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return MA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
MA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, gr), d = t.h(b, fp);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro backdrop-args-desc args "backdrop")');
  }
  return new R(null, 2, 5, S, [Mp, new l(null, 3, [lr, "rc-backdrop noselect", Bp, new l(null, 7, [Bs, "fixed", Ev, "0px", yl, "0px", sn, "100%", xv, "100%", $m, "black", gr, m(c) ? c : 0], null), fp, function(a, b, c, d, n) {
    return function() {
      n.v ? n.v() : n.call(null);
      return null;
    };
  }(a, b, b, c, d)], null)], null);
};
MA.D = 0;
MA.C = function(a) {
  return MA.j(z(a));
};
function NA(a, b, c, d) {
  switch(a instanceof N ? a.V : null) {
    case "center":
      return null;
    case "right":
      return 20 + b;
    case "below":
      return 20 + b;
    case "left":
      return m(c) ? c - 25 - b : c;
    case "above":
      return m(d) ? d - 25 - b : d;
    default:
      throw Error([p("No matching clause: "), p(a)].join(""));;
  }
}
var OA = function OA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return OA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
OA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, xv), d = t.h(b, Uv), e = t.h(b, oj), f = t.h(b, Fj), g = t.l(b, hk, 11), k = t.h(b, Yj), n = t.h(b, Em), u = t.l(b, xm, 22), v = t.h(b, ln), w = t.h(b, sn), y = t.h(b, op), A = t.l(b, Yp, -1), C = t.h(b, vr), F = t.h(b, Bs);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro popover-border-args-desc args "popover-border")');
  }
  var G = ky(!1), J = ji("popover-"), P = IA(m(F) ? F : dk), Q = M(P, 0, null), W = M(P, 1, null), la = m(y) ? x.h(Q, Mu) || x.h(W, Mu) : y, K = ky(0), fa = ky(0), Y = ky(0);
  return xx(new l(null, 3, [Ym, function(a) {
    return function() {
      return U.h ? U.h(a, !0) : U.call(null, a, !0);
    };
  }(G, J, P, Q, W, la, K, fa, Y, a, b, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F), Hn, function(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J) {
    return function() {
      var a = document.getElementById(b), c = m(a) ? 2 * ((a.clientWidth + 1) / 2 | 0) : 0;
      U.h ? U.h(g, c) : U.call(null, g, c);
      a = m(a) ? 2 * ((a.clientHeight + 1) / 2 | 0) : 0;
      U.h ? U.h(k, a) : U.call(null, k, a);
      a = NA(e, J, H.c ? H.c(g) : H.call(null, g), H.c ? H.c(k) : H.call(null, k));
      return U.h ? U.h(n, a) : U.call(null, n, a);
    };
  }(G, J, P, Q, W, la, K, fa, Y, a, b, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F), Ft, function(a, b, c, d, e, f, g, k, n) {
    return function() {
      function c(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, d = Array(arguments.length - 0);b < d.length;) {
            d[b] = arguments[b + 0], ++b;
          }
          b = new B(d, 0);
        }
        return u.call(this, b);
      }
      function u(c) {
        var v = null != c && (c.o & 64 || c.P) ? cf(yf, c) : c;
        c = t.h(v, xv);
        var A = t.h(v, Uv), w = t.h(v, oj), y = t.h(v, Fj), C = t.l(v, hk, 11), F = t.h(v, Yj), G = t.h(v, Em), J = t.l(v, xm, 22), P = t.h(v, ln), Q = t.h(v, sn), K = t.h(v, op), W = t.l(v, Yp, -1), Y = t.h(v, vr);
        t.h(v, Bs);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro popover-border-args-desc args "popover-border")');
        }
        var v = document.getElementById(b), ea = m(v) ? 2 * ((v.clientWidth + 1) / 2 | 0) : 0;
        U.h ? U.h(g, ea) : U.call(null, g, ea);
        v = m(v) ? 2 * ((v.clientHeight + 1) / 2 | 0) : 0;
        U.h ? U.h(k, v) : U.call(null, k, v);
        F = NA(e, F, H.c ? H.c(g) : H.call(null, g), H.c ? H.c(k) : H.call(null, k));
        U.h ? U.h(n, F) : U.call(null, n, F);
        return new R(null, 5, 5, S, [xp, new l(null, 2, [jr, b, Bp, wh.j(L([m(H.c ? H.c(a) : H.call(null, a)) ? m(b) ? KA(d, H.c ? H.c(g) : H.call(null, g), H.c ? H.c(k) : H.call(null, k), H.c ? H.c(n) : H.call(null, n), C, W) : null : new l(null, 2, [yl, "-10000px", Ev, "-10000px"], null), m(Q) ? new l(null, 1, [sn, Q], null) : null, m(c) ? new l(null, 1, [xv, c], null) : null, m(w) ? new l(null, 1, [$m, w], null) : null, m(A) ? new l(null, 3, [ju, "4px", ok, "none", Ut, "none"], null) : null, function() {
          switch(d instanceof N ? d.V : null) {
            case "left":
              return new l(null, 1, [Em, "-2000px"], null);
            case "right":
              return new l(null, 1, [Bt, "-2000px"], null);
            case "above":
              return new l(null, 1, [Bt, "-2000px"], null);
            case "below":
              return new l(null, 1, [Bt, "-2000px"], null);
            default:
              throw Error([p("No matching clause: "), p(d)].join(""));;
          }
        }(), m(G) ? new l(null, 1, [Em, G], null) : null, m(P) ? new l(null, 1, [ln, P], null) : null, new l(null, 3, [zs, "block", yo, "none", vr, gA(0)], null)], 0))], null), new R(null, 8, 5, S, [LA, d, n, C, J, f, A, w], null), m(K) ? K : null, Qf.h(new R(null, 2, 5, S, [Kr, new l(null, 1, [Bp, new l(null, 1, [vr, Y], null)], null)], null), y)], null);
      }
      c.D = 0;
      c.C = function(a) {
        a = z(a);
        return u(a);
      };
      c.j = u;
      return c;
    }();
  }(G, J, P, Q, W, la, K, fa, Y, a, b, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F)], null));
};
OA.D = 0;
OA.C = function(a) {
  return OA.j(z(a));
};
var PA = function PA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return PA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
PA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, op);
  var c = t.h(b, Np), d = t.h(b, qm), b = t.h(b, Po);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro popover-title-args-desc args "popover-title")');
  }
  var e;
  e = sf(cb).call(null, c);
  e = m(e) ? e : sf(cb).call(null, b);
  if (!m(e)) {
    throw Error([p("Assert failed: "), p("Must specify either showing? OR close-callback"), p("\n"), p("(or ((complement nil?) showing?) ((complement nil?) close-callback))")].join(""));
  }
  d = null == d ? !0 : d;
  return new R(null, 3, 5, S, [ro, new l(null, 1, [Bp, wh.j(L([vA("inherit"), new l(null, 1, [ol, "18px"], null)], 0))], null), new R(null, 7, 5, S, [DA, Tl, Sn, Kj, vp, Fj, new R(null, 2, 5, S, [a, m(d) ? new R(null, 3, 5, S, [JA, c, b], null) : null], null)], null)], null);
};
PA.D = 0;
PA.C = function(a) {
  return PA.j(z(a));
};
var QA = function QA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return QA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
QA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, au), d = t.h(b, ou), e = t.h(b, xv), f = t.h(b, Uv), g = t.h(b, oj), k = t.l(b, hk, 11), n = t.h(b, Yj), u = t.h(b, Ok), v = t.h(b, nm), w = t.h(b, qm), y = t.l(b, xm, 22), A = t.h(b, sn), C = t.h(b, op), F = t.h(b, Np), G = t.h(b, Bp), J = t.l(b, Yp, -1), P = t.h(b, vr), Q = t.h(b, Bs);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro popover-content-wrapper-args-desc args "popover-content-wrapper")');
  }
  if (!m(sf(cb).call(null, F))) {
    throw Error([p("Assert failed: "), p("Must specify a showing? atom"), p("\n"), p("((complement nil?) showing?)")].join(""));
  }
  var W = ky(0), la = ky(0);
  return xx(new l(null, 2, [Ym, function(a, b, c, d, e, f, g, k, n, u, v, A, w, y) {
    return function(c) {
      if (m(y)) {
        c = gy(c).parentNode.getBoundingClientRect();
        var d = c.left;
        U.h ? U.h(a, d) : U.call(null, a, d);
        c = c.top;
        return U.h ? U.h(b, c) : U.call(null, b, c);
      }
      return null;
    };
  }(W, la, a, b, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q), Ft, function(a, b) {
    return function() {
      function c(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, e = Array(arguments.length - 0);b < e.length;) {
            e[b] = arguments[b + 0], ++b;
          }
          b = new B(e, 0);
        }
        return d.call(this, b);
      }
      function d(c) {
        var e = null != c && (c.o & 64 || c.P) ? cf(yf, c) : c;
        c = t.h(e, au);
        var f = t.h(e, ou), g = t.h(e, xv), k = t.h(e, Uv), n = t.h(e, oj), u = t.l(e, hk, 11), v = t.h(e, Yj), A = t.h(e, Ok), w = t.h(e, nm), y = t.h(e, qm), C = t.l(e, xm, 22), F = t.h(e, sn), G = t.h(e, op), J = t.h(e, Np), P = t.h(e, Bp), Q = t.l(e, Yp, -1), W = t.h(e, vr), e = t.h(e, Bs);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro popover-content-wrapper-args-desc args "popover-content-wrapper")');
        }
        var Z = S, w = new l(null, 2, [lr, "popover-content-wrapper", Bp, wh.j(L([vA("inherit"), m(w) ? new l(null, 3, [Bs, "fixed", Ev, gA(H.c ? H.c(a) : H.call(null, a)), yl, gA(H.c ? H.c(b) : H.call(null, b))], null) : null, P], 0))], null), P = H.c ? H.c(J) : H.call(null, J);
        return new R(null, 4, 5, Z, [Mp, w, m(m(P) ? f : P) ? new R(null, 5, 5, S, [MA, gr, A, fp, f], null) : null, new R(null, 25, 5, S, [OA, Bs, m(e) ? e : dk, Yj, v, sn, F, xv, g, Uv, k, oj, n, hk, u, xm, C, Yp, Q, vr, W, op, m(G) ? new R(null, 9, 5, S, [PA, op, G, Np, J, qm, y, Po, f], null) : null, Fj, new R(null, 1, 5, S, [c], null)], null)], null);
      }
      c.D = 0;
      c.C = function(a) {
        a = z(a);
        return d(a);
      };
      c.j = d;
      return c;
    }();
  }(W, la, a, b, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, P, Q)], null));
};
QA.D = 0;
QA.C = function(a) {
  return QA.j(z(a));
};
var RA = function RA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return RA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
RA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, Np);
  var c = t.h(b, Bs), d = t.h(b, it), e = t.h(b, im), b = t.h(b, Bp);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro popover-anchor-wrapper-args-desc args "popover-anchor-wrapper")');
  }
  var c = IA(c), f = M(c, 0, null);
  M(c, 1, null);
  var c = function() {
    switch(f instanceof N ? f.V : null) {
      case "left":
        return !1;
      case "above":
        return !1;
      default:
        return !0;
    }
  }(), g = function() {
    switch(f instanceof N ? f.V : null) {
      case "left":
        return "row";
      case "right":
        return "row";
      default:
        return "column";
    }
  }();
  return new R(null, 3, 5, S, [Mp, new l(null, 2, [lr, "rc-popover-anchor-wrapper display-inline-flex", Bp, wh.j(L([vA("inherit"), b], 0))], null), new R(null, 5, 5, S, [Mp, new l(null, 2, [lr, "rc-point-wrapper display-inline-flex", Bp, wh.j(L([vA("auto"), wA(g), yA(Jj, vp)], 0))], null), m(c) ? d : null, m(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 3, 5, S, [Mp, new l(null, 2, [lr, "rc-popover-point display-inline-flex", Bp, wh.j(L([vA("auto"), new l(null, 2, [Bs, "relative", wq, "4"], null)], 
  0))], null), e], null) : null, m(c) ? null : d], null)], null);
};
RA.D = 0;
RA.C = function(a) {
  return RA.j(z(a));
};
var SA = function SA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return SA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
SA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, it);
  var c = t.h(b, ou), d = t.l(b, nm, !0), e = t.h(b, qm), f = t.h(b, sn), g = t.h(b, Np), k = t.h(b, Bp), n = t.h(b, Uq), u = t.h(b, ir), b = t.h(b, Bs);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro popover-tooltip-args-desc args "popover-tooltip")');
  }
  u = fA(u);
  return new R(null, 11, 5, S, [RA, Np, g, Bs, b, it, a, Bp, k, im, new R(null, 25, 5, S, [QA, Np, g, Bs, m(b) ? b : xn, nm, d, ou, c, sn, f, Uv, !0, oj, function() {
    switch(n instanceof N ? n.V : null) {
      case "warning":
        return "#f57c00";
      case "error":
        return "#d50000";
      case "info":
        return "#333333";
      default:
        return "black";
    }
  }(), vr, "3px 8px", hk, 6, xm, 12, Yp, 4, au, new R(null, 5, 5, S, [EA, Bp, x.h(n, Ur) ? new l(null, 3, [Gk, "white", ol, "14px", vr, "4px"], null) : new l(null, 4, [Gk, "white", ol, "12px", Fl, "bold", Kk, "center"], null), Fj, new R(null, 2, 5, S, [u, m(e) ? new R(null, 4, 5, S, [JA, g, c, new l(null, 4, [ol, "20px", Gk, "white", vs, "none", qs, "1px"], null)], null) : null], null)], null)], null)], null);
};
SA.D = 0;
SA.C = function(a) {
  return SA.j(z(a));
};
var TA = function TA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return TA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
TA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, ir), d = t.h(b, fp), e = t.h(b, sn), f = t.h(b, lr), g = t.h(b, Bp), k = t.h(b, Vv);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro label-args-desc args "label")');
  }
  return new R(null, 9, 5, S, [FA, sn, e, Kj, tn, lr, "display-inline-flex", at, new R(null, 3, 5, S, [Jv, wh.j(L([new l(null, 2, [lr, [p("rc-label "), p(f)].join(""), Bp, wh.j(L([vA("none"), g], 0))], null), m(d) ? new l(null, 1, [fp, function(a, b, c, d, e) {
    return function() {
      e.v ? e.v() : e.call(null);
      return null;
    };
  }(a, b, b, c, d, e, f, g, k)], null) : null, k], 0)), c], null)], null);
};
TA.D = 0;
TA.C = function(a) {
  return TA.j(z(a));
};
var UA = function UA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return UA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
UA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, ir);
  var c = t.h(b, Gp), d = t.h(b, uo), e = t.l(b, ln, "0.6em"), f = t.l(b, Lu, "0.3em"), g = t.h(b, lr), k = t.h(b, Bp), b = t.h(b, Vv);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro title-args-desc args "title")');
  }
  c = null == c ? "" : Pe(c);
  return new R(null, 5, 5, S, [EA, lr, c, Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [Jv, wh.j(L([new l(null, 2, [lr, [p("rc-title display-flex "), p(c), p(" "), p(g)].join(""), Bp, wh.j(L([vA("none"), new l(null, 1, [ln, e], null), new l(null, 1, [Ui, 1], null), m(d) ? null : new l(null, 1, [Lu, f], null), k], 0))], null), b], 0)), a], null), m(d) ? new R(null, 5, 5, S, [CA, lp, "1px", Bp, new l(null, 1, [Lu, f], null)], null) : null], null)], null);
};
UA.D = 0;
UA.C = function(a) {
  return UA.j(z(a));
};
function VA(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, Rv), d = t.h(b, fl), e = t.h(b, Ot), f = t.h(b, Do), g = t.h(b, rj), k = t.h(b, Bp), n = t.h(b, ar), u = fA(c), v = fA(d);
  if (!m(kf(Mf(function(a, b, c, d, e, f, g, k) {
    return function(b) {
      return x.h(a, k.c ? k.c(b) : k.call(null, b));
    };
  }(u, v, a, b, c, d, e, f, g, k, n), v)))) {
    throw Error([p("Assert failed: "), p("model not found in tabs vector"), p("\n"), p("(not-empty (filter (fn* [p1__13023#] (\x3d current (id-fn p1__13023#))) tabs))")].join(""));
  }
  var w = null;
  return new R(null, 3, 5, S, [Mp, new l(null, 2, [lr, [p("rc-tabs noselect btn-group"), p(m(n) ? "-vertical" : null)].join(""), Bp, vA("none")], null), function() {
    return function(a, b, c, d, e, f, g, k, n, u, v, w) {
      return function Z(X) {
        return new Qe(null, function(a, b, c, d, e, f, g, k, n, u, v, A) {
          return function() {
            for (;;) {
              var w = z(X);
              if (w) {
                var y = w;
                if ($d(y)) {
                  var C = Ec(y), F = I(C), G = Ue(F);
                  return function() {
                    for (var J = 0;;) {
                      if (J < F) {
                        var P = Ab.h(C, J);
                        Xe(G, function() {
                          var Q = n.c ? n.c(P) : n.call(null, P), K = u.c ? u.c(P) : u.call(null, P), W = x.h(Q, a);
                          return new R(null, 3, 5, S, [xl, new l(null, 5, [$n, "button", Rk, "" + p(Q), lr, [p("btn btn-default "), p(W ? "active" : null)].join(""), Bp, v, fp, m(k) ? function(a, b, c, d, e, f, g, k, n, u, v, A, w, y, C, F, G, J) {
                            return function() {
                              J.c ? J.c(b) : J.call(null, b);
                              return null;
                            };
                          }(J, Q, K, W, P, C, F, G, y, w, a, b, c, d, e, f, g, k, n, u, v, A) : null], null), K], null);
                        }());
                        J += 1;
                      } else {
                        return !0;
                      }
                    }
                  }() ? We(G.da(), Z(Fc(y))) : We(G.da(), null);
                }
                var J = D(y);
                return Ad(function() {
                  var C = n.c ? n.c(J) : n.call(null, J), F = u.c ? u.c(J) : u.call(null, J), G = x.h(C, a);
                  return new R(null, 3, 5, S, [xl, new l(null, 5, [$n, "button", Rk, "" + p(C), lr, [p("btn btn-default "), p(G ? "active" : null)].join(""), Bp, v, fp, m(k) ? function(a, b, c, d, e, f, g, k, n, u, v, A, w, y) {
                    return function() {
                      y.c ? y.c(a) : y.call(null, a);
                      return null;
                    };
                  }(C, F, G, J, y, w, a, b, c, d, e, f, g, k, n, u, v, A) : null], null), F], null);
                }(), Z(cd(y)));
              }
              return null;
            }
          };
        }(a, b, c, d, e, f, g, k, n, u, v, w), null, null);
      };
    }(u, v, w, a, b, c, d, e, f, g, k, n)(v);
  }()], null);
}
var WA = function WA(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return WA.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
WA.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, Rv);
  var c = t.h(b, fl), d = t.h(b, Ot), e = t.l(b, Do, jr), f = t.l(b, rj, ir), b = t.h(b, Bp);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro tabs-args-desc args "tabs")');
  }
  return VA(L([Rv, a, fl, c, Ot, d, Bp, b, Do, e, rj, f, ar, !1], 0));
};
WA.D = 0;
WA.C = function(a) {
  return WA.j(z(a));
};
function XA() {
  return function(a) {
    return function() {
      function b(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, f = Array(arguments.length - 0);b < f.length;) {
            f[b] = arguments[b + 0], ++b;
          }
          b = new B(f, 0);
        }
        return c.call(this, b);
      }
      function c(b) {
        var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, f = t.h(c, ir), g = t.h(c, fp), k = t.h(c, iv), n = t.h(c, Jr), u = t.h(c, cu), v = t.l(c, lr, "btn-default"), w = t.h(c, Bp), y = t.h(c, Vv);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro button-args-desc args "button")');
        }
        m(k) || (U.h ? U.h(a, !1) : U.call(null, a, !1));
        var A = fA(u);
        b = new R(null, 3, 5, S, [xl, wh.j(L([new l(null, 4, [lr, [p("rc-button btn "), p(v)].join(""), Bp, wh.j(L([vA("none"), w], 0)), Xk, A, fp, function(a, b, c, d, e, f) {
          return function(b) {
            m(m(f) ? eb(a) : f) && (f.c ? f.c(b) : f.call(null, b));
            return null;
          };
        }(A, b, c, c, f, g, k, n, u, v, w, y, a)], null), m(k) ? new l(null, 2, [Ts, function(a, b, c, d, e, f, g, k, n, u, v, A, w) {
          return function() {
            U.h ? U.h(w, !0) : U.call(null, w, !0);
            return null;
          };
        }(A, b, c, c, f, g, k, n, u, v, w, y, a), Ol, function(a, b, c, d, e, f, g, k, n, u, v, A, w) {
          return function() {
            U.h ? U.h(w, !1) : U.call(null, w, !1);
            return null;
          };
        }(A, b, c, c, f, g, k, n, u, v, w, y, a)], null) : null, y], 0)), f], null);
        m(A) && (U.h ? U.h(a, !1) : U.call(null, a, !1));
        return new R(null, 7, 5, S, [FA, lr, "display-inline-flex", Kj, tn, at, m(k) ? new R(null, 9, 5, S, [SA, ir, k, Bs, m(n) ? n : xn, Np, a, it, b], null) : b], null);
      }
      b.D = 0;
      b.C = function(a) {
        a = z(a);
        return c(a);
      };
      b.j = c;
      return b;
    }();
  }(ky(!1));
}
function YA() {
  return function(a) {
    return function() {
      function b(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, f = Array(arguments.length - 0);b < f.length;) {
            f[b] = arguments[b + 0], ++b;
          }
          b = new B(f, 0);
        }
        return c.call(this, b);
      }
      function c(b) {
        var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, f = t.h(c, cu), g = t.h(c, iv), k = t.h(c, Vv), n = t.h(c, Bl), u = t.l(c, Dl, "zmdi-plus"), v = t.h(c, fp), w = t.h(c, lp), y = t.h(c, Bp), A = t.h(c, lr), C = t.h(c, Jr);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro md-circle-icon-button-args-desc args "md-circle-icon-button")');
        }
        m(g) || (U.h ? U.h(a, !1) : U.call(null, a, !1));
        b = new R(null, 3, 5, S, [Mp, wh.j(L([new l(null, 3, [lr, [p("rc-md-circle-icon-button noselect "), p(function() {
          switch(w instanceof N ? w.V : null) {
            case "smaller":
              return "rc-circle-smaller ";
            case "larger":
              return "rc-circle-larger ";
            default:
              return " ";
          }
        }()), p(m(n) ? "rc-circle-emphasis " : null), p(m(f) ? "rc-circle-disabled " : null), p(A)].join(""), Bp, wh.j(L([new l(null, 1, [Tn, m(f) ? null : "pointer"], null), y], 0)), fp, function(a, b, c, d, e, f, g, k, n) {
          return function(a) {
            m(m(n) ? eb(d) : n) && (n.c ? n.c(a) : n.call(null, a));
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a)], null), m(g) ? new l(null, 2, [Ts, function(a, b, c, d, e, f, g, k, n, u, v, w, A, y) {
          return function() {
            U.h ? U.h(y, !0) : U.call(null, y, !0);
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a), Ol, function(a, b, c, d, e, f, g, k, n, u, v, w, A, y) {
          return function() {
            U.h ? U.h(y, !1) : U.call(null, y, !1);
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a)], null) : null, k], 0)), new R(null, 2, 5, S, [$u, new l(null, 1, [lr, [p("zmdi zmdi-hc-fw-rc "), p(u)].join("")], null)], null)], null);
        return m(g) ? new R(null, 9, 5, S, [SA, ir, g, Bs, m(C) ? C : xn, Np, a, it, b], null) : b;
      }
      b.D = 0;
      b.C = function(a) {
        a = z(a);
        return c(a);
      };
      b.j = c;
      return b;
    }();
  }(ky(!1));
}
function ZA() {
  return function(a) {
    return function() {
      function b(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, f = Array(arguments.length - 0);b < f.length;) {
            f[b] = arguments[b + 0], ++b;
          }
          b = new B(f, 0);
        }
        return c.call(this, b);
      }
      function c(b) {
        var c = null != b && (b.o & 64 || b.P) ? cf(yf, b) : b, f = t.h(c, cu), g = t.h(c, iv), k = t.h(c, Vv), n = t.h(c, Bl), u = t.l(c, Dl, "zmdi-plus"), v = t.h(c, fp), w = t.h(c, lp), y = t.h(c, Bp), A = t.h(c, lr), C = t.h(c, Jr);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro md-icon-button-args-desc args "md-icon-button")');
        }
        m(g) || (U.h ? U.h(a, !1) : U.call(null, a, !1));
        b = new R(null, 3, 5, S, [Mp, wh.j(L([new l(null, 3, [lr, [p("rc-md-icon-button noselect "), p(function() {
          switch(w instanceof N ? w.V : null) {
            case "smaller":
              return "rc-icon-smaller ";
            case "larger":
              return "rc-icon-larger ";
            default:
              return " ";
          }
        }()), p(m(n) ? "rc-icon-emphasis " : null), p(m(f) ? "rc-icon-disabled " : null), p(A)].join(""), Bp, wh.j(L([new l(null, 1, [Tn, m(f) ? null : "pointer"], null), y], 0)), fp, function(a, b, c, d, e, f, g, k, n) {
          return function(a) {
            m(m(n) ? eb(d) : n) && (n.c ? n.c(a) : n.call(null, a));
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a)], null), m(g) ? new l(null, 2, [Ts, function(a, b, c, d, e, f, g, k, n, u, v, w, A, y) {
          return function() {
            U.h ? U.h(y, !0) : U.call(null, y, !0);
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a), Ol, function(a, b, c, d, e, f, g, k, n, u, v, w, A, y) {
          return function() {
            U.h ? U.h(y, !1) : U.call(null, y, !1);
            return null;
          };
        }(b, c, c, f, g, k, n, u, v, w, y, A, C, a)], null) : null, k], 0)), new R(null, 2, 5, S, [$u, new l(null, 1, [lr, [p("zmdi zmdi-hc-fw-rc "), p(u)].join("")], null)], null)], null);
        return m(g) ? new R(null, 9, 5, S, [SA, ir, g, Bs, m(C) ? C : xn, Np, a, it, b], null) : b;
      }
      b.D = 0;
      b.C = function(a) {
        a = z(a);
        return c(a);
      };
      b.j = c;
      return b;
    }();
  }(ky(!1));
}
;var $A = function $A(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return $A.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
$A.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, Ws), d = t.h(b, au), e = t.h(b, Vv), f = t.h(b, Av), g = t.h(b, ml), k = t.l(b, km, Ur), n = t.h(b, Bp), u = t.h(b, jr), v = t.h(b, lr), w = t.h(b, vr);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro alert-box-args-desc args "alert-box")');
  }
  a = new R(null, 7, 5, S, [XA, ir, new R(null, 2, 5, S, [$u, new l(null, 2, [lr, "zmdi created zmdi-hc-fw-rc zmdi-close", Bp, new l(null, 1, [ol, "20px"], null)], null)], null), fp, function(a, b, c, d, e, f, g, k, n, u, v) {
    return function() {
      k.c ? k.c(v) : k.call(null, v);
      return null;
    };
  }(a, b, b, c, d, e, f, g, k, n, u, v, w), lr, "close"], null);
  b = function() {
    var a = new l(null, 4, [kv, "", Ur, "alert-success", cq, "alert-warning", sq, "alert-danger"], null);
    return k.c ? k.c(a) : k.call(null, a);
  }();
  return new R(null, 4, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-alert alert fade in "), p(b), p(" "), p(v)].join(""), Bp, wh.j(L([vA("none"), new l(null, 1, [vr, m(w) ? w : null], null), n], 0))], null), e], 0)), m(f) ? new R(null, 9, 5, S, [DA, Tl, Sn, Kj, vp, Bp, new l(null, 1, [Lu, m(d) ? "10px" : "0px"], null), Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [Rp, new l(null, 1, [Bp, new l(null, 1, [Lu, "0px"], null)], null), f], null), m(m(c) ? g : c) ? a : null], null)], null) : null, m(d) ? 
  new R(null, 7, 5, S, [DA, Tl, Sn, Kj, vp, Fj, new R(null, 2, 5, S, [new R(null, 2, 5, S, [Mp, d], null), m(function() {
    var a = eb(f);
    return a ? m(c) ? g : c : a;
  }()) ? a : null], null)], null) : null], null);
};
$A.D = 0;
$A.C = function(a) {
  return $A.j(z(a));
};
function aB(a, b) {
  var c = Array.prototype.slice.call(arguments), d = c.shift();
  if ("undefined" == typeof d) {
    throw Error("[goog.string.format] Template required");
  }
  return d.replace(/%([0\-\ \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g, function(a, b, d, k, n, u, v, w) {
    if ("%" == u) {
      return "%";
    }
    var y = c.shift();
    if ("undefined" == typeof y) {
      throw Error("[goog.string.format] Not enough arguments");
    }
    arguments[0] = y;
    return aB.qb[u].apply(null, arguments);
  });
}
aB.qb = {};
aB.qb.s = function(a, b, c) {
  return isNaN(c) || "" == c || a.length >= c ? a : a = -1 < b.indexOf("-", 0) ? a + Aa(" ", c - a.length) : Aa(" ", c - a.length) + a;
};
aB.qb.f = function(a, b, c, d, e) {
  d = a.toString();
  isNaN(e) || "" == e || (d = parseFloat(a).toFixed(e));
  var f;
  f = 0 > a ? "-" : 0 <= b.indexOf("+") ? "+" : 0 <= b.indexOf(" ") ? " " : "";
  0 <= a && (d = f + d);
  if (isNaN(c) || d.length >= c) {
    return d;
  }
  d = isNaN(e) ? Math.abs(a).toString() : Math.abs(a).toFixed(e);
  a = c - d.length - f.length;
  0 <= b.indexOf("-", 0) ? d = f + d + Aa(" ", a) : (b = 0 <= b.indexOf("0", 0) ? "0" : " ", d = f + Aa(b, a) + d);
  return d;
};
aB.qb.d = function(a, b, c, d, e, f, g, k) {
  return aB.qb.f(parseInt(a, 10), b, c, d, 0, f, g, k);
};
aB.qb.i = aB.qb.d;
aB.qb.u = aB.qb.d;
function bB(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  return cB(0 < b.length ? new B(b.slice(0), 0, null) : null);
}
function cB(a) {
  return qf(function(a) {
    return !1;
  }, a) ? cf(x, Cf.h(function(a) {
    return a.getTime();
  }, a)) : cf(x, a);
}
function dB(a) {
  return D(Bf(function(b, c) {
    return m(cB(L([c, a], 0))) ? b : null;
  }, eB));
}
function fB(a) {
  a = Cf.h(function(a) {
    return a instanceof N || a instanceof r ? "" + p(a) : a;
  }, a);
  return df(aB, "%s not implemented yet", a);
}
function gB(a) {
  return 0 <= a && 9 >= a ? [p("0"), p(a)].join("") : "" + p(a);
}
;var hB = function hB(b) {
  if (null != b && null != b.Pd) {
    return b.Pd(b);
  }
  var c = hB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = hB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.year", b);
}, iB = function iB(b) {
  if (null != b && null != b.Nd) {
    return b.Nd(b);
  }
  var c = iB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = iB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.month", b);
}, jB = function jB(b) {
  if (null != b && null != b.Jd) {
    return b.Jd(b);
  }
  var c = jB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = jB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.day", b);
}, kB = function kB(b) {
  if (null != b && null != b.Kd) {
    return b.Kd(b);
  }
  var c = kB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = kB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.hour", b);
}, lB = function lB(b) {
  if (null != b && null != b.Md) {
    return b.Md(b);
  }
  var c = lB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = lB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.minute", b);
}, mB = function mB(b) {
  if (null != b && null != b.Od) {
    return b.Od(b);
  }
  var c = mB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = mB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.second", b);
}, nB = function nB(b) {
  if (null != b && null != b.Ld) {
    return b.Ld(b);
  }
  var c = nB[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = nB._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("DateTimeProtocol.milli", b);
};
(function() {
  function a(a, c, d, e, f) {
    e = e.clone();
    m(f) && (a = a.c ? a.c(e) : a.call(null, e), d = d.h ? d.h(a, f) : d.call(null, a, f), c.h ? c.h(e, d) : c.call(null, e, d));
    return e;
  }
  return new l(null, 8, [Yu, uf.l(a, nB, function() {
    return function(a, c) {
      return a.setMilliseconds(c);
    };
  }(a)), Oo, uf.l(a, mB, function() {
    return function(a, c) {
      return a.setSeconds(c);
    };
  }(a)), wt, uf.l(a, lB, function() {
    return function(a, c) {
      return a.setMinutes(c);
    };
  }(a)), ss, uf.l(a, kB, function() {
    return function(a, c) {
      return a.setHours(c);
    };
  }(a)), Qn, uf.l(a, jB, function() {
    return function(a, c) {
      return a.setDate(c);
    };
  }(a)), Ou, function() {
    return function(a, c, d) {
      var e = c.clone();
      m(d) && e.setDate(function() {
        var c = jB(e), g = 7 * d;
        return a.h ? a.h(c, g) : a.call(null, c, g);
      }());
      return e;
    };
  }(a), wn, function() {
    return function(a, c, d) {
      c = c.clone();
      m(d) && (a = a.h ? a.h(0, d) : a.call(null, 0, d), c.add(new Yz($z, a)));
      return c;
    };
  }(a), ws, function() {
    return function(a, c, d) {
      var e = c.clone();
      m(d) && (m(function() {
        var a;
        a = hB(e);
        a = 0 === ve(a, 400) ? !0 : 0 === ve(a, 100) ? !1 : 0 === ve(a, 4) ? !0 : !1;
        return m(a) && (a = iB(e), a = bB.h ? bB.h(2, a) : bB.call(null, 2, a), m(a)) ? (a = jB(e), bB.h ? bB.h(29, a) : bB.call(null, 29, a)) : a;
      }()) && e.setDate(28), e.setYear(function() {
        var c = hB(e);
        return a.h ? a.h(c, d) : a.call(null, c, d);
      }()));
      return e;
    };
  }(a)], null);
})();
var eB = new R(null, 12, 5, S, "January February March April May June July August September October November December".split(" "), null), oB = new R(null, 7, 5, S, "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "), null);
function pB(a, b) {
  return b.substring(0, a);
}
var qB = function() {
  function a(a) {
    return a.getDate();
  }
  var b = function() {
    return function(a) {
      return a.getMonth() + 1;
    };
  }(a), c = function() {
    return function(a) {
      return a.getYear();
    };
  }(a, b), d = function() {
    return function(a) {
      a = ve(a.getHours(), 12);
      return 0 === a ? 12 : a;
    };
  }(a, b, c), e = function() {
    return function(a) {
      return 12 > a.getHours() ? "am" : "pm";
    };
  }(a, b, c, d), f = function() {
    return function(a) {
      return 12 > a.getHours() ? "AM" : "PM";
    };
  }(a, b, c, d, e), g = function() {
    return function(a) {
      return a.getHours();
    };
  }(a, b, c, d, e, f), k = function() {
    return function(a) {
      return a.getMinutes();
    };
  }(a, b, c, d, e, f, g), n = function() {
    return function(a) {
      return a.getSeconds();
    };
  }(a, b, c, d, e, f, g, k), u = function() {
    return function(a) {
      return a.getMilliseconds();
    };
  }(a, b, c, d, e, f, g, k, n), v = function() {
    return function(a) {
      return eA(a);
    };
  }(a, b, c, d, e, f, g, k, n, u), w = function() {
    return function(a) {
      var b = a.getDate(), c = a.getFullYear();
      for (a = a.getMonth() - 1;0 <= a;a--) {
        b += Xz(c, a);
      }
      return b;
    };
  }(a, b, c, d, e, f, g, k, n, u, v), y = function() {
    return function(a) {
      return a.getDay();
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w);
  return Md("d HH ZZ s ww MMM YYYY e ss DDD SSS dow YY M mm S MM EEE Z H DD dd a hh dth yyyy A EEEE h xxxx m yy D MMMM".split(" "), [a, function(a, b, c, d, e, f, g) {
    return function(a) {
      return gB(g(a));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), v, n, function() {
    return function(a) {
      var b = a.getFullYear(), c = a.getMonth(), d = a.getDate(), e = a.ye, b = new Date(b, c, d), e = void 0 !== e ? e : 3;
      a = a.xe || 0;
      c = ((b.getDay() + 6) % 7 - a + 7) % 7;
      a = b.valueOf() + 864E5 * ((e - a + 7) % 7 - c);
      e = (new Date((new Date(a)).getFullYear(), 0, 1)).valueOf();
      return gB(Math.floor(Math.round((a - e) / 864E5) / 7) + 1);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), function(a, b) {
    return function(a) {
      a = b(a) - 1;
      a = eB.c ? eB.c(a) : eB.call(null, a);
      return pB(3, a);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), c, y, function(a, b, c, d, e, f, g, k, n) {
    return function(a) {
      return gB(n(a));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), w, function(a, b, c, d, e, f, g, k, n, u) {
    return function(a) {
      a = u(a);
      return [p(bw(Df(3 - I("" + p(a)), Hf("0")))), p(a)].join("");
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
    return function(a) {
      a = y(a);
      return oB.c ? oB.c(a) : oB.call(null, a);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), function(a, b, c) {
    return function(a) {
      return ve(c(a), 100);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), b, function(a, b, c, d, e, f, g, k) {
    return function(a) {
      return gB(k(a));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), u, function(a, b) {
    return function(a) {
      return gB(b(a));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
    return function(a) {
      a = y(a);
      a = oB.c ? oB.c(a) : oB.call(null, a);
      return pB(3, a);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), v, g, w, function(a) {
    return function(b) {
      return gB(a(b));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), e, function(a, b, c, d) {
    return function(a) {
      return gB(d(a));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), function(a) {
    return function(b) {
      var c = a(b);
      return [p(c), p(function() {
        switch(c) {
          case 1:
            return "st";
          case 2:
            return "nd";
          case 3:
            return "rd";
          case 21:
            return "st";
          case 22:
            return "nd";
          case 23:
            return "rd";
          case 31:
            return "st";
          default:
            return "th";
        }
      }())].join("");
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), c, f, function(a, b, c, d, e, f, g, k, n, u, v, w, y) {
    return function(a) {
      a = y(a);
      return oB.c ? oB.c(a) : oB.call(null, a);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), d, c, k, function(a, b, c) {
    return function(a) {
      return ve(c(a), 100);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), w, function(a, b) {
    return function(a) {
      a = b(a) - 1;
      return eB.c ? eB.c(a) : eB.call(null, a);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y)]);
}();
(function() {
  function a(a) {
    return parseInt(a, 10);
  }
  var b = function(a) {
    return function(b) {
      return function(a) {
        return function(c, d) {
          return Ld.l(c, b, a(d));
        };
      }(a);
    };
  }(a), c = b(ws), d = b(Qn), e = function(a) {
    return function(b, c) {
      return Ld.l(b, wn, a(c) - 1);
    };
  }(a, b, c, d), f = function(a) {
    return function(b, c) {
      return Ld.l(b, ss, ve(a(c), 12));
    };
  }(a, b, c, d, e), g = function() {
    return function(a, b) {
      var c = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, d = t.h(c, ss);
      return m((new Eh(null, new l(null, 2, ["p", null, "pm", null], null), null)).call(null, b.toLowerCase())) ? Ld.l(c, ss, function() {
        var a = 12 + d;
        return x.h(a, 24) ? 0 : a;
      }()) : c;
    };
  }(a, b, c, d, e, f), k = b(ss), n = b(wt), u = b(Oo), v = b(Yu), w = function(a, b, c, d, e, f, g, k, n, u, v) {
    return function(w, y) {
      var A = D(Mf(function() {
        return function(a) {
          return Rh(Sh([p("^"), p(y)].join("")), a);
        };
      }(a, b, c, d, e, f, g, k, n, u, v), eB));
      return e(w, "" + p(dB(A) + 1));
    };
  }(a, b, c, d, e, f, g, k, n, u, v), y = function(a, b, c, d, e) {
    return function(a, b) {
      return e(a, "" + p(dB(b) + 1));
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w), A = function() {
    return function() {
      function a(b, c) {
        if (1 < arguments.length) {
          for (var d = 0, e = Array(arguments.length - 1);d < e.length;) {
            e[d] = arguments[d + 1], ++d;
          }
        }
        return b;
      }
      a.D = 1;
      a.C = function(a) {
        var b = D(a);
        cd(a);
        return b;
      };
      a.j = function(a) {
        return a;
      };
      return a;
    }();
  }(a, b, c, d, e, f, g, k, n, u, v, w, y), b = function() {
    return function(a, b) {
      return Ld.l(a, vv, b);
    };
  }(a, b, c, d, e, f, g, k, n, u, v, w, y, A);
  return Md("d HH ZZ s MMM YYYY ss DDD SSS dow YY M mm S MM Y EEE Z H E DD dd a hh dth y yyyy A EEEE h m yy D MMMM".split(" "), [new R(null, 2, 5, S, ["(\\d{1,2})", d], null), new R(null, 2, 5, S, ["(\\d{2})", k], null), new R(null, 2, 5, S, ["((?:(?:\\+|-)\\d{2}:\\d{2})|Z+)", b], null), new R(null, 2, 5, S, ["(\\d{1,2})", u], null), new R(null, 2, 5, S, [[p("("), p(cw("|", Cf.h(uf.h(pB, 3), eB))), p(")")].join(""), w], null), new R(null, 2, 5, S, ["(\\d{4})", c], null), new R(null, 2, 5, S, ["(\\d{2})", 
  u], null), new R(null, 2, 5, S, ["(\\d{3})", d], null), new R(null, 2, 5, S, ["(\\d{3})", v], null), new R(null, 2, 5, S, [[p("("), p(cw("|", oB)), p(")")].join(""), A], null), new R(null, 2, 5, S, ["(\\d{2,4})", c], null), new R(null, 2, 5, S, ["(\\d{1,2})", e], null), new R(null, 2, 5, S, ["(\\d{2})", n], null), new R(null, 2, 5, S, ["(\\d{1,2})", v], null), new R(null, 2, 5, S, ["((?:\\d{2})|(?:\\b\\d{1,2}\\b))", e], null), new R(null, 2, 5, S, ["(\\d{1,4})", c], null), new R(null, 2, 5, S, 
  [[p("("), p(cw("|", Cf.h(uf.h(pB, 3), oB))), p(")")].join(""), A], null), new R(null, 2, 5, S, ["((?:(?:\\+|-)\\d{2}:?\\d{2})|Z+)", b], null), new R(null, 2, 5, S, ["(\\d{1,2})", k], null), new R(null, 2, 5, S, [[p("("), p(cw("|", Cf.h(uf.h(pB, 3), oB))), p(")")].join(""), A], null), new R(null, 2, 5, S, ["(\\d{2,3})", d], null), new R(null, 2, 5, S, ["(\\d{2})", d], null), new R(null, 2, 5, S, ["(am|pm|a|p|AM|PM|A|P)", g], null), new R(null, 2, 5, S, ["(\\d{2})", f], null), new R(null, 2, 5, S, 
  ["(\\d{1,2})(?:st|nd|rd|th)", d], null), new R(null, 2, 5, S, ["(\\d{1,4})", c], null), new R(null, 2, 5, S, ["(\\d{4})", c], null), new R(null, 2, 5, S, ["(am|pm|a|p|AM|PM|A|P)", g], null), new R(null, 2, 5, S, [[p("("), p(cw("|", oB)), p(")")].join(""), A], null), new R(null, 2, 5, S, ["(\\d{1,2})", f], null), new R(null, 2, 5, S, ["(\\d{1,2})", n], null), new R(null, 2, 5, S, ["(\\d{2,4})", c], null), new R(null, 2, 5, S, ["(\\d{1,3})", d], null), new R(null, 2, 5, S, [[p("("), p(cw("|", eB)), 
  p(")")].join(""), y], null)]);
})();
Sh([p("("), p(cw(")|(", Je(function(a, b) {
  return oe(a, b);
}(I, Lg(qB))))), p(")")].join(""));
function rB(a) {
  return Cd(new l(null, 2, [Un, a, xj, qB], null), new l(null, 1, [$n, Yl], null));
}
function sB(a) {
  return function() {
    throw ni(new l(null, 2, [mm, Et, uv, fB(L([Pe(a)], 0))], null));
  };
}
var tB = Md([Zi, ej, Gj, Nj, Sj, Tj, jk, kk, sk, uk, Ak, Bk, Ck, Ik, Lk, hl, jl, ul, vl, Hl, Nl, lm, sm, um, Bm, Lm, Nm, hn, Zn, mo, Fo, Jo, Wo, hp, yp, Op, Vp, $p, dq, kq, Sq, er, hr, rr, ks, xs, ft, lu, qu, wu, Vu, rv, Dv], [sB(bq), rB("HH:mm"), rB("'T'HH:mm:ss.SSSZZ"), rB("yyyyDDD"), rB("yyyy-MM-dd"), rB("HH"), rB("HH:mm:ssZZ"), rB("xxxx-'W'ww-e"), rB("xxxx-'W'ww-e'T'HH:mm:ss.SSSZZ"), rB("yyyy-MM-dd'T'HH:mm:ss.SSS"), rB("yyyyMMdd'T'HHmmss.SSSZ"), rB("yyyy-MM-dd'T'HH:mm:ss.SSSZZ"), rB("HHmmssZ"), 
sB(To), rB("xxxx'W'wwe"), rB("'T'HHmmssZ"), sB(Li), rB("yyyy-MM-dd'T'HH:mm:ssZZ"), rB("yyyy-MM-dd"), sB($k), rB("EEE, dd MMM yyyy HH:mm:ss Z"), rB("yyyy-MM-dd'T'HH:mm:ss.SSS"), rB("yyyyDDD'T'HHmmss.SSSZ"), rB("yyyy-DDD"), rB("HH:mm:ss.SSS"), rB("yyyy-MM-dd'T'HH:mm"), rB("HH:mm:ss.SSSZZ"), rB("xxxx'W'wwe'T'HHmmss.SSSZ"), rB("xxxx"), rB("HHmmss.SSSZ"), rB("HH:mm:ss"), rB("yyyy-DDD'T'HH:mm:ss.SSSZZ"), rB("yyyy-DDD'T'HH:mm:ssZZ"), rB("HH:mm:ss.SSS"), rB(Hj), sB(gs), rB("yyyy"), rB("'T'HH:mm:ssZZ"), rB("xxxx'W'wwe'T'HHmmssZ"), 
rB("yyyyMMdd"), rB("xxxx-'W'ww"), sB(no), rB("yyyyDDD'T'HHmmssZ"), rB("yyyy-MM"), sB(gq), rB("xxxx-'W'ww-e"), rB("yyyy-MM-dd'T'HH"), sB(tm), rB("yyyy-MM-dd'T'HH:mm:ss"), rB("xxxx-'W'ww-e'T'HH:mm:ssZZ"), rB("yyyyMMdd'T'HHmmssZ"), rB("yyyy-MM-dd HH:mm:ss"), rB("'T'HHmmss.SSSZ")]), uB = new Eh(null, new l(null, 9, [Zi, null, Ik, null, jl, null, Hl, null, yp, null, Op, null, er, null, ks, null, lu, null], null), null);
Cw.h(Ih(Lg(tB)), uB);
rB("MMMM yyyy");
rB("ww");
rB("yyyy MMM dd");
Id.j(new R(null, 12, 5, S, [new l(null, 5, [mm, Rv, jv, !1, $n, "goog.date.UtcDateTime | atom", Hs, uA, Ni, "the selected date. If provided, should pass pred :selectable-fn"], null), new l(null, 5, [mm, Ot, jv, !0, $n, "goog.date.UtcDateTime -\x3e nil", Hs, Od, Ni, "called when a new selection is made"], null), new l(null, 5, [mm, cu, jv, !1, Ul, !1, $n, "boolean | atom", Ni, "when true, the can't select dates but can navigate"], null), new l(null, 6, [mm, cs, jv, !1, Ul, "(fn [date] true)", $n, 
"pred", Hs, Od, Ni, "Predicate is passed a date. If it answers false, day will be shown disabled and can't be selected."], null), new l(null, 5, [mm, En, jv, !1, Ul, !1, $n, "boolean", Ni, "when true, week numbers are shown to the left"], null), new l(null, 5, [mm, Kv, jv, !1, Ul, !1, $n, "boolean", Ni, "when true, today's date is highlighted"], null), new l(null, 5, [mm, ur, jv, !1, $n, "goog.date.UtcDateTime", Hs, uA, Ni, "no selection or navigation before this date"], null), new l(null, 5, [mm, 
Vm, jv, !1, $n, "goog.date.UtcDateTime", Hs, uA, Ni, "no selection or navigation after this date"], null), new l(null, 5, [mm, cn, jv, !1, Ul, !1, $n, "boolean", Ni, "when true, the border is not displayed"], null), new l(null, 5, [mm, lr, jv, !1, $n, "string", Hs, function(a) {
  return ga(a);
}, Ni, "CSS class names, space separated"], null), new l(null, 5, [mm, Bp, jv, !1, $n, "CSS style map", Hs, function() {
  return !0;
}, Ni, "CSS styles to add or override"], null), new l(null, 5, [mm, Vv, jv, !1, $n, "HTML attr map", Hs, function() {
  return !0;
}, Ni, new R(null, 9, 5, S, [Jv, "HTML attributes, like ", new R(null, 2, 5, S, [Yr, ":on-mouse-move"], null), new R(null, 1, 5, S, [Os], null), "No ", new R(null, 2, 5, S, [Yr, ":class"], null), " or ", new R(null, 2, 5, S, [Yr, ":style"], null), "allowed"], null)], null)], null), new l(null, 5, [mm, Cj, jv, !1, Ul, "yyyy MMM dd", $n, "string", Ni, "[datepicker-dropdown only] a represenatation of a date format. See cljs_time.format"], null), L([new l(null, 5, [mm, nm, jv, !1, Ul, !0, $n, "boolean", 
Ni, "[datepicker-dropdown only] when an anchor is in a scrolling region (e.g. scroller component), the popover can sometimes be clipped. When this parameter is true (which is the default), re-com will use a different CSS method to show the popover. This method is slightly inferior because the popover can't track the anchor if it is repositioned"], null)], 0));
var vB = function vB(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return vB.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
vB.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, Rv), d = t.h(b, Fp);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro input-text-args-desc args "input-text")');
  }
  var e = ky(fA(c)), f = ky(null == (H.c ? H.c(e) : H.call(null, e)) ? "" : H.c ? H.c(e) : H.call(null, e));
  return function(a, b, c, d, e, f, y) {
    return function() {
      function A(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, c = Array(arguments.length - 0);b < c.length;) {
            c[b] = arguments[b + 0], ++b;
          }
          b = new B(c, 0);
        }
        return C.call(this, b);
      }
      function C(A) {
        var C = null != A && (A.o & 64 || A.P) ? cf(yf, A) : A, J = t.h(C, cu), P = t.h(C, Ot), Q = t.h(C, Cu), W = t.h(C, xv), la = t.h(C, Mv), K = t.h(C, Rv), fa = t.h(C, Vv), Y = t.h(C, Sk), Z = t.h(C, sn), X = t.h(C, Jp), ea = t.h(C, Bp), ba = t.h(C, Uq), va = t.h(C, lr), ha = t.l(C, Fr, !0), pa = t.h(C, ms);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro input-text-args-desc args "input-text")');
        }
        var na = fA(K), za = fA(J), Ia = fA(ha), wa = ky(!1);
        jf(H.c ? H.c(a) : H.call(null, a), na) && (U.h ? U.h(a, na) : U.call(null, a, na), U.h ? U.h(b, na) : U.call(null, b, na));
        return new R(null, 9, 5, S, [DA, Kj, tn, sn, m(Z) ? Z : "250px", lr, "rc-input-text ", Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [Mp, new l(null, 2, [lr, [p("rc-input-text-inner "), p(function() {
          switch(ba instanceof N ? ba.V : null) {
            case "warning":
              return "has-warning ";
            case "error":
              return "has-error ";
            default:
              return "";
          }
        }()), p(m(m(ba) ? Q : ba) ? "has-feedback" : null)].join(""), Bp, vA("auto")], null), new R(null, 2, 5, S, [y, wh.j(L([Md([Sk, Xk, Gm, An, $n, Bp, Jp, Lp, lr, Ot], [Y, za, H.c ? H.c(b) : H.call(null, b), function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, J, G, P, Q, K, W, Z, X) {
          return function() {
            if (m(m(n) ? m(c) ? jf(H.c ? H.c(X) : H.call(null, X), H.c ? H.c(Z) : H.call(null, Z)) : c : n)) {
              var a = H.c ? H.c(X) : H.call(null, X);
              n.c ? n.c(a) : n.call(null, a);
            }
            return null;
          };
        }(na, za, Ia, wa, A, C, C, J, P, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, a, b, c, d, e, f, y), x.h(y, jt) ? "text" : null, wh.j(L([vA("none"), new l(null, 2, [xv, W, bp, "12px"], null), ea], 0)), x.h(y, Dp) ? m(X) ? X : 3 : null, function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, J, G, P, Q, K, Z, W, X) {
          return function(a) {
            if (m(b)) {
              a.preventDefault();
            } else {
              switch(a.which) {
                case 13:
                  m(n) && (a = H.c ? H.c(X) : H.call(null, X), n.c ? n.c(a) : n.call(null, a));
                  break;
                case 27:
                  a = H.c ? H.c(W) : H.call(null, W), U.h ? U.h(X, a) : U.call(null, X, a);
              }
            }
            return null;
          };
        }(na, za, Ia, wa, A, C, C, J, P, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, a, b, c, d, e, f, y), [p("form-control "), p(va)].join(""), function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, J, G, P, Q, K, W, Z, X) {
          return function(a) {
            a = a.target.value;
            var d;
            d = m(n) ? (d = eb(b)) ? m(W) ? Qh(W, a) : !0 : d : n;
            m(d) && (U.h ? U.h(X, a) : U.call(null, X, a), m(c) || (a = H.c ? H.c(X) : H.call(null, X), n.c ? n.c(a) : n.call(null, a)));
            return null;
          };
        }(na, za, Ia, wa, A, C, C, J, P, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, a, b, c, d, e, f, y)]), fa], 0))], null)], null), m(m(Q) ? ba : Q) ? m(la) ? new R(null, 13, 5, S, [SA, ir, la, Bs, rq, Uq, ba, Np, wa, it, new R(null, 2, 5, S, [$u, new l(null, 4, [lr, [p("zmdi "), p(x.h(ba, cq) ? "zmdi-alert-triangle" : "zmdi-alert-circle"), p(" form-control-feedback")].join(""), Bp, new l(null, 4, [Bs, "static", sn, "auto", xv, "auto", gr, m(m(Q) ? ba : Q) ? "1" : "0"], null), Ts, function(a, 
        b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, J, G, P) {
          return function() {
            m(m(u) ? P : u) && (U.h ? U.h(d, !0) : U.call(null, d, !0));
            return null;
          };
        }(na, za, Ia, wa, A, C, C, J, P, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, a, b, c, d, e, f, y), Ol, function(a, b, c, d) {
          return function() {
            U.h ? U.h(d, !1) : U.call(null, d, !1);
            return null;
          };
        }(na, za, Ia, wa, A, C, C, J, P, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, a, b, c, d, e, f, y)], null)], null), Bp, wh.j(L([vA("none"), yA(At, vp), new l(null, 2, [ol, "130%", Em, "4px"], null)], 0))], null) : new R(null, 2, 5, S, [$u, new l(null, 3, [lr, [p("zmdi "), p(x.h(ba, cq) ? "zmdi-alert-triangle" : "zmdi-alert-circle"), p(" form-control-feedback")].join(""), Bp, wh.j(L([vA("none"), yA(At, vp), new l(null, 6, [Bs, "static", ol, "130%", Em, "4px", gr, m(m(Q) ? ba : Q) ? "1" : 
        "0", sn, "auto", xv, "auto"], null)], 0)), op, la], null)], null) : null], null)], null);
      }
      A.D = 0;
      A.C = function(a) {
        a = z(a);
        return C(a);
      };
      A.j = C;
      return A;
    }();
  }(e, f, a, b, b, c, d);
};
vB.D = 0;
vB.C = function(a) {
  return vB.j(z(a));
};
var wB = function wB(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return wB.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
wB.j = function(a) {
  return ff(vB, Fp, jt, a);
};
wB.D = 0;
wB.C = function(a) {
  return wB.j(z(a));
};
var xB = function xB(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return xB.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
xB.j = function(a) {
  return ff(vB, Fp, Dp, a);
};
xB.D = 0;
xB.C = function(a) {
  return xB.j(z(a));
};
function yB(a, b, c, d) {
  c = iA(c, a, L([Do, b], 0));
  d = x.h(d, tn) ? 0 : x.h(d, Dt) ? I(a) - 1 : null == c ? 0 : ve(c + d, I(a));
  return m(m(d) ? 0 < I(a) : d) ? (a = ud(a, d), b.c ? b.c(a) : b.call(null, a)) : null;
}
function zB(a, b) {
  var c = Oh(b, a), d = Cf.h(function() {
    return function(a) {
      return Md([jr, wk], [ji("G__"), a]);
    };
  }(c), Cf.h(b, Cf.h(D, c)));
  return new R(null, 2, 5, S, [d, c], null);
}
function AB(a, b, c, d) {
  return Mf(function(a) {
    return function(d) {
      var g = null == (b.c ? b.c(d) : b.call(null, d)) ? "" : b.c ? b.c(d) : b.call(null, d);
      d = "" + p(c.c ? c.c(d) : c.call(null, d));
      return 0 <= g.toLowerCase().indexOf(a) || 0 <= d.toLowerCase().indexOf(a);
    };
  }(d.toLowerCase()), a);
}
function BB(a, b, c, d) {
  var e;
  try {
    e = new RegExp(d, "i");
  } catch (f) {
    if (f instanceof Object) {
      e = null;
    } else {
      throw f;
    }
  }
  d = uf.h(function() {
    return function(a, d) {
      if (null == a) {
        return null;
      }
      var e = a.test(b.c ? b.c(d) : b.call(null, d));
      return m(e) ? e : a.test(c.c ? c.c(d) : c.call(null, d));
    };
  }(e), e);
  return Mf(d, a);
}
function CB(a) {
  var b = a.offsetTop, c = b + a.clientHeight;
  a = a.parentNode;
  var d = a.clientHeight, e = a.scrollTop;
  c > e + d ? (b = c - d, b = 0 < b ? b : 0) : b = b < e ? b : null;
  return m(b) ? a.scrollTop = b : null;
}
function DB(a, b, c, d) {
  b = ky(!1);
  return xx(new l(null, 3, [Ym, function() {
    return function(b) {
      b = gy(b);
      return x.h(H.c ? H.c(d) : H.call(null, d), a) ? CB(b) : null;
    };
  }(b), Hn, function() {
    return function(b) {
      b = gy(b);
      return x.h(H.c ? H.c(d) : H.call(null, d), a) ? CB(b) : null;
    };
  }(b), Ft, function(a) {
    return function(b, c, d, n) {
      var u = (n = x.h(H.c ? H.c(n) : H.call(null, n), b)) ? "highlighted" : m(H.c ? H.c(a) : H.call(null, a)) ? "mouseover" : null;
      return new R(null, 3, 5, S, [Am, new l(null, 4, [lr, [p("active-result group-option "), p(u)].join(""), Ts, function(a, b, c) {
        return function() {
          U.h ? U.h(c, !0) : U.call(null, c, !0);
          return null;
        };
      }(n, u, a), Ol, function(a, b, c) {
        return function() {
          U.h ? U.h(c, !1) : U.call(null, c, !1);
          return null;
        };
      }(n, u, a), Xo, function() {
        return function() {
          d.c ? d.c(b) : d.call(null, b);
          return null;
        };
      }(n, u, a)], null), c], null);
    };
  }(b)], null));
}
function EB(a, b, c, d, e) {
  a = a.c ? a.c(e) : a.call(null, e);
  b = b.c ? b.c(e) : b.call(null, e);
  return Cd(new R(null, 5, 5, S, [DB, a, b, c, d], null), new l(null, 1, [Rk, "" + p(a)], null));
}
var FB = Cd(function() {
  return function(a, b, c, d) {
    return new R(null, 2, 5, S, [kr, new R(null, 2, 5, S, [jt, new l(null, 7, [$n, "text", $i, "off", Bp, m(a) ? null : new l(null, 4, [Bs, "absolute", sn, "0px", vr, "0px", Ut, "none"], null), Gm, H.c ? H.c(b) : H.call(null, b), Ot, function(a) {
      a = a.target.value;
      U.h ? U.h(b, a) : U.call(null, b, a);
      return null;
    }, $t, function(a) {
      m(c.c ? c.c(a) : c.call(null, a)) || a.preventDefault();
      return null;
    }, An, function() {
      U.h ? U.h(d, !1) : U.call(null, d, !1);
      return null;
    }], null)], null)], null);
  };
}, new l(null, 2, [Ym, function(a) {
  return gy(a).firstChild.focus();
}, Hn, function(a) {
  return gy(a).firstChild.focus();
}], null));
function GB() {
  return function(a) {
    return function(b, c, d, e, f, g, k, n, u, v) {
      u = iy(new l(null, 1, [Ds, u], null));
      return new R(null, 4, 5, S, [il, new l(null, 5, [fv, "javascript:", kj, m(f) ? f : null, fp, function(a, b) {
        return function() {
          m(H.c ? H.c(b) : H.call(null, b)) ? U.h ? U.h(b, !1) : U.call(null, b, !1) : k.v ? k.v() : k.call(null);
          return null;
        };
      }(u, a), Xo, function(a, b) {
        return function() {
          m(H.c ? H.c(v) : H.call(null, v)) && (U.h ? U.h(b, !0) : U.call(null, b, !0));
          return null;
        };
      }(u, a), $t, function(a, b) {
        return function(a) {
          n.c ? n.c(a) : n.call(null, a);
          x.h(a.which, 13) && (U.h ? U.h(b, !0) : U.call(null, b, !0));
          return null;
        };
      }(u, a)], null), new R(null, 2, 5, S, [Jv, m(H.c ? H.c(b) : H.call(null, b)) ? function() {
        var a = jA(H.c ? H.c(b) : H.call(null, b), c, L([Do, d], 0));
        return e.c ? e.c(a) : e.call(null, a);
      }() : g], null), new R(null, 2, 5, S, [Mp, new R(null, 1, 5, S, [hs], null)], null)], null);
    };
  }(xf ? xf(!1) : wf.call(null, !1));
}
var HB = function HB(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return HB.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
HB.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, Rv);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro single-dropdown-args-desc args "single-dropdown")');
  }
  var d = ky(fA(c)), e = ky(H.c ? H.c(d) : H.call(null, d)), f = ky(!1), g = ky("");
  return function(a, b, c, d, e, f, g, C) {
    return function() {
      function F(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, c = Array(arguments.length - 0);b < c.length;) {
            c[b] = arguments[b + 0], ++b;
          }
          b = new B(c, 0);
        }
        return G.call(this, b);
      }
      function G(F) {
        var G = null != F && (F.o & 64 || F.P) ? cf(yf, F) : F, Q = t.l(G, Zt, wk), W = t.h(G, cu), la = t.h(G, Ot), K = t.h(G, Rv), fa = t.h(G, Vv), Y = t.l(G, rj, ir), Z = t.h(G, kj), X = t.h(G, rk), ea = t.h(G, Sk), ba = t.h(G, sn), va = t.h(G, fo), ha = t.h(G, so), pa = t.l(G, Do, jr), na = t.h(G, Bp), za = t.h(G, lr), Ia = t.h(G, Ds);
        if (!m(!0)) {
          throw Error('Assert failed: (validate-args-macro single-dropdown-args-desc args "single-dropdown")');
        }
        var wa = fA(ha), Ua = fA(W), lb = fA(va), hb = ky(fA(K)), Hb = jf(H.c ? H.c(a) : H.call(null, a), H.c ? H.c(hb) : H.call(null, hb)) ? function() {
          var c = H.c ? H.c(hb) : H.call(null, hb);
          U.h ? U.h(a, c) : U.call(null, a, c);
          c = H.c ? H.c(hb) : H.call(null, hb);
          return U.h ? U.h(b, c) : U.call(null, b, c);
        }() : null, Nb = m(la) ? eb(Ua) : la, Tb = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, ea, fa, la, ba) {
          return function(a) {
            U.h ? U.h(fa, a) : U.call(null, fa, a);
            m(m(f) ? jf(H.c ? H.c(fa) : H.call(null, fa), H.c ? H.c(d) : H.call(null, d)) : f) && (a = H.c ? H.c(fa) : H.call(null, fa), w.c ? w.c(a) : w.call(null, a));
            Af.h(la, eb);
            return U.h ? U.h(ba, "") : U.call(null, ba, "");
          };
        }(wa, Ua, lb, hb, Hb, Nb, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), nc = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha) {
          return function() {
            U.h ? U.h(ba, !1) : U.call(null, ba, !1);
            U.h ? U.h(ha, "") : U.call(null, ha, "");
            var a = H.c ? H.c(ea) : H.call(null, ea);
            return U.h ? U.h(la, a) : U.call(null, la, a);
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Dc = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha) {
          return function() {
            return m(b) ? null : Af.h(ha, eb);
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Qc = m(lb) ? BB(wa, Q, Y, H.c ? H.c(d) : H.call(null, d)) : AB(wa, Q, Y, H.c ? H.c(d) : H.call(null, d)), vg = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na) {
          return function() {
            m(b) ? k() : g(H.c ? H.c(na) : H.call(null, na));
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), ef = function(a, b, c, d, e, f, g, k) {
          return function() {
            k();
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Ei = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, za, wa, va) {
          return function() {
            if (m(b)) {
              k();
            } else {
              if (m(f)) {
                var a = H.c ? H.c(za) : H.call(null, za);
                J.c ? J.c(a) : J.call(null, a);
              }
              U.h ? U.h(wa, !1) : U.call(null, wa, !1);
              U.h ? U.h(va, "") : U.call(null, va, "");
            }
            U.h ? U.h(wa, !1) : U.call(null, wa, !1);
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Qj = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, za, wa, va) {
          return function() {
            if (m(H.c ? H.c(va) : H.call(null, va))) {
              var a = yB(u, ba, H.c ? H.c(wa) : H.call(null, wa), -1);
              U.h ? U.h(wa, a) : U.call(null, wa, a);
            } else {
              U.h ? U.h(va, !0) : U.call(null, va, !0);
            }
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), kl = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, wa, za, va, Ia) {
          return function() {
            if (m(H.c ? H.c(Ia) : H.call(null, Ia))) {
              var a = yB(u, ha, H.c ? H.c(va) : H.call(null, va), 1);
              U.h ? U.h(va, a) : U.call(null, va, a);
            } else {
              U.h ? U.h(Ia, !0) : U.call(null, Ia, !0);
            }
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Mn = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, va, wa, za, Ia) {
          return function() {
            var a = yB(u, na, H.c ? H.c(Ia) : H.call(null, Ia), tn);
            U.h ? U.h(Ia, a) : U.call(null, Ia, a);
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, kl, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Pq = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, va, wa, za, Ia, Ua) {
          return function() {
            var a = yB(u, pa, H.c ? H.c(Ua) : H.call(null, Ua), Dt);
            U.h ? U.h(Ua, a) : U.call(null, Ua, a);
            return !0;
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, kl, Mn, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Nn = function(a, b, c, d, e, f, g, k, n, u, v, w, y, A, C, F, G, J, Q, K, P, W, X, Z, Y, fa, ea, la, ba, ha, na, pa, va, wa, za, Ia) {
          return function(a) {
            if (m(b)) {
              return !1;
            }
            switch(a.which) {
              case 13:
                return v();
              case 27:
                return w();
              case 9:
                return y();
              case 38:
                return A();
              case 40:
                return C();
              case 36:
                return F();
              case 35:
                return G();
              default:
                return Ia;
            }
          };
        }(wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, kl, Mn, Pq, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C);
        return new R(null, 4, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-dropdown chosen-container chosen-container-single noselect "), p(m(H.c ? H.c(c) : H.call(null, c)) ? "chosen-container-active chosen-with-drop " : null), p(za)].join(""), Bp, wh.j(L([vA(m(ba) ? "0 0 auto" : "auto"), yA(At, tn), new l(null, 1, [sn, m(ba) ? ba : null], null), na], 0))], null), fa], 0)), new R(null, 11, 5, S, [GB, b, wa, pa, Y, Z, ea, Dc, Nn, Ia, c], null), m(function() {
          var a = H.c ? H.c(c) : H.call(null, c);
          return m(a) ? eb(Ua) : a;
        }()) ? new R(null, 3, 5, S, [jm, new R(null, 5, 5, S, [FB, Ia, d, Nn, c], null), new R(null, 3, 5, S, [Dn, m(X) ? new l(null, 1, [Bp, new l(null, 1, [rk, X], null)], null) : null, 0 < I(Qc) ? function() {
          var Rj = zB(Qc, Q), On = M(Rj, 0, null), ll = M(Rj, 1, null), Pn = uf.j(EB, pa, Y, Tb, L([b], 0)), dw = function(a, b, c, d) {
            return function(a) {
              return Cf.h(d, a);
            };
          }(Rj, On, ll, Pn, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, kl, Mn, Pq, Nn, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Rj = function(a, b, c, d, e) {
            return function(a, b) {
              var c = Ad, d;
              d = Cd(new R(null, 2, 5, S, [Ml, wk.c(a)], null), new l(null, 1, [Rk, jr.c(a)], null));
              return c(d, e(b));
            };
          }(Rj, On, ll, Pn, dw, wa, Ua, lb, hb, Hb, Nb, Tb, nc, Dc, Qc, vg, ef, Ei, Qj, kl, Mn, Pq, Nn, F, G, G, Q, W, la, K, fa, Y, Z, X, ea, ba, va, ha, pa, na, za, Ia, a, b, c, d, e, f, g, C), Pn = null == wk.c(D(On));
          return x.h(1, I(ll)) && Pn ? dw(D(ll)) : cf($e, Cf.l(Rj, On, ll));
        }() : new R(null, 2, 5, S, [nj, [p('No results match "'), p(H.c ? H.c(d) : H.call(null, d)), p('"')].join("")], null)], null)], null) : null], null);
      }
      F.D = 0;
      F.C = function(a) {
        a = z(a);
        return G(a);
      };
      F.j = G;
      return F;
    }();
  }(d, e, f, g, a, b, b, c);
};
HB.D = 0;
HB.C = function(a) {
  return HB.j(z(a));
};
var IB = function IB(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return IB.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
IB.j = function(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a, c = t.h(b, at), d = t.l(b, dj, !0), e = t.l(b, vo, "black"), f = t.l(b, Ok, .6), g = t.h(b, lr), k = t.h(b, Bp), n = t.h(b, Vv), u = t.h(b, is);
  if (!m(!0)) {
    throw Error('Assert failed: (validate-args-macro modal-panel-args-desc args "modal-panel")');
  }
  return new R(null, 4, 5, S, [Mp, wh.j(L([new l(null, 2, [lr, [p("rc-modal-panel display-flex "), p(g)].join(""), Bp, wh.j(L([new l(null, 6, [Bs, "fixed", Ev, "0px", yl, "0px", sn, "100%", xv, "100%", wq, 1020], null), k], 0))], null), n], 0)), new R(null, 2, 5, S, [Mp, new l(null, 2, [Bp, new l(null, 6, [Bs, "fixed", sn, "100%", xv, "100%", $m, e, gr, f, wq, 1], null), fp, function(a, b, c, d, e, f, g, k, n, u, W) {
    return function(a) {
      m(W) && (W.v ? W.v() : W.call(null));
      a.preventDefault();
      a.stopPropagation();
      return null;
    };
  }(a, b, b, c, d, e, f, g, k, n, u)], null)], null), new R(null, 3, 5, S, [Mp, new l(null, 1, [Bp, wh.j(L([new l(null, 2, [Pv, "auto", wq, 2], null), m(d) ? new l(null, 3, [$m, "white", vr, "16px", ju, "6px"], null) : null], 0))], null), c], null)], null);
};
IB.D = 0;
IB.C = function(a) {
  return IB.j(z(a));
};
function JB() {
  return function(a) {
    return function() {
      var b = function() {
        return function(a, b) {
          return null == b ? void 0 : b;
        };
      }(a), c = Ld.l(H.c ? H.c(a) : H.call(null, a), Jn, Qf.h(T, Cf.h(function() {
        return function(a) {
          var b = M(a, 0, null);
          a = M(a, 1, null);
          return m(st.c(a)) ? new R(null, 2, 5, S, [b, wh.j(L([a, new l(null, 2, [st, null, Gm, JSON.parse(st.c(a))], null)], 0))], null) : new R(null, 2, 5, S, [b, a], null);
        };
      }(b, a), Jn.c(H.c ? H.c(a) : H.call(null, a))))), d = ky(JSON.stringify(ni(c), b, "    "));
      return new R(null, 3, 5, S, [IB, at, new R(null, 3, 5, S, [EA, Fj, new R(null, 4, 5, S, [new R(null, 7, 5, S, [UA, ir, "The JSON code for this graph", Gp, Om, Lu, "20px"], null), new R(null, 11, 5, S, [xB, Rv, d, sn, "800px", xv, "700px", Ot, function(a, b, c) {
        return function(a) {
          return U.h ? U.h(c, a) : U.call(null, c, a);
        };
      }(b, c, d, a), Sk, "Process id"], null), new R(null, 5, 5, S, [CA, Gk, "#ddd", Bp, new l(null, 1, [Pv, "20px"], null)], null), new R(null, 5, 5, S, [DA, Tr, "12px", Fj, new R(null, 1, 5, S, [new R(null, 5, 5, S, [XA, ir, "Done", fp, function() {
        return function() {
          var a = new R(null, 1, 5, S, [Kn], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(b, c, d, a)], null)], null)], null)], null)], null)], null);
    };
  }(function() {
    var a = new R(null, 1, 5, S, [Br], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }());
}
;function KB() {
  return function(a) {
    return function() {
      return new R(null, 3, 5, S, [IB, at, new R(null, 3, 5, S, [EA, Fj, new R(null, 4, 5, S, [new R(null, 7, 5, S, [UA, ir, "Enter entity id", Gp, Om, Lu, "20px"], null), new R(null, 7, 5, S, [wB, Rv, a, Ot, function(a) {
        return function(c) {
          return U.h ? U.h(a, c) : U.call(null, a, c);
        };
      }(a), Sk, "Entity id"], null), new R(null, 5, 5, S, [CA, Gk, "#ddd", Bp, new l(null, 1, [Pv, "20px"], null)], null), new R(null, 5, 5, S, [DA, Tr, "12px", Fj, new R(null, 2, 5, S, [new R(null, 7, 5, S, [XA, ir, "Create", lr, "btn-primary", fp, function(a) {
        return function() {
          var c = new R(null, 2, 5, S, [cp, H.c ? H.c(a) : H.call(null, a)], null);
          return V.c ? V.c(c) : V.call(null, c);
        };
      }(a)], null), new R(null, 5, 5, S, [XA, ir, "Cancel", fp, function() {
        return function() {
          var a = new R(null, 1, 5, S, [Kn], null);
          V.c ? V.c(a) : V.call(null, a);
          a = new R(null, 2, 5, S, [Jt, null], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(a)], null)], null)], null)], null)], null)], null);
    };
  }(ky(""));
}
;function LB() {
  return function(a) {
    return function() {
      return new R(null, 3, 5, S, [IB, at, new R(null, 3, 5, S, [EA, Fj, new R(null, 4, 5, S, [new R(null, 7, 5, S, [UA, ir, "Enter process id", Gp, Om, Lu, "20px"], null), new R(null, 7, 5, S, [wB, Rv, a, Ot, function(a) {
        return function(c) {
          return U.h ? U.h(a, c) : U.call(null, a, c);
        };
      }(a), Sk, "Process id"], null), new R(null, 5, 5, S, [CA, Gk, "#ddd", Bp, new l(null, 1, [Pv, "20px"], null)], null), new R(null, 5, 5, S, [DA, Tr, "12px", Fj, new R(null, 2, 5, S, [new R(null, 7, 5, S, [XA, ir, "Create", lr, "btn-primary", fp, function(a) {
        return function() {
          var c = new R(null, 2, 5, S, [Hr, H.c ? H.c(a) : H.call(null, a)], null);
          return V.c ? V.c(c) : V.call(null, c);
        };
      }(a)], null), new R(null, 5, 5, S, [XA, ir, "Cancel", fp, function() {
        return function() {
          var a = new R(null, 1, 5, S, [Kn], null);
          V.c ? V.c(a) : V.call(null, a);
          a = new R(null, 2, 5, S, [Jt, null], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(a)], null)], null)], null)], null)], null)], null);
    };
  }(ky(""));
}
;function MB(a) {
  a = a instanceof N ? a.V : null;
  switch(a) {
    case "modals/add-entity":
      return KB;
    case "modals/add-process":
      return LB;
    case "modals/export-graph":
      return JB;
    default:
      return function() {
        return function() {
          return null;
        };
      }(a);
  }
}
;function NB(a) {
  return [p("p"), p(a)].join("");
}
function OB(a) {
  return [p("e"), p(a)].join("");
}
function PB(a) {
  var b = D(a);
  a = cf(p, cd(a));
  return x.h(b, "e") ? new l(null, 2, [jr, a, $n, "entity"], null) : new l(null, 2, [jr, a, $n, "process"], null);
}
;function QB(a) {
  var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
  a = t.h(b, pn);
  var b = t.h(b, mp), c = new l(null, 6, [Il, new l(null, 1, [Uo, 3], null), Zu, new l(null, 5, [Ij, "to", lj, !1, Gk, new l(null, 1, [Oj, "from"], null), Vt, new l(null, 1, [$s, 2], null), sn, 2], null), Bq, new l(null, 4, [Vt, new l(null, 1, [$s, 0], null), Tu, 1, kp, new l(null, 3, [lp, 20, Zr, "white", fr, 2], null), lp, 23], null), ut, new l(null, 3, [Ej, !1, Jn, new l(null, 2, [Nr, "square", Gk, new l(null, 3, [Ut, "#2B7CE9", un, "#97C2FC", Pl, new l(null, 2, [Ut, "#2B7CE9", un, "#b8fafe"], 
  null)], null)], null), Eu, new l(null, 2, [Nr, "dot", Gk, new l(null, 3, [Ut, "#de7a13", un, "#f7d26e", Pl, new l(null, 2, [Ut, "#de7a13", un, "#f5fba8"], null)], null)], null)], null), bo, new l(null, 2, [ds, !0, al, 500], null), mp, new l(null, 2, [Au, !1, dl, new l(null, 1, [Rr, 2E3], null)], null)], null);
  a = x.h(a, Jn) ? Uf(Uf(c, new R(null, 3, 5, S, [ut, Eu, lp], null), 15), new R(null, 4, 5, S, [ut, Eu, kp, lp], null), 0) : x.h(a, Eu) ? Uf(Uf(c, new R(null, 3, 5, S, [ut, Jn, lp], null), 15), new R(null, 4, 5, S, [ut, Jn, kp, lp], null), 0) : c;
  a = m(b) ? Uf(a, new R(null, 2, 5, S, [mp, Au], null), !0) : a;
  return ni(a);
}
function RB(a, b) {
  function c(a, b) {
    var c = Sf(a, new R(null, 2, 5, S, [Za, Qq], null)), d = $s.c(c), e = Ii.c(c), d = eb(m(d) ? e : d);
    return wh.j(L([b, new l(null, 3, [$s, $s.c(c), Ii, Ii.c(c), mp, fe(d)], null)], 0));
  }
  var d = Cf.h(function(a) {
    return function(b) {
      var c = M(b, 0, null);
      b = M(b, 1, null);
      c = new l(null, 3, [jr, OB(Pe(c)), ir, c, wk, "entities"], null);
      c = a(b, c);
      return m(st.c(b)) ? Ld.j(c, No, 5, L([Tu, 5], 0)) : c;
    };
  }(c), Jn.c(a)), e = Cf.h(function(a) {
    return function(b) {
      var c = M(b, 0, null);
      b = M(b, 1, null);
      c = new l(null, 3, [jr, NB(Pe(c)), ir, c, wk, "processes"], null);
      c = a(b, c);
      return m(du.c(b)) ? Ld.j(c, No, 5, L([Tu, 5], 0)) : c;
    };
  }(c, d), Eu.c(a)), f = $e.h(d, e), d = Cf.h(function(c, d, e, f) {
    return function(v) {
      var w = NB(en.c(v)), y = OB(xu.c(v)), A = Sf(a, new R(null, 2, 5, S, [Eu, Oe.c(en.c(v))], null)), C = iq.c(A), F = function() {
        var a = eb(Bo.c(v));
        return a ? D(Lg(Mf(function() {
          return function(a) {
            M(a, 0, null);
            a = M(a, 1, null);
            return x.h(a, t.h(b, "ACCUMULATOR"));
          };
        }(a, w, y, A, C, c, d, e, f), C))) : a;
      }();
      if (m(m(F) ? F : Bo.c(v))) {
        var G = t.h(C, Oe.c(Bo.c(v))), J = new l(null, 2, [Yq, y, Lv, w], null);
        return x.h(G, t.h(b, "COLD")) ? Ld.j(J, ev, !0, L([op, "COLD"], 0)) : m(F) ? Ld.j(J, Ij, new l(null, 3, [bt, !0, Yq, !0, Lv, !0], null), L([Gk, new l(null, 1, [Oj, "to"], null), op, "ACCUMULATOR"], 0)) : Ld.l(J, op, "HOT");
      }
      F = mj.c(A);
      J = new l(null, 2, [Yq, w, Lv, y], null);
      return m(F) ? Ld.j(J, ev, new R(null, 2, 5, S, [1, 10], null), L([sn, 3], 0)) : J;
    };
  }(c, d, e, f), Mg(Fn.c(a)));
  return new l(null, 2, [Bq, f, Zu, d], null);
}
function SB(a, b) {
  a.setOptions(QB(new l(null, 2, [mp, !0, pn, b], null)));
  a.on("doubleClick", function(a) {
    a = qi(a, L([ri, !0], 0));
    var b = Bq.c(a);
    Zu.c(a);
    return x.h(I(b), 1) ? (a = new R(null, 2, 5, S, [el, D(b)], null), V.c ? V.c(a) : V.call(null, a)) : null;
  });
  a.on("oncontext", function(a) {
    var b = qi(a, L([ri, !0], 0)), e = Bq.c(b), f = Zu.c(b);
    x.h(0, I(e)) && x.h(0, I(f)) && (e = new R(null, 2, 5, S, [Jt, Sf(b, new R(null, 2, 5, S, [Dq, ip], null))], null), V.c ? V.c(e) : V.call(null, e), b = new R(null, 3, 5, S, [Xr, oo, Sf(b, new R(null, 2, 5, S, [Dq, Ms], null))], null), V.c ? V.c(b) : V.call(null, b));
    return a.event.preventDefault();
  });
  a.on("dragEnd", function(b) {
    b = b.nodes;
    return 0 < b.length ? (b = new R(null, 2, 5, S, [Xp, a.getPositions(b)], null), V.c ? V.c(b) : V.call(null, b)) : null;
  });
  a.on("stabilized", function(b) {
    gi(L([b], 0));
    b = new R(null, 2, 5, S, [Xp, a.getPositions()], null);
    return V.c ? V.c(b) : V.call(null, b);
  });
}
function TB() {
  var a = xf ? xf(null) : wf.call(null, null), b = function() {
    var a = new R(null, 1, 5, S, [am], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), c = function(a, b) {
    return function(a, c) {
      var d = gy(a).getBoundingClientRect(), n = Br.c(jy(a)), n = RB(n, H.c ? H.c(b) : H.call(null, b));
      c.setSize(d.width, d.height);
      return c.setData(ni(n));
    };
  }(a, b);
  return xx(new l(null, 3, [Aq, function() {
    return function() {
      return new R(null, 5, 5, S, [FA, lp, "auto", at, new R(null, 1, 5, S, [Mp], null)], null);
    };
  }(a, b, c), Ym, function(a, b, c) {
    return function(b) {
      var e = gy(b), e = new vis.Network(e);
      SB(e, pn.c(jy(b)));
      U.h ? U.h(a, e) : U.call(null, a, e);
      c(b, e);
      return e.fit();
    };
  }(a, b, c), Hn, function(a, b, c) {
    return function(b) {
      (H.c ? H.c(a) : H.call(null, a)).setOptions(QB(new l(null, 1, [pn, pn.c(jy(b))], null)));
      return c(b, H.c ? H.c(a) : H.call(null, a));
    };
  }(a, b, c)], null));
}
var UB = new l(null, 1, [oo, function() {
  return new R(null, 5, 5, S, [EA, Tr, "5px", Fj, new R(null, 2, 5, S, [new R(null, 5, 5, S, [DA, Tr, "auto", Fj, new R(null, 2, 5, S, [new R(null, 7, 5, S, [UA, ir, "Add a new node", ln, "0.3em", Gp, zl], null), new R(null, 5, 5, S, [ZA, Dl, "zmdi-close", fp, function() {
    var a = new R(null, 1, 5, S, [Sr], null);
    V.c ? V.c(a) : V.call(null, a);
    a = new R(null, 2, 5, S, [Jt, null], null);
    return V.c ? V.c(a) : V.call(null, a);
  }], null)], null)], null), new R(null, 5, 5, S, [DA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 5, 5, S, [XA, ir, "Entity", fp, function() {
    var a = new R(null, 1, 5, S, [Sr], null);
    V.c ? V.c(a) : V.call(null, a);
    a = new R(null, 2, 5, S, [As, Hu], null);
    return V.c ? V.c(a) : V.call(null, a);
  }], null), new R(null, 5, 5, S, [XA, ir, "Process", fp, function() {
    var a = new R(null, 1, 5, S, [Sr], null);
    V.c ? V.c(a) : V.call(null, a);
    a = new R(null, 2, 5, S, [As, Wj], null);
    return V.c ? V.c(a) : V.call(null, a);
  }], null)], null)], null)], null)], null);
}], null);
function VB() {
  var a = function() {
    var a = new R(null, 1, 5, S, [Qp], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), b = function() {
    var a = new R(null, 1, 5, S, [Ht], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), c = function() {
    var a = new R(null, 1, 5, S, [pr], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), d = $w(function(a, b, c) {
    return function() {
      return xv.c(H.c ? H.c(c) : H.call(null, c));
    };
  }(a, b, c)), e = function() {
    var a = new R(null, 1, 5, S, [pj], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), f = function() {
    var a = new R(null, 1, 5, S, [tj], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  return function(a, b, c, d, e, f) {
    return function() {
      return new R(null, 7, 5, S, [EA, sn, [p(H.c ? H.c(e) : H.call(null, e)), p("px")].join(""), lr, "graph-container", Fj, new R(null, 3, 5, S, [new R(null, 13, 5, S, [HB, lr, "graph-mode-selector", Rv, H.c ? H.c(f) : H.call(null, f), sn, "110px", so, new R(null, 3, 5, S, [new l(null, 2, [jr, null, ir, "Basic"], null), new l(null, 2, [jr, Jn, ir, "Entities"], null), new l(null, 2, [jr, Eu, ir, "Processes"], null)], null), Sk, "Basic", Ot, function() {
        return function(a) {
          a = new R(null, 2, 5, S, [tr, a], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(a, b, c, d, e, f)], null), new R(null, 2, 5, S, [TB, new l(null, 3, [Br, H.c ? H.c(a) : H.call(null, a), lp, new l(null, 2, [xv, H.c ? H.c(d) : H.call(null, d), sn, H.c ? H.c(e) : H.call(null, e)], null), pn, H.c ? H.c(f) : H.call(null, f)], null)], null), function() {
        var a = H.c ? H.c(b) : H.call(null, b);
        if (m(a)) {
          var c = Ii.c(Ln.c(a)), d = $s.c(Ln.c(a)), e = S, c = new l(null, 2, [lr, "context-menu", Bp, new l(null, 2, [yl, c, Ev, d], null)], null), d = S, a = $n.c(a), a = UB.c ? UB.c(a) : UB.call(null, a);
          return new R(null, 3, 5, e, [Mp, c, new R(null, 1, 5, d, [a], null)], null);
        }
        return null;
      }()], null)], null);
    };
  }(a, b, c, d, e, f);
}
;CodeMirror.Vim.map("jj", "\x3cEsc\x3e", "insert");
CodeMirror.Vim.map("kk", "\x3cEsc\x3e", "insert");
function WB() {
  var a = xf ? xf(null) : wf.call(null, null), b = function(a) {
    return function(b) {
      b = jy(b);
      (H.c ? H.c(a) : H.call(null, a)).setOption("hintOptions", ni(new l(null, 1, [jj, Vo.c(b)], null)));
      return (H.c ? H.c(a) : H.call(null, a)).setValue(hi.c(b));
    };
  }(a);
  return xx(new l(null, 4, [Aq, function() {
    return function() {
      return new R(null, 1, 5, S, [Uk], null);
    };
  }(a, b), Ym, function(a, b) {
    return function(e) {
      var f = gy(e), g = jy(e), k = Cs.c(g), n = function() {
        var a = ni(qr.c(g));
        return CodeMirror(f, a);
      }();
      U.h ? U.h(a, n) : U.call(null, a, n);
      b(e);
      return m(k) ? n.on("change", function(a, b, c, d) {
        return function() {
          var a = d.getValue();
          return U.h ? U.h(c, a) : U.call(null, c, a);
        };
      }(f, g, k, n, a, b)) : null;
    };
  }(a, b), Hn, b, ps, "gmap-inner"], null));
}
function XB(a, b) {
  var c = function() {
    var a = new R(null, 1, 5, S, [Kp], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), d = wh.j(L([H.c ? H.c(c) : H.call(null, c), b], 0));
  return function(a, b) {
    return function(a, c, d, e) {
      return new R(null, 2, 5, S, [WB, new l(null, 4, [hi, a, qr, b, Cs, d, Vo, e], null)], null);
    };
  }(c, d);
}
;var YB = new l(null, 2, [Hq, function() {
  return function(a) {
    return function(b, c) {
      if (m(H.c ? H.c(a) : H.call(null, a))) {
        var d = function() {
          var a = JSON.stringify(Gm.c(c), null, "\t");
          return xf ? xf(a) : wf.call(null, a);
        }(), e = new R(null, 2, 5, S, [vq, b], null);
        V.c ? V.c(e) : V.call(null, e);
        return new R(null, 5, 5, S, [EA, Tr, "5px", Fj, new R(null, 2, 5, S, [new R(null, 4, 5, S, [XB, H.c ? H.c(d) : H.call(null, d), new l(null, 1, [pn, "javascript"], null), d], null), new R(null, 5, 5, S, [DA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 7, 5, S, [XA, ir, "set", lr, "btn-primary", fp, function(a, c) {
          return function() {
            var d = new R(null, 3, 5, S, [lq, b, JSON.parse(H.c ? H.c(a) : H.call(null, a))], null);
            V.c ? V.c(d) : V.call(null, d);
            return U.h ? U.h(c, !1) : U.call(null, c, !1);
          };
        }(d, a)], null), new R(null, 5, 5, S, [XA, ir, "cancel", fp, function(a, b) {
          return function() {
            return U.h ? U.h(b, !1) : U.call(null, b, !1);
          };
        }(d, a)], null)], null)], null)], null)], null);
      }
      d = new R(null, 2, 5, S, [qn, b], null);
      V.c ? V.c(d) : V.call(null, d);
      return new R(null, 5, 5, S, [EA, Tr, "5px", Fj, new R(null, 2, 5, S, [new R(null, 2, 5, S, [Nk, JSON.stringify(Gm.c(c), null, "\t")], null), new R(null, 5, 5, S, [XA, ir, "edit", fp, function(a) {
        return function() {
          return U.h ? U.h(a, !0) : U.call(null, a, !0);
        };
      }(a)], null)], null)], null);
    };
  }(ky(!1));
}, Yr, function(a, b) {
  return function(a) {
    return function(b, e) {
      var f = new R(null, 2, 5, S, [qn, b], null);
      V.c ? V.c(f) : V.call(null, f);
      var f = function() {
        var a = Gm.c(e);
        return m(a) ? a : "";
      }(), g = jf(H.c ? H.c(a) : H.call(null, a), f), k = "string" === typeof f;
      return k ? new R(null, 5, 5, S, [EA, Tr, "5px", Fj, new R(null, 2, 5, S, [new R(null, 4, 5, S, [XB, f, new l(null, 1, [pn, "x-shader/x-vertex"], null), a], null), new R(null, 9, 5, S, [XA, ir, "update", lr, g ? "btn-primary" : null, cu, !g, fp, function(a, c, e, f) {
        return function() {
          var a = new R(null, 3, 5, S, [lq, b, H.c ? H.c(f) : H.call(null, f)], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(f, g, k, a)], null)], null)], null) : new R(null, 5, 5, S, [$A, km, sq, au, "code entity must be a string"], null);
    };
  }(ky(Gm.c(b)));
}], null);
function ZB() {
  return function(a) {
    return function(b, c) {
      var d = xf ? xf(b) : wf.call(null, b);
      return new R(null, 3, 5, S, [DA, Fj, new R(null, 16, 5, S, [new R(null, 2, 5, S, [Mp, new l(null, 1, [Bp, new l(null, 4, [$m, "#2B7CE9", sn, "19px", xv, "19px", zs, "inline-block"], null)], null)], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), m(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 9, 5, S, [wB, Rv, b, sn, "200px", Fr, !1, Ot, function(a) {
        return function(b) {
          return U.h ? U.h(a, b) : U.call(null, a, b);
        };
      }(d, a)], null) : new R(null, 7, 5, S, [UA, ir, b, ln, "0.3em", Gp, zl], null), m(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-close", lp, gl, iv, "cancel", fp, function(a, b) {
        return function() {
          return U.h ? U.h(b, !1) : U.call(null, b, !1);
        };
      }(d, a)], null) : null, m(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-check", lp, gl, iv, "apply", fp, function(a, c) {
        return function() {
          var d = new R(null, 3, 5, S, [tl, b, H.c ? H.c(a) : H.call(null, a)], null);
          V.c ? V.c(d) : V.call(null, d);
          return U.h ? U.h(c, !1) : U.call(null, c, !1);
        };
      }(d, a)], null) : null, new R(null, 3, 5, S, [BA, lp, "10px"], null), eb(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 11, 5, S, [ZA, Dl, "zmdi-edit", lp, gl, Bp, new l(null, 1, [gr, "0.3"], null), iv, "rename", fp, function(a, b) {
        return function() {
          return U.h ? U.h(b, !0) : U.call(null, b, !0);
        };
      }(d, a)], null) : null, new R(null, 3, 5, S, [BA, lp, "auto"], null), new R(null, 7, 5, S, [ZA, Dl, "zmdi-search", iv, "inspect in console", fp, function() {
        return function() {
          var a = new R(null, 2, 5, S, [gt, b], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(d, a)], null), new R(null, 3, 5, S, [BA, lp, "5px"], null), new R(null, 7, 5, S, [ZA, Dl, "zmdi-delete", iv, "delete this entity", fp, function() {
        return function() {
          var a = new R(null, 2, 5, S, [yk, b], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(d, a)], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), new R(null, 1, 5, S, [CA], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), m(H.c ? H.c(c) : H.call(null, c)) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-plus", iv, "reopen", fp, function() {
        return function() {
          return U.h ? U.h(c, !1) : U.call(null, c, !1);
        };
      }(d, a)], null) : new R(null, 7, 5, S, [ZA, Dl, "zmdi-minus", iv, "minimize", fp, function() {
        return function() {
          return U.h ? U.h(c, !0) : U.call(null, c, !0);
        };
      }(d, a)], null), new R(null, 5, 5, S, [ZA, Dl, "zmdi-close", fp, function() {
        return function() {
          var a = new R(null, 2, 5, S, [xk, new l(null, 2, [jr, b, $n, "entity"], null)], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(d, a)], null)], null)], null);
    };
  }(ky(!1));
}
var $B = new R(null, 2, 5, S, [new l(null, 2, [jr, oq, ir, "Current value"], null), new l(null, 2, [jr, Up, ir, "Initial value"], null)], null);
function aC(a, b) {
  return function(a) {
    return function(b, e) {
      var f = jf(H.c ? H.c(a) : H.call(null, a), e);
      return new R(null, 5, 5, S, [EA, Tr, "5px", Fj, new R(null, 2, 5, S, [new R(null, 4, 5, S, [XB, m(e) ? e : "", new l(null, 1, [pn, "javascript"], null), a], null), new R(null, 9, 5, S, [XA, ir, "update", lr, f ? "btn-primary" : null, cu, !f, fp, function(a, c) {
        return function() {
          var a = new R(null, 3, 5, S, [Sv, b, H.c ? H.c(c) : H.call(null, c)], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(f, a)], null)], null)], null);
    };
  }(ky(b));
}
function bC(a, b) {
  return function(a) {
    return function(b, e, f, g) {
      f = new R(null, 2, 5, S, [vq, b], null);
      V.c ? V.c(f) : V.call(null, f);
      return m(H.c ? H.c(a) : H.call(null, a)) ? new R(null, 5, 5, S, [EA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [aC, b, e], null), new R(null, 5, 5, S, [DA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 5, 5, S, [XA, ir, "reset current value", fp, function() {
        return function() {
          var a = new R(null, 3, 5, S, [lq, b, JSON.parse(e)], null);
          V.c ? V.c(a) : V.call(null, a);
          return U.h ? U.h(g, oq) : U.call(null, g, oq);
        };
      }(a)], null), new R(null, 5, 5, S, [XA, ir, "remove initial value", fp, function(a) {
        return function() {
          var c = new R(null, 3, 5, S, [Sv, b, null], null);
          V.c ? V.c(c) : V.call(null, c);
          return U.h ? U.h(a, !1) : U.call(null, a, !1);
        };
      }(a)], null)], null)], null)], null)], null) : new R(null, 5, 5, S, [XA, ir, "add initial value", fp, function(a) {
        return function() {
          return U.h ? U.h(a, !0) : U.call(null, a, !0);
        };
      }(a)], null);
    };
  }(ky(jf(b, null)));
}
function cC(a, b, c, d) {
  return new R(null, 5, 5, S, [EA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [YB.c ? YB.c(c) : YB.call(null, c), a, b], null), new R(null, 5, 5, S, [XA, ir, "set as initial value", fp, function() {
    var c = new R(null, 3, 5, S, [Mm, a, Gm.c(b)], null);
    V.c ? V.c(c) : V.call(null, c);
    return U.h ? U.h(d, Up) : U.call(null, d, Up);
  }], null)], null)], null);
}
var dC = Rf(function(a) {
  var b = M(a, 0, null);
  M(a, 1, null);
  return new l(null, 2, [jr, b, ir, Pe(b)], null);
}, YB);
function eC(a) {
  var b = jr.c(a);
  a = function() {
    var a = new R(null, 2, 5, S, [dv, b], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  var c = ky(jr.c(D($B))), d = ky(Hq), e = ky(!1);
  return function(a, b, c, d, e) {
    return function(v) {
      return new R(null, 7, 5, S, [EA, lr, "entity-component", Tr, "5px", Fj, new R(null, 3, 5, S, [new R(null, 3, 5, S, [ZB, jr.c(v), e], null), m(H.c ? H.c(e) : H.call(null, e)) ? null : new R(null, 5, 5, S, [DA, Tr, "10px", Fj, new R(null, 2, 5, S, [new R(null, 7, 5, S, [WA, fl, $B, Rv, c, Ot, function(a, b, c) {
        return function(a) {
          return U.h ? U.h(c, a) : U.call(null, c, a);
        };
      }(a, b, c, d, e)], null), new R(null, 7, 5, S, [HB, so, dC, Rv, d, Ot, function(a, b, c, d) {
        return function(a) {
          return U.h ? U.h(d, a) : U.call(null, d, a);
        };
      }(a, b, c, d, e)], null)], null)], null), m(H.c ? H.c(e) : H.call(null, e)) ? null : x.h(H.c ? H.c(c) : H.call(null, c), Up) ? new R(null, 5, 5, S, [bC, a, st.c(v), H.c ? H.c(d) : H.call(null, d), c], null) : new R(null, 5, 5, S, [cC, a, H.c ? H.c(b) : H.call(null, b), H.c ? H.c(d) : H.call(null, d), c], null)], null)], null);
    };
  }(b, a, c, d, e);
}
;function fC() {
  var a = function() {
    var a = new R(null, 1, 5, S, [am], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), b = ky(!1);
  return function(a, b) {
    return function(e, f) {
      var g = jr.c(e), k = xf ? xf(g) : wf.call(null, g), n = t.h(H.c ? H.c(a) : H.call(null, a), "ACCUMULATOR"), u = du.c(e), v = mj.c(e), w = rf(function(a, b, c) {
        return function(a) {
          return x.h(a, c);
        };
      }(g, k, n, u, v, a, b), Mg(iq.c(e)));
      return new R(null, 3, 5, S, [DA, Fj, new R(null, 18, 5, S, [new R(null, 2, 5, S, [Mp, new l(null, 1, [Bp, new l(null, 5, [$m, "#de7a13", sn, "20px", xv, "20px", ju, "10px", zs, "inline-block"], null)], null)], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), m(H.c ? H.c(b) : H.call(null, b)) ? new R(null, 9, 5, S, [wB, Rv, g, sn, "200px", Fr, !1, Ot, function(a, b) {
        return function(a) {
          return U.h ? U.h(b, a) : U.call(null, b, a);
        };
      }(g, k, n, u, v, w, a, b)], null) : new R(null, 7, 5, S, [UA, ir, g, ln, "0.3em", Gp, zl], null), m(H.c ? H.c(b) : H.call(null, b)) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-close", lp, gl, iv, "cancel", fp, function(a, b, c, d, e, f, g, k) {
        return function() {
          return U.h ? U.h(k, !1) : U.call(null, k, !1);
        };
      }(g, k, n, u, v, w, a, b)], null) : null, m(H.c ? H.c(b) : H.call(null, b)) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-check", lp, gl, iv, "apply", fp, function(a, b, c, d, e, f, g, k) {
        return function() {
          var c = new R(null, 3, 5, S, [Im, a, H.c ? H.c(b) : H.call(null, b)], null);
          V.c ? V.c(c) : V.call(null, c);
          return U.h ? U.h(k, !1) : U.call(null, k, !1);
        };
      }(g, k, n, u, v, w, a, b)], null) : null, new R(null, 3, 5, S, [BA, lp, "10px"], null), eb(H.c ? H.c(b) : H.call(null, b)) ? new R(null, 11, 5, S, [ZA, Dl, "zmdi-edit", lp, gl, Bp, new l(null, 1, [gr, "0.3"], null), iv, "rename", fp, function(a, b, c, d, e, f, g, k) {
        return function() {
          return U.h ? U.h(k, !0) : U.call(null, k, !0);
        };
      }(g, k, n, u, v, w, a, b)], null) : null, new R(null, 3, 5, S, [BA, lp, "auto"], null), m(w) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-brightness-5", cu, !0, iv, "no autostart for accumulator"], null) : m(u) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-brightness-auto", iv, "turn off autostart", Bp, new l(null, 1, [Gk, "orange"], null), fp, function(a) {
        return function() {
          var b = new R(null, 3, 5, S, [bn, a, null], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null) : new R(null, 7, 5, S, [ZA, Dl, "zmdi-brightness-5", iv, "turn on autostart", fp, function(a) {
        return function() {
          var b = new R(null, 3, 5, S, [bn, a, !0], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null), m(w) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-time", cu, !0, iv, "process with accumulator cannot be asynchronous"], null) : m(v) ? new R(null, 9, 5, S, [ZA, Dl, "zmdi-time", iv, "turn off async", Bp, new l(null, 1, [Gk, "orange"], null), fp, function(a) {
        return function() {
          var b = new R(null, 3, 5, S, [tu, a, null], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null) : new R(null, 7, 5, S, [ZA, Dl, "zmdi-time", iv, "turn on async", fp, function(a) {
        return function() {
          var b = new R(null, 3, 5, S, [tu, a, !0], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null), new R(null, 7, 5, S, [ZA, Dl, "zmdi-play", iv, "start", fp, function(a) {
        return function() {
          var b = new R(null, 2, 5, S, [yn, a], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null), m(v) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-stop", iv, "stop", fp, function(a) {
        return function() {
          var b = new R(null, 2, 5, S, [Sl, a], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null) : null, new R(null, 7, 5, S, [ZA, Dl, "zmdi-delete", iv, "delete this process", fp, function(a) {
        return function() {
          var b = new R(null, 2, 5, S, [br, a], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), new R(null, 1, 5, S, [CA], null), new R(null, 3, 5, S, [BA, lp, "10px"], null), m(H.c ? H.c(f) : H.call(null, f)) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-plus", iv, "reopen", fp, function() {
        return function() {
          return U.h ? U.h(f, !1) : U.call(null, f, !1);
        };
      }(g, k, n, u, v, w, a, b)], null) : new R(null, 7, 5, S, [ZA, Dl, "zmdi-minus", iv, "minimize", fp, function() {
        return function() {
          return U.h ? U.h(f, !0) : U.call(null, f, !0);
        };
      }(g, k, n, u, v, w, a, b)], null), new R(null, 5, 5, S, [ZA, Dl, "zmdi-close", fp, function(a) {
        return function() {
          var b = new R(null, 2, 5, S, [xk, new l(null, 2, [jr, a, $n, "process"], null)], null);
          return V.c ? V.c(b) : V.call(null, b);
        };
      }(g, k, n, u, v, w, a, b)], null)], null)], null);
    };
  }(a, b);
}
function gC(a, b, c) {
  a = function() {
    var a = new R(null, 1, 5, S, [am], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  b = function() {
    var a = new R(null, 1, 5, S, [El], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  var d = function() {
    var a = new R(null, 2, 5, S, [Zp, c], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  return function(a, b, c) {
    return function(d, n, u) {
      var v = Rf(function() {
        return function(a) {
          var b = M(a, 0, null);
          a = M(a, 1, null);
          return new l(null, 2, [jr, a, ir, b], null);
        };
      }(a, b, c), H.c ? H.c(a) : H.call(null, a)), w = xu.c(D(Mf(function() {
        return function(a) {
          return x.h(Bo.c(a), d);
        };
      }(v, a, b, c), H.c ? H.c(c) : H.call(null, c)))), y = $e.h(new R(null, 1, 5, S, [new l(null, 2, [jr, null, ir, "-- Disconnect !"], null)], null), Rf(function() {
        return function(a) {
          return new l(null, 2, [jr, a, ir, a], null);
        };
      }(v, w, a, b, c), Bw(m(w) ? Hh([w]) : Gh, Nf(Ih(Rf(xu, H.c ? H.c(c) : H.call(null, c))), Ih(Rf(jr, H.c ? H.c(b) : H.call(null, b)))))));
      return new R(null, 3, 5, S, [DA, Fj, new R(null, 4, 5, S, [new R(null, 7, 5, S, [wB, Rv, d, sn, "160px", Ot, function() {
        return function(a) {
          a = new R(null, 4, 5, S, [ht, u, d, a], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(v, w, y, a, b, c)], null), new R(null, 9, 5, S, [HB, so, v, Rv, n, sn, "140px", Ot, function() {
        return function(a) {
          a = new R(null, 4, 5, S, [Yo, u, d, a], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(v, w, y, a, b, c)], null), x.h(n, t.h(H.c ? H.c(a) : H.call(null, a), "ACCUMULATOR")) ? new R(null, 5, 5, S, [FA, at, " ", lp, "auto"], null) : new R(null, 9, 5, S, [HB, so, y, Rv, w, Ds, !0, Ot, function() {
        return function(a) {
          a = new R(null, 4, 5, S, [Zs, u, d, a], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(v, w, y, a, b, c)], null), new R(null, 9, 5, S, [YA, lp, gl, Bp, new l(null, 1, [Em, "10px"], null), Dl, "zmdi-minus", fp, function() {
        return function() {
          var a = new R(null, 3, 5, S, [Hp, u, d], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(v, w, y, a, b, c)], null)], null)], null);
    };
  }(a, b, d);
}
function hC(a, b) {
  return new R(null, 3, 5, S, [EA, Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [DA, Fj, new R(null, 2, 5, S, [new R(null, 3, 5, S, [TA, ir, "ports"], null), new R(null, 9, 5, S, [YA, lp, gl, Bp, new l(null, 1, [Em, "10px"], null), Dl, "zmdi-plus", fp, function() {
    var a = new R(null, 2, 5, S, [Vj, b], null);
    return V.c ? V.c(a) : V.call(null, a);
  }], null)], null)], null), function() {
    return function d(a) {
      return new Qe(null, function() {
        for (;;) {
          var f = z(a);
          if (f) {
            if ($d(f)) {
              var g = Ec(f), k = I(g), n = Ue(k);
              a: {
                for (var u = 0;;) {
                  if (u < k) {
                    var v = Ab.h(g, u), w = M(v, 0, null), v = M(v, 1, null), w = Cd(new R(null, 4, 5, S, [gC, Pe(w), v, b], null), new l(null, 1, [Rk, [p(b), p("::port::"), p(w)].join("")], null));
                    n.add(w);
                    u += 1;
                  } else {
                    g = !0;
                    break a;
                  }
                }
              }
              return g ? We(n.da(), d(Fc(f))) : We(n.da(), null);
            }
            g = D(f);
            n = M(g, 0, null);
            g = M(g, 1, null);
            return Ad(Cd(new R(null, 4, 5, S, [gC, Pe(n), g, b], null), new l(null, 1, [Rk, [p(b), p("::port::"), p(n)].join("")], null)), d(cd(f)));
          }
          return null;
        }
      }, null, null);
    }(a);
  }()], null)], null);
}
function iC(a) {
  var b = function() {
    var b = new R(null, 2, 5, S, [Vn, a], null);
    return Iz ? Iz(b) : Hz.call(null, b);
  }(), c = function() {
    var a = new R(null, 1, 5, S, [El], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), d = function() {
    var b = new R(null, 2, 5, S, [Zp, a], null);
    return Iz ? Iz(b) : Hz.call(null, b);
  }();
  return function(a, b, c) {
    return function(d) {
      var n = xu.c(H.c ? H.c(a) : H.call(null, a)), u = $e.h(new R(null, 1, 5, S, [new l(null, 2, [jr, null, ir, "-- Disconnect !"], null)], null), Rf(function() {
        return function(a) {
          return new l(null, 2, [jr, a, ir, a], null);
        };
      }(n, a, b, c), Bw(m(n) ? Hh([n]) : Gh, Nf(Ih(Rf(xu, H.c ? H.c(c) : H.call(null, c))), Ih(Rf(jr, H.c ? H.c(b) : H.call(null, b)))))));
      return new R(null, 11, 5, S, [HB, so, u, Rv, n, sn, "200px", Ds, !0, Ot, function() {
        return function(a) {
          a = new R(null, 3, 5, S, [vm, d, a], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(n, u, a, b, c)], null);
    };
  }(b, c, d);
}
function jC(a) {
  var b = ky(Yr.c(a)), c = ky(!1), d = jr.c(a), e = function() {
    var a = new R(null, 1, 5, S, [am], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), f = function() {
    var a = new R(null, 1, 5, S, [Ku], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), g = function() {
    var a = new R(null, 2, 5, S, [Zp, d], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), k = new l(null, 1, [pn, new l(null, 2, [mm, "javascript", nu, !0], null)], null);
  a = Qf.h(T, Cf.h(function(a, b, c, d, e, f, g) {
    return function(k) {
      var n = M(k, 0, null), P = M(k, 1, null);
      k = x.h(P, t.h(H.c ? H.c(d) : H.call(null, d), "ACCUMULATOR")) ? Mf(function() {
        return function(a) {
          return eb(Bo.c(a));
        };
      }(k, n, P, a, b, c, d, e, f, g), H.c ? H.c(f) : H.call(null, f)) : Mf(function(a, b) {
        return function(a) {
          return x.h(Bo.c(a), Pe(b));
        };
      }(k, n, P, a, b, c, d, e, f, g), H.c ? H.c(f) : H.call(null, f));
      k = m(k) ? (H.c ? H.c(e) : H.call(null, e)).get(xu.c(D(k))) : null;
      return new R(null, 2, 5, S, [n, k], null);
    };
  }(b, c, d, e, f, g, k), iq.c(a)));
  var n = new l(null, 2, ["this", (H.c ? H.c(f) : H.call(null, f)).getContext(), "ports", a], null);
  return function(a, b, c, d, e, f, g, k, n) {
    return function(P) {
      var Q = jf(H.c ? H.c(a) : H.call(null, a), Yr.c(P));
      return new R(null, 7, 5, S, [EA, lr, "process-component", Tr, "5px", Fj, m(H.c ? H.c(b) : H.call(null, b)) ? new R(null, 1, 5, S, [new R(null, 3, 5, S, [fC, P, b], null)], null) : new R(null, 5, 5, S, [new R(null, 3, 5, S, [fC, P, b], null), new R(null, 3, 5, S, [hC, iq.c(P), c], null), new R(null, 3, 5, S, [TA, ir, "procedure"], null), new R(null, 5, 5, S, [XB, Yr.c(P), g, a, n], null), new R(null, 5, 5, S, [DA, Tr, "10px", Fj, new R(null, 4, 5, S, [new R(null, 9, 5, S, [XA, ir, "update", 
      lr, Q ? "btn-primary" : null, cu, !Q, fp, function(a, b, c, d) {
        return function() {
          var a = new R(null, 3, 5, S, [Vl, d, H.c ? H.c(b) : H.call(null, b)], null);
          return V.c ? V.c(a) : V.call(null, a);
        };
      }(Q, a, b, c, d, e, f, g, k, n)], null), new R(null, 3, 5, S, [BA, lp, "auto"], null), new R(null, 5, 5, S, [TA, ir, "output", Bp, new l(null, 1, [ln, "8px"], null)], null), new R(null, 2, 5, S, [iC, c], null)], null)], null)], null)], null);
    };
  }(b, c, d, e, f, g, k, a, n);
}
;function kC() {
  return new R(null, 3, 5, S, [FA, at, new R(null, 7, 5, S, [ZA, Dl, "zmdi-fullscreen", lp, Xq, fp, function() {
    var a = new R(null, 1, 5, S, [Wq], null);
    return V.c ? V.c(a) : V.call(null, a);
  }], null)], null);
}
function lC(a) {
  var b = function() {
    var b = new l(null, 2, [$s, a.clientX, Ii, a.clientY], null);
    return xf ? xf(b) : wf.call(null, b);
  }(), c = function(a) {
    return function(b) {
      b = new l(null, 2, [$s, b.clientX, Ii, b.clientY], null);
      var c = new R(null, 2, 5, S, [Bn, new l(null, 2, [yl, Ii.c(b) - Ii.c(H.c ? H.c(a) : H.call(null, a)), Ev, $s.c(b) - $s.c(H.c ? H.c(a) : H.call(null, a))], null)], null);
      V.c ? V.c(c) : V.call(null, c);
      return U.h ? U.h(a, b) : U.call(null, a, b);
    };
  }(b);
  Sy(window, "mousemove", c);
  var d = window;
  return Sy(d, "mouseup", function(a, b, c, d) {
    return function() {
      return Yy(window, "mousemove", d);
    };
  }(d, "mouseup", b, c));
}
function mC(a) {
  var b = eb(a) ? lC : function() {
    return null;
  }, c = [p("main-header "), p(m(a) ? "fullscreen" : null)].join("");
  return new R(null, 5, 5, S, [DA, Tr, "5px", Fj, new R(null, 5, 5, S, [new R(null, 11, 5, S, [UA, lr, c, Vv, new l(null, 1, [Xo, b], null), ln, "0.1em", ir, "" + p("Flow editor"), Gp, Om], null), new R(null, 7, 5, S, [BA, lp, "auto", lr, c, Vv, new l(null, 1, [Xo, b], null)], null), new R(null, 9, 5, S, [ZA, Dl, "zmdi-download", Bl, !0, iv, "export graph", fp, function() {
    return function() {
      var a = new R(null, 2, 5, S, [As, fj], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(b, c)], null), m(a) ? new R(null, 7, 5, S, [ZA, Dl, "zmdi-minus", iv, "exit fullscreen", fp, function() {
    return function() {
      var a = new R(null, 1, 5, S, [wm], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(b, c)], null) : new R(null, 7, 5, S, [ZA, Dl, "zmdi-plus", iv, "fullscreen", fp, function() {
    return function() {
      var a = new R(null, 1, 5, S, [cj], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(b, c)], null), m(a) ? null : new R(null, 7, 5, S, [ZA, Dl, "zmdi-close", iv, "minimize window", fp, function() {
    return function() {
      var a = new R(null, 1, 5, S, [Qr], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(b, c)], null)], null)], null);
}
function nC() {
  var a = function() {
    var a = new R(null, 1, 5, S, [In], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), b = function() {
    var a = new R(null, 1, 5, S, [Qp], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  return function(a, b) {
    return function() {
      var e = Eu.c(H.c ? H.c(b) : H.call(null, b)), f = Jn.c(H.c ? H.c(b) : H.call(null, b));
      return new R(null, 9, 5, S, [GA, lr, "item-list process-item-list", Vi, "570px", jn, yr, at, new R(null, 7, 5, S, [EA, lp, "auto", Tr, "5px", Fj, new R(null, 1, 5, S, [function() {
        return function(a, b, c, d) {
          return function w(e) {
            return new Qe(null, function(a, b) {
              return function() {
                for (;;) {
                  var c = z(e);
                  if (c) {
                    if ($d(c)) {
                      var d = Ec(c), f = I(d), g = Ue(f);
                      return function() {
                        for (var c = 0;;) {
                          if (c < f) {
                            var e = Ab.h(d, c);
                            Xe(g, x.h($n.c(e), "entity") ? function() {
                              var a = t.h(b, Oe.c(jr.c(e)));
                              return m(a) ? Cd(new R(null, 2, 5, S, [eC, a], null), new l(null, 1, [Rk, [p("entity-"), p(jr.c(a))].join("")], null)) : null;
                            }() : function() {
                              var b = t.h(a, Oe.c(jr.c(e)));
                              return m(b) ? Cd(new R(null, 2, 5, S, [jC, b], null), new l(null, 1, [Rk, [p("process-"), p(jr.c(b))].join("")], null)) : null;
                            }());
                            c += 1;
                          } else {
                            return !0;
                          }
                        }
                      }() ? We(g.da(), w(Fc(c))) : We(g.da(), null);
                    }
                    var k = D(c);
                    return Ad(x.h($n.c(k), "entity") ? function() {
                      var a = t.h(b, Oe.c(jr.c(k)));
                      return m(a) ? Cd(new R(null, 2, 5, S, [eC, a], null), new l(null, 1, [Rk, [p("entity-"), p(jr.c(a))].join("")], null)) : null;
                    }() : function() {
                      var b = t.h(a, Oe.c(jr.c(k)));
                      return m(b) ? Cd(new R(null, 2, 5, S, [jC, b], null), new l(null, 1, [Rk, [p("process-"), p(jr.c(b))].join("")], null)) : null;
                    }(), w(cd(c)));
                  }
                  return null;
                }
              };
            }(a, b, c, d), null, null);
          };
        }(e, f, a, b)(H.c ? H.c(a) : H.call(null, a));
      }()], null)], null)], null);
    };
  }(a, b);
}
function oC(a) {
  var b = function() {
    var b = new l(null, 2, [$s, a.clientX, Ii, a.clientY], null);
    return xf ? xf(b) : wf.call(null, b);
  }(), c = function(a) {
    return function(b) {
      b = new l(null, 2, [$s, b.clientX, Ii, b.clientY], null);
      var c = new R(null, 2, 5, S, [Xj, new l(null, 2, [xv, Ii.c(b) - Ii.c(H.c ? H.c(a) : H.call(null, a)), sn, $s.c(b) - $s.c(H.c ? H.c(a) : H.call(null, a))], null)], null);
      V.c ? V.c(c) : V.call(null, c);
      return U.h ? U.h(a, b) : U.call(null, a, b);
    };
  }(b);
  Sy(window, "mousemove", c);
  var d = window;
  return Sy(d, "mouseup", function(a, b, c, d) {
    return function() {
      return Yy(window, "mousemove", d);
    };
  }(d, "mouseup", b, c));
}
function pC(a) {
  var b = function() {
    var b = a.clientX;
    return xf ? xf(b) : wf.call(null, b);
  }(), c = function(a) {
    return function(b) {
      b = b.clientX;
      var c = new R(null, 2, 5, S, [Wp, b - (H.c ? H.c(a) : H.call(null, a))], null);
      V.c ? V.c(c) : V.call(null, c);
      return U.h ? U.h(a, b) : U.call(null, a, b);
    };
  }(b);
  Sy(window, "mousemove", c);
  var d = window;
  return Sy(d, "mouseup", function(a, b, c, d) {
    return function() {
      return Yy(window, "mousemove", d);
    };
  }(d, "mouseup", b, c));
}
function ey() {
  var a = function() {
    var a = new R(null, 1, 5, S, [qq], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), b = function() {
    var a = new R(null, 1, 5, S, [Fm], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }(), c = function() {
    var a = new R(null, 1, 5, S, [bj], null);
    return Iz ? Iz(a) : Hz.call(null, a);
  }();
  return function(a, b, c) {
    return function() {
      if (m(H.c ? H.c(b) : H.call(null, b))) {
        return new R(null, 1, 5, S, [kC], null);
      }
      var g = MB(H.c ? H.c(a) : H.call(null, a));
      return new R(null, 9, 5, S, [EA, lp, "auto", sn, "100%", xv, "100%", Fj, new R(null, 4, 5, S, [new R(null, 2, 5, S, [mC, H.c ? H.c(c) : H.call(null, c)], null), new R(null, 7, 5, S, [GA, lr, "main-content", zu, yr, at, new R(null, 5, 5, S, [DA, lp, "auto", Fj, new R(null, 4, 5, S, [new R(null, 1, 5, S, [VB], null), new R(null, 7, 5, S, [BA, lp, "10px", lr, "graph-resizer", Vv, new l(null, 1, [Xo, pC], null)], null), new R(null, 1, 5, S, [nC], null), new R(null, 3, 5, S, [BA, lp, "5px"], null)], 
      null)], null)], null), m(H.c ? H.c(c) : H.call(null, c)) ? null : new R(null, 2, 5, S, [Mp, new l(null, 2, [Qs, "resize-drag", Xo, oC], null)], null), new R(null, 1, 5, S, [g], null)], null)], null);
    };
  }(a, b, c);
}
;var qC, rC, sC, tC, uC, vC, wC = function wC(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return wC.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
wC.j = function(a) {
  return q(Na, cf(fi, a));
};
wC.D = 0;
wC.C = function(a) {
  return wC.j(z(a));
};
var xC = function xC(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return xC.j(0 < c.length ? new B(c.slice(0), 0, null) : null);
};
xC.j = function(a) {
  return q(Na, cf(ei, a));
};
xC.D = 0;
xC.C = function(a) {
  return xC.j(z(a));
};
function yC(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  cf(xC, 0 < b.length ? new B(b.slice(0), 0, null) : null);
  q(Na, "\n");
}
function zC(a) {
  if ("number" === typeof a) {
    return a;
  }
  if ("string" === typeof a && 1 === a.length) {
    return a.charCodeAt(0);
  }
  throw Error("Argument to char must be a character or number");
}
function AC(a, b, c) {
  var d = c;
  for (c = Jd;;) {
    if (Td(d)) {
      return new R(null, 2, 5, S, [c, b], null);
    }
    var e = D(d), d = E(d), e = cf(a, new R(null, 2, 5, S, [e, b], null));
    b = M(e, 0, null);
    e = M(e, 1, null);
    c = Id.h(c, b);
    b = e;
  }
}
function BC(a, b) {
  for (var c = b, d = Jd;;) {
    var e = cf(a, new R(null, 1, 5, S, [c], null)), c = M(e, 0, null), e = M(e, 1, null);
    if (eb(c)) {
      return new R(null, 2, 5, S, [d, e], null);
    }
    d = Id.h(d, c);
    c = e;
  }
}
function CC(a) {
  return new R(null, 2, 5, S, [Qf.h(T, function() {
    return function c(a) {
      return new Qe(null, function() {
        for (;;) {
          var e = z(a);
          if (e) {
            if ($d(e)) {
              var f = Ec(e), g = I(f), k = Ue(g);
              a: {
                for (var n = 0;;) {
                  if (n < g) {
                    var u = Ab.h(f, n), v = M(u, 0, null), u = M(u, 1, null), w = M(u, 0, null);
                    M(u, 1, null);
                    k.add(new R(null, 2, 5, S, [v, w], null));
                    n += 1;
                  } else {
                    f = !0;
                    break a;
                  }
                }
              }
              return f ? We(k.da(), c(Fc(e))) : We(k.da(), null);
            }
            f = D(e);
            k = M(f, 0, null);
            f = M(f, 1, null);
            g = M(f, 0, null);
            M(f, 1, null);
            return Ad(new R(null, 2, 5, S, [k, g], null), c(cd(e)));
          }
          return null;
        }
      }, null, null);
    }(a);
  }()), Qf.h(T, function() {
    return function c(a) {
      return new Qe(null, function() {
        for (;;) {
          var e = z(a);
          if (e) {
            if ($d(e)) {
              var f = Ec(e), g = I(f), k = Ue(g);
              a: {
                for (var n = 0;;) {
                  if (n < g) {
                    var u = Ab.h(f, n), v = M(u, 0, null), u = M(u, 1, null);
                    M(u, 0, null);
                    u = M(u, 1, null);
                    k.add(new R(null, 2, 5, S, [v, u], null));
                    n += 1;
                  } else {
                    f = !0;
                    break a;
                  }
                }
              }
              return f ? We(k.da(), c(Fc(e))) : We(k.da(), null);
            }
            f = D(e);
            k = M(f, 0, null);
            f = M(f, 1, null);
            M(f, 0, null);
            f = M(f, 1, null);
            return Ad(new R(null, 2, 5, S, [k, f], null), c(cd(e)));
          }
          return null;
        }
      }, null, null);
    }(a);
  }())], null);
}
function DC(a, b) {
  return Qf.h(T, function() {
    return function d(a) {
      return new Qe(null, function() {
        for (;;) {
          var f = z(a);
          if (f) {
            if ($d(f)) {
              var g = Ec(f), k = I(g), n = Ue(k);
              a: {
                for (var u = 0;;) {
                  if (u < k) {
                    var v = Ab.h(g, u), w = M(v, 0, null), v = M(v, 1, null);
                    n.add(new R(null, 2, 5, S, [w, new R(null, 2, 5, S, [v, b], null)], null));
                    u += 1;
                  } else {
                    g = !0;
                    break a;
                  }
                }
              }
              return g ? We(n.da(), d(Fc(f))) : We(n.da(), null);
            }
            g = D(f);
            n = M(g, 0, null);
            g = M(g, 1, null);
            return Ad(new R(null, 2, 5, S, [n, new R(null, 2, 5, S, [g, b], null)], null), d(cd(f)));
          }
          return null;
        }
      }, null, null);
    }(a);
  }());
}
var EC = function EC(b) {
  if (null != b && null != b.cd) {
    return b.cd(b);
  }
  var c = EC[da(null == b ? null : b)];
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  c = EC._;
  if (null != c) {
    return c.c ? c.c(b) : c.call(null, b);
  }
  throw ib("IPrettyFlush.-ppflush", b);
};
function FC(a, b) {
  var c;
  c = H.c ? H.c(a) : H.call(null, a);
  c = H.c ? H.c(c) : H.call(null, c);
  return b.c ? b.c(c) : b.call(null, c);
}
function GC(a, b, c) {
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, b, c);
}
function HC(a, b) {
  x.h(b, "\n") ? (GC(a, Jl, 0), GC(a, Gq, FC(a, Gq) + 1)) : GC(a, Jl, FC(a, Jl) + 1);
  return q(FC(a, It), b);
}
function IC(a, b) {
  var c = function() {
    var c = new l(null, 4, [cr, b, Jl, 0, Gq, 0, It, a], null);
    return xf ? xf(c) : wf.call(null, c);
  }();
  "undefined" === typeof qC && (qC = function(a, b, c, g) {
    this.ga = a;
    this.Pc = b;
    this.Fb = c;
    this.Vd = g;
    this.o = 1074167808;
    this.L = 0;
  }, qC.prototype.U = function() {
    return function(a, b) {
      return new qC(this.ga, this.Pc, this.Fb, b);
    };
  }(c), qC.prototype.S = function() {
    return function() {
      return this.Vd;
    };
  }(c), qC.prototype.tb = function() {
    return function() {
      return this.Fb;
    };
  }(c), qC.prototype.ib = function() {
    return function() {
      return oc(this.ga);
    };
  }(c), qC.prototype.ub = function(a) {
    return function(b, c) {
      var g = gb(c);
      if (m(x.h ? x.h(String, g) : x.call(null, String, g))) {
        var k = c.lastIndexOf("\n");
        0 > k ? GC(this, Jl, FC(this, Jl) + I(c)) : (GC(this, Jl, I(c) - k - 1), GC(this, Gq, FC(this, Gq) + I(Mf(function() {
          return function(a) {
            return x.h(a, "\n");
          };
        }(c, k, x, g, this, a), c))));
        return q(FC(this, It), c);
      }
      if (m(x.h ? x.h(Number, g) : x.call(null, Number, g))) {
        return HC(this, c);
      }
      throw Error([p("No matching clause: "), p(g)].join(""));
    };
  }(c), qC.Sb = function() {
    return function() {
      return new R(null, 4, 5, S, [ku, Hk, Tp, Xl], null);
    };
  }(c), qC.vb = !0, qC.jb = "cljs.pprint/t_cljs$pprint15255", qC.Db = function() {
    return function(a, b) {
      return q(b, "cljs.pprint/t_cljs$pprint15255");
    };
  }(c));
  return new qC(a, b, c, T);
}
function JC(a, b, c, d, e, f, g, k, n, u, v, w, y) {
  this.parent = a;
  this.section = b;
  this.Sa = c;
  this.Oa = d;
  this.Ma = e;
  this.Pa = f;
  this.prefix = g;
  this.Ra = k;
  this.Ta = n;
  this.Qa = u;
  this.J = v;
  this.F = w;
  this.H = y;
  this.o = 2229667594;
  this.L = 8192;
}
h = JC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "suffix":
      return this.Ta;
    case "indent":
      return this.Oa;
    case "parent":
      return this.parent;
    case "section":
      return this.section;
    case "done-nl":
      return this.Ma;
    case "start-col":
      return this.Sa;
    case "prefix":
      return this.prefix;
    case "per-line-prefix":
      return this.Ra;
    case "logical-block-callback":
      return this.Qa;
    case "intra-block-nl":
      return this.Pa;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.logical-block{", ", ", "}", c, $e.h(new R(null, 10, 5, S, [new R(null, 2, 5, S, [Vk, this.parent], null), new R(null, 2, 5, S, [Km, this.section], null), new R(null, 2, 5, S, [$o, this.Sa], null), new R(null, 2, 5, S, [ak, this.Oa], null), new R(null, 2, 5, S, [io, this.Ma], null), new R(null, 2, 5, S, [Yt, this.Pa], null), new R(null, 2, 5, S, [sp, this.prefix], null), new R(null, 2, 5, S, [Dr, this.Ra], null), new R(null, 2, 5, S, [sj, this.Ta], null), new R(null, 2, 5, 
  S, [Gt, this.Qa], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 10, new R(null, 10, 5, S, [Vk, Km, $o, ak, io, Yt, sp, Dr, sj, Gt], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 10 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 10, [sj, null, ak, null, Vk, null, Km, null, io, null, $o, null, sp, null, Dr, null, Gt, null, Yt, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Vk, b) : O.call(null, Vk, b)) ? new JC(c, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h(Km, b) : O.call(null, Km, b)) ? new JC(this.parent, c, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h($o, b) : O.call(null, $o, b)) ? new JC(this.parent, this.section, c, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, this.F, 
  null) : m(O.h ? O.h(ak, b) : O.call(null, ak, b)) ? new JC(this.parent, this.section, this.Sa, c, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h(io, b) : O.call(null, io, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, c, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h(Yt, b) : O.call(null, Yt, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, c, this.prefix, this.Ra, this.Ta, this.Qa, 
  this.J, this.F, null) : m(O.h ? O.h(sp, b) : O.call(null, sp, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, c, this.Ra, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h(Dr, b) : O.call(null, Dr, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, c, this.Ta, this.Qa, this.J, this.F, null) : m(O.h ? O.h(sj, b) : O.call(null, sj, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, 
  c, this.Qa, this.J, this.F, null) : m(O.h ? O.h(Gt, b) : O.call(null, Gt, b)) ? new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, c, this.J, this.F, null) : new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 10, 5, S, [new R(null, 2, 5, S, [Vk, this.parent], null), new R(null, 2, 5, S, [Km, this.section], null), new R(null, 2, 5, S, [$o, this.Sa], null), new R(null, 2, 5, S, [ak, this.Oa], null), new R(null, 2, 5, S, [io, this.Ma], null), new R(null, 2, 5, S, [Yt, this.Pa], null), new R(null, 2, 5, S, [sp, this.prefix], null), new R(null, 2, 5, S, [Dr, this.Ra], null), new R(null, 2, 5, S, [sj, this.Ta], null), new R(null, 2, 5, S, [Gt, this.Qa], null)], null), this.F));
};
h.U = function(a, b) {
  return new JC(this.parent, this.section, this.Sa, this.Oa, this.Ma, this.Pa, this.prefix, this.Ra, this.Ta, this.Qa, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function KC(a, b) {
  for (var c = Vk.c(b);;) {
    if (null == c) {
      return !1;
    }
    if (a === c) {
      return !0;
    }
    c = Vk.c(c);
  }
}
function LC(a) {
  return (a = z(a)) ? fn.c(Hd(a)) - nv.c(D(a)) : 0;
}
function MC(a, b, c, d, e, f, g, k) {
  this.O = a;
  this.data = b;
  this.mb = c;
  this.N = d;
  this.M = e;
  this.J = f;
  this.F = g;
  this.H = k;
  this.o = 2229667594;
  this.L = 8192;
}
h = MC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "type-tag":
      return this.O;
    case "data":
      return this.data;
    case "trailing-white-space":
      return this.mb;
    case "start-pos":
      return this.N;
    case "end-pos":
      return this.M;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.buffer-blob{", ", ", "}", c, $e.h(new R(null, 5, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [Qv, this.data], null), new R(null, 2, 5, S, [dr, this.mb], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 5, new R(null, 5, 5, S, [Nu, Qv, dr, nv, fn], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 5 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 5, [fn, null, dr, null, Nu, null, nv, null, Qv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new MC(this.O, this.data, this.mb, this.N, this.M, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Nu, b) : O.call(null, Nu, b)) ? new MC(c, this.data, this.mb, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(Qv, b) : O.call(null, Qv, b)) ? new MC(this.O, c, this.mb, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(dr, b) : O.call(null, dr, b)) ? new MC(this.O, this.data, c, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(nv, b) : O.call(null, nv, b)) ? new MC(this.O, this.data, this.mb, c, this.M, this.J, this.F, null) : m(O.h ? O.h(fn, b) : O.call(null, fn, b)) ? 
  new MC(this.O, this.data, this.mb, this.N, c, this.J, this.F, null) : new MC(this.O, this.data, this.mb, this.N, this.M, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 5, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [Qv, this.data], null), new R(null, 2, 5, S, [dr, this.mb], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.U = function(a, b) {
  return new MC(this.O, this.data, this.mb, this.N, this.M, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function NC(a, b, c, d) {
  return new MC(zq, a, b, c, d, null, null, null);
}
function OC(a, b, c, d, e, f, g, k) {
  this.O = a;
  this.type = b;
  this.T = c;
  this.N = d;
  this.M = e;
  this.J = f;
  this.F = g;
  this.H = k;
  this.o = 2229667594;
  this.L = 8192;
}
h = OC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "type-tag":
      return this.O;
    case "type":
      return this.type;
    case "logical-block":
      return this.T;
    case "start-pos":
      return this.N;
    case "end-pos":
      return this.M;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.nl-t{", ", ", "}", c, $e.h(new R(null, 5, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [$n, this.type], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 5, new R(null, 5, 5, S, [Nu, $n, ru, nv, fn], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 5 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 5, [fn, null, $n, null, ru, null, Nu, null, nv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new OC(this.O, this.type, this.T, this.N, this.M, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Nu, b) : O.call(null, Nu, b)) ? new OC(c, this.type, this.T, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h($n, b) : O.call(null, $n, b)) ? new OC(this.O, c, this.T, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(ru, b) : O.call(null, ru, b)) ? new OC(this.O, this.type, c, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(nv, b) : O.call(null, nv, b)) ? new OC(this.O, this.type, this.T, c, this.M, this.J, this.F, null) : m(O.h ? O.h(fn, b) : O.call(null, fn, b)) ? 
  new OC(this.O, this.type, this.T, this.N, c, this.J, this.F, null) : new OC(this.O, this.type, this.T, this.N, this.M, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 5, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [$n, this.type], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.U = function(a, b) {
  return new OC(this.O, this.type, this.T, this.N, this.M, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function PC(a, b, c, d) {
  return new OC(lv, a, b, c, d, null, null, null);
}
function QC(a, b, c, d, e, f, g) {
  this.O = a;
  this.T = b;
  this.N = c;
  this.M = d;
  this.J = e;
  this.F = f;
  this.H = g;
  this.o = 2229667594;
  this.L = 8192;
}
h = QC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "type-tag":
      return this.O;
    case "logical-block":
      return this.T;
    case "start-pos":
      return this.N;
    case "end-pos":
      return this.M;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.start-block-t{", ", ", "}", c, $e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 4, new R(null, 4, 5, S, [Nu, ru, nv, fn], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 4 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 4, [fn, null, ru, null, Nu, null, nv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new QC(this.O, this.T, this.N, this.M, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Nu, b) : O.call(null, Nu, b)) ? new QC(c, this.T, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(ru, b) : O.call(null, ru, b)) ? new QC(this.O, c, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(nv, b) : O.call(null, nv, b)) ? new QC(this.O, this.T, c, this.M, this.J, this.F, null) : m(O.h ? O.h(fn, b) : O.call(null, fn, b)) ? new QC(this.O, this.T, this.N, c, this.J, this.F, null) : new QC(this.O, this.T, this.N, this.M, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.U = function(a, b) {
  return new QC(this.O, this.T, this.N, this.M, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function RC(a, b, c, d, e, f, g) {
  this.O = a;
  this.T = b;
  this.N = c;
  this.M = d;
  this.J = e;
  this.F = f;
  this.H = g;
  this.o = 2229667594;
  this.L = 8192;
}
h = RC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "type-tag":
      return this.O;
    case "logical-block":
      return this.T;
    case "start-pos":
      return this.N;
    case "end-pos":
      return this.M;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.end-block-t{", ", ", "}", c, $e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 4, new R(null, 4, 5, S, [Nu, ru, nv, fn], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 4 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 4, [fn, null, ru, null, Nu, null, nv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new RC(this.O, this.T, this.N, this.M, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Nu, b) : O.call(null, Nu, b)) ? new RC(c, this.T, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(ru, b) : O.call(null, ru, b)) ? new RC(this.O, c, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(nv, b) : O.call(null, nv, b)) ? new RC(this.O, this.T, c, this.M, this.J, this.F, null) : m(O.h ? O.h(fn, b) : O.call(null, fn, b)) ? new RC(this.O, this.T, this.N, c, this.J, this.F, null) : new RC(this.O, this.T, this.N, this.M, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.U = function(a, b) {
  return new RC(this.O, this.T, this.N, this.M, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function SC(a, b, c, d, e, f, g, k, n) {
  this.O = a;
  this.T = b;
  this.fb = c;
  this.offset = d;
  this.N = e;
  this.M = f;
  this.J = g;
  this.F = k;
  this.H = n;
  this.o = 2229667594;
  this.L = 8192;
}
h = SC.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "type-tag":
      return this.O;
    case "logical-block":
      return this.T;
    case "relative-to":
      return this.fb;
    case "offset":
      return this.offset;
    case "start-pos":
      return this.N;
    case "end-pos":
      return this.M;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.indent-t{", ", ", "}", c, $e.h(new R(null, 6, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [zo, this.fb], null), new R(null, 2, 5, S, [sl, this.offset], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 6, new R(null, 6, 5, S, [Nu, ru, zo, sl, nv, fn], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 6 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 6, [sl, null, fn, null, zo, null, ru, null, Nu, null, nv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new SC(this.O, this.T, this.fb, this.offset, this.N, this.M, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(Nu, b) : O.call(null, Nu, b)) ? new SC(c, this.T, this.fb, this.offset, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(ru, b) : O.call(null, ru, b)) ? new SC(this.O, c, this.fb, this.offset, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(zo, b) : O.call(null, zo, b)) ? new SC(this.O, this.T, c, this.offset, this.N, this.M, this.J, this.F, null) : m(O.h ? O.h(sl, b) : O.call(null, sl, b)) ? new SC(this.O, this.T, this.fb, c, this.N, this.M, this.J, this.F, null) : m(O.h ? 
  O.h(nv, b) : O.call(null, nv, b)) ? new SC(this.O, this.T, this.fb, this.offset, c, this.M, this.J, this.F, null) : m(O.h ? O.h(fn, b) : O.call(null, fn, b)) ? new SC(this.O, this.T, this.fb, this.offset, this.N, c, this.J, this.F, null) : new SC(this.O, this.T, this.fb, this.offset, this.N, this.M, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 6, 5, S, [new R(null, 2, 5, S, [Nu, this.O], null), new R(null, 2, 5, S, [ru, this.T], null), new R(null, 2, 5, S, [zo, this.fb], null), new R(null, 2, 5, S, [sl, this.offset], null), new R(null, 2, 5, S, [nv, this.N], null), new R(null, 2, 5, S, [fn, this.M], null)], null), this.F));
};
h.U = function(a, b) {
  return new SC(this.O, this.T, this.fb, this.offset, this.N, this.M, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
if ("undefined" === typeof TC) {
  var TC = function() {
    var a = xf ? xf(T) : wf.call(null, T), b = xf ? xf(T) : wf.call(null, T), c = xf ? xf(T) : wf.call(null, T), d = xf ? xf(T) : wf.call(null, T), e = t.l(T, Rt, ti());
    return new Gi($c.h("cljs.pprint", "write-token"), function() {
      return function(a, b) {
        return Nu.c(b);
      };
    }(a, b, c, d, e), Ul, e, a, b, c, d);
  }()
}
TC.Za(0, sv, function(a, b) {
  var c = Gt.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());
  m(c) && (c.c ? c.c(tn) : c.call(null, tn));
  var c = ru.c(b), d = sp.c(c);
  m(d) && q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), d);
  var d = FC(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), Jl), e = $o.c(c);
  U.h ? U.h(e, d) : U.call(null, e, d);
  c = ak.c(c);
  return U.h ? U.h(c, d) : U.call(null, c, d);
});
TC.Za(0, yv, function(a, b) {
  var c = Gt.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());
  m(c) && (c.c ? c.c(Dt) : c.call(null, Dt));
  c = sj.c(ru.c(b));
  return m(c) ? q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), c) : null;
});
TC.Za(0, et, function(a, b) {
  var c = ru.c(b), d = ak.c(c), e = sl.c(b) + function() {
    var d = zo.c(b);
    if (m(x.h ? x.h(Lj, d) : x.call(null, Lj, d))) {
      return d = $o.c(c), H.c ? H.c(d) : H.call(null, d);
    }
    if (m(x.h ? x.h(wr, d) : x.call(null, wr, d))) {
      return FC(It.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }()), Jl);
    }
    throw Error([p("No matching clause: "), p(d)].join(""));
  }();
  return U.h ? U.h(d, e) : U.call(null, d, e);
});
TC.Za(0, zq, function(a, b) {
  return q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), Qv.c(b));
});
TC.Za(0, lv, function(a, b) {
  if (m(function() {
    var a = x.h($n.c(b), Oi);
    return a ? a : (a = !x.h($n.c(b), Dm)) ? (a = io.c(ru.c(b)), H.c ? H.c(a) : H.call(null, a)) : a;
  }())) {
    UC.h ? UC.h(a, b) : UC.call(null, a, b);
  } else {
    var c = dr.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }());
    m(c) && q(It.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), c);
  }
  return Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, null);
});
function VC(a, b, c) {
  b = z(b);
  for (var d = null, e = 0, f = 0;;) {
    if (f < e) {
      var g = d.X(null, f);
      if (!x.h(Nu.c(g), lv)) {
        var k = dr.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }());
        m(k) && q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), k);
      }
      TC.h ? TC.h(a, g) : TC.call(null, a, g);
      Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, dr.c(g));
      g = dr.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }());
      m(m(c) ? g : c) && (q(It.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }()), g), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, null));
      f += 1;
    } else {
      if (b = z(b)) {
        $d(b) ? (d = Ec(b), b = Fc(b), g = d, e = I(d), d = g) : (g = D(b), x.h(Nu.c(g), lv) || (d = dr.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), m(d) && q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), d)), TC.h ? TC.h(a, g) : TC.call(null, a, g), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, dr.c(g)), g = dr.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), m(m(c) ? g : c) && (q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), g), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, null)), b = E(b), d = null, e = 0), f = 0;
      } else {
        break;
      }
    }
  }
}
function WC(a, b) {
  var c = FC(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), cr);
  return null == c || FC(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), Jl) + LC(b) < c;
}
function XC(a, b, c) {
  b = io.c(b);
  b = H.c ? H.c(b) : H.call(null, b);
  return m(b) ? b : eb(WC(a, c));
}
function YC(a, b, c) {
  var d = ZC.c ? ZC.c(a) : ZC.call(null, a), e = FC(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), cr);
  return m(d) ? m(e) ? (d = function() {
    var a = $o.c(b);
    return H.c ? H.c(a) : H.call(null, a);
  }() >= e - d) ? XC(a, b, c) : d : e : d;
}
if ("undefined" === typeof $C) {
  var $C = function() {
    var a = xf ? xf(T) : wf.call(null, T), b = xf ? xf(T) : wf.call(null, T), c = xf ? xf(T) : wf.call(null, T), d = xf ? xf(T) : wf.call(null, T), e = t.l(T, Rt, ti());
    return new Gi($c.h("cljs.pprint", "emit-nl?"), function() {
      return function(a) {
        return $n.c(a);
      };
    }(a, b, c, d, e), Ul, e, a, b, c, d);
  }()
}
$C.Za(0, lt, function(a, b, c) {
  a = ru.c(a);
  return XC(b, a, c);
});
$C.Za(0, cl, function(a, b, c) {
  a = ru.c(a);
  return YC(b, a, c);
});
$C.Za(0, Dm, function(a, b, c, d) {
  a = ru.c(a);
  var e;
  e = Yt.c(a);
  e = H.c ? H.c(e) : H.call(null, e);
  return m(e) ? e : (d = eb(WC(b, d))) ? d : YC(b, a, c);
});
$C.Za(0, Oi, function() {
  return !0;
});
function aD(a) {
  var b = D(a), c = ru.c(b), b = z(Lh(function(a, b) {
    return function(a) {
      var c = x.h(Nu.c(a), lv);
      a = m(c) ? KC(ru.c(a), b) : c;
      return eb(a);
    };
  }(b, c), E(a)));
  return new R(null, 2, 5, S, [b, z(Ef(I(b) + 1, a))], null);
}
function bD(a) {
  var b = D(a), c = ru.c(b);
  return z(Lh(function(a, b) {
    return function(a) {
      var c = ru.c(a);
      a = x.h(Nu.c(a), lv);
      c = m(a) ? (a = x.h(c, b)) ? a : KC(c, b) : a;
      return eb(c);
    };
  }(b, c), E(a)));
}
function cD(a) {
  var b = Yt.c(a);
  U.h ? U.h(b, !0) : U.call(null, b, !0);
  b = io.c(a);
  U.h ? U.h(b, !0) : U.call(null, b, !0);
  for (a = Vk.c(a);;) {
    if (m(a)) {
      b = io.c(a), U.h ? U.h(b, !0) : U.call(null, b, !0), b = Yt.c(a), U.h ? U.h(b, !0) : U.call(null, b, !0), a = Vk.c(a);
    } else {
      return null;
    }
  }
}
function UC(a, b) {
  q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), "\n");
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, null);
  var c = ru.c(b), d = Dr.c(c);
  m(d) && q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), d);
  d = cf(p, If(function() {
    var a = ak.c(c);
    return H.c ? H.c(a) : H.call(null, a);
  }() - I(d), " "));
  q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), d);
  return cD(c);
}
function dD(a) {
  var b = z(Lh(function(a) {
    return eb(x.h(Nu.c(a), lv));
  }, a));
  return new R(null, 2, 5, S, [b, z(Ef(I(b), a))], null);
}
var eD = function eD(b, c) {
  var d = dD(c), e = M(d, 0, null), f = M(d, 1, null);
  m(e) && VC(b, e, !1);
  if (m(f)) {
    var d = aD(f), g = M(d, 0, null), k = M(d, 1, null), n = D(f), d = function() {
      var c = bD(f);
      return $C.I ? $C.I(n, b, g, c) : $C.call(null, n, b, g, c);
    }();
    m(d) ? (UC(b, n), d = E(f)) : d = f;
    return eb(WC(b, d)) ? function() {
      var c = eD(b, g);
      return x.h(c, g) ? (VC(b, g, !1), k) : Qf.h(Jd, $e.h(c, k));
    }() : d;
  }
  return null;
};
function fD(a) {
  for (var b = mv.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());;) {
    if (Af.I(H.c ? H.c(a) : H.call(null, a), Ld, mv, Qf.h(Jd, b)), eb(WC(a, b))) {
      var c = eD(a, b);
      if (b !== c) {
        b = c;
      } else {
        return null;
      }
    } else {
      return null;
    }
  }
}
function gD(a, b) {
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, mv, Id.h(mv.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), b));
  return eb(WC(a, mv.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()))) ? fD(a) : null;
}
function hD(a) {
  fD(a);
  var b = mv.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());
  m(b) && (VC(a, b, !0), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, mv, Jd));
}
function iD(a) {
  var b = dr.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());
  return m(b) ? (q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), b), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, dr, null)) : null;
}
function jD(a, b) {
  var c = gw(b, "\n", -1);
  if (x.h(I(c), 1)) {
    return b;
  }
  var d = Dr.c(D(Wi.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()))), e = D(c);
  if (x.h(Fq, pn.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()))) {
    var f = Ln.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), g = f + I(e);
    Af.I(H.c ? H.c(a) : H.call(null, a), Ld, Ln, g);
    gD(a, NC(e, null, f, g));
    hD(a);
  } else {
    iD(a), q(It.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), e);
  }
  q(It.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), "\n");
  for (var e = z(E(Jh(c))), f = null, k = g = 0;;) {
    if (k < g) {
      var n = f.X(null, k);
      q(It.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }()), n);
      q(It.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }()), "\n");
      m(d) && q(It.c(function() {
        var b = H.c ? H.c(a) : H.call(null, a);
        return H.c ? H.c(b) : H.call(null, b);
      }()), d);
      k += 1;
    } else {
      if (e = z(e)) {
        f = e, $d(f) ? (e = Ec(f), k = Fc(f), f = e, g = I(e), e = k) : (e = D(f), q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), e), q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), "\n"), m(d) && q(It.c(function() {
          var b = H.c ? H.c(a) : H.call(null, a);
          return H.c ? H.c(b) : H.call(null, b);
        }()), d), e = E(f), f = null, g = 0), k = 0;
      } else {
        break;
      }
    }
  }
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, Fq, Wn);
  return Hd(c);
}
function kD(a, b) {
  if (x.h(pn.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), Wn)) {
    return iD(a), q(It.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), b);
  }
  if (x.h(b, "\n")) {
    return jD(a, "\n");
  }
  var c = Ln.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), d = c + 1;
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, Ln, d);
  return gD(a, NC(ue(b), null, c, d));
}
var lD = function lD(b, c, d) {
  var e = new JC(null, null, xf ? xf(0) : wf.call(null, 0), xf ? xf(0) : wf.call(null, 0), xf ? xf(!1) : wf.call(null, !1), xf ? xf(!1) : wf.call(null, !1), null, null, null, null, null, null, null), f = function() {
    var f = Md([Wi, mk, Fk, Tk, Yk, pn, Ln, dr, It, Xt, mv], [e, d, e, !0, null, Wn, 0, null, IC(b, c), 1, Jd]);
    return xf ? xf(f) : wf.call(null, f);
  }();
  "undefined" === typeof rC && (rC = function(b, c, d, e, f, w, y) {
    this.fe = b;
    this.ga = c;
    this.Pc = d;
    this.be = e;
    this.Ud = f;
    this.Fb = w;
    this.Wd = y;
    this.o = 1074167808;
    this.L = 0;
  }, rC.prototype.U = function() {
    return function(b, c) {
      return new rC(this.fe, this.ga, this.Pc, this.be, this.Ud, this.Fb, c);
    };
  }(e, f), rC.prototype.S = function() {
    return function() {
      return this.Wd;
    };
  }(e, f), rC.prototype.tb = function() {
    return function() {
      return this.Fb;
    };
  }(e, f), rC.prototype.ub = function() {
    return function(b, c) {
      var d = this, e = gb(c);
      if (m(x.h ? x.h(String, e) : x.call(null, String, e))) {
        var f = jD(d, c), e = f.replace(/\s+$/, ""), w = Ce(f, I(e)), y = pn.c(function() {
          var b = H.c ? H.c(d) : H.call(null, d);
          return H.c ? H.c(b) : H.call(null, b);
        }());
        if (x.h(y, Wn)) {
          return iD(d), q(It.c(function() {
            var b = H.c ? H.c(d) : H.call(null, d);
            return H.c ? H.c(b) : H.call(null, b);
          }()), e), Af.I(H.c ? H.c(d) : H.call(null, d), Ld, dr, w);
        }
        y = Ln.c(function() {
          var b = H.c ? H.c(d) : H.call(null, d);
          return H.c ? H.c(b) : H.call(null, b);
        }());
        f = y + I(f);
        Af.I(H.c ? H.c(d) : H.call(null, d), Ld, Ln, f);
        return gD(d, NC(e, w, y, f));
      }
      if (m(x.h ? x.h(Number, e) : x.call(null, Number, e))) {
        return kD(d, c);
      }
      throw Error([p("No matching clause: "), p(e)].join(""));
    };
  }(e, f), rC.prototype.ib = function() {
    return function() {
      var b = this;
      EC(b);
      return oc(It.c(function() {
        var c = H.c ? H.c(b) : H.call(null, b);
        return H.c ? H.c(c) : H.call(null, c);
      }()));
    };
  }(e, f), rC.prototype.cd = function() {
    return function() {
      var b = this;
      return x.h(pn.c(function() {
        var c = H.c ? H.c(b) : H.call(null, b);
        return H.c ? H.c(c) : H.call(null, c);
      }()), Fq) ? (VC(b, mv.c(function() {
        var c = H.c ? H.c(b) : H.call(null, b);
        return H.c ? H.c(c) : H.call(null, c);
      }()), !0), Af.I(H.c ? H.c(b) : H.call(null, b), Ld, mv, Jd)) : iD(b);
    };
  }(e, f), rC.Sb = function() {
    return function() {
      return new R(null, 7, 5, S, [Cd(ao, new l(null, 2, [Zk, !0, nf, Ke(of, Ke(new R(null, 3, 5, S, [ku, Hk, Wm], null)))], null)), ku, Hk, Wm, Ct, Tp, to], null);
    };
  }(e, f), rC.vb = !0, rC.jb = "cljs.pprint/t_cljs$pprint15552", rC.Db = function() {
    return function(b, c) {
      return q(c, "cljs.pprint/t_cljs$pprint15552");
    };
  }(e, f));
  return new rC(lD, b, c, d, e, f, T);
};
function mD(a, b) {
  var c = Na, d = new JC(Wi.c(function() {
    var a = H.c ? H.c(c) : H.call(null, c);
    return H.c ? H.c(a) : H.call(null, a);
  }()), null, xf ? xf(0) : wf.call(null, 0), xf ? xf(0) : wf.call(null, 0), xf ? xf(!1) : wf.call(null, !1), xf ? xf(!1) : wf.call(null, !1), a, null, b, null, null, null, null);
  Af.I(H.c ? H.c(c) : H.call(null, c), Ld, Wi, d);
  if (x.h(pn.c(function() {
    var a = H.c ? H.c(c) : H.call(null, c);
    return H.c ? H.c(a) : H.call(null, a);
  }()), Wn)) {
    iD(c);
    var e = Gt.c(function() {
      var a = H.c ? H.c(c) : H.call(null, c);
      return H.c ? H.c(a) : H.call(null, a);
    }());
    m(e) && (e.c ? e.c(tn) : e.call(null, tn));
    m(a) && q(It.c(function() {
      var a = H.c ? H.c(c) : H.call(null, c);
      return H.c ? H.c(a) : H.call(null, a);
    }()), a);
    var e = FC(It.c(function() {
      var a = H.c ? H.c(c) : H.call(null, c);
      return H.c ? H.c(a) : H.call(null, a);
    }()), Jl), f = $o.c(d);
    U.h ? U.h(f, e) : U.call(null, f, e);
    d = ak.c(d);
    U.h ? U.h(d, e) : U.call(null, d, e);
  } else {
    e = Ln.c(function() {
      var a = H.c ? H.c(c) : H.call(null, c);
      return H.c ? H.c(a) : H.call(null, a);
    }()), f = e + (m(a) ? I(a) : 0), Af.I(H.c ? H.c(c) : H.call(null, c), Ld, Ln, f), gD(c, new QC(sv, d, e, f, null, null, null));
  }
}
function nD() {
  var a = Na, b = Wi.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), c = sj.c(b);
  if (x.h(pn.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()), Wn)) {
    iD(a);
    m(c) && q(It.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), c);
    var d = Gt.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }());
    m(d) && (d.c ? d.c(Dt) : d.call(null, Dt));
  } else {
    d = Ln.c(function() {
      var b = H.c ? H.c(a) : H.call(null, a);
      return H.c ? H.c(b) : H.call(null, b);
    }()), c = d + (m(c) ? I(c) : 0), Af.I(H.c ? H.c(a) : H.call(null, a), Ld, Ln, c), gD(a, new RC(yv, b, d, c, null, null, null));
  }
  Af.I(H.c ? H.c(a) : H.call(null, a), Ld, Wi, Vk.c(b));
}
function oD(a) {
  var b = Na;
  Af.I(H.c ? H.c(b) : H.call(null, b), Ld, pn, Fq);
  var c = Ln.c(function() {
    var a = H.c ? H.c(b) : H.call(null, b);
    return H.c ? H.c(a) : H.call(null, a);
  }());
  gD(b, PC(a, Wi.c(function() {
    var a = H.c ? H.c(b) : H.call(null, b);
    return H.c ? H.c(a) : H.call(null, a);
  }()), c, c));
}
function pD(a, b) {
  var c = Na, d = Wi.c(function() {
    var a = H.c ? H.c(c) : H.call(null, c);
    return H.c ? H.c(a) : H.call(null, a);
  }());
  if (x.h(pn.c(function() {
    var a = H.c ? H.c(c) : H.call(null, c);
    return H.c ? H.c(a) : H.call(null, a);
  }()), Wn)) {
    iD(c);
    var e = ak.c(d), f = b + function() {
      if (m(x.h ? x.h(Lj, a) : x.call(null, Lj, a))) {
        var b = $o.c(d);
        return H.c ? H.c(b) : H.call(null, b);
      }
      if (m(x.h ? x.h(wr, a) : x.call(null, wr, a))) {
        return FC(It.c(function() {
          var a = H.c ? H.c(c) : H.call(null, c);
          return H.c ? H.c(a) : H.call(null, a);
        }()), Jl);
      }
      throw Error([p("No matching clause: "), p(a)].join(""));
    }();
    U.h ? U.h(e, f) : U.call(null, e, f);
  } else {
    e = Ln.c(function() {
      var a = H.c ? H.c(c) : H.call(null, c);
      return H.c ? H.c(a) : H.call(null, a);
    }()), gD(c, new SC(et, d, a, b, e, e, null, null, null));
  }
}
function ZC(a) {
  return mk.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }());
}
var qD = !0;
if ("undefined" === typeof rD) {
  var rD = null
}
var sD = 72, tD = 40, uD = null, vD = null, wD = null, xD = null, yD = 10, zD = 0, AD = null;
Md([mk, nl, gn, vn, ko, dp, Gp, Ya, Sp, $r, zt, It], [new ad(function() {
  return tD;
}, Sm, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, Tq, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 21, 1, !0, 632, 637, dd, "The column at which to enter miser style. Depending on the dispatch table,\nmiser style add newlines in more places to try to keep lines short allowing for further\nlevels of nesting.", m(tD) ? tD.$a : null])), new ad(function() {
  return sD;
}, aq, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, pt, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 22, 1, !0, 625, 630, dd, "Pretty printing will try to avoid anything going beyond this column.\nSet it to nil to have pprint let the line be arbitrarily long. This will ignore all\nnon-mandatory newlines.", m(sD) ? sD.$a : null])), new ad(function() {
  return vD;
}, kt, Md([Zk, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], [!0, hq, Aj, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 15, 1, !0, 646, 649, dd, "Mark circular structures (N.B. This is not yet used)", m(vD) ? vD.$a : null])), new ad(function() {
  return uD;
}, Gu, Md([Zk, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], [!0, hq, Cq, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 14, 1, !0, 640, 643, dd, "Maximum number of lines to print in a pretty print instance (N.B. This is not yet used)", m(uD) ? uD.$a : null])), new ad(function() {
  return wD;
}, Xn, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, ik, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 28, 1, !0, 657, 661, dd, "Don't print namespaces with symbols. This is particularly useful when\npretty printing the results of macro expansions", m(wD) ? wD.$a : null])), new ad(function() {
  return xD;
}, om, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, Ip, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 14, 1, !0, 665, 670, dd, "Print a radix specifier in front of integers and rationals. If *print-base* is 2, 8,\nor 16, then the radix specifier used is #b, #o, or #x, respectively. Otherwise the\nradix specifier is in the form #XXr where XX is the decimal value of *print-base* ", m(xD) ? xD.$a : null])), new ad(function() {
  return Ta;
}, zj, Md([dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, Fu, av], [Um, wl, "cljs/core.cljs", 16, 1, !0, 117, 128, dd, "*print-level* controls how many levels deep the printer will\n  print nested objects. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  level to print. Each argument to print is at level 0; if an argument is a\n  collection, its items are at level 1; and so on. If an object is a\n  collection and is at a level greater than or equal to the value bound to\n  *print-level*, the printer prints '#' to represent it. The root binding\n  is nil indicating no limit.", 
new R(null, 1, 5, S, ["@type {null|number}"], null), m(Ta) ? Ta.$a : null])), new ad(function() {
  return Ra;
}, Vr, Md([dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], [Um, Mt, "cljs/core.cljs", 19, 1, !0, 81, 87, dd, "When set to logical false, strings and characters will be printed with\n  non-alphanumeric characters converted to the appropriate escape sequences.\n\n  Defaults to true", m(Ra) ? Ra.$a : null])), new ad(function() {
  return rD;
}, ek, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, Ek, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 25, 1, !0, 619, 623, dd, "The pretty print dispatch function. Use with-pprint-dispatch or\nset-pprint-dispatch to modify.", m(rD) ? rD.$a : null])), new ad(function() {
  return Sa;
}, eq, Md([dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, Fu, av], [Um, Pm, "cljs/core.cljs", 17, 1, !0, 105, 115, dd, "*print-length* controls how many items of each collection the\n  printer will print. If it is bound to logical false, there is no\n  limit. Otherwise, it must be bound to an integer indicating the maximum\n  number of items of each collection to print. If a collection contains\n  more items, the printer will print items up to the limit followed by\n  '...' to represent the remaining items. The root binding is nil\n  indicating no limit.", 
new R(null, 1, 5, S, ["@type {null|number}"], null), m(Sa) ? Sa.$a : null])), new ad(function() {
  return qD;
}, ck, Md([dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], [hq, Dk, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 16, 1, !0, 615, 617, dd, "Bind to true if you want write to use pretty printing", m(qD) ? qD.$a : null])), new ad(function() {
  return yD;
}, pl, Md([Wl, dm, mm, Zm, kn, tp, Eq, Gq, ls, nf, mu, av], ["1.2", hq, Iv, "/Users/trival/projects/web/trivialspace/flow-editor/target/cljsbuild-compiler-2/cljs/pprint.cljs", 13, 1, !0, 672, 675, dd, "The base to use for printing integers and rationals.", m(yD) ? yD.$a : null]))]);
function BD(a) {
  var b = null != a ? a.o & 32768 || a.Ec ? !0 : a.o ? !1 : fb(Xb, a) : fb(Xb, a);
  return b ? Tk.c(function() {
    var b = H.c ? H.c(a) : H.call(null, a);
    return H.c ? H.c(b) : H.call(null, b);
  }()) : b;
}
function CD(a) {
  var b;
  b = AD;
  m(b) && (b = Sa, b = m(b) ? AD >= Sa : b);
  eb(qD) ? xC.c ? xC.c(a) : xC.call(null, a) : m(b) ? q(Na, "...") : (m(AD) && (AD += 1), rD.c ? rD.c(a) : rD.call(null, a));
  return b;
}
var DD = function DD(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  return DD.j(arguments[0], 1 < c.length ? new B(c.slice(1), 0, null) : null);
};
DD.j = function(a, b) {
  var c = wh.j(L([new l(null, 1, [Ep, !0], null), cf(yf, b)], 0)), d = yD, e = vD, f = Sa, g = Ta, k = uD, n = tD, u = rD, v = qD, w = xD, y = Ra, A = sD, C = wD;
  yD = It.h(c, yD);
  vD = gn.h(c, vD);
  Sa = $r.h(c, Sa);
  Ta = Gp.h(c, Ta);
  uD = vn.h(c, uD);
  tD = mk.h(c, tD);
  rD = Sp.h(c, rD);
  qD = zt.h(c, qD);
  xD = dp.h(c, xD);
  Ra = Ya.h(c, Ra);
  sD = nl.h(c, sD);
  wD = ko.h(c, wD);
  try {
    var F = new Fa, G = ie(c, Ep) ? Ep.c(c) : !0, J = !0 === G || null == G ? new Mc(F) : G;
    if (m(qD)) {
      var P = eb(BD(J)), c = Na;
      Na = P ? lD(J, sD, tD) : J;
      try {
        CD(a), EC(Na);
      } finally {
        Na = c;
      }
    } else {
      P = Na;
      Na = J;
      try {
        xC.c ? xC.c(a) : xC.call(null, a);
      } finally {
        Na = P;
      }
    }
    !0 === G && (Oa.c ? Oa.c("" + p(F)) : Oa.call(null, "" + p(F)));
    return null == G ? "" + p(F) : null;
  } finally {
    wD = C, sD = A, Ra = y, xD = w, qD = v, rD = u, tD = n, uD = k, Ta = g, Sa = f, vD = e, yD = d;
  }
};
DD.D = 1;
DD.C = function(a) {
  var b = D(a);
  a = E(a);
  return DD.j(b, a);
};
function ED(a, b) {
  if (eb(b.c ? b.c(a) : b.call(null, a))) {
    throw Error([p("Bad argument: "), p(a), p(". It must be one of "), p(b)].join(""));
  }
}
function FD() {
  var a = Ta;
  return m(a) ? zD >= Ta : a;
}
function GD(a) {
  ED(a, new Eh(null, new l(null, 4, [Oi, null, cl, null, Dm, null, lt, null], null), null));
  oD(a);
}
function HD(a, b) {
  ED(a, new Eh(null, new l(null, 2, [Lj, null, wr, null], null), null));
  pD(a, b);
}
function ID(a, b, c) {
  b = "string" === typeof b ? JD.c ? JD.c(b) : JD.call(null, b) : b;
  c = KD.c ? KD.c(c) : KD.call(null, c);
  return LD ? LD(a, b, c) : MD.call(null, a, b, c);
}
var ND = null;
function OD(a, b) {
  var c = [p(a), p("\n"), p(ND), p("\n"), p(cf(p, If(b, " "))), p("^"), p("\n")].join("");
  throw Error(c);
}
function PD(a, b, c, d, e, f) {
  this.Ab = a;
  this.Ja = b;
  this.zb = c;
  this.J = d;
  this.F = e;
  this.H = f;
  this.o = 2229667594;
  this.L = 8192;
}
h = PD.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "seq":
      return this.Ab;
    case "rest":
      return this.Ja;
    case "pos":
      return this.zb;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.arg-navigator{", ", ", "}", c, $e.h(new R(null, 3, 5, S, [new R(null, 2, 5, S, [mt, this.Ab], null), new R(null, 2, 5, S, [bv, this.Ja], null), new R(null, 2, 5, S, [Ln, this.zb], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 3, new R(null, 3, 5, S, [mt, bv, Ln], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 3 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 3, [Ln, null, mt, null, bv, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new PD(this.Ab, this.Ja, this.zb, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h(mt, b) : O.call(null, mt, b)) ? new PD(c, this.Ja, this.zb, this.J, this.F, null) : m(O.h ? O.h(bv, b) : O.call(null, bv, b)) ? new PD(this.Ab, c, this.zb, this.J, this.F, null) : m(O.h ? O.h(Ln, b) : O.call(null, Ln, b)) ? new PD(this.Ab, this.Ja, c, this.J, this.F, null) : new PD(this.Ab, this.Ja, this.zb, this.J, Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 3, 5, S, [new R(null, 2, 5, S, [mt, this.Ab], null), new R(null, 2, 5, S, [bv, this.Ja], null), new R(null, 2, 5, S, [Ln, this.zb], null)], null), this.F));
};
h.U = function(a, b) {
  return new PD(this.Ab, this.Ja, this.zb, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function KD(a) {
  a = z(a);
  return new PD(a, a, 0, null, null, null);
}
function QD(a) {
  var b = bv.c(a);
  if (m(b)) {
    return new R(null, 2, 5, S, [D(b), new PD(mt.c(a), E(b), Ln.c(a) + 1, null, null, null)], null);
  }
  throw Error("Not enough arguments for format definition");
}
function RD(a) {
  var b = QD(a);
  a = M(b, 0, null);
  b = M(b, 1, null);
  a = "string" === typeof a ? JD.c ? JD.c(a) : JD.call(null, a) : a;
  return new R(null, 2, 5, S, [a, b], null);
}
function SD(a, b) {
  if (b >= Ln.c(a)) {
    var c = Ln.c(a) - b;
    return TD.h ? TD.h(a, c) : TD.call(null, a, c);
  }
  return new PD(mt.c(a), Ef(b, mt.c(a)), b, null, null, null);
}
function TD(a, b) {
  var c = Ln.c(a) + b;
  return 0 > b ? SD(a, c) : new PD(mt.c(a), Ef(b, bv.c(a)), c, null, null, null);
}
function UD(a, b, c, d, e, f, g) {
  this.func = a;
  this.pb = b;
  this.rb = c;
  this.offset = d;
  this.J = e;
  this.F = f;
  this.H = g;
  this.o = 2229667594;
  this.L = 8192;
}
h = UD.prototype;
h.ba = function(a, b) {
  return Gb.l(this, b, null);
};
h.$ = function(a, b, c) {
  switch(b instanceof N ? b.V : null) {
    case "func":
      return this.func;
    case "def":
      return this.pb;
    case "params":
      return this.rb;
    case "offset":
      return this.offset;
    default:
      return t.l(this.F, b, c);
  }
};
h.Z = function(a, b, c) {
  return Th(b, function() {
    return function(a) {
      return Th(b, $h, "", " ", "", c, a);
    };
  }(this), "#cljs.pprint.compiled-directive{", ", ", "}", c, $e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [$l, this.func], null), new R(null, 2, 5, S, [Ss, this.pb], null), new R(null, 2, 5, S, [zn, this.rb], null), new R(null, 2, 5, S, [sl, this.offset], null)], null), this.F));
};
h.Aa = function() {
  return new Fg(0, this, 4, new R(null, 4, 5, S, [$l, Ss, zn, sl], null), Lc(this.F));
};
h.S = function() {
  return this.J;
};
h.ea = function() {
  return 4 + I(this.F);
};
h.W = function() {
  var a = this.H;
  return null != a ? a : this.H = a = De(this);
};
h.K = function(a, b) {
  var c;
  c = m(b) ? (c = this.constructor === b.constructor) ? Eg(this, b) : c : b;
  return m(c) ? !0 : !1;
};
h.Ya = function(a, b) {
  return ie(new Eh(null, new l(null, 4, [sl, null, $l, null, zn, null, Ss, null], null), null), b) ? Nd.h(Cd(Qf.h(T, this), this.J), b) : new UD(this.func, this.pb, this.rb, this.offset, this.J, kf(Nd.h(this.F, b)), null);
};
h.Wa = function(a, b, c) {
  return m(O.h ? O.h($l, b) : O.call(null, $l, b)) ? new UD(c, this.pb, this.rb, this.offset, this.J, this.F, null) : m(O.h ? O.h(Ss, b) : O.call(null, Ss, b)) ? new UD(this.func, c, this.rb, this.offset, this.J, this.F, null) : m(O.h ? O.h(zn, b) : O.call(null, zn, b)) ? new UD(this.func, this.pb, c, this.offset, this.J, this.F, null) : m(O.h ? O.h(sl, b) : O.call(null, sl, b)) ? new UD(this.func, this.pb, this.rb, c, this.J, this.F, null) : new UD(this.func, this.pb, this.rb, this.offset, this.J, 
  Ld.l(this.F, b, c), null);
};
h.ca = function() {
  return z($e.h(new R(null, 4, 5, S, [new R(null, 2, 5, S, [$l, this.func], null), new R(null, 2, 5, S, [Ss, this.pb], null), new R(null, 2, 5, S, [zn, this.rb], null), new R(null, 2, 5, S, [sl, this.offset], null)], null), this.F));
};
h.U = function(a, b) {
  return new UD(this.func, this.pb, this.rb, this.offset, b, this.F, this.H);
};
h.aa = function(a, b) {
  return Zd(b) ? Jb(this, Ab.h(b, 0), Ab.h(b, 1)) : qb(yb, this, b);
};
function VD(a, b) {
  var c = M(a, 0, null), d = M(a, 1, null), e = M(d, 0, null), d = M(d, 1, null), f = ie(new Eh(null, new l(null, 2, [up, null, xr, null], null), null), c) ? new R(null, 2, 5, S, [e, b], null) : x.h(e, go) ? QD(b) : x.h(e, zm) ? new R(null, 2, 5, S, [I(bv.c(b)), b], null) : new R(null, 2, 5, S, [e, b], null), e = M(f, 0, null), f = M(f, 1, null);
  return new R(null, 2, 5, S, [new R(null, 2, 5, S, [c, new R(null, 2, 5, S, [e, d], null)], null), f], null);
}
function WD(a, b) {
  var c = AC(VD, b, a), d = M(c, 0, null), c = M(c, 1, null);
  return new R(null, 2, 5, S, [Qf.h(T, d), c], null);
}
var XD = new l(null, 3, [2, "#b", 8, "#o", 16, "#x"], null);
function YD(a) {
  return he(a) ? x.h(yD, 10) ? [p(a), p(m(xD) ? "." : null)].join("") : [p(m(xD) ? function() {
    var a = t.h(XD, yD);
    return m(a) ? a : [p("#"), p(yD), p("r")].join("");
  }() : null), p(ZD.h ? ZD.h(yD, a) : ZD.call(null, yD, a))].join("") : null;
}
function $D(a, b, c) {
  c = QD(c);
  var d = M(c, 0, null);
  c = M(c, 1, null);
  var e = YD(d);
  a = m(e) ? e : a.c ? a.c(d) : a.call(null, d);
  d = a.length;
  e = d + sr.c(b);
  e = e >= nr.c(b) ? e : e + (we(nr.c(b) - e - 1, ts.c(b)) + 1) * ts.c(b);
  d = cf(p, If(e - d, uq.c(b)));
  m(xr.c(b)) ? wC.j(L([[p(d), p(a)].join("")], 0)) : wC.j(L([[p(a), p(d)].join("")], 0));
  return c;
}
function aE(a, b) {
  return Je(D(BC(function(b) {
    return 0 < b ? new R(null, 2, 5, S, [xe(b, a), we(b, a)], null) : new R(null, 2, 5, S, [null, null], null);
  }, b)));
}
function bE(a, b) {
  return 0 === b ? "0" : cf(p, Cf.h(function() {
    return function(a) {
      return 10 > a ? ue(zC("0") + a) : ue(zC("a") + (a - 10));
    };
  }(b), aE(a, b)));
}
function ZD(a, b) {
  return bE(a, b);
}
function cE(a, b) {
  return Je(D(BC(function(b) {
    return new R(null, 2, 5, S, [z(Je(Df(a, b))), z(Ef(a, b))], null);
  }, Je(b))));
}
function dE(a, b, c) {
  var d = QD(c), e = M(d, 0, null), f = M(d, 1, null);
  if (m(he(e) ? !0 : "number" !== typeof e || isNaN(e) || Infinity === e || parseFloat(e) === parseInt(e, 10) ? !1 : x.h(e, Math.floor(e)))) {
    var g = 0 > e, k = g ? -e : e, n = bE(a, k);
    a = m(up.c(b)) ? function() {
      var a = Cf.h(function() {
        return function(a) {
          return cf(p, a);
        };
      }(g, k, n, d, e, f), cE(Qk.c(b), n)), c = If(I(a), Tv.c(b));
      return cf(p, E(Jf.h(c, a)));
    }() : n;
    a = g ? [p("-"), p(a)].join("") : m(xr.c(b)) ? [p("+"), p(a)].join("") : a;
    a = a.length < nr.c(b) ? [p(cf(p, If(nr.c(b) - a.length, uq.c(b)))), p(a)].join("") : a;
    wC.j(L([a], 0));
  } else {
    $D(fi, new l(null, 5, [nr, nr.c(b), ts, 1, sr, 0, uq, uq.c(b), xr, !0], null), KD(new R(null, 1, 5, S, [e], null)));
  }
  return f;
}
var eE = new R(null, 20, 5, S, "zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "), null), fE = new R(null, 20, 5, S, "zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "), null), gE = new R(null, 10, 5, S, "  twenty thirty forty fifty sixty seventy eighty ninety".split(" "), null), hE = 
new R(null, 10, 5, S, "  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "), null), iE = new R(null, 22, 5, S, " thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "), null);
function jE(a) {
  var b = we(a, 100), c = xe(a, 100);
  return [p(0 < b ? [p(ud(eE, b)), p(" hundred")].join("") : null), p(0 < b && 0 < c ? " " : null), p(0 < c ? 20 > c ? ud(eE, c) : function() {
    var a = we(c, 10), b = xe(c, 10);
    return [p(0 < a ? ud(gE, a) : null), p(0 < a && 0 < b ? "-" : null), p(0 < b ? ud(eE, b) : null)].join("");
  }() : null)].join("");
}
function kE(a, b) {
  for (var c = I(a), d = Jd, c = c - 1, e = D(a), f = E(a);;) {
    if (null == f) {
      return [p(cf(p, Kf(", ", d))), p(Td(e) || Td(d) ? null : ", "), p(e), p(!Td(e) && 0 < c + b ? [p(" "), p(ud(iE, c + b))].join("") : null)].join("");
    }
    d = Td(e) ? d : Id.h(d, [p(e), p(" "), p(ud(iE, c + b))].join(""));
    --c;
    e = D(f);
    f = E(f);
  }
}
function lE(a) {
  var b = we(a, 100), c = xe(a, 100);
  return [p(0 < b ? [p(ud(eE, b)), p(" hundred")].join("") : null), p(0 < b && 0 < c ? " " : null), p(0 < c ? 20 > c ? ud(fE, c) : function() {
    var a = we(c, 10), b = xe(c, 10);
    return 0 < a && !(0 < b) ? ud(hE, a) : [p(0 < a ? ud(gE, a) : null), p(0 < a && 0 < b ? "-" : null), p(0 < b ? ud(fE, b) : null)].join("");
  }() : 0 < b ? "th" : null)].join("");
}
var mE = new R(null, 4, 5, S, [new R(null, 9, 5, S, "I II III IIII V VI VII VIII VIIII".split(" "), null), new R(null, 9, 5, S, "X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "), null), new R(null, 9, 5, S, "C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "), null), new R(null, 3, 5, S, ["M", "MM", "MMM"], null)], null), nE = new R(null, 4, 5, S, [new R(null, 9, 5, S, "I II III IV V VI VII VIII IX".split(" "), null), new R(null, 9, 5, S, "X XX XXX XL L LX LXX LXXX XC".split(" "), null), new R(null, 9, 5, 
S, "C CC CCC CD D DC DCC DCCC CM".split(" "), null), new R(null, 3, 5, S, ["M", "MM", "MMM"], null)], null);
function oE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null);
  if ("number" === typeof d && 0 < d && 4E3 > d) {
    for (var e = aE(10, d), d = Jd, f = I(e) - 1;;) {
      if (Td(e)) {
        wC.j(L([cf(p, d)], 0));
        break;
      } else {
        var g = D(e), d = x.h(0, g) ? d : Id.h(d, ud(ud(a, f), g - 1)), f = f - 1, e = E(e)
      }
    }
  } else {
    dE(10, new l(null, 5, [nr, 0, uq, " ", Tv, ",", Qk, 3, up, !0], null), KD(new R(null, 1, 5, S, [d], null)));
  }
  return c;
}
var pE = new l(null, 5, [8, "Backspace", 9, "Tab", 10, "Newline", 13, "Return", 32, "Space"], null);
function qE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = zC(d), d = e & 127, e = e & 128, f = t.h(pE, d);
  0 < e && wC.j(L(["Meta-"], 0));
  wC.j(L([m(f) ? f : 32 > d ? [p("Control-"), p(ue(d + 64))].join("") : x.h(d, 127) ? "Control-?" : ue(d)], 0));
  return c;
}
function rE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = Zo.c(a);
  if (m(x.h ? x.h("o", e) : x.call(null, "o", e))) {
    ID(!0, "\\o~3, '0o", L([zC(d)], 0));
  } else {
    if (m(x.h ? x.h("u", e) : x.call(null, "u", e))) {
      ID(!0, "\\u~4, '0x", L([zC(d)], 0));
    } else {
      if (m(x.h ? x.h(null, e) : x.call(null, null, e))) {
        q(Na, m(x.h ? x.h("\b", d) : x.call(null, "\b", d)) ? "\\backspace" : m(x.h ? x.h("\t", d) : x.call(null, "\t", d)) ? "\\tab" : m(x.h ? x.h("\n", d) : x.call(null, "\n", d)) ? "\\newline" : m(x.h ? x.h("\f", d) : x.call(null, "\f", d)) ? "\\formfeed" : m(x.h ? x.h("\r", d) : x.call(null, "\r", d)) ? "\\return" : m(x.h ? x.h('"', d) : x.call(null, '"', d)) ? '\\"' : m(x.h ? x.h("\\", d) : x.call(null, "\\", d)) ? "\\\\" : [p("\\"), p(d)].join(""));
      } else {
        throw Error([p("No matching clause: "), p(e)].join(""));
      }
    }
  }
  return c;
}
function sE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null);
  wC.j(L([d], 0));
  return c;
}
function tE(a) {
  a = D(a);
  return x.h(Ju, a) || x.h(gp, a);
}
function uE(a, b, c) {
  return Gd(AC(function(a, b) {
    if (m(tE(b))) {
      return new R(null, 2, 5, S, [null, b], null);
    }
    var f = WD(zn.c(a), b), g = M(f, 0, null), f = M(f, 1, null), k = CC(g), g = M(k, 0, null), k = M(k, 1, null), g = Ld.l(g, yt, c);
    return new R(null, 2, 5, S, [null, cf($l.c(a), new R(null, 3, 5, S, [g, f, k], null))], null);
  }, b, a));
}
function vE(a) {
  a = ("" + p(a)).toLowerCase();
  var b = a.indexOf("e"), c = a.indexOf(".");
  a = 0 > b ? 0 > c ? new R(null, 2, 5, S, [a, "" + p(I(a) - 1)], null) : new R(null, 2, 5, S, [[p(a.substring(0, c)), p(a.substring(c + 1))].join(""), "" + p(c - 1)], null) : 0 > c ? new R(null, 2, 5, S, [a.substring(0, b), a.substring(b + 1)], null) : new R(null, 2, 5, S, [[p(a.substring(0, 1)), p(a.substring(2, b))].join(""), a.substring(b + 1)], null);
  b = M(a, 0, null);
  a = M(a, 1, null);
  a: {
    if (c = I(b), 0 < c && x.h(ud(b, I(b) - 1), "0")) {
      for (--c;;) {
        if (0 > c) {
          b = "";
          break a;
        }
        if (x.h(ud(b, c), "0")) {
          --c;
        } else {
          b = b.substring(0, c + 1);
          break a;
        }
      }
    }
  }
  a: {
    var c = b, d = I(c);
    if (0 < d && x.h(ud(c, 0), "0")) {
      for (var e = 0;;) {
        if (x.h(e, d) || !x.h(ud(c, e), "0")) {
          c = c.substring(e);
          break a;
        }
        e += 1;
      }
    }
  }
  b = I(b) - I(c);
  a = 0 < I(a) && x.h(ud(a, 0), "+") ? a.substring(1) : a;
  return Td(c) ? new R(null, 2, 5, S, ["0", 0], null) : new R(null, 2, 5, S, [c, parseInt(a, 10) - b], null);
}
function wE(a, b, c, d) {
  if (m(m(c) ? c : d)) {
    var e = I(a);
    d = m(d) ? 2 > d ? 2 : d : 0;
    m(c) ? c = b + c + 1 : 0 <= b ? (c = b + 1, --d, c = c > d ? c : d) : c = d + b;
    var f = x.h(c, 0) ? new R(null, 4, 5, S, [[p("0"), p(a)].join(""), b + 1, 1, e + 1], null) : new R(null, 4, 5, S, [a, b, c, e], null);
    c = M(f, 0, null);
    e = M(f, 1, null);
    d = M(f, 2, null);
    f = M(f, 3, null);
    if (m(d)) {
      if (0 > d) {
        return new R(null, 3, 5, S, ["0", 0, !1], null);
      }
      if (f > d) {
        b = ud(c, d);
        a = c.substring(0, d);
        if (zC(b) >= zC("5")) {
          a: {
            for (b = I(a) - 1, c = b | 0;;) {
              if (0 > c) {
                b = df(p, "1", If(b + 1, "0"));
                break a;
              }
              if (x.h("9", a.charAt(c))) {
                --c;
              } else {
                b = ff(p, a.substring(0, c), ue(zC(a.charAt(c)) + 1), If(b - c, "0"));
                break a;
              }
            }
          }
          a = I(b) > I(a);
          c = S;
          a && (d = I(b) - 1, b = b.substring(0, d));
          return new R(null, 3, 5, c, [b, e, a], null);
        }
        return new R(null, 3, 5, S, [a, e, !1], null);
      }
    }
  }
  return new R(null, 3, 5, S, [a, b, !1], null);
}
function xE(a, b, c) {
  var d = 0 > b ? new R(null, 2, 5, S, [[p(cf(p, If(-b - 1, "0"))), p(a)].join(""), -1], null) : new R(null, 2, 5, S, [a, b], null);
  a = M(d, 0, null);
  var e = M(d, 1, null), d = I(a);
  c = m(c) ? e + c + 1 : e + 1;
  c = d < c ? [p(a), p(cf(p, If(c - d, "0")))].join("") : a;
  0 > b ? b = [p("."), p(c)].join("") : (b += 1, b = [p(c.substring(0, b)), p("."), p(c.substring(b))].join(""));
  return b;
}
function yE(a, b) {
  return 0 > b ? [p("."), p(a)].join("") : [p(a.substring(0, b)), p("."), p(a.substring(b))].join("");
}
function zE(a, b) {
  var c = rm.c(a), d = Gs.c(a), e = QD(b), f = M(e, 0, null), e = M(e, 1, null), g = 0 > f ? new R(null, 2, 5, S, ["-", -f], null) : new R(null, 2, 5, S, ["+", f], null), k = M(g, 0, null), g = M(g, 1, null), g = vE(g), n = M(g, 0, null), u = M(g, 1, null) + np.c(a), g = function() {
    var b = xr.c(a);
    return m(b) ? b : 0 > f;
  }(), v = eb(d) && I(n) - 1 <= u, w = wE(n, u, d, m(c) ? c - (m(g) ? 1 : 0) : null), n = M(w, 0, null), u = M(w, 1, null), w = M(w, 2, null), n = xE(n, m(w) ? u + 1 : u, d), d = m(m(c) ? m(d) ? 1 <= d && x.h(n.charAt(0), "0") && x.h(n.charAt(1), ".") && I(n) > c - (m(g) ? 1 : 0) : d : c) ? n.substring(1) : n, u = x.h(D(d), ".");
  if (m(c)) {
    var n = I(d), n = m(g) ? n + 1 : n, u = u && !(n >= c), v = v && !(n >= c), y = u || v ? n + 1 : n;
    m(function() {
      var b = y > c;
      return b ? fs.c(a) : b;
    }()) ? wC.j(L([cf(p, If(c, fs.c(a)))], 0)) : wC.j(L([[p(cf(p, If(c - y, uq.c(a)))), p(m(g) ? k : null), p(u ? "0" : null), p(d), p(v ? "0" : null)].join("")], 0));
  } else {
    wC.j(L([[p(m(g) ? k : null), p(u ? "0" : null), p(d), p(v ? "0" : null)].join("")], 0));
  }
  return e;
}
function AE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = vE(0 > d ? -d : d);
  M(e, 0, null);
  for (M(e, 1, null);;) {
    var f = M(e, 0, null), g = M(e, 1, null), k = rm.c(a), n = Gs.c(a), u = Mo.c(a), v = np.c(a), w = function() {
      var b = tv.c(a);
      return m(b) ? b : "E";
    }(), e = function() {
      var b = xr.c(a);
      return m(b) ? b : 0 > d;
    }(), y = 0 >= v, A = g - (v - 1), C = "" + p(Math.abs(A)), w = [p(w), p(0 > A ? "-" : "+"), p(m(u) ? cf(p, If(u - I(C), "0")) : null), p(C)].join(""), F = I(w), A = I(f), f = [p(cf(p, If(-v, "0"))), p(f), p(m(n) ? cf(p, If(n - (A - 1) - (0 > v ? -v : 0), "0")) : null)].join(""), A = m(k) ? k - F : null, f = wE(f, 0, x.h(v, 0) ? n - 1 : 0 < v ? n : 0 > v ? n - 1 : null, m(A) ? A - (m(e) ? 1 : 0) : null), A = M(f, 0, null);
    M(f, 1, null);
    C = M(f, 2, null);
    f = yE(A, v);
    n = x.h(v, I(A)) && null == n;
    if (eb(C)) {
      if (m(k)) {
        var g = I(f) + F, g = m(e) ? g + 1 : g, G = (y = y && !x.h(g, k)) ? g + 1 : g, g = n && G < k;
        m(function() {
          var b;
          b = G > k;
          b || (b = u, b = m(b) ? F - 2 > u : b);
          return m(b) ? fs.c(a) : b;
        }()) ? wC.j(L([cf(p, If(k, fs.c(a)))], 0)) : wC.j(L([[p(cf(p, If(k - G - (g ? 1 : 0), uq.c(a)))), p(m(e) ? 0 > d ? "-" : "+" : null), p(y ? "0" : null), p(f), p(g ? "0" : null), p(w)].join("")], 0));
      } else {
        wC.j(L([[p(m(e) ? 0 > d ? "-" : "+" : null), p(y ? "0" : null), p(f), p(n ? "0" : null), p(w)].join("")], 0));
      }
      break;
    } else {
      e = new R(null, 2, 5, S, [A, g + 1], null);
    }
  }
  return c;
}
function BE(a, b) {
  var c = QD(b), d = M(c, 0, null);
  M(c, 1, null);
  var c = vE(0 > d ? -d : d), e = M(c, 0, null), c = M(c, 1, null), f = rm.c(a), g = Gs.c(a), k = Mo.c(a), c = x.h(d, 0) ? 0 : c + 1, d = m(k) ? k + 2 : 4, f = m(f) ? f - d : null;
  m(g) ? e = g : (e = I(e), g = 7 > c ? c : 7, e = e > g ? e : g);
  c = e - c;
  return 0 <= c && c <= e ? (c = zE(new l(null, 6, [rm, f, Gs, c, np, 0, fs, fs.c(a), uq, uq.c(a), xr, xr.c(a)], null), b), wC.j(L([cf(p, If(d, " "))], 0)), c) : AE(a, b);
}
function CE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = vE(Math.abs(d)), f = M(e, 0, null), g = M(e, 1, null), k = Gs.c(a), n = pm.c(a), e = rm.c(a), u = function() {
    var b = xr.c(a);
    return m(b) ? b : 0 > d;
  }(), v = wE(f, g, k, null), f = M(v, 0, null), g = M(v, 1, null), v = M(v, 2, null), k = xE(f, m(v) ? g + 1 : g, k), n = [p(cf(p, If(n - k.indexOf("."), "0"))), p(k)].join(""), k = I(n) + (m(u) ? 1 : 0);
  wC.j(L([[p(m(function() {
    var b = up.c(a);
    return m(b) ? u : b;
  }()) ? 0 > d ? "-" : "+" : null), p(cf(p, If(e - k, uq.c(a)))), p(m(function() {
    var b = eb(up.c(a));
    return b ? u : b;
  }()) ? 0 > d ? "-" : "+" : null), p(n)].join("")], 0));
  return c;
}
function DE(a, b) {
  var c = wj.c(a), d = m(c) ? new R(null, 2, 5, S, [c, b], null) : QD(b), c = M(d, 0, null), d = M(d, 1, null), e = dt.c(a), c = 0 > c || c >= I(e) ? D(bl.c(a)) : ud(e, c);
  return m(c) ? uE(c, d, yt.c(a)) : d;
}
function EE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = dt.c(a), d = m(d) ? Gd(e) : D(e);
  return m(d) ? uE(d, c, yt.c(a)) : c;
}
function FE(a, b) {
  var c = QD(b), d = M(c, 0, null), c = M(c, 1, null), e = dt.c(a), e = m(d) ? D(e) : null;
  return m(d) ? m(e) ? uE(e, b, yt.c(a)) : b : c;
}
function GE(a, b) {
  for (var c = Gn.c(a), d = D(dt.c(a)), e = Td(d) ? RD(b) : new R(null, 2, 5, S, [d, b], null), d = M(e, 0, null), e = M(e, 1, null), e = QD(e), f = M(e, 0, null), e = M(e, 1, null), g = 0, f = KD(f), k = -1;;) {
    if (eb(c) && x.h(Ln.c(f), k) && 1 < g) {
      throw Error("%{ construct not consuming any arguments: Infinite loop!");
    }
    k = Td(bv.c(f)) && (eb(up.c(Mq.c(a))) || 0 < g);
    if (m(k ? k : m(c) ? g >= c : c)) {
      return e;
    }
    k = uE(d, f, yt.c(a));
    if (x.h(Ju, D(k))) {
      return e;
    }
    var g = g + 1, n = Ln.c(f), f = k, k = n;
  }
}
function HE(a, b) {
  for (var c = Gn.c(a), d = D(dt.c(a)), e = Td(d) ? RD(b) : new R(null, 2, 5, S, [d, b], null), d = M(e, 0, null), e = M(e, 1, null), e = QD(e), f = M(e, 0, null), e = M(e, 1, null), g = 0;;) {
    var k = Td(f) && (eb(up.c(Mq.c(a))) || 0 < g);
    if (m(k ? k : m(c) ? g >= c : c)) {
      return e;
    }
    k = uE(d, KD(D(f)), KD(E(f)));
    if (x.h(gp, D(k))) {
      return e;
    }
    g += 1;
    f = E(f);
  }
}
function IE(a, b) {
  for (var c = Gn.c(a), d = D(dt.c(a)), e = Td(d) ? RD(b) : new R(null, 2, 5, S, [d, b], null), d = M(e, 0, null), f = 0, e = M(e, 1, null), g = -1;;) {
    if (eb(c) && x.h(Ln.c(e), g) && 1 < f) {
      throw Error("%@{ construct not consuming any arguments: Infinite loop!");
    }
    g = Td(bv.c(e)) && (eb(up.c(Mq.c(a))) || 0 < f);
    if (m(g ? g : m(c) ? f >= c : c)) {
      return e;
    }
    g = uE(d, e, yt.c(a));
    if (x.h(Ju, D(g))) {
      return Gd(g);
    }
    var f = f + 1, k = Ln.c(e), e = g, g = k;
  }
}
function JE(a, b) {
  for (var c = Gn.c(a), d = D(dt.c(a)), e = Td(d) ? RD(b) : new R(null, 2, 5, S, [d, b], null), d = M(e, 0, null), f = 0, e = M(e, 1, null);;) {
    var g = Td(bv.c(e)) && (eb(up.c(Mq.c(a))) || 0 < f);
    if (m(g ? g : m(c) ? f >= c : c)) {
      return e;
    }
    g = bv.c(e);
    g = m(g) ? new R(null, 2, 5, S, [D(g), new PD(mt.c(e), E(g), Ln.c(e) + 1, null, null, null)], null) : new R(null, 2, 5, S, [null, e], null);
    e = M(g, 0, null);
    g = M(g, 1, null);
    e = uE(d, KD(e), g);
    if (x.h(gp, D(e))) {
      return g;
    }
    e = g;
    f += 1;
  }
}
function KE(a, b, c) {
  return m(up.c(Mq.c(a))) ? LE.l ? LE.l(a, b, c) : LE.call(null, a, b) : ME.l ? ME.l(a, b, c) : ME.call(null, a, b);
}
function NE(a, b, c) {
  for (var d = Jd;;) {
    if (Td(a)) {
      return new R(null, 2, 5, S, [d, b], null);
    }
    var e = D(a), f;
    a: {
      var g = new Fa, k = Na;
      Na = new Mc(g);
      try {
        f = new R(null, 2, 5, S, [uE(e, b, c), "" + p(g)], null);
        break a;
      } finally {
        Na = k;
      }
      f = void 0;
    }
    b = M(f, 0, null);
    e = M(f, 1, null);
    if (x.h(Ju, D(b))) {
      return new R(null, 2, 5, S, [d, Gd(b)], null);
    }
    a = E(a);
    d = Id.h(d, e);
  }
}
function ME(a, b) {
  var c = function() {
    var c = bl.c(a);
    return m(c) ? NE(c, b, yt.c(a)) : null;
  }(), d = M(c, 0, null), e = M(d, 0, null), c = M(c, 1, null), f = m(c) ? c : b, c = function() {
    var b = Dj.c(a);
    return m(b) ? WD(b, f) : null;
  }(), g = M(c, 0, null), c = M(c, 1, null), c = m(c) ? c : f, k = function() {
    var a = D(Wu.c(g));
    return m(a) ? a : 0;
  }(), n = function() {
    var a = D(pv.c(g));
    return m(a) ? a : FC(Na, cr);
  }(), d = dt.c(a), c = NE(d, c, yt.c(a)), u = M(c, 0, null), c = M(c, 1, null), v = function() {
    var b = I(u) - 1 + (m(up.c(a)) ? 1 : 0) + (m(xr.c(a)) ? 1 : 0);
    return 1 > b ? 1 : b;
  }(), d = pe(te, Cf.h(I, u)), w = nr.c(a), y = sr.c(a), A = ts.c(a), C = d + v * y, F = C <= w ? w : w + A * (1 + we(C - w - 1, A)), G = F - d, d = function() {
    var a = we(G, v);
    return y > a ? y : a;
  }(), w = G - d * v, d = cf(p, If(d, uq.c(a)));
  m(function() {
    return m(e) ? FC(It.c(function() {
      var a = H.c ? H.c(Na) : H.call(null, Na);
      return H.c ? H.c(a) : H.call(null, a);
    }()), Jl) + k + F > n : e;
  }()) && wC.j(L([e], 0));
  for (var A = w, J = u, P = function() {
    var b = up.c(a);
    return m(b) ? b : x.h(I(J), 1) && eb(xr.c(a));
  }();;) {
    if (z(J)) {
      wC.j(L([[p(eb(P) ? D(J) : null), p(m(function() {
        var b = P;
        return m(b) ? b : (b = E(J)) ? b : xr.c(a);
      }()) ? d : null), p(0 < A ? uq.c(a) : null)].join("")], 0)), --A, J = w = m(P) ? J : E(J), P = !1;
    } else {
      break;
    }
  }
  return c;
}
var OE = function OE(b) {
  "undefined" === typeof sC && (sC = function(b, d, e) {
    this.Rd = b;
    this.ga = d;
    this.Xd = e;
    this.o = 1074135040;
    this.L = 0;
  }, sC.prototype.U = function(b, d) {
    return new sC(this.Rd, this.ga, d);
  }, sC.prototype.S = function() {
    return this.Xd;
  }, sC.prototype.ib = function() {
    return oc(this.ga);
  }, sC.prototype.ub = function(b, d) {
    var e = gb(d);
    if (m(x.h ? x.h(String, e) : x.call(null, String, e))) {
      return q(this.ga, d.toLowerCase());
    }
    if (m(x.h ? x.h(Number, e) : x.call(null, Number, e))) {
      return q(this.ga, ue(d).toLowerCase());
    }
    throw Error([p("No matching clause: "), p(e)].join(""));
  }, sC.Sb = function() {
    return new R(null, 3, 5, S, [Cd(Wv, new l(null, 3, [Zk, !0, nf, Ke(of, Ke(new R(null, 1, 5, S, [ku], null))), mu, "Returns a proxy that wraps writer, converting all characters to lower case"], null)), ku, rp], null);
  }, sC.vb = !0, sC.jb = "cljs.pprint/t_cljs$pprint15904", sC.Db = function(b, d) {
    return q(d, "cljs.pprint/t_cljs$pprint15904");
  });
  return new sC(OE, b, T);
}, PE = function PE(b) {
  "undefined" === typeof tC && (tC = function(b, d, e) {
    this.ie = b;
    this.ga = d;
    this.Yd = e;
    this.o = 1074135040;
    this.L = 0;
  }, tC.prototype.U = function(b, d) {
    return new tC(this.ie, this.ga, d);
  }, tC.prototype.S = function() {
    return this.Yd;
  }, tC.prototype.ib = function() {
    return oc(this.ga);
  }, tC.prototype.ub = function(b, d) {
    var e = gb(d);
    if (m(x.h ? x.h(String, e) : x.call(null, String, e))) {
      return q(this.ga, d.toUpperCase());
    }
    if (m(x.h ? x.h(Number, e) : x.call(null, Number, e))) {
      return q(this.ga, ue(d).toUpperCase());
    }
    throw Error([p("No matching clause: "), p(e)].join(""));
  }, tC.Sb = function() {
    return new R(null, 3, 5, S, [Cd(Jk, new l(null, 3, [Zk, !0, nf, Ke(of, Ke(new R(null, 1, 5, S, [ku], null))), mu, "Returns a proxy that wraps writer, converting all characters to upper case"], null)), ku, Ri], null);
  }, tC.vb = !0, tC.jb = "cljs.pprint/t_cljs$pprint15916", tC.Db = function(b, d) {
    return q(d, "cljs.pprint/t_cljs$pprint15916");
  });
  return new tC(PE, b, T);
};
function QE(a, b) {
  var c = D(a), d = m(m(b) ? m(c) ? xa(c) : c : b) ? [p(c.toUpperCase()), p(a.substring(1))].join("") : a;
  return cf(p, D(BC(function() {
    return function(a) {
      if (Td(a)) {
        return new R(null, 2, 5, S, [null, null], null);
      }
      var b = RegExp("\\W\\w", "g").exec(a), b = m(b) ? b.index + 1 : b;
      return m(b) ? new R(null, 2, 5, S, [[p(a.substring(0, b)), p(ud(a, b).toUpperCase())].join(""), a.substring(b + 1)], null) : new R(null, 2, 5, S, [a, null], null);
    };
  }(c, d), d)));
}
var RE = function RE(b) {
  var c = xf ? xf(!0) : wf.call(null, !0);
  "undefined" === typeof uC && (uC = function(b, c, f, g) {
    this.yd = b;
    this.ga = c;
    this.Gb = f;
    this.Zd = g;
    this.o = 1074135040;
    this.L = 0;
  }, uC.prototype.U = function() {
    return function(b, c) {
      return new uC(this.yd, this.ga, this.Gb, c);
    };
  }(c), uC.prototype.S = function() {
    return function() {
      return this.Zd;
    };
  }(c), uC.prototype.ib = function() {
    return function() {
      return oc(this.ga);
    };
  }(c), uC.prototype.ub = function() {
    return function(b, c) {
      var f = gb(c);
      if (m(x.h ? x.h(String, f) : x.call(null, String, f))) {
        q(this.ga, QE(c.toLowerCase(), H.c ? H.c(this.Gb) : H.call(null, this.Gb)));
        if (0 < c.length) {
          var f = this.Gb, g;
          g = ud(c, I(c) - 1);
          g = ua(g);
          return U.h ? U.h(f, g) : U.call(null, f, g);
        }
        return null;
      }
      if (m(x.h ? x.h(Number, f) : x.call(null, Number, f))) {
        return f = ue(c), g = m(H.c ? H.c(this.Gb) : H.call(null, this.Gb)) ? f.toUpperCase() : f, q(this.ga, g), g = this.Gb, f = ua(f), U.h ? U.h(g, f) : U.call(null, g, f);
      }
      throw Error([p("No matching clause: "), p(f)].join(""));
    };
  }(c), uC.Sb = function() {
    return function() {
      return new R(null, 4, 5, S, [Cd(Nt, new l(null, 3, [Zk, !0, nf, Ke(of, Ke(new R(null, 1, 5, S, [ku], null))), mu, "Returns a proxy that wraps writer, capitalizing all words"], null)), ku, Zj, Fv], null);
    };
  }(c), uC.vb = !0, uC.jb = "cljs.pprint/t_cljs$pprint15934", uC.Db = function() {
    return function(b, c) {
      return q(c, "cljs.pprint/t_cljs$pprint15934");
    };
  }(c));
  return new uC(RE, b, c, T);
}, SE = function SE(b) {
  var c = xf ? xf(!1) : wf.call(null, !1);
  "undefined" === typeof vC && (vC = function(b, c, f, g) {
    this.Td = b;
    this.ga = c;
    this.nb = f;
    this.$d = g;
    this.o = 1074135040;
    this.L = 0;
  }, vC.prototype.U = function() {
    return function(b, c) {
      return new vC(this.Td, this.ga, this.nb, c);
    };
  }(c), vC.prototype.S = function() {
    return function() {
      return this.$d;
    };
  }(c), vC.prototype.ib = function() {
    return function() {
      return oc(this.ga);
    };
  }(c), vC.prototype.ub = function() {
    return function(b, c) {
      var f = gb(c);
      if (m(x.h ? x.h(String, f) : x.call(null, String, f))) {
        f = c.toLowerCase();
        if (eb(H.c ? H.c(this.nb) : H.call(null, this.nb))) {
          var g = RegExp("\\S", "g").exec(f), g = m(g) ? g.index : g;
          return m(g) ? (q(this.ga, [p(f.substring(0, g)), p(ud(f, g).toUpperCase()), p(f.substring(g + 1).toLowerCase())].join("")), U.h ? U.h(this.nb, !0) : U.call(null, this.nb, !0)) : q(this.ga, f);
        }
        return q(this.ga, f.toLowerCase());
      }
      if (m(x.h ? x.h(Number, f) : x.call(null, Number, f))) {
        return f = ue(c), g = eb(H.c ? H.c(this.nb) : H.call(null, this.nb)), m(g ? xa(f) : g) ? (U.h ? U.h(this.nb, !0) : U.call(null, this.nb, !0), q(this.ga, f.toUpperCase())) : q(this.ga, f.toLowerCase());
      }
      throw Error([p("No matching clause: "), p(f)].join(""));
    };
  }(c), vC.Sb = function() {
    return function() {
      return new R(null, 4, 5, S, [Cd(Si, new l(null, 3, [Zk, !0, nf, Ke(of, Ke(new R(null, 1, 5, S, [ku], null))), mu, "Returns a proxy that wraps writer, capitalizing the first word"], null)), ku, Lo, js], null);
    };
  }(c), vC.vb = !0, vC.jb = "cljs.pprint/t_cljs$pprint15952", vC.Db = function() {
    return function(b, c) {
      return q(c, "cljs.pprint/t_cljs$pprint15952");
    };
  }(c));
  return new vC(SE, b, c, T);
};
function TE() {
  (null != Na ? Na.o & 32768 || Na.Ec || (Na.o ? 0 : fb(Xb, Na)) : fb(Xb, Na)) ? x.h(0, FC(It.c(function() {
    var a = H.c ? H.c(Na) : H.call(null, Na);
    return H.c ? H.c(a) : H.call(null, a);
  }()), Jl)) || yC() : yC();
}
function UE(a, b) {
  var c = Or.c(a), d = ts.c(a), e = FC(It.c(function() {
    var a = H.c ? H.c(Na) : H.call(null, Na);
    return H.c ? H.c(a) : H.call(null, a);
  }()), Jl), c = e < c ? c - e : x.h(d, 0) ? 0 : d - xe(e - c, d);
  wC.j(L([cf(p, If(c, " "))], 0));
  return b;
}
function VE(a, b) {
  var c = Or.c(a), d = ts.c(a), e = c + FC(It.c(function() {
    var a = H.c ? H.c(Na) : H.call(null, Na);
    return H.c ? H.c(a) : H.call(null, a);
  }()), Jl), e = 0 < d ? xe(e, d) : 0, c = c + (x.h(0, e) ? 0 : d - e);
  wC.j(L([cf(p, If(c, " "))], 0));
  return b;
}
function LE(a, b) {
  var c = dt.c(a), d = I(c), e = 1 < d ? Co.c(zn.c(D(D(c)))) : m(up.c(a)) ? "(" : null, f = ud(c, 1 < d ? 1 : 0), c = 2 < d ? Co.c(zn.c(D(ud(c, 2)))) : m(up.c(a)) ? ")" : null, g = QD(b), d = M(g, 0, null), g = M(g, 1, null);
  if (m(FD())) {
    q(Na, "#");
  } else {
    var k = zD, n = AD;
    zD += 1;
    AD = 0;
    try {
      mD(e, c), uE(f, KD(d), yt.c(a)), nD();
    } finally {
      AD = n, zD = k;
    }
  }
  return g;
}
function WE(a, b) {
  var c = m(up.c(a)) ? wr : Lj;
  HD(c, pm.c(a));
  return b;
}
function XE(a, b) {
  var c = m(up.c(a)) ? m(xr.c(a)) ? Oi : Dm : m(xr.c(a)) ? cl : lt;
  GD(c);
  return b;
}
var YE = Md("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""), [new l(null, 5, [pu, "A", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), ts, new R(null, 2, 5, S, [1, Number], null), sr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return $D(fi, a, b);
  };
}], null), new l(null, 5, [pu, "S", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), ts, new R(null, 2, 5, S, [1, Number], null), sr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return $D(ei, a, b);
  };
}], null), new l(null, 5, [pu, "D", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null), Tv, new R(null, 2, 5, S, [",", String], null), Qk, new R(null, 2, 5, S, [3, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return dE(10, a, b);
  };
}], null), new l(null, 5, [pu, "B", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null), Tv, new R(null, 2, 5, S, [",", String], null), Qk, new R(null, 2, 5, S, [3, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return dE(2, a, b);
  };
}], null), new l(null, 5, [pu, "O", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null), Tv, new R(null, 2, 5, S, [",", String], null), Qk, new R(null, 2, 5, S, [3, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return dE(8, a, b);
  };
}], null), new l(null, 5, [pu, "X", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null), Tv, new R(null, 2, 5, S, [",", String], null), Qk, new R(null, 2, 5, S, [3, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    return dE(16, a, b);
  };
}], null), new l(null, 5, [pu, "R", zn, new l(null, 5, [It, new R(null, 2, 5, S, [null, Number], null), nr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null), Tv, new R(null, 2, 5, S, [",", String], null), Qk, new R(null, 2, 5, S, [3, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function(a) {
  return m(D(It.c(a))) ? function(a, c) {
    return dE(It.c(a), a, c);
  } : m(function() {
    var b = xr.c(a);
    return m(b) ? up.c(a) : b;
  }()) ? function(a, c) {
    return oE(mE, c);
  } : m(xr.c(a)) ? function(a, c) {
    return oE(nE, c);
  } : m(up.c(a)) ? function(a, c) {
    var d = QD(c), e = M(d, 0, null), d = M(d, 1, null);
    if (x.h(0, e)) {
      wC.j(L(["zeroth"], 0));
    } else {
      var f = aE(1E3, 0 > e ? -e : e);
      if (I(f) <= I(iE)) {
        var g = Cf.h(jE, Ff(1, f)), g = kE(g, 1), f = lE(Hd(f));
        wC.j(L([[p(0 > e ? "minus " : null), p(Td(g) || Td(f) ? Td(g) ? f : [p(g), p("th")].join("") : [p(g), p(", "), p(f)].join(""))].join("")], 0));
      } else {
        dE(10, new l(null, 5, [nr, 0, uq, " ", Tv, ",", Qk, 3, up, !0], null), KD(new R(null, 1, 5, S, [e], null))), f = xe(e, 100), e = 11 < f || 19 > f, f = xe(f, 10), wC.j(L([1 === f && e ? "st" : 2 === f && e ? "nd" : 3 === f && e ? "rd" : "th"], 0));
      }
    }
    return d;
  } : function(a, c) {
    var d = QD(c), e = M(d, 0, null), d = M(d, 1, null);
    if (x.h(0, e)) {
      wC.j(L(["zero"], 0));
    } else {
      var f = aE(1E3, 0 > e ? -e : e);
      I(f) <= I(iE) ? (f = Cf.h(jE, f), f = kE(f, 0), wC.j(L([[p(0 > e ? "minus " : null), p(f)].join("")], 0))) : dE(10, new l(null, 5, [nr, 0, uq, " ", Tv, ",", Qk, 3, up, !0], null), KD(new R(null, 1, 5, S, [e], null)));
    }
    return d;
  };
}], null), new l(null, 5, [pu, "P", zn, T, fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    var c = m(up.c(a)) ? TD(b, -1) : b, d = m(xr.c(a)) ? new R(null, 2, 5, S, ["y", "ies"], null) : new R(null, 2, 5, S, ["", "s"], null), e = QD(c), c = M(e, 0, null), e = M(e, 1, null);
    wC.j(L([x.h(c, 1) ? D(d) : Gd(d)], 0));
    return e;
  };
}], null), new l(null, 5, [pu, "C", zn, new l(null, 1, [Zo, new R(null, 2, 5, S, [null, String], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function(a) {
  return m(up.c(a)) ? qE : m(xr.c(a)) ? rE : sE;
}], null), new l(null, 5, [pu, "F", zn, new l(null, 5, [rm, new R(null, 2, 5, S, [null, Number], null), Gs, new R(null, 2, 5, S, [null, Number], null), np, new R(null, 2, 5, S, [0, Number], null), fs, new R(null, 2, 5, S, [null, String], null), uq, new R(null, 2, 5, S, [" ", String], null)], null), fu, new Eh(null, new l(null, 1, [xr, null], null), null), tt, T, gm, function() {
  return zE;
}], null), new l(null, 5, [pu, "E", zn, new l(null, 7, [rm, new R(null, 2, 5, S, [null, Number], null), Gs, new R(null, 2, 5, S, [null, Number], null), Mo, new R(null, 2, 5, S, [null, Number], null), np, new R(null, 2, 5, S, [1, Number], null), fs, new R(null, 2, 5, S, [null, String], null), uq, new R(null, 2, 5, S, [" ", String], null), tv, new R(null, 2, 5, S, [null, String], null)], null), fu, new Eh(null, new l(null, 1, [xr, null], null), null), tt, T, gm, function() {
  return AE;
}], null), new l(null, 5, [pu, "G", zn, new l(null, 7, [rm, new R(null, 2, 5, S, [null, Number], null), Gs, new R(null, 2, 5, S, [null, Number], null), Mo, new R(null, 2, 5, S, [null, Number], null), np, new R(null, 2, 5, S, [1, Number], null), fs, new R(null, 2, 5, S, [null, String], null), uq, new R(null, 2, 5, S, [" ", String], null), tv, new R(null, 2, 5, S, [null, String], null)], null), fu, new Eh(null, new l(null, 1, [xr, null], null), null), tt, T, gm, function() {
  return BE;
}], null), new l(null, 5, [pu, "$", zn, new l(null, 4, [Gs, new R(null, 2, 5, S, [2, Number], null), pm, new R(null, 2, 5, S, [1, Number], null), rm, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return CE;
}], null), new l(null, 5, [pu, "%", zn, new l(null, 1, [Cr, new R(null, 2, 5, S, [1, Number], null)], null), fu, Gh, tt, T, gm, function() {
  return function(a, b) {
    for (var c = Cr.c(a), d = 0;;) {
      if (d < c) {
        yC(), d += 1;
      } else {
        break;
      }
    }
    return b;
  };
}], null), new l(null, 5, [pu, "\x26", zn, new l(null, 1, [Cr, new R(null, 2, 5, S, [1, Number], null)], null), fu, new Eh(null, new l(null, 1, [zt, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    var c = Cr.c(a);
    0 < c && TE();
    for (var c = c - 1, d = 0;;) {
      if (d < c) {
        yC(), d += 1;
      } else {
        break;
      }
    }
    return b;
  };
}], null), new l(null, 5, [pu, "|", zn, new l(null, 1, [Cr, new R(null, 2, 5, S, [1, Number], null)], null), fu, Gh, tt, T, gm, function() {
  return function(a, b) {
    for (var c = Cr.c(a), d = 0;;) {
      if (d < c) {
        wC.j(L(["\f"], 0)), d += 1;
      } else {
        break;
      }
    }
    return b;
  };
}], null), new l(null, 5, [pu, "~", zn, new l(null, 1, [pm, new R(null, 2, 5, S, [1, Number], null)], null), fu, Gh, tt, T, gm, function() {
  return function(a, b) {
    var c = pm.c(a);
    wC.j(L([cf(p, If(c, "~"))], 0));
    return b;
  };
}], null), new l(null, 5, [pu, "\n", zn, T, fu, new Eh(null, new l(null, 2, [up, null, xr, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    m(xr.c(a)) && yC();
    return b;
  };
}], null), new l(null, 5, [pu, "T", zn, new l(null, 2, [Or, new R(null, 2, 5, S, [1, Number], null), ts, new R(null, 2, 5, S, [1, Number], null)], null), fu, new Eh(null, new l(null, 2, [xr, null, zt, null], null), null), tt, T, gm, function(a) {
  return m(xr.c(a)) ? function(a, c) {
    return VE(a, c);
  } : function(a, c) {
    return UE(a, c);
  };
}], null), new l(null, 5, [pu, "*", zn, new l(null, 1, [pm, new R(null, 2, 5, S, [1, Number], null)], null), fu, new Eh(null, new l(null, 2, [up, null, xr, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    var c = pm.c(a);
    return m(xr.c(a)) ? SD(b, c) : TD(b, m(up.c(a)) ? -c : c);
  };
}], null), new l(null, 5, [pu, "?", zn, T, fu, new Eh(null, new l(null, 1, [xr, null], null), null), tt, T, gm, function(a) {
  return m(xr.c(a)) ? function(a, c) {
    var d = RD(c), e = M(d, 0, null), d = M(d, 1, null);
    return uE(e, d, yt.c(a));
  } : function(a, c) {
    var d = RD(c), e = M(d, 0, null), d = M(d, 1, null), f = QD(d), d = M(f, 0, null), f = M(f, 1, null), d = KD(d);
    uE(e, d, yt.c(a));
    return f;
  };
}], null), new l(null, 5, [pu, "(", zn, T, fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, new l(null, 3, [qs, ")", Uj, null, bl, null], null), gm, function(a) {
  return function(a) {
    return function(c, d) {
      var e;
      a: {
        var f = D(dt.c(c)), g = Na;
        Na = a.c ? a.c(Na) : a.call(null, Na);
        try {
          e = uE(f, d, yt.c(c));
          break a;
        } finally {
          Na = g;
        }
        e = void 0;
      }
      return e;
    };
  }(m(function() {
    var b = xr.c(a);
    return m(b) ? up.c(a) : b;
  }()) ? PE : m(up.c(a)) ? RE : m(xr.c(a)) ? SE : OE);
}], null), new l(null, 5, [pu, ")", zn, T, fu, Gh, tt, T, gm, function() {
  return null;
}], null), new l(null, 5, [pu, "[", zn, new l(null, 1, [wj, new R(null, 2, 5, S, [null, Number], null)], null), fu, new Eh(null, new l(null, 2, [up, null, xr, null], null), null), tt, new l(null, 3, [qs, "]", Uj, !0, bl, yu], null), gm, function(a) {
  return m(up.c(a)) ? EE : m(xr.c(a)) ? FE : DE;
}], null), new l(null, 5, [pu, ";", zn, new l(null, 2, [Wu, new R(null, 2, 5, S, [null, Number], null), pv, new R(null, 2, 5, S, [null, Number], null)], null), fu, new Eh(null, new l(null, 1, [up, null], null), null), tt, new l(null, 1, [eu, !0], null), gm, function() {
  return null;
}], null), new l(null, 5, [pu, "]", zn, T, fu, Gh, tt, T, gm, function() {
  return null;
}], null), new l(null, 5, [pu, "{", zn, new l(null, 1, [Gn, new R(null, 2, 5, S, [null, Number], null)], null), fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, new l(null, 2, [qs, "}", Uj, !1], null), gm, function(a) {
  var b;
  b = xr.c(a);
  b = m(b) ? up.c(a) : b;
  return m(b) ? JE : m(up.c(a)) ? HE : m(xr.c(a)) ? IE : GE;
}], null), new l(null, 5, [pu, "}", zn, T, fu, new Eh(null, new l(null, 1, [up, null], null), null), tt, T, gm, function() {
  return null;
}], null), new l(null, 5, [pu, "\x3c", zn, new l(null, 4, [nr, new R(null, 2, 5, S, [0, Number], null), ts, new R(null, 2, 5, S, [1, Number], null), sr, new R(null, 2, 5, S, [0, Number], null), uq, new R(null, 2, 5, S, [" ", String], null)], null), fu, new Eh(null, new l(null, 4, [up, null, xr, null, Fs, null, zt, null], null), null), tt, new l(null, 3, [qs, "\x3e", Uj, !0, bl, qt], null), gm, function() {
  return KE;
}], null), new l(null, 5, [pu, "\x3e", zn, T, fu, new Eh(null, new l(null, 1, [up, null], null), null), tt, T, gm, function() {
  return null;
}], null), new l(null, 5, [pu, "^", zn, new l(null, 3, [hv, new R(null, 2, 5, S, [null, Number], null), Pk, new R(null, 2, 5, S, [null, Number], null), gj, new R(null, 2, 5, S, [null, Number], null)], null), fu, new Eh(null, new l(null, 1, [up, null], null), null), tt, T, gm, function() {
  return function(a, b) {
    var c = hv.c(a), d = Pk.c(a), e = gj.c(a), f = m(up.c(a)) ? gp : Ju;
    return m(m(c) ? m(d) ? e : d : c) ? c <= d && d <= e ? new R(null, 2, 5, S, [f, b], null) : b : m(m(c) ? d : c) ? x.h(c, d) ? new R(null, 2, 5, S, [f, b], null) : b : m(c) ? x.h(c, 0) ? new R(null, 2, 5, S, [f, b], null) : b : (m(up.c(a)) ? Td(bv.c(yt.c(a))) : Td(bv.c(b))) ? new R(null, 2, 5, S, [f, b], null) : b;
  };
}], null), new l(null, 5, [pu, "W", zn, T, fu, new Eh(null, new l(null, 4, [up, null, xr, null, Fs, null, zt, null], null), null), tt, T, gm, function(a) {
  return m(function() {
    var b = xr.c(a);
    return m(b) ? b : up.c(a);
  }()) ? function(a) {
    return function(c, d) {
      var e = QD(d), f = M(e, 0, null), e = M(e, 1, null);
      return m(df(DD, f, a)) ? new R(null, 2, 5, S, [Ju, e], null) : e;
    };
  }($e.h(m(xr.c(a)) ? new R(null, 4, 5, S, [Gp, null, $r, null], null) : Jd, m(up.c(a)) ? new R(null, 2, 5, S, [zt, !0], null) : Jd)) : function(a, c) {
    var d = QD(c), e = M(d, 0, null), d = M(d, 1, null);
    return m(CD(e)) ? new R(null, 2, 5, S, [Ju, d], null) : d;
  };
}], null), new l(null, 5, [pu, "_", zn, T, fu, new Eh(null, new l(null, 3, [up, null, xr, null, Fs, null], null), null), tt, T, gm, function() {
  return XE;
}], null), new l(null, 5, [pu, "I", zn, new l(null, 1, [pm, new R(null, 2, 5, S, [0, Number], null)], null), fu, new Eh(null, new l(null, 1, [up, null], null), null), tt, T, gm, function() {
  return WE;
}], null)]), ZE = /^([vV]|#|('.)|([+-]?\d+)|(?=,))/, $E = new Eh(null, new l(null, 2, [zm, null, go, null], null), null);
function aF(a) {
  var b = M(a, 0, null), c = M(a, 1, null), d = M(a, 2, null);
  a = new RegExp(ZE.source, "g");
  var e = a.exec(b);
  return m(e) ? (d = D(e), b = b.substring(a.lastIndex), a = c + a.lastIndex, x.h(",", ud(b, 0)) ? new R(null, 2, 5, S, [new R(null, 2, 5, S, [d, c], null), new R(null, 3, 5, S, [b.substring(1), a + 1, !0], null)], null) : new R(null, 2, 5, S, [new R(null, 2, 5, S, [d, c], null), new R(null, 3, 5, S, [b, a, !1], null)], null)) : m(d) ? OD("Badly formed parameters in format directive", c) : new R(null, 2, 5, S, [null, new R(null, 2, 5, S, [b, c], null)], null);
}
function bF(a) {
  var b = M(a, 0, null);
  a = M(a, 1, null);
  return new R(null, 2, 5, S, [x.h(b.length, 0) ? null : x.h(b.length, 1) && ie(new Eh(null, new l(null, 2, ["V", null, "v", null], null), null), ud(b, 0)) ? go : x.h(b.length, 1) && x.h("#", ud(b, 0)) ? zm : x.h(b.length, 2) && x.h("'", ud(b, 0)) ? ud(b, 1) : parseInt(b, 10), a], null);
}
var cF = new l(null, 2, [":", up, "@", xr], null);
function dF(a, b) {
  return BC(function(a) {
    var b = M(a, 0, null), e = M(a, 1, null);
    a = M(a, 2, null);
    if (Td(b)) {
      return new R(null, 2, 5, S, [null, new R(null, 3, 5, S, [b, e, a], null)], null);
    }
    var f = t.h(cF, D(b));
    return m(f) ? ie(a, f) ? OD([p('Flag "'), p(D(b)), p('" appears more than once in a directive')].join(""), e) : new R(null, 2, 5, S, [!0, new R(null, 3, 5, S, [b.substring(1), e + 1, Ld.l(a, f, new R(null, 2, 5, S, [!0, e], null))], null)], null) : new R(null, 2, 5, S, [null, new R(null, 3, 5, S, [b, e, a], null)], null);
  }, new R(null, 3, 5, S, [a, b, T], null));
}
function eF(a, b) {
  var c = fu.c(a);
  m(function() {
    var a = eb(xr.c(c));
    return a ? xr.c(b) : a;
  }()) && OD([p('"@" is an illegal flag for format directive "'), p(pu.c(a)), p('"')].join(""), ud(xr.c(b), 1));
  m(function() {
    var a = eb(up.c(c));
    return a ? up.c(b) : a;
  }()) && OD([p('":" is an illegal flag for format directive "'), p(pu.c(a)), p('"')].join(""), ud(up.c(b), 1));
  m(function() {
    var a = eb(Fs.c(c));
    return a ? (a = xr.c(b), m(a) ? up.c(b) : a) : a;
  }()) && OD([p('Cannot combine "@" and ":" flags for format directive "'), p(pu.c(a)), p('"')].join(""), function() {
    var a = ud(up.c(b), 1), c = ud(xr.c(b), 1);
    return a < c ? a : c;
  }());
}
function fF(a, b, c, d) {
  eF(a, c);
  I(b) > I(zn.c(a)) && OD(ID(null, 'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed', L([pu.c(a), I(b), I(zn.c(a))], 0)), Gd(D(b)));
  Ph(Cf.l(function(b, c) {
    var d = D(b);
    return null == d || ie($E, d) || x.h(Gd(Gd(c)), gb(d)) ? null : OD([p("Parameter "), p(Pe(D(c))), p(' has bad type in directive "'), p(pu.c(a)), p('": '), p(gb(d))].join(""), Gd(b));
  }, b, zn.c(a)));
  return wh.j(L([Qf.h(T, Je(function() {
    return function f(a) {
      return new Qe(null, function() {
        for (;;) {
          var b = z(a);
          if (b) {
            if ($d(b)) {
              var c = Ec(b), u = I(c), v = Ue(u);
              a: {
                for (var w = 0;;) {
                  if (w < u) {
                    var y = Ab.h(c, w), A = M(y, 0, null), y = M(y, 1, null), y = M(y, 0, null);
                    v.add(new R(null, 2, 5, S, [A, new R(null, 2, 5, S, [y, d], null)], null));
                    w += 1;
                  } else {
                    c = !0;
                    break a;
                  }
                }
              }
              return c ? We(v.da(), f(Fc(b))) : We(v.da(), null);
            }
            c = D(b);
            v = M(c, 0, null);
            c = M(c, 1, null);
            c = M(c, 0, null);
            return Ad(new R(null, 2, 5, S, [v, new R(null, 2, 5, S, [c, d], null)], null), f(cd(b)));
          }
          return null;
        }
      }, null, null);
    }(zn.c(a));
  }())), qb(function(a, b) {
    return df(Ld, a, b);
  }, T, Mf(function(a) {
    return D(ud(a, 1));
  }, Kh(Lg(zn.c(a)), b))), c], 0));
}
function gF(a, b) {
  return new UD(function(b, d) {
    wC.j(L([a], 0));
    return d;
  }, null, new l(null, 1, [Co, a], null), b, null, null, null);
}
function hF(a, b) {
  var c, d = tt.c(Ss.c(a));
  c = sl.c(a);
  c = iF.l ? iF.l(d, c, b) : iF.call(null, d, c, b);
  d = M(c, 0, null);
  c = M(c, 1, null);
  return new R(null, 2, 5, S, [new UD($l.c(a), Ss.c(a), wh.j(L([zn.c(a), DC(d, sl.c(a))], 0)), sl.c(a), null, null, null), c], null);
}
function jF(a, b, c) {
  return BC(function(c) {
    if (Td(c)) {
      return OD("No closing bracket found.", b);
    }
    var e = D(c);
    c = E(c);
    if (m(qs.c(tt.c(Ss.c(e))))) {
      e = hF(e, c);
    } else {
      if (x.h(qs.c(a), pu.c(Ss.c(e)))) {
        e = new R(null, 2, 5, S, [null, new R(null, 4, 5, S, [Pp, zn.c(e), null, c], null)], null);
      } else {
        var f;
        f = eu.c(tt.c(Ss.c(e)));
        f = m(f) ? up.c(zn.c(e)) : f;
        e = m(f) ? new R(null, 2, 5, S, [null, new R(null, 4, 5, S, [bl, null, zn.c(e), c], null)], null) : m(eu.c(tt.c(Ss.c(e)))) ? new R(null, 2, 5, S, [null, new R(null, 4, 5, S, [eu, null, null, c], null)], null) : new R(null, 2, 5, S, [e, c], null);
      }
    }
    return e;
  }, c);
}
function iF(a, b, c) {
  return Gd(BC(function(c) {
    var e = M(c, 0, null), f = M(c, 1, null);
    c = M(c, 2, null);
    var g = jF(a, b, c);
    c = M(g, 0, null);
    var k = M(g, 1, null), g = M(k, 0, null), n = M(k, 1, null), u = M(k, 2, null), k = M(k, 3, null);
    return x.h(g, Pp) ? new R(null, 2, 5, S, [null, new R(null, 2, 5, S, [xh.j($e, L([e, Qg([m(f) ? bl : dt, new R(null, 1, 5, S, [c], null), Mq, n])], 0)), k], null)], null) : x.h(g, bl) ? m(bl.c(e)) ? OD('Two else clauses ("~:;") inside bracket construction.', b) : eb(bl.c(a)) ? OD('An else clause ("~:;") is in a bracket type that doesn\'t support it.', b) : x.h(qt, bl.c(a)) && z(dt.c(e)) ? OD('The else clause ("~:;") is only allowed in the first position for this directive.', b) : x.h(qt, bl.c(a)) ? 
    new R(null, 2, 5, S, [!0, new R(null, 3, 5, S, [xh.j($e, L([e, new l(null, 2, [bl, new R(null, 1, 5, S, [c], null), Dj, u], null)], 0)), !1, k], null)], null) : new R(null, 2, 5, S, [!0, new R(null, 3, 5, S, [xh.j($e, L([e, new l(null, 1, [dt, new R(null, 1, 5, S, [c], null)], null)], 0)), !0, k], null)], null) : x.h(g, eu) ? m(f) ? OD('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.', b) : eb(Uj.c(a)) ? OD('A separator ("~;") is in a bracket type that doesn\'t support it.', 
    b) : new R(null, 2, 5, S, [!0, new R(null, 3, 5, S, [xh.j($e, L([e, new l(null, 1, [dt, new R(null, 1, 5, S, [c], null)], null)], 0)), !1, k], null)], null) : null;
  }, new R(null, 3, 5, S, [new l(null, 1, [dt, Jd], null), !1, c], null)));
}
function kF(a) {
  return D(BC(function(a) {
    var c = D(a);
    a = E(a);
    var d = tt.c(Ss.c(c));
    return m(qs.c(d)) ? hF(c, a) : new R(null, 2, 5, S, [c, a], null);
  }, a));
}
function JD(a) {
  var b = ND;
  ND = a;
  try {
    return kF(D(BC(function() {
      return function(a) {
        var b = M(a, 0, null);
        a = M(a, 1, null);
        if (Td(b)) {
          return new R(null, 2, 5, S, [null, b], null);
        }
        var e = b.indexOf("~");
        if (0 > e) {
          b = new R(null, 2, 5, S, [gF(b, a), new R(null, 2, 5, S, ["", a + b.length], null)], null);
        } else {
          if (0 === e) {
            a = BC(aF, new R(null, 3, 5, S, [b.substring(1), a + 1, !1], null));
            b = M(a, 0, null);
            e = M(a, 1, null);
            a = M(e, 0, null);
            e = M(e, 1, null);
            a = dF(a, e);
            M(a, 0, null);
            a = M(a, 1, null);
            var e = M(a, 0, null), f = M(a, 1, null), g = M(a, 2, null);
            a = D(e);
            var k = t.h(YE, a.toUpperCase()), g = m(k) ? fF(k, Cf.h(bF, b), g, f) : null;
            eb(a) && OD("Format string ended in the middle of a directive", f);
            eb(k) && OD([p('Directive "'), p(a), p('" is undefined')].join(""), f);
            b = S;
            a = new UD(gm.c(k).call(null, g, f), k, g, f, null, null, null);
            e = e.substring(1);
            f += 1;
            if (x.h("\n", pu.c(k)) && eb(up.c(g))) {
              a: {
                for (k = new R(null, 2, 5, S, [" ", "\t"], null), k = Ud(k) ? Ih(k) : Hh([k]), g = 0;;) {
                  var n;
                  (n = x.h(g, I(e))) || (n = ud(e, g), n = k.c ? k.c(n) : k.call(null, n), n = eb(n));
                  if (n) {
                    k = g;
                    break a;
                  }
                  g += 1;
                }
              }
            } else {
              k = 0;
            }
            b = new R(null, 2, 5, b, [a, new R(null, 2, 5, S, [e.substring(k), f + k], null)], null);
          } else {
            b = new R(null, 2, 5, S, [gF(b.substring(0, e), a), new R(null, 2, 5, S, [b.substring(e), e + a], null)], null);
          }
        }
        return b;
      };
    }(b), new R(null, 2, 5, S, [a, 0], null))));
  } finally {
    ND = b;
  }
}
var lF = function lF(b) {
  for (;;) {
    if (Td(b)) {
      return !1;
    }
    var c;
    c = zt.c(fu.c(Ss.c(D(b))));
    m(c) || (c = rf(lF, D(dt.c(zn.c(D(b))))), c = m(c) ? c : rf(lF, D(bl.c(zn.c(D(b))))));
    if (m(c)) {
      return !0;
    }
    b = E(b);
  }
};
function MD(a) {
  for (var b = [], c = arguments.length, d = 0;;) {
    if (d < c) {
      b.push(arguments[d]), d += 1;
    } else {
      break;
    }
  }
  switch(b.length) {
    case 3:
      return LD(arguments[0], arguments[1], arguments[2]);
    case 2:
      return mF(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(b.length)].join(""));;
  }
}
function LD(a, b, c) {
  var d = new Fa, e = eb(a) || !0 === a ? new Mc(d) : a, f;
  f = lF(b);
  f = m(f) ? eb(BD(e)) : f;
  f = m(f) ? m(BD(e)) ? e : lD(e, sD, tD) : e;
  var g = Na;
  Na = f;
  try {
    try {
      mF(b, c);
    } finally {
      e !== f && oc(f);
    }
    return eb(a) ? "" + p(d) : !0 === a ? Oa.c ? Oa.c("" + p(d)) : Oa.call(null, "" + p(d)) : null;
  } finally {
    Na = g;
  }
}
function mF(a, b) {
  AC(function(a, b) {
    if (m(tE(b))) {
      return new R(null, 2, 5, S, [null, b], null);
    }
    var e = WD(zn.c(a), b), f = M(e, 0, null), e = M(e, 1, null), g = CC(f), f = M(g, 0, null), g = M(g, 1, null), f = Ld.l(f, yt, e);
    return new R(null, 2, 5, S, [null, cf($l.c(a), new R(null, 3, 5, S, [f, e, g], null))], null);
  }, b, a);
  return null;
}
var nF = function(a) {
  return function(b) {
    return function() {
      function c(a) {
        var b = null;
        if (0 < arguments.length) {
          for (var b = 0, c = Array(arguments.length - 0);b < c.length;) {
            c[b] = arguments[b + 0], ++b;
          }
          b = new B(c, 0);
        }
        return d.call(this, b);
      }
      function d(c) {
        var d = t.l(H.c ? H.c(b) : H.call(null, b), c, ce);
        d === ce && (d = cf(a, c), Af.I(b, Ld, c, d));
        return d;
      }
      c.D = 0;
      c.C = function(a) {
        a = z(a);
        return d(a);
      };
      c.j = d;
      return c;
    }();
  }(xf ? xf(T) : wf.call(null, T));
}(JD), oF = new l(null, 6, [of, "'", rt, "#'", or, "@", es, "~", rl, "@", Xi, "~"], null);
function pF(a) {
  var b;
  b = D(a);
  b = oF.c ? oF.c(b) : oF.call(null, b);
  return m(m(b) ? x.h(2, I(a)) : b) ? (q(Na, b), CD(Gd(a)), !0) : null;
}
function qF(a) {
  if (m(FD())) {
    q(Na, "#");
  } else {
    var b = zD, c = AD;
    zD += 1;
    AD = 0;
    try {
      mD("[", "]");
      for (var d = 0, e = z(a);;) {
        if (eb(Sa) || d < Sa) {
          if (e && (CD(D(e)), E(e))) {
            q(Na, " ");
            GD(lt);
            a = d + 1;
            var f = E(e), d = a, e = f;
            continue;
          }
        } else {
          q(Na, "...");
        }
        break;
      }
      nD();
    } finally {
      AD = c, zD = b;
    }
  }
  return null;
}
nF.c ? nF.c("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e") : nF.call(null, "~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");
function rF(a) {
  if (m(FD())) {
    q(Na, "#");
  } else {
    var b = zD, c = AD;
    zD += 1;
    AD = 0;
    try {
      mD("{", "}");
      for (var d = 0, e = z(a);;) {
        if (eb(Sa) || d < Sa) {
          if (e) {
            if (m(FD())) {
              q(Na, "#");
            } else {
              a = zD;
              var f = AD;
              zD += 1;
              AD = 0;
              try {
                mD(null, null), CD(D(D(e))), q(Na, " "), GD(lt), AD = 0, CD(D(E(D(e)))), nD();
              } finally {
                AD = f, zD = a;
              }
            }
            if (E(e)) {
              q(Na, ", ");
              GD(lt);
              a = d + 1;
              var g = E(e), d = a, e = g;
              continue;
            }
          }
        } else {
          q(Na, "...");
        }
        break;
      }
      nD();
    } finally {
      AD = c, zD = b;
    }
  }
  return null;
}
function sF(a) {
  return q(Na, ei.j(L([a], 0)));
}
var tF = function(a, b) {
  return function() {
    function a(b) {
      var c = null;
      if (0 < arguments.length) {
        for (var c = 0, g = Array(arguments.length - 0);c < g.length;) {
          g[c] = arguments[c + 0], ++c;
        }
        c = new B(g, 0);
      }
      return d.call(this, c);
    }
    function d(a) {
      a = KD(a);
      return mF(b, a);
    }
    a.D = 0;
    a.C = function(a) {
      a = z(a);
      return d(a);
    };
    a.j = d;
    return a;
  }();
}("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e", nF.c ? nF.c("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e") : nF.call(null, "~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e")), uF = new l(null, 2, ["core$future_call", "Future", "core$promise", "Promise"], null);
function vF(a) {
  var b;
  b = Qh(/^[^$]+\$[^$]+/, a);
  b = m(b) ? uF.c ? uF.c(b) : uF.call(null, b) : null;
  return m(b) ? b : a;
}
var wF = function(a, b) {
  return function() {
    function a(b) {
      var c = null;
      if (0 < arguments.length) {
        for (var c = 0, g = Array(arguments.length - 0);c < g.length;) {
          g[c] = arguments[c + 0], ++c;
        }
        c = new B(g, 0);
      }
      return d.call(this, c);
    }
    function d(a) {
      a = KD(a);
      return mF(b, a);
    }
    a.D = 0;
    a.C = function(a) {
      a = z(a);
      return d(a);
    };
    a.j = d;
    return a;
  }();
}("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e", nF.c ? nF.c("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e") : nF.call(null, "~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e"));
function xF(a) {
  return a instanceof Ag ? Kl : (null != a ? a.o & 32768 || a.Ec || (a.o ? 0 : fb(Xb, a)) : fb(Xb, a)) ? zr : a instanceof r ? em : ee(a) ? Kq : Xd(a) ? Su : Zd(a) ? Eo : Vd(a) ? vt : null == a ? null : Ul;
}
if ("undefined" === typeof yF) {
  var yF, zF = xf ? xf(T) : wf.call(null, T), AF = xf ? xf(T) : wf.call(null, T), BF = xf ? xf(T) : wf.call(null, T), CF = xf ? xf(T) : wf.call(null, T), DF = t.l(T, Rt, ti());
  yF = new Gi($c.h("cljs.pprint", "simple-dispatch"), xF, Ul, DF, zF, AF, BF, CF);
}
Di(yF, Kq, function(a) {
  if (eb(pF(a))) {
    if (m(FD())) {
      q(Na, "#");
    } else {
      var b = zD, c = AD;
      zD += 1;
      AD = 0;
      try {
        mD("(", ")");
        for (var d = 0, e = z(a);;) {
          if (eb(Sa) || d < Sa) {
            if (e && (CD(D(e)), E(e))) {
              q(Na, " ");
              GD(lt);
              a = d + 1;
              var f = E(e), d = a, e = f;
              continue;
            }
          } else {
            q(Na, "...");
          }
          break;
        }
        nD();
      } finally {
        AD = c, zD = b;
      }
    }
  }
  return null;
});
Di(yF, Eo, qF);
Di(yF, Su, rF);
Di(yF, vt, tF);
Di(yF, null, function() {
  return q(Na, ei.j(L([null], 0)));
});
Di(yF, Ul, sF);
rD = yF;
function EF(a) {
  return Zd(a) ? new R(null, 2, 5, S, ["[", "]"], null) : new R(null, 2, 5, S, ["(", ")"], null);
}
function FF(a) {
  if (Wd(a)) {
    var b = EF(a), c = M(b, 0, null), d = M(b, 1, null), e = M(a, 0, null), f = Be(a, 1);
    if (m(FD())) {
      q(Na, "#");
    } else {
      var g = zD, k = AD;
      zD += 1;
      AD = 0;
      try {
        mD(c, d);
        (function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~w~:i", nF.c ? nF.c("~w~:i") : nF.call(null, "~w~:i"), g, k, b, c, d, a, e, f);
        })().call(null, e);
        for (var n = f;;) {
          if (z(n)) {
            (function() {
              var u = nF.c ? nF.c(" ") : nF.call(null, " ");
              return function(a, b, c) {
                return function() {
                  function a(c) {
                    var d = null;
                    if (0 < arguments.length) {
                      for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                        e[d] = arguments[d + 0], ++d;
                      }
                      d = new B(e, 0);
                    }
                    return b.call(this, d);
                  }
                  function b(a) {
                    a = KD(a);
                    return mF(c, a);
                  }
                  a.D = 0;
                  a.C = function(a) {
                    a = z(a);
                    return b(a);
                  };
                  a.j = b;
                  return a;
                }();
              }(n, " ", u, g, k, b, c, d, a, e, f);
            })().call(null);
            var u = D(n);
            if (Wd(u)) {
              var v = EF(u), w = M(v, 0, null), y = M(v, 1, null);
              if (m(FD())) {
                q(Na, "#");
              } else {
                var A = zD, C = AD;
                zD += 1;
                AD = 0;
                try {
                  mD(w, y);
                  if (x.h(I(u), 3) && Gd(u) instanceof N) {
                    var F = u, G = M(F, 0, null), J = M(F, 1, null), P = M(F, 2, null);
                    (function() {
                      var Q = nF.c ? nF.c("~w ~w ") : nF.call(null, "~w ~w ");
                      return function(a, b, c) {
                        return function() {
                          function a(c) {
                            var d = null;
                            if (0 < arguments.length) {
                              for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                                e[d] = arguments[d + 0], ++d;
                              }
                              d = new B(e, 0);
                            }
                            return b.call(this, d);
                          }
                          function b(a) {
                            a = KD(a);
                            return mF(c, a);
                          }
                          a.D = 0;
                          a.C = function(a) {
                            a = z(a);
                            return b(a);
                          };
                          a.j = b;
                          return a;
                        }();
                      }(n, "~w ~w ", Q, F, G, J, P, A, C, v, w, y, u, g, k, b, c, d, a, e, f);
                    })().call(null, G, J);
                    Wd(P) ? function() {
                      var Q = Zd(P) ? "~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e" : "~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e", W = "string" === typeof Q ? nF.c ? nF.c(Q) : nF.call(null, Q) : Q;
                      return function(a, b, c) {
                        return function() {
                          function a(c) {
                            var d = null;
                            if (0 < arguments.length) {
                              for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                                e[d] = arguments[d + 0], ++d;
                              }
                              d = new B(e, 0);
                            }
                            return b.call(this, d);
                          }
                          function b(a) {
                            a = KD(a);
                            return mF(c, a);
                          }
                          a.D = 0;
                          a.C = function(a) {
                            a = z(a);
                            return b(a);
                          };
                          a.j = b;
                          return a;
                        }();
                      }(n, Q, W, F, G, J, P, A, C, v, w, y, u, g, k, b, c, d, a, e, f);
                    }().call(null, P) : CD(P);
                  } else {
                    cf(function() {
                      var G = nF.c ? nF.c("~w ~:i~@{~w~^ ~:_~}") : nF.call(null, "~w ~:i~@{~w~^ ~:_~}");
                      return function(a, b, c) {
                        return function() {
                          function a(c) {
                            var d = null;
                            if (0 < arguments.length) {
                              for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                                e[d] = arguments[d + 0], ++d;
                              }
                              d = new B(e, 0);
                            }
                            return b.call(this, d);
                          }
                          function b(a) {
                            a = KD(a);
                            return mF(c, a);
                          }
                          a.D = 0;
                          a.C = function(a) {
                            a = z(a);
                            return b(a);
                          };
                          a.j = b;
                          return a;
                        }();
                      }(n, "~w ~:i~@{~w~^ ~:_~}", G, A, C, v, w, y, u, g, k, b, c, d, a, e, f);
                    }(), u);
                  }
                  nD();
                } finally {
                  AD = C, zD = A;
                }
              }
              E(n) && function() {
                var A = nF.c ? nF.c("~_") : nF.call(null, "~_");
                return function(a, b, c) {
                  return function() {
                    function a(c) {
                      var d = null;
                      if (0 < arguments.length) {
                        for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                          e[d] = arguments[d + 0], ++d;
                        }
                        d = new B(e, 0);
                      }
                      return b.call(this, d);
                    }
                    function b(a) {
                      a = KD(a);
                      return mF(c, a);
                    }
                    a.D = 0;
                    a.C = function(a) {
                      a = z(a);
                      return b(a);
                    };
                    a.j = b;
                    return a;
                  }();
                }(n, "~_", A, v, w, y, u, g, k, b, c, d, a, e, f);
              }().call(null);
            } else {
              CD(u), E(n) && function() {
                var v = nF.c ? nF.c("~:_") : nF.call(null, "~:_");
                return function(a, b, c) {
                  return function() {
                    function a(c) {
                      var d = null;
                      if (0 < arguments.length) {
                        for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                          e[d] = arguments[d + 0], ++d;
                        }
                        d = new B(e, 0);
                      }
                      return b.call(this, d);
                    }
                    function b(a) {
                      a = KD(a);
                      return mF(c, a);
                    }
                    a.D = 0;
                    a.C = function(a) {
                      a = z(a);
                      return b(a);
                    };
                    a.j = b;
                    return a;
                  }();
                }(n, "~:_", v, u, g, k, b, c, d, a, e, f);
              }().call(null);
            }
            n = E(n);
          } else {
            break;
          }
        }
        nD();
      } finally {
        AD = k, zD = g;
      }
    }
  } else {
    CD(a);
  }
}
var GF = function(a, b) {
  return function() {
    function a(b) {
      var c = null;
      if (0 < arguments.length) {
        for (var c = 0, g = Array(arguments.length - 0);c < g.length;) {
          g[c] = arguments[c + 0], ++c;
        }
        c = new B(g, 0);
      }
      return d.call(this, c);
    }
    function d(a) {
      a = KD(a);
      return mF(b, a);
    }
    a.D = 0;
    a.C = function(a) {
      a = z(a);
      return d(a);
    };
    a.j = d;
    return a;
  }();
}("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e", nF.c ? nF.c("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e") : nF.call(null, "~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e"));
function HF(a, b) {
  z(a) && (m(b) ? function() {
    return function(a, b) {
      return function() {
        function a(b) {
          var d = null;
          if (0 < arguments.length) {
            for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
              e[d] = arguments[d + 0], ++d;
            }
            d = new B(e, 0);
          }
          return c.call(this, d);
        }
        function c(a) {
          a = KD(a);
          return mF(b, a);
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return c(a);
        };
        a.j = c;
        return a;
      }();
    }(" ~_", nF.c ? nF.c(" ~_") : nF.call(null, " ~_"));
  }().call(null) : function() {
    return function(a, b) {
      return function() {
        function a(b) {
          var d = null;
          if (0 < arguments.length) {
            for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
              e[d] = arguments[d + 0], ++d;
            }
            d = new B(e, 0);
          }
          return c.call(this, d);
        }
        function c(a) {
          a = KD(a);
          return mF(b, a);
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return c(a);
        };
        a.j = c;
        return a;
      }();
    }(" ~@_", nF.c ? nF.c(" ~@_") : nF.call(null, " ~@_"));
  }().call(null), function() {
    return function(a, b) {
      return function() {
        function a(b) {
          var d = null;
          if (0 < arguments.length) {
            for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
              e[d] = arguments[d + 0], ++d;
            }
            d = new B(e, 0);
          }
          return c.call(this, d);
        }
        function c(a) {
          a = KD(a);
          return mF(b, a);
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return c(a);
        };
        a.j = c;
        return a;
      }();
    }("~{~w~^ ~_~}", nF.c ? nF.c("~{~w~^ ~_~}") : nF.call(null, "~{~w~^ ~_~}"));
  }().call(null, a));
}
function IF(a) {
  z(a) && function() {
    return function(a, c) {
      return function() {
        function a(c) {
          var d = null;
          if (0 < arguments.length) {
            for (var d = 0, k = Array(arguments.length - 0);d < k.length;) {
              k[d] = arguments[d + 0], ++d;
            }
            d = new B(k, 0);
          }
          return b.call(this, d);
        }
        function b(a) {
          a = KD(a);
          return mF(c, a);
        }
        a.D = 0;
        a.C = function(a) {
          a = z(a);
          return b(a);
        };
        a.j = b;
        return a;
      }();
    }(" ~_~{~w~^ ~_~}", nF.c ? nF.c(" ~_~{~w~^ ~_~}") : nF.call(null, " ~_~{~w~^ ~_~}"));
  }().call(null, a);
}
function JF(a) {
  if (E(a)) {
    var b = M(a, 0, null), c = M(a, 1, null), d = Be(a, 2), e = "string" === typeof D(d) ? new R(null, 2, 5, S, [D(d), E(d)], null) : new R(null, 2, 5, S, [null, d], null), f = M(e, 0, null), g = M(e, 1, null), k = Xd(D(g)) ? new R(null, 2, 5, S, [D(g), E(g)], null) : new R(null, 2, 5, S, [null, g], null), n = M(k, 0, null), u = M(k, 1, null);
    if (m(FD())) {
      q(Na, "#");
    } else {
      var v = zD, w = AD;
      zD += 1;
      AD = 0;
      try {
        mD("(", ")"), function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~w ~1I~@_~w", nF.c ? nF.c("~w ~1I~@_~w") : nF.call(null, "~w ~1I~@_~w"), v, w, a, b, c, d, e, f, g, k, n, u);
        }().call(null, b, c), m(f) && function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }(" ~_~w", nF.c ? nF.c(" ~_~w") : nF.call(null, " ~_~w"), v, w, a, b, c, d, e, f, g, k, n, u);
        }().call(null, f), m(n) && function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }(" ~_~w", nF.c ? nF.c(" ~_~w") : nF.call(null, " ~_~w"), v, w, a, b, c, d, e, f, g, k, n, u);
        }().call(null, n), Zd(D(u)) ? HF(u, m(f) ? f : n) : IF(u), nD();
      } finally {
        AD = w, zD = v;
      }
    }
    return null;
  }
  return KF.c ? KF.c(a) : KF.call(null, a);
}
function LF(a) {
  if (m(FD())) {
    q(Na, "#");
  } else {
    var b = zD, c = AD;
    zD += 1;
    AD = 0;
    try {
      mD("[", "]");
      for (var d = 0;;) {
        if (eb(Sa) || d < Sa) {
          if (z(a)) {
            if (m(FD())) {
              q(Na, "#");
            } else {
              var e = zD, f = AD;
              zD += 1;
              AD = 0;
              try {
                mD(null, null), CD(D(a)), E(a) && (q(Na, " "), GD(cl), CD(Gd(a))), nD();
              } finally {
                AD = f, zD = e;
              }
            }
            if (E(cd(a))) {
              q(Na, " ");
              GD(lt);
              var e = d + 1, g = E(cd(a)), d = e;
              a = g;
              continue;
            }
          }
        } else {
          q(Na, "...");
        }
        break;
      }
      nD();
    } finally {
      AD = c, zD = b;
    }
  }
}
function MF(a) {
  var b = D(a);
  if (m(FD())) {
    q(Na, "#");
  } else {
    var c = zD, d = AD;
    zD += 1;
    AD = 0;
    try {
      mD("(", ")"), E(a) && Zd(Gd(a)) ? (function() {
        return function(a, b) {
          return function() {
            function a(b) {
              var d = null;
              if (0 < arguments.length) {
                for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                  e[d] = arguments[d + 0], ++d;
                }
                d = new B(e, 0);
              }
              return c.call(this, d);
            }
            function c(a) {
              a = KD(a);
              return mF(b, a);
            }
            a.D = 0;
            a.C = function(a) {
              a = z(a);
              return c(a);
            };
            a.j = c;
            return a;
          }();
        }("~w ~1I~@_", nF.c ? nF.c("~w ~1I~@_") : nF.call(null, "~w ~1I~@_"), c, d, b);
      }().call(null, b), LF(Gd(a)), function() {
        return function(a, b) {
          return function() {
            function a(b) {
              var d = null;
              if (0 < arguments.length) {
                for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                  e[d] = arguments[d + 0], ++d;
                }
                d = new B(e, 0);
              }
              return c.call(this, d);
            }
            function c(a) {
              a = KD(a);
              return mF(b, a);
            }
            a.D = 0;
            a.C = function(a) {
              a = z(a);
              return c(a);
            };
            a.j = c;
            return a;
          }();
        }(" ~_~{~w~^ ~_~}", nF.c ? nF.c(" ~_~{~w~^ ~_~}") : nF.call(null, " ~_~{~w~^ ~_~}"), c, d, b);
      }().call(null, E(cd(a)))) : KF.c ? KF.c(a) : KF.call(null, a), nD();
    } finally {
      AD = d, zD = c;
    }
  }
  return null;
}
var NF = function(a, b) {
  return function() {
    function a(b) {
      var c = null;
      if (0 < arguments.length) {
        for (var c = 0, g = Array(arguments.length - 0);c < g.length;) {
          g[c] = arguments[c + 0], ++c;
        }
        c = new B(g, 0);
      }
      return d.call(this, c);
    }
    function d(a) {
      a = KD(a);
      return mF(b, a);
    }
    a.D = 0;
    a.C = function(a) {
      a = z(a);
      return d(a);
    };
    a.j = d;
    return a;
  }();
}("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e", nF.c ? nF.c("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e") : nF.call(null, "~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e")), OF = T;
function KF(a) {
  if (m(FD())) {
    q(Na, "#");
  } else {
    var b = zD, c = AD;
    zD += 1;
    AD = 0;
    try {
      mD("(", ")");
      HD(Lj, 1);
      for (var d = 0, e = z(a);;) {
        if (eb(Sa) || d < Sa) {
          if (e && (CD(D(e)), E(e))) {
            q(Na, " ");
            GD(lt);
            a = d + 1;
            var f = E(e), d = a, e = f;
            continue;
          }
        } else {
          q(Na, "...");
        }
        break;
      }
      nD();
    } finally {
      AD = c, zD = b;
    }
  }
  return null;
}
var PF = function(a) {
  return Qf.h(T, Lf(re, L([function() {
    return function c(a) {
      return new Qe(null, function() {
        for (;;) {
          var e = z(a);
          if (e) {
            if ($d(e)) {
              var f = Ec(e), g = I(f), k = Ue(g);
              a: {
                for (var n = 0;;) {
                  if (n < g) {
                    var u = Ab.h(f, n), u = new R(null, 2, 5, S, [u, new R(null, 2, 5, S, [$c.c(Pe(D(u))), Gd(u)], null)], null);
                    k.add(u);
                    n += 1;
                  } else {
                    f = !0;
                    break a;
                  }
                }
              }
              return f ? We(k.da(), c(Fc(e))) : We(k.da(), null);
            }
            k = D(e);
            return Ad(new R(null, 2, 5, S, [k, new R(null, 2, 5, S, [$c.c(Pe(D(k))), Gd(k)], null)], null), c(cd(e)));
          }
          return null;
        }
      }, null, null);
    }(a);
  }()], 0)));
}(function(a) {
  return Qf.h(T, Cf.h(function(a) {
    return function(c) {
      var d = M(c, 0, null), e = M(c, 1, null), f;
      f = Ne(d);
      f = m(f) ? f : ie(new Eh(null, new l(null, 22, [Pi, null, qj, null, vj, null, Rl, null, bm, null, ho, null, Ko, null, Qo, null, ep, null, jp, null, mq, null, nq, null, xq, null, Lq, null, Rq, null, ct, null, ot, null, rt, null, of, null, Tt, null, gv, null, Gv, null], null), null), d);
      return eb(f) ? new R(null, 2, 5, S, [$c.h(a, Pe(d)), e], null) : c;
    };
  }("clojure.core"), a));
}(Md([ot, Lq, Yi, Qo, os, zk, Vs, Io, bs, pk, Gl, ql, jo, Gv, lo, Jq, Rs, Nq, Zl, jp, yq, ys, Xm, Cn, $q, nt, dn, Kt, Is, pq], [GF, function(a) {
  var b = Gd(a), c = D(cd(cd(a)));
  if (Zd(b)) {
    var d = OF;
    OF = x.h(1, I(b)) ? Qg([D(b), "%"]) : Qf.h(T, Cf.l(function() {
      return function(a, b) {
        return new R(null, 2, 5, S, [a, [p("%"), p(b)].join("")], null);
      };
    }(d, b, c), b, new Nh(null, 1, I(b) + 1, 1, null)));
    try {
      return function() {
        return function(a, b) {
          return function() {
            function a(b) {
              var d = null;
              if (0 < arguments.length) {
                for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                  e[d] = arguments[d + 0], ++d;
                }
                d = new B(e, 0);
              }
              return c.call(this, d);
            }
            function c(a) {
              a = KD(a);
              return mF(b, a);
            }
            a.D = 0;
            a.C = function(a) {
              a = z(a);
              return c(a);
            };
            a.j = c;
            return a;
          }();
        }("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e", nF.c ? nF.c("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e") : nF.call(null, "~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e"), d, b, c);
      }().call(null, c);
    } finally {
      OF = d;
    }
  } else {
    return KF.c ? KF.c(a) : KF.call(null, a);
  }
}, MF, NF, function(a) {
  if (3 < I(a)) {
    if (m(FD())) {
      q(Na, "#");
    } else {
      var b = zD, c = AD;
      zD += 1;
      AD = 0;
      try {
        mD("(", ")");
        HD(Lj, 1);
        cf(function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~w ~@_~w ~@_~w ~_", nF.c ? nF.c("~w ~@_~w ~@_~w ~_") : nF.call(null, "~w ~@_~w ~@_~w ~_"), b, c);
        }(), a);
        for (var d = 0, e = z(Ef(3, a));;) {
          if (eb(Sa) || d < Sa) {
            if (e) {
              if (m(FD())) {
                q(Na, "#");
              } else {
                a = zD;
                var f = AD;
                zD += 1;
                AD = 0;
                try {
                  mD(null, null), CD(D(e)), E(e) && (q(Na, " "), GD(cl), CD(Gd(e))), nD();
                } finally {
                  AD = f, zD = a;
                }
              }
              if (E(cd(e))) {
                q(Na, " ");
                GD(lt);
                a = d + 1;
                var g = E(cd(e)), d = a, e = g;
                continue;
              }
            }
          } else {
            q(Na, "...");
          }
          break;
        }
        nD();
      } finally {
        AD = c, zD = b;
      }
    }
    return null;
  }
  return KF.c ? KF.c(a) : KF.call(null, a);
}, GF, JF, JF, MF, GF, MF, NF, NF, GF, NF, MF, MF, GF, MF, function(a) {
  if (E(a)) {
    var b = M(a, 0, null), c = M(a, 1, null), d = Be(a, 2), e = "string" === typeof D(d) ? new R(null, 2, 5, S, [D(d), E(d)], null) : new R(null, 2, 5, S, [null, d], null), f = M(e, 0, null), g = M(e, 1, null), k = Xd(D(g)) ? new R(null, 2, 5, S, [D(g), E(g)], null) : new R(null, 2, 5, S, [null, g], null), n = M(k, 0, null), u = M(k, 1, null);
    if (m(FD())) {
      q(Na, "#");
    } else {
      var v = zD, w = AD;
      zD += 1;
      AD = 0;
      try {
        mD("(", ")");
        (function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~w ~1I~@_~w", nF.c ? nF.c("~w ~1I~@_~w") : nF.call(null, "~w ~1I~@_~w"), v, w, a, b, c, d, e, f, g, k, n, u);
        })().call(null, b, c);
        m(m(f) ? f : m(n) ? n : z(u)) && function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~@:_", nF.c ? nF.c("~@:_") : nF.call(null, "~@:_"), v, w, a, b, c, d, e, f, g, k, n, u);
        }().call(null);
        m(f) && ID(!0, '"~a"~:[~;~:@_~]', L([f, m(n) ? n : z(u)], 0));
        m(n) && function() {
          return function(a, b) {
            return function() {
              function a(b) {
                var d = null;
                if (0 < arguments.length) {
                  for (var d = 0, e = Array(arguments.length - 0);d < e.length;) {
                    e[d] = arguments[d + 0], ++d;
                  }
                  d = new B(e, 0);
                }
                return c.call(this, d);
              }
              function c(a) {
                a = KD(a);
                return mF(b, a);
              }
              a.D = 0;
              a.C = function(a) {
                a = z(a);
                return c(a);
              };
              a.j = c;
              return a;
            }();
          }("~w~:[~;~:@_~]", nF.c ? nF.c("~w~:[~;~:@_~]") : nF.call(null, "~w~:[~;~:@_~]"), v, w, a, b, c, d, e, f, g, k, n, u);
        }().call(null, n, z(u));
        for (var y = u;;) {
          FF(D(y));
          var A = E(y);
          if (A) {
            var C = A;
            GD(lt);
            y = C;
          } else {
            break;
          }
        }
        nD();
      } finally {
        AD = w, zD = v;
      }
    }
    return null;
  }
  return CD(a);
}, MF, function(a) {
  if (m(FD())) {
    q(Na, "#");
  } else {
    var b = zD, c = AD;
    zD += 1;
    AD = 0;
    try {
      mD("(", ")");
      HD(Lj, 1);
      CD(D(a));
      if (E(a)) {
        q(Na, " ");
        GD(lt);
        for (var d = 0, e = E(a);;) {
          if (eb(Sa) || d < Sa) {
            if (e) {
              if (m(FD())) {
                q(Na, "#");
              } else {
                a = zD;
                var f = AD;
                zD += 1;
                AD = 0;
                try {
                  mD(null, null), CD(D(e)), E(e) && (q(Na, " "), GD(cl), CD(Gd(e))), nD();
                } finally {
                  AD = f, zD = a;
                }
              }
              if (E(cd(e))) {
                q(Na, " ");
                GD(lt);
                a = d + 1;
                var g = E(cd(e)), d = a, e = g;
                continue;
              }
            }
          } else {
            q(Na, "...");
          }
          break;
        }
      }
      nD();
    } finally {
      AD = c, zD = b;
    }
  }
  return null;
}, MF, JF, JF, GF, GF, MF, MF, GF])));
if ("undefined" === typeof QF) {
  var QF, RF = xf ? xf(T) : wf.call(null, T), SF = xf ? xf(T) : wf.call(null, T), TF = xf ? xf(T) : wf.call(null, T), UF = xf ? xf(T) : wf.call(null, T), VF = t.l(T, Rt, ti());
  QF = new Gi($c.h("cljs.pprint", "code-dispatch"), xF, Ul, VF, RF, SF, TF, UF);
}
Di(QF, Kq, function(a) {
  if (eb(pF(a))) {
    var b;
    b = D(a);
    b = PF.c ? PF.c(b) : PF.call(null, b);
    return m(b) ? b.c ? b.c(a) : b.call(null, a) : KF(a);
  }
  return null;
});
Di(QF, em, function(a) {
  var b = a.c ? a.c(OF) : a.call(null, OF);
  return m(b) ? wC.j(L([b], 0)) : m(wD) ? wC.j(L([Pe(a)], 0)) : xC.c ? xC.c(a) : xC.call(null, a);
});
Di(QF, Eo, qF);
Di(QF, Su, rF);
Di(QF, vt, tF);
Di(QF, Kl, wF);
Di(QF, zr, function(a) {
  var b = [p("#\x3c"), p(vF(gb(a).name)), p("@"), p(ka(a)), p(": ")].join("");
  if (m(FD())) {
    q(Na, "#");
  } else {
    var c = zD, d = AD;
    zD += 1;
    AD = 0;
    try {
      mD(b, "\x3e");
      HD(Lj, -(I(b) - 2));
      GD(lt);
      var e, f = null != a ? a.L & 1 || a.qe ? !0 : a.L ? !1 : fb(qc, a) : fb(qc, a);
      e = f ? !rc(a) : f;
      CD(e ? ym : H.c ? H.c(a) : H.call(null, a));
      nD();
    } finally {
      AD = d, zD = c;
    }
  }
  return null;
});
Di(QF, null, xC);
Di(QF, Ul, sF);
rD = yF;
function WF(a) {
  var b = mr.c(a).getGraph(), c = qi(b, L([ri, !0], 0)), c = Ld.l(c, Jn, Qf.h(T, Cf.h(function() {
    return function(a) {
      var b = M(a, 0, null);
      a = M(a, 1, null);
      return m(Gm.c(a)) ? new R(null, 2, 5, S, [b, wh.j(L([a, new l(null, 2, [Gm, null, st, JSON.stringify(ni(Gm.c(a)), null, "\t")], null)], 0))], null) : new R(null, 2, 5, S, [b, a], null);
    };
  }(b, c), Jn.c(c)))), d = Tf(c, new R(null, 3, 5, S, [Za, Qq, Il], null), Jd);
  gi(L(["flow graph updated!"], 0));
  var e = Tm.c(a);
  m(e) && localStorage.setItem(e, JSON.stringify(b));
  return Uf(Ld.l(a, Br, c), new R(null, 2, 5, S, [Qq, Il], null), d);
}
function XF(a, b) {
  var c = Sf(a, new R(null, 2, 5, S, [Br, Za], null));
  mr.c(a).setMeta(ni(Vf.I(c, new R(null, 1, 5, S, [Qq], null), wh, new l(null, 1, [Il, b], null))));
  return WF(a);
}
Vz(cp, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = Sf(a, new R(null, 2, 5, S, [Rn, gu], null)), d = m(d) ? ni(new l(null, 2, [jr, c, Za, new l(null, 1, [Qq, d], null)], null)) : {id:c};
  mr.c(a).addEntity(d);
  d = new R(null, 1, 5, S, [Kn], null);
  V.c ? V.c(d) : V.call(null, d);
  d = new R(null, 2, 5, S, [Jt, null], null);
  V.c ? V.c(d) : V.call(null, d);
  c = new R(null, 2, 5, S, [el, OB(c)], null);
  V.c ? V.c(c) : V.call(null, c);
  return WF(a);
});
Vz(qn, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null);
  mr.c(a).on(d, function(a, b, c) {
    return function(a) {
      a = new R(null, 3, 5, S, [Ls, c, a], null);
      return V.c ? V.c(a) : V.call(null, a);
    };
  }(b, c, d));
  c = Tf(a, new R(null, 3, 5, S, [on, d, St], null), 0);
  return Uf(a, new R(null, 2, 5, S, [on, d], null), new l(null, 2, [St, c, Gm, mr.c(a).get(d)], null));
});
Vz(vq, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  mr.c(a).off(c);
  return a;
});
Vz(Ls, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), e = Tf(a, new R(null, 3, 5, S, [on, c, St], null), 0);
  return Uf(a, new R(null, 2, 5, S, [on, c], null), new l(null, 2, [St, e + 1, Gm, d], null));
});
Vz(yk, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  mr.c(a).removeEntity(c);
  return WF(a);
});
Vz(Mm, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), c = Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(c)], null));
  mr.c(a).addEntity(ni(wh.j(L([c, new l(null, 1, [Gm, d], null)], 0))));
  return WF(a);
});
Vz(Sv, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), c = Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(c)], null));
  mr.c(a).addEntity(ni(wh.j(L([c, new l(null, 1, [st, d], null)], 0))));
  return WF(a);
});
Vz(lq, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null);
  mr.c(a).set(c, d);
  return a;
});
Vz(tl, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null), e = M(b, 2, null), f = Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(d)], null)), g = Mf(function(a, b, c, d) {
    return function(a) {
      return x.h(d, xu.c(a));
    };
  }(f, b, c, d, e), Mg(Sf(a, new R(null, 2, 5, S, [Br, Fn], null)))), c = Rf(function(a, b, c, d, e, f) {
    return function(a) {
      return x.h(jr.c(a), e) ? wh.j(L([a, new l(null, 1, [jr, f], null)], 0)) : a;
    };
  }(f, g, b, c, d, e), Sf(a, new R(null, 2, 5, S, [Qq, Il], null))), k = mr.c(a);
  k.removeEntity(d);
  k.addEntity(ni(wh.j(L([f, new l(null, 1, [jr, e], null)], 0))));
  for (var d = z(g), f = null, n = g = 0;;) {
    if (n < g) {
      var u = f.X(null, n);
      k.addArc(ni(wh.j(L([u, new l(null, 1, [xu, e], null)], 0))));
      n += 1;
    } else {
      if (d = z(d)) {
        f = d, $d(f) ? (d = Ec(f), n = Fc(f), f = d, g = I(d), d = n) : (d = D(f), k.addArc(ni(wh.j(L([d, new l(null, 1, [xu, e], null)], 0)))), d = E(f), f = null, g = 0), n = 0;
      } else {
        break;
      }
    }
  }
  return XF(a, c);
});
Vz(gt, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  console.log(mr.c(a).get(c));
  return a;
});
Vz(Hr, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = Sf(a, new R(null, 2, 5, S, [Rn, gu], null)), d = m(d) ? ni(new l(null, 3, [jr, c, Yr, "function(ports) {\n\n}", Za, new l(null, 1, [Qq, d], null)], null)) : {id:c, code:"function(ports) {\n\n}"};
  mr.c(a).addProcess(d);
  d = new R(null, 1, 5, S, [Kn], null);
  V.c ? V.c(d) : V.call(null, d);
  d = new R(null, 2, 5, S, [Jt, null], null);
  V.c ? V.c(d) : V.call(null, d);
  c = new R(null, 2, 5, S, [el, NB(c)], null);
  V.c ? V.c(c) : V.call(null, c);
  return WF(a);
});
Vz(br, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  mr.c(a).removeProcess(c);
  return WF(a);
});
Vz(bn, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), c = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null));
  mr.c(a).addProcess(ni(wh.j(L([c, new l(null, 1, [du, d], null)], 0))));
  return WF(a);
});
Vz(tu, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), c = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null));
  mr.c(a).addProcess(ni(wh.j(L([c, new l(null, 1, [mj, d], null)], 0))));
  return WF(a);
});
Vz(Vl, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), c = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null));
  mr.c(a).addProcess(ni(wh.j(L([c, new l(null, 2, [Yr, d, co, null], null)], 0))));
  return WF(a);
});
Vz(yn, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  mr.c(a).start(c);
  return a;
});
Vz(Sl, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  mr.c(a).stop(c);
  return a;
});
Vz(Vj, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), c = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null)), d = mr.c(a), e = wh.j(L([iq.c(c), new l(null, 1, ["", d.PORT_TYPES.COLD], null)], 0));
  d.addProcess(ni(wh.j(L([c, new l(null, 1, [iq, e], null)], 0))));
  return WF(a);
});
Vz(ht, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), e = M(b, 3, null), c = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null)), f = mr.c(a), g = Sf(c, new R(null, 2, 5, S, [iq, Oe.c(d)], null)), d = Ld.l(Nd.h(iq.c(c), Oe.c(d)), Oe.c(e), g);
  f.addProcess(ni(wh.j(L([c, new l(null, 1, [iq, d], null)], 0))));
  return WF(a);
});
Vz(Yo, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null), e = M(b, 3, null), f = mr.c(a).PORT_TYPES.ACCUMULATOR, g = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(c)], null)), c = mr.c(a), d = Ld.l(iq.c(g), Oe.c(d), e), e = x.h(e, f) ? wh.j(L([g, new l(null, 2, [mj, null, du, null], null)], 0)) : g;
  gi(L([f], 0));
  c.addProcess(ni(wh.j(L([e, new l(null, 1, [iq, d], null)], 0))));
  return WF(a);
});
Vz(Hp, function(a, b) {
  for (var c = M(b, 0, null), d = M(b, 1, null), e = M(b, 2, null), f = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(d)], null)), c = z(Mf(function(a, b, c, d, e) {
    return function(a) {
      var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
      a = t.h(b, en);
      b = t.h(b, Bo);
      return x.h(a, d) && x.h(b, e);
    };
  }(f, b, c, d, e), Mg(Sf(a, new R(null, 2, 5, S, [Br, Fn], null))))), d = null, g = 0, k = 0;;) {
    if (k < g) {
      var n = d.X(null, k);
      mr.c(a).removeArc(jr.c(n));
      k += 1;
    } else {
      if (c = z(c)) {
        d = c, $d(d) ? (c = Ec(d), k = Fc(d), d = c, g = I(c), c = k) : (c = D(d), mr.c(a).removeArc(jr.c(c)), c = E(d), d = null, g = 0), k = 0;
      } else {
        break;
      }
    }
  }
  mr.c(a).addProcess(ni(wh.j(L([f, new l(null, 1, [iq, Nd.h(iq.c(f), Oe.c(e))], null)], 0))));
  return WF(a);
});
Vz(Zs, function(a, b) {
  for (var c = M(b, 0, null), d = M(b, 1, null), e = M(b, 2, null), f = M(b, 3, null), c = z(Mf(function(a, b, c, d) {
    return function(a) {
      var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
      a = t.h(b, en);
      b = t.h(b, Bo);
      return x.h(a, c) && x.h(b, d);
    };
  }(b, c, d, e, f), Mg(Sf(a, new R(null, 2, 5, S, [Br, Fn], null))))), g = null, k = 0, n = 0;;) {
    if (n < k) {
      var u = g.X(null, n);
      mr.c(a).removeArc(jr.c(u));
      n += 1;
    } else {
      if (c = z(c)) {
        g = c, $d(g) ? (c = Ec(g), n = Fc(g), g = c, k = I(c), c = n) : (c = D(g), mr.c(a).removeArc(jr.c(c)), c = E(g), g = null, k = 0), n = 0;
      } else {
        break;
      }
    }
  }
  m(f) && mr.c(a).addArc(ni(new l(null, 3, [Bo, e, en, d, xu, f], null)));
  return WF(a);
});
Vz(vm, function(a, b) {
  for (var c = M(b, 0, null), d = M(b, 1, null), e = M(b, 2, null), c = z(Mf(function(a, b, c) {
    return function(a) {
      var b = null != a && (a.o & 64 || a.P) ? cf(yf, a) : a;
      a = t.h(b, en);
      b = t.h(b, Bo);
      return x.h(a, c) && eb(b);
    };
  }(b, c, d, e), Mg(Sf(a, new R(null, 2, 5, S, [Br, Fn], null))))), f = null, g = 0, k = 0;;) {
    if (k < g) {
      var n = f.X(null, k);
      mr.c(a).removeArc(jr.c(n));
      k += 1;
    } else {
      if (c = z(c)) {
        f = c, $d(f) ? (c = Ec(f), k = Fc(f), f = c, g = I(c), c = k) : (c = D(f), mr.c(a).removeArc(jr.c(c)), c = E(f), f = null, g = 0), k = 0;
      } else {
        break;
      }
    }
  }
  m(e) && mr.c(a).addArc(ni(new l(null, 2, [en, d, xu, e], null)));
  return WF(a);
});
Vz(Im, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null), e = M(b, 2, null), f = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(d)], null)), g = Mf(function(a, b, c, d) {
    return function(a) {
      return x.h(d, en.c(a));
    };
  }(f, b, c, d, e), Mg(Sf(a, new R(null, 2, 5, S, [Br, Fn], null)))), c = Rf(function(a, b, c, d, e, f) {
    return function(a) {
      return x.h(jr.c(a), e) ? wh.j(L([a, new l(null, 1, [jr, f], null)], 0)) : a;
    };
  }(f, g, b, c, d, e), Sf(a, new R(null, 2, 5, S, [Qq, Il], null))), k = mr.c(a);
  k.removeProcess(d);
  k.addProcess(ni(wh.j(L([f, new l(null, 1, [jr, e], null)], 0))));
  for (var d = z(g), f = null, n = g = 0;;) {
    if (n < g) {
      var u = f.X(null, n);
      k.addArc(ni(wh.j(L([u, new l(null, 1, [en, e], null)], 0))));
      n += 1;
    } else {
      if (d = z(d)) {
        f = d, $d(f) ? (d = Ec(f), n = Fc(f), f = d, g = I(d), d = n) : (d = D(f), k.addArc(ni(wh.j(L([d, new l(null, 1, [en, e], null)], 0)))), d = E(f), f = null, g = 0), n = 0;
      } else {
        break;
      }
    }
  }
  return XF(a, c);
});
Vz(Xp, function(a, b) {
  for (var c = M(b, 0, null), d = M(b, 1, null), e = z(qi(d, L([new l(null, 1, [ri, !1], null)], 0))), f = null, g = 0, k = 0;;) {
    if (k < g) {
      var n = f.X(null, k), u = M(n, 0, null), v = M(n, 1, null), w = PB(u), y = null != w && (w.o & 64 || w.P) ? cf(yf, w) : w, A = t.h(y, jr), C = t.h(y, $n), n = function(a, b, c, d, e, f, g, k, n, u, v) {
        return function(a) {
          return ni(Uf(Uf(a, new R(null, 3, 5, S, [Za, Qq, $s], null), t.h(v, "x")), new R(null, 3, 5, S, [Za, Qq, Ii], null), t.h(v, "y")));
        };
      }(e, f, g, k, w, y, A, C, n, u, v, b, c, d);
      x.h(C, "entity") && (u = Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(A)], null)), m(u) && mr.c(a).addEntity(n(u)));
      x.h(C, "process") && (A = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(A)], null)), m(A) && mr.c(a).addProcess(n(A)));
      k += 1;
    } else {
      if (u = z(e)) {
        A = u;
        if ($d(A)) {
          e = Ec(A), k = Fc(A), f = e, g = I(e), e = k;
        } else {
          var v = D(A), w = M(v, 0, null), y = M(v, 1, null), F = PB(w), G = null != F && (F.o & 64 || F.P) ? cf(yf, F) : F, C = t.h(G, jr), n = t.h(G, $n), e = function(a, b, c, d, e, f, g, k, n, u, v) {
            return function(a) {
              return ni(Uf(Uf(a, new R(null, 3, 5, S, [Za, Qq, $s], null), t.h(v, "x")), new R(null, 3, 5, S, [Za, Qq, Ii], null), t.h(v, "y")));
            };
          }(e, f, g, k, F, G, C, n, v, w, y, A, u, b, c, d);
          x.h(n, "entity") && (f = Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(C)], null)), m(f) && mr.c(a).addEntity(e(f)));
          x.h(n, "process") && (f = Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(C)], null)), m(f) && mr.c(a).addProcess(e(f)));
          e = E(A);
          f = null;
          g = 0;
        }
        k = 0;
      } else {
        break;
      }
    }
  }
  return WF(a);
});
Vz(el, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null), e = PB(d), f = Sf(a, new R(null, 2, 5, S, [Qq, Il], null)), c = rf(function(a) {
    return function(b) {
      return x.h($n.c(b), $n.c(a)) && x.h(jr.c(b), jr.c(a));
    };
  }(e, f, b, c, d), f);
  return eb(c) ? XF(a, Qf.h(new R(null, 1, 5, S, [e], null), f)) : a;
});
Vz(xk, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null);
  if (x.h($n.c(d), "entity")) {
    var e = new R(null, 2, 5, S, [vq, jr.c(d)], null);
    V.c ? V.c(e) : V.call(null, e);
  }
  c = Mf(function() {
    return function(b) {
      return x.h($n.c(b), "entity") ? Sf(a, new R(null, 3, 5, S, [Br, Jn, Oe.c(jr.c(b))], null)) : Sf(a, new R(null, 3, 5, S, [Br, Eu, Oe.c(jr.c(b))], null));
    };
  }(b, c, d), Nf(function(a, b, c) {
    return function(a) {
      return x.h($n.c(a), $n.c(c)) && x.h(jr.c(a), jr.c(c));
    };
  }(b, c, d), Sf(a, new R(null, 2, 5, S, [Qq, Il], null))));
  return XF(a, c);
});
var YF = new l(null, 7, [mm, "re-frame", vu, Md([Mi, lk, qk, hm, Cm, qo, Go, Cp, fq, Xs, Ys, cv, Hv], ["vim", !0, !0, !0, !0, 2, new l(null, 1, ["Ctrl-Space", "autocomplete"], null), "monokai", Infinity, null, !0, !0, !0]), mr, null, Br, null, on, T, Rn, new l(null, 3, [gu, null, Er, null, pn, null], null), Qq, new l(null, 7, [Il, Jd, So, null, Pu, !1, vk, !1, Ru, 600, Jm, new l(null, 2, [wr, new l(null, 4, [sn, 0, xv, 0, yl, 0, Ev, 0], null), wv, null], null), Al, new l(null, 2, [sn, 0, xv, 0], 
null)], null)], null);
Vz(As, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 2, 5, S, [Qq, So], null), c);
});
Vz(Kn, function(a) {
  return Uf(a, new R(null, 2, 5, S, [Qq, So], null), null);
});
Vz(Nv, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 3, 5, S, [Qq, Jm, wr], null), c);
});
Vz(Bn, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null), e = null != d && (d.o & 64 || d.P) ? cf(yf, d) : d, f = t.h(e, yl), g = t.h(e, Ev);
  return Vf.l(Vf.l(a, new R(null, 4, 5, S, [Qq, Jm, wr, yl], null), function(a, b, c, d, e) {
    return function(a) {
      return a + e;
    };
  }(b, c, d, e, f, g)), new R(null, 4, 5, S, [Qq, Jm, wr, Ev], null), function(a, b, c, d, e, f) {
    return function(a) {
      return a + f;
    };
  }(b, c, d, e, f, g));
});
Vz(Xj, function(a, b) {
  var c = M(b, 0, null), d = M(b, 1, null), e = null != d && (d.o & 64 || d.P) ? cf(yf, d) : d, f = t.h(e, sn), g = t.h(e, xv), k = Sf(a, new R(null, 3, 5, S, [Qq, Al, sn], null)) - 20, n = Sf(a, new R(null, 3, 5, S, [Qq, Al, xv], null)) - 20;
  return Vf.l(Vf.l(a, new R(null, 4, 5, S, [Qq, Jm, wr, sn], null), function(a, b, c, d, e, f, g) {
    return function(b) {
      return Math.min(b + g, a);
    };
  }(k, n, b, c, d, e, f, g)), new R(null, 4, 5, S, [Qq, Jm, wr, xv], null), function(a, b, c, d, e, f, g, k) {
    return function(a) {
      return Math.min(a + k, b);
    };
  }(k, n, b, c, d, e, f, g));
});
Vz(Rm, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 2, 5, S, [Qq, Al], null), c);
});
Vz(cj, function(a) {
  var b = Sf(a, new R(null, 2, 5, S, [Qq, Al], null)), c = sn.c(b) - 20, b = xv.c(b) - 20, d = Sf(a, new R(null, 3, 5, S, [Qq, Jm, wr], null));
  return Uf(Uf(Uf(a, new R(null, 3, 5, S, [Qq, Jm, wv], null), d), new R(null, 3, 5, S, [Qq, Jm, wr], null), new l(null, 4, [sn, c, xv, b, yl, 10, Ev, 10], null)), new R(null, 2, 5, S, [Qq, vk], null), !0);
});
Vz(wm, function(a) {
  var b = Sf(a, new R(null, 3, 5, S, [Qq, Jm, wv], null));
  return Uf(Uf(Uf(a, new R(null, 3, 5, S, [Qq, Jm, wr], null), b), new R(null, 3, 5, S, [Qq, Jm, wv], null), null), new R(null, 2, 5, S, [Qq, vk], null), !1);
});
Vz(Qr, function(a) {
  var b = Sf(a, new R(null, 3, 5, S, [Qq, Jm, wr], null));
  return Uf(Uf(Uf(a, new R(null, 3, 5, S, [Qq, Jm, wv], null), b), new R(null, 3, 5, S, [Qq, Jm, wr], null), new l(null, 4, [sn, 42, xv, 42, yl, 0, Ev, 0], null)), new R(null, 2, 5, S, [Qq, Pu], null), !0);
});
Vz(Wq, function(a) {
  var b = Sf(a, new R(null, 3, 5, S, [Qq, Jm, wv], null));
  return Uf(Uf(Uf(a, new R(null, 3, 5, S, [Qq, Jm, wr], null), b), new R(null, 3, 5, S, [Qq, Jm, wv], null), null), new R(null, 2, 5, S, [Qq, Pu], null), !1);
});
Vz(Wp, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 2, 5, S, [Qq, Ru], null), Sf(a, new R(null, 2, 5, S, [Qq, Ru], null)) + c);
});
Vz(Jt, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 2, 5, S, [Rn, gu], null), c);
});
Vz(Xr, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null), d = M(b, 2, null);
  return Uf(a, new R(null, 2, 5, S, [Rn, Er], null), new l(null, 2, [$n, c, Ln, d], null));
});
Vz(Sr, function(a) {
  return Uf(a, new R(null, 2, 5, S, [Rn, Er], null), null);
});
Vz(tr, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  return Uf(a, new R(null, 2, 5, S, [Rn, pn], null), c);
});
Vz(Qi, function() {
  return YF;
});
Vz(xo, function(a, b) {
  M(b, 0, null);
  for (var c = M(b, 1, null), c = Ld.l(a, mr, c), c = WF(c), d = z(Mg(Sf(c, new R(null, 2, 5, S, [Br, Jn], null)))), e = null, f = 0, g = 0;;) {
    if (g < f) {
      var k = e.X(null, g), k = new R(null, 2, 5, S, [qn, jr.c(k)], null);
      V.c ? V.c(k) : V.call(null, k);
      g += 1;
    } else {
      if (d = z(d)) {
        $d(d) ? (f = Ec(d), d = Fc(d), e = f, f = I(f)) : (e = D(d), e = new R(null, 2, 5, S, [qn, jr.c(e)], null), V.c ? V.c(e) : V.call(null, e), d = E(d), e = null, f = 0), g = 0;
      } else {
        break;
      }
    }
  }
  return c;
});
Vz(Oq, function(a, b) {
  M(b, 0, null);
  var c = M(b, 1, null);
  gi(L(["localStorage handler ", c], 0));
  return Ld.l(a, Tm, c);
});
var ZF = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Br.c(H.c ? H.c(b) : H.call(null, b));
      };
    }(a));
  };
}(Qp);
Gz.h ? Gz.h(Qp, ZF) : Gz.call(null, Qp, ZF);
var $F = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return mr.c(H.c ? H.c(b) : H.call(null, b));
      };
    }(a));
  };
}(Ku);
Gz.h ? Gz.h(Ku, $F) : Gz.call(null, Ku, $F);
var aG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Mg(Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Br, Jn], null)));
      };
    }(a));
  };
}(El);
Gz.h ? Gz.h(El, aG) : Gz.call(null, El, aG);
var bG = function(a) {
  return function(b, c) {
    var d = M(c, 0, null), e = M(c, 1, null);
    return $w(function(a, c, d) {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [on, d], null));
      };
    }(c, d, e, a));
  };
}(dv);
Gz.h ? Gz.h(dv, bG) : Gz.call(null, dv, bG);
var cG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Mg(Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Br, Eu], null)));
      };
    }(a));
  };
}(Bv);
Gz.h ? Gz.h(Bv, cG) : Gz.call(null, Bv, cG);
var dG = function(a) {
  return function(b) {
    b = mr.c(H.c ? H.c(b) : H.call(null, b));
    return m(b) ? $w(function(a) {
      return function() {
        return qi(a.PORT_TYPES, L([new l(null, 1, [ri, !1], null)], 0));
      };
    }(b, b, a)) : null;
  };
}(am);
Gz.h ? Gz.h(am, dG) : Gz.call(null, am, dG);
var eG = function(a) {
  return function(b, c) {
    var d = M(c, 0, null), e = M(c, 1, null);
    return $w(function(a, c, d, e) {
      return function() {
        return Mf(function(a, b, c) {
          return function(a) {
            return x.h(en.c(a), c);
          };
        }(a, c, d, e), Mg(Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Br, Fn], null))));
      };
    }(c, d, e, a));
  };
}(Zp);
Gz.h ? Gz.h(Zp, eG) : Gz.call(null, Zp, eG);
var fG = function(a) {
  return function(b, c) {
    var d = M(c, 0, null), e = M(c, 1, null);
    return $w(function(a, c, d, e) {
      return function() {
        return D(Mf(function(a, b, c) {
          return function(a) {
            return x.h(en.c(a), c) && eb(Bo.c(a));
          };
        }(a, c, d, e), Mg(Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Br, Fn], null)))));
      };
    }(c, d, e, a));
  };
}(Vn);
Gz.h ? Gz.h(Vn, fG) : Gz.call(null, Vn, fG);
var gG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return vu.c(H.c ? H.c(b) : H.call(null, b));
      };
    }(a));
  };
}(Kp);
Gz.h ? Gz.h(Kp, gG) : Gz.call(null, Kp, gG);
var hG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, So], null));
      };
    }(a));
  };
}(qq);
Gz.h ? Gz.h(qq, hG) : Gz.call(null, qq, hG);
var iG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 3, 5, S, [Qq, Jm, wr], null));
      };
    }(a));
  };
}(pr);
Gz.h ? Gz.h(pr, iG) : Gz.call(null, pr, iG);
var jG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, Al], null));
      };
    }(a));
  };
}(nn);
Gz.h ? Gz.h(nn, jG) : Gz.call(null, nn, jG);
var kG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, Pu], null));
      };
    }(a));
  };
}(Fm);
Gz.h ? Gz.h(Fm, kG) : Gz.call(null, Fm, kG);
var lG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, vk], null));
      };
    }(a));
  };
}(bj);
Gz.h ? Gz.h(bj, lG) : Gz.call(null, bj, lG);
var mG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, Il], null));
      };
    }(a));
  };
}(In);
Gz.h ? Gz.h(In, mG) : Gz.call(null, In, mG);
var nG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Qq, Ru], null));
      };
    }(a));
  };
}(pj);
Gz.h ? Gz.h(pj, nG) : Gz.call(null, pj, nG);
var oG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Rn, Er], null));
      };
    }(a));
  };
}(Ht);
Gz.h ? Gz.h(Ht, oG) : Gz.call(null, Ht, oG);
var pG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Sf(H.c ? H.c(b) : H.call(null, b), new R(null, 2, 5, S, [Rn, pn], null));
      };
    }(a));
  };
}(tj);
Gz.h ? Gz.h(tj, pG) : Gz.call(null, tj, pG);
var qG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return mm.c(H.c ? H.c(b) : H.call(null, b));
      };
    }(a));
  };
}(mm);
Gz.h ? Gz.h(mm, qG) : Gz.call(null, mm, qG);
var rG = function(a) {
  return function(b) {
    return $w(function() {
      return function() {
        return Br.c(H.c ? H.c(b) : H.call(null, b));
      };
    }(a));
  };
}(Br);
Gz.h ? Gz.h(Br, rG) : Gz.call(null, Br, rG);
m(!1) && gi(L(["dev mode"], 0));
if ("undefined" === typeof fy) {
  var fy, sG = document.getElementById("tvs-flow-editor"), tG;
  if (m(sG)) {
    tG = sG;
  } else {
    var uG = document.createElement("div");
    uG.id = "tvs-flow-editor";
    document.body.appendChild(uG);
    tG = uG;
  }
  fy = tG;
}
var vG = function vG(b) {
  for (var c = [], d = arguments.length, e = 0;;) {
    if (e < d) {
      c.push(arguments[e]), e += 1;
    } else {
      break;
    }
  }
  switch(c.length) {
    case 1:
      return vG.c(arguments[0]);
    case 2:
      return vG.h(arguments[0], arguments[1]);
    default:
      throw Error([p("Invalid arity: "), p(c.length)].join(""));;
  }
};
ca("flow_editor.core.init", vG);
vG.c = function(a) {
  var b = new R(null, 1, 5, S, [Qi], null);
  Ez.c ? Ez.c(b) : Ez.call(null, b);
  a = new R(null, 2, 5, S, [xo, a], null);
  Ez.c ? Ez.c(a) : Ez.call(null, a);
  dy();
  return Wz();
};
vG.h = function(a, b) {
  vG.c(a);
  var c = new R(null, 2, 5, S, [Oq, b], null);
  return Ez.c ? Ez.c(c) : Ez.call(null, c);
};
vG.D = 2;

})();
